/*!CK:212823329!*//*1456785495,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["fxYQ8"]); }

__d("ChatPerfEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ASYNC_REQUEST:"async_request",SIDEBAR_FROM_CLIENT_TTI:"sidebar_from_client_tti",SIDEBAR_FROM_SERVER_TTI:"sidebar_from_server_tti",TTI:"tti",CHAT_CONVERSATION_TTI:"chat_conversation_tti"};},null);
__d("ComposedBlockType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9};},null);
__d("ComposedEntityMutability",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2};},null);
__d("ComposedEntityMutabilityToName",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={"0":"MUTABLE","1":"IMMUTABLE","2":"SEGMENTED"};},null);
__d("ComposedEntityType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8};},null);
__d("ComposedEntityTypeToName",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={"0":"MENTION","1":"LINK","2":"IMAGE","3":"VIDEO","4":"EMOTICON","5":"TOKEN","6":"HASHTAG","7":"IMPLICIT_LINK","8":"EMBED"};},null);
__d("ComposedInlineStyle",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};},null);
__d("ContentSearchEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONTENT_SEARCH:"content_search",OPEN_TRAY:"open_tray",QUERY_RESULTS_LOADED:"query_results_loaded",RESULT_SENT:"result_sent",namesByValue:{content_search:"CONTENT_SEARCH",open_tray:"OPEN_TRAY",query_results_loaded:"QUERY_RESULTS_LOADED",result_sent:"RESULT_SENT"}};},null);
__d("CreditCardFormParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACCOUNT_ID:"account_id",ACCOUNT_COUNTRY_CODE:"account_country_code",APP_ID:"app_id",CARD_EXPIRATION:"exp",CARD_FBID:"cc_fbid",CARD_ID:"cc_id",CARD_TYPE:"cardType",CITY:"city",CONTEXT_ID:"context_id",COUNTRY:"country",CSC_LENGTH:"csc_length",EMAIL:"email",FIRST_NAME:"firstName",TRACKING_ID:"tracking_id",JSFAIL_SOURCE:"jsfail_source",KEYPRESS_TIMES:"kpts",LAST_NAME:"lastName",MONTH:"month",STATE:"state",STREET:"street",STREET_2:"street2",VALIDATE_ADDRESS:"validate_address",VALIDATE_NAME:"validate_name",VALIDATE_ZIP:"validate_zip",YEAR:"year",ZIP:"zip",VALIDATOR_CHECKS:"checks",CARD_NUMBER:"creditCardNumber",CSC:"csc",CARD_NUMBER_FIRST_6:"creditCardNumber_first6",CARD_NUMBER_LAST_4:"creditCardNumber_last4",CARD_NUMBER_TOKEN:"creditCardNumber_token",CSC_TOKEN:"csc_token",AUTH_LEVEL_FLAG:"auth_level",AUTH_AMOUNT:"auth_amount",AUTH_CURRENCY:"auth_currency",AUTO_EXPAND_AUTH_LEVEL_FLAG:"auto_expand_auth_level",PAYMENT_ITEM_TYPE:"payment_item_type",CREDENTIAL_ID:"credential_id",IS_STORED_BALANCE:"is_stored_balance",FLOW_TYPE:"flow_type",STORED_BALANCE_STATUS:"stored_balance_status"};},null);
__d("CreditCardTypeEnum",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={VISA:86,MASTERCARD:77,DISCOVER:68,AMERICANEXPRESS:65,DINERSCLUB:64,JCB:74};},null);
__d("IrisProtocolMessageLifetime",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:30000,TTL_1MINUTE:60000,TTL_3MINUTES:180000,TTL_5MINUTES:300000,TTL_10MINUTES:600000,TTL_15MINUTES:900000,TTL_30MINUTES:1800000,TTL_1HOUR:3600000,TTL_2HOURS:7200000,TTL_4HOURS:14400000,TTL_8HOURS:28800000,TTL_12HOURS:43200000,TTL_24HOURS:86400000};},null);
__d("MercuryActionStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSENT:0,SUCCESS:1,UNCONFIRMED:3,FAILED_UNKNOWN_REASON:4,UNABLE_TO_CONFIRM:5,RESENT:6,RESENDING:7,ERROR:10};},null);
__d("MercuryActionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOG_MESSAGE:"ma-type:log-message",USER_GENERATED_MESSAGE:"ma-type:user-generated-message",CHANGE_READ_STATUS:"ma-type:change_read_status",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",SEND_MESSAGE:"ma-type:send-message",UPDATE_ACTION_ID:"ma-type:update-action-id",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_THREAD:"ma-type:delete-thread",UPDATE_SNIPPET:"ma-type:update-snippet",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FOLDER:"ma-type:change-folder",ADD_PARTICIPANTS:"ma-type:add-participants",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",UNPIN_THREAD:"ma-type:unpin-thread",CHANGE_FLAG:"ma-type:change_flag",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",UPDATE_BLOCKER_STATUS:"ma-type:update-blocker-status",UPDATE_BLOCKEE_STATUS:"ma-type:update-blockee-status",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",REPLACE_MESSAGE:"ma-type:replace-message",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UNWRAP_MESSAGE:"ma-type:unwrap-message"};},null);
__d("MercuryAPIArgsSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MESSENGER:"messenger"};},null);
__d("MercuryAttachmentContentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PHOTO:"attach:image",VIDEO:"attach:video",MUSIC:"attach:music",VOICE:"attach:voice",TEXT:"attach:text",MSWORD:"attach:ms:word",MSXLS:"attach:ms:xls",MSPPT:"attach:ms:ppt",ORION:"attach:orion",SHOERACK_INVITATION:"attach:shoerackinvite",UNKNOWN:"attach:unknown"};},null);
__d("MercuryAttachmentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image",EMOJI_LIKE:"emoji_like",GIFT:"gift"};},null);
__d("MercuryAudioType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"};},null);
__d("MercuryErrorType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SERVER:1,TRANSPORT:2,TIMEOUT:3};},null);
__d("MercuryGlobalActionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MARK_ALL_READ:"mga-type:mark-all-read"};},null);
__d("MercuryLogMessageType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SUBSCRIBE:"log:subscribe",UNSUBSCRIBE:"log:unsubscribe",VIDEO_CALL:"log:video-call",PHONE_CALL:"log:phone-call",THREAD_NAME:"log:thread-name",THREAD_IMAGE:"log:thread-image",SERVER_ERROR:"log:error-msg",LIVE_LISTEN:"log:live-listen",WALLPAPER:"log:wallpaper",ORION:"log:orion",SWITCH_TO_WORK:"log:switch",PAGE_REPLY:"log:page-reply",GENERIC_ADMIN_TEXT:"log:generic-admin-text"};},null);
__d("MercuryMessageSourceTags",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHAT:"source:chat",EMAIL:"source:email",MESSENGER:"source:messenger",MOBILE:"source:mobile"};},null);
__d("MercuryParticipantTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend"};},null);
__d("MercuryPayloadSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_UNPIN_THREAD:"client_unpin_thread",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"};},null);
__d("MercurySendMessageFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"};},null);
__d("MercurySourceType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHAT_ORCA:"source:chat:orca",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MESSENGER_LEAD_GEN:"source:messenger:lead_gen"};},null);
__d("MercurySyncTopicType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DELTA:"delta",DELTAFLOW:"deltaflow"};},null);
__d("MercuryTimePassed",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TODAY:0,WEEK_AGO:1,MONTH_AGO:2,CURRENT_YEAR:3,OTHER_YEAR:4};},null);
__d("MercuryTypeaheadConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:4,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:4,COMPOSER_WM_MAX:18,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",VALID_EMAIL:"^([A-Z0-9._\u0025+-]+\u0040((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._\u0025+-]+[A-Z0-9._\u0025+-]*)|([A-Z0-9._\u0025+-]+[A-Z._\u0025+-]+[A-Z0-9._\u0025+-]*))\u0040(?:facebook\\.com))$"};},null);
__d("MessagesViewerSetID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"};},null);
__d("MessagingEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DELETE:"delete",DELETE_MESSAGES:"delete_messages",DELIVER:"deliver",ERROR:"error",READ:"read",REPORT_SPAM:"report_spam",REPORT_SPAM_MESSAGES:"report_spam_messages",UNMARK_SPAM:"unmark_spam",SUBSCRIBE:"subscribe",CHANGE_MUTE_SETTINGS:"change_mute_settings",TAG:"tag",UNREAD:"unread",UNSUBSCRIBE:"unsubscribe",DELIVER_LOG:"deliver_log",MORE_THREADS:"more_threads",READ_ALL:"read_all",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",SENT_PUSH:"sent_push",DELIVER_FAST_PAST:"deliver_fast_path",MESSENGER_STATUS:"messenger_status",UPDATE_PINNED_THREADS:"update_pinned_threads",CHANGE_PAGE_THREAD_FLAG:"change_page_thread_flag",UPDATE_BLOCKER_STATUS:"update_blocker_status",UPDATE_BLOCKEE_STATUS:"update_blockee_status",CREATE_PAGE_ADMIN_NOTE:"create_page_admin_note",NO_OP:"no_op"};},null);
__d("MessagingGenericAdminTextType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONFIRM_FRIEND_REQUEST:"confirm_friend_request",ACCEPT_PENDING_THREAD:"accept_pending_thread",RAMP_UP_WELCOME_MESSAGE:"ramp_up_welcome_message",CHANGE_THREAD_THEME:"change_thread_theme",CHANGE_THREAD_ICON:"change_thread_icon",GROUP_THREAD_CREATED:"group_thread_created",THREAD_EPHEMERAL_SEND_MODE:"thread_ephemeral_send_mode",INVITE_ACCEPTED:"invite_accepted",MESSENGER_INVITE_SENT:"messenger_invite_sent",TURN_ON_PUSH:"turn_on_push",JOURNEY_PROMPT_COLOR:"journey_prompt_color",JOURNEY_PROMPT_LIKE:"journey_prompt_like",JOURNEY_PROMPT_NICKNAME:"journey_prompt_nickname",JOURNEY_PROMPT_SETUP:"journey_prompt_setup",CHANGE_THREAD_NICKNAME:"change_thread_nickname",BOT_THREAD_SUBSCRIPTION:"bot_thread_subscription",RTC_CALL_LOG:"rtc_call_log",JOURNEY_PROMPT_BOT:"journey_prompt_bot",RIDE_ORDERED_MESSAGE:"ride_ordered_message",JOURNEY_PROMPT_NEW_SETUP:"journey_prompt_new_setup",LIGHTWEIGHT_EVENT_CREATE:"lightweight_event_create",LIGHTWEIGHT_EVENT_DELETE:"lightweight_event_delete",LIGHTWEIGHT_EVENT_NOTIFY:"lightweight_event_notify",LIGHTWEIGHT_EVENT_UPDATE:"lightweight_event_update",AD_MANAGE_MESSAGE:"ad_manage_message"};},null);
__d("MessagingSourceEnum",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHAT_ORCA:"source:chat:orca",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MESSENGER_LEAD_GEN:"source:messenger:lead_gen"};},null);
__d("MessagingTag",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GROUPS:"groups",UNREAD:"unread",FLAGGED:"flagged",ACTION_ARCHIVED:"action:archived",INBOX:"inbox",OTHER:"other",PENDING:"pending",MONTAGE:"montage",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace"};},null);
__d("MessagingThreadCustomizationSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADMIN_MSG_CHANGE_LINK:"admin_msg",INLINE:"inline",JOURNEY_PROMPT:"journey_prompt",JOURNEY_PROMPT_WRITE_IN:"journey_prompt_write_in",PROMO_LINK:"promo_link",SETTINGS:"thread_settings",USER_INFO_ACTION_SHEET:"user_info_action_sheet"};},null);
__d("MessengerDotComDesktopNotifsEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PERMISSION_CANCELED:"permission_canceled",PERMISSION_DENIED:"permission_denied",PERMISSION_GRANTED:"permission_granted",PERMISSION_REQUESTED:"permission_requested",TURNED_OFF_NOTIFS:"turned_off_notifs",TURNED_ON_NOTIFS:"turned_on_notifs"};},null);
__d("MessengerDotComPromotionActionURL",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={turn_on_notification:"TurnOnNotification"};},null);
__d("MessengerPaymentProductType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={P2P:"p2p",MESSENGER_COMMERCE:"messenger_commerce"};},null);
__d("MessengerPlatformQueryType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SEARCH:0,MEDIAFY:1,TRENDING:2,SAMPLE:3,namesByValue:["SEARCH","MEDIAFY","TRENDING","SAMPLE"]};},null);
__d("MessengerView",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DETAIL:{COMPOSE:"detail\/compose",THREAD:"detail\/thread"},MASTER:{GROUPS:"master\/groups",PEOPLE:"master\/people",RECENT:"master\/recent"}};},null);
__d("MNCommerceBlockTypeJSInstance",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALL:"all",PROMOTION:"promotion",NONE:"none"};},null);
__d("MNCommerceErrors",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALREADY_UNLINKED:1893001};},null);
__d("MNCommerceLoggerEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GEN_CALL:"gen_call",DUPLICATE_CALL:"duplicate_call",ERROR:"error",APP_ID_FETCH_FAILURE:"app_id_fetch_failure",GEN_SHIPMENT_ENT:"gen_shipment_ent",GEN_SHIPMENT_TRACKING_ENT:"gen_shipment_tracking_ent",SHIPMENT_NOTIFICATION_READY:"shipment_notification_ready",SHIPMENT_NOTIFICATION_SENT:"shipment_notification_sent",SHIPMENT_NOTIF_READY:"shipment_notif_ready",SHIPMENT_NOTIF_SENT:"shipment_notif_sent",ETA_NOTIF_READY:"eta_notif_ready",ETA_NOTIF_SENT:"eta_notif_sent",DELIVERED_NOTIF_READY:"delivered_notif_ready",DELIVERED_NOTIF_SENT:"delivered_notif_sent",OUT_FOR_DELIVERY_NOTIF_READY:"out_for_delivery_notif_ready",OUT_FOR_DELIVERY_NOTIF_SENT:"out_for_delivery_notif_sent",DELAYED_NOTIF_READY:"delayed_notif_ready",DELAYED_NOTIF_SENT:"delayed_notif_sent",IN_TRANSIT_NOTIF_READY:"in_transit_notif_ready",IN_TRANSIT_NOTIF_SENT:"in_transit_notif_sent",ASYNC_EXECUTION:"async_execution",ASYNC_SCHEDULE:"async_schedule",ASYNC_THROTTLE:"async_throttle",ASYNC_USER_ACCOUNT_DISABLED:"async_user_account_disabled",ASYNC_GEN_DATA_ERROR:"async_gen_data_error",TRACKING_SHUTDOWN_WITH_EXCEPTION_ERROR:"tracking_shutdown_with_exception",TRACKING_SHUTDOWN_WITH_RETRY_ERROR:"tracking_shutdown_with_retry",DELIVERED_STATS:"delivered_stats",USER_LINKED:"user_linked",USER_LINK_FAILED:"user_link_failed",USER_TOKEN_DECRYPTION_FAILED:"user_token_decryption_failed",USER_TOKEN_DELIVERY_ATTEMPT:"user_token_delivery_attempt",USER_TOKEN_DELIVERED:"user_token_delivered",USER_TOKEN_DELIVERY_FAILED:"user_token_delivery_failed",USER_TOKEN_CRITICAL_LOOKUP:"user_token_critical_lookup",USER_TOKEN_LOOKUP_FAILED:"user_token_lookup_failed",USER_UNLINKED:"user_unlinked",USER_UNLINK_FAILED:"user_unlink_failed",USER_UNLINK_BUSINESS_NOTIFIED:"user_unlink_business_notified",USER_UNLINK_BUSINESS_NOTIFICATION_FAILED:"user_unlink_business_notification_failed",PLUGIN_CLIENT_RENDERED:"plugin_client_rendered",PLUGIN_RENDERED:"plugin_rendered",PLUGIN_HIDDEN_ALREADY_LINKED:"plugin_hidden_already_linked",PLUGIN_BLOCKED:"plugin_blocked",PLUGIN_UPDATES_DISALLOWED:"plugin_updates_disallowed",PLUGIN_UPDATES_REALLOWED:"plugin_updates_reallowed",PLUGIN_ASSOC_MUTATE_FAILED:"plugin_assoc_mutate_failed",PLUGIN_ASSOC_READ_FAILED:"plugin_assoc_read_failed",PLUGIN_MESSAGE_US_CLICK:"plugin_message_us_click",ORDER_CANCELLED:"order_cancelled",ORDER_CANCELLATION_FAILED:"order_cancellation_failed",SEND_MESSAGE_WITH_ROBOTEXT:"send_message_with_robotext",SEND_MESSAGE_WITH_ATTACHMENT:"send_message_with_attachment",SEND_MESSAGE_WITH_LOG_MESSAGE:"send_message_with_log_message",SEND_MESSAGE_FAILURE:"send_message_failure",SEND_BLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_block_all_log_message_exception",SEND_UNBLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_unblock_all_log_message_exception",DIALOG_OPENED:"dialog_opened",DIALOG_CLOSED:"dialog_closed",DIALOG_LOAD_ERROR:"dialog_load_error",DIALOG_LOAD_SUCCESS:"dialog_load_success",NOT_YOU_CLICKED:"not_you_clicked",PRODUCT_SUBSCRIPTION_CLICKED:"product_subscription_clicked",RECEIPTS:"receipts",CANCELLATIONS:"cancellations",SHIPMENTS:"shipments",NOW_IN_STOCK:"nowinstock",NOTIFY_ME:"notifyme",PROMOTIONAL_MESSAGE:"promotionalmessage",RETAIL_CANCELLATIONS:"retailcancellations",RETAIL_RECEIPTS:"retailreceipts",UPDATE_RECEIPTS:"updatereceipts",RETAIL_SHIPMENTS:"retailshipments",RETAIL_UPDATE_RECEIPTS:"retailupdatereceipts",AIRLINE_ITINERARY:"airlineitinerary",AIRLINE_REMINDER:"airlinereminder",AIRLINE_CHECKIN:"airlinecheckin",AIRLINE_UPDATE:"airlineupdate",AIRLINE_BOARDINGPASS:"airlineboardingpass",BILL_PAYMENT_REQUEST:"billpaymentrequest",SIMPLE_LINK_WITH_STATE:"simplelinkwithstate",BUSINESS_MESSAGE:"businessmessage",PROMOTION_CREATION_ATTEMPTED:"promotion_creation_attempted",PROMOTION_ENT_CREATED:"promotion_ent_created",PROMOTION_SCHEDULED:"promotion_scheduled",PROMOTION_KILLED:"promotion_killed",PROMOTION_USER_ATTEMPTED:"promotion_user_attempted",PROMOTION_USER_GK_FAILED:"promotion_user_gk_failed",PROMOTION_USER_GK_PASSED:"promotion_user_gk_passed",PROMOTION_USER_ALREADY_LINKED:"promotion_user_already_linked",PROMOTION_USER_NOT_LINKED:"promotion_user_not_linked",PROMOTION_USER_PREVIOUSLY_UNLINKED:"promotion_user_previously_unlinked",PROMOTION_USER_BLOCKED_PROMOTION:"promotion_user_blocked_promotion",PROMOTION_USER_SEND_MESSAGE_EXCEPTION:"promotion_user_send_message_exception",PROMOTION_ATOMIC_MESSAGE_SENT:"promotion_atomic_message_sent",PROMOTION_LOG_MESSAGE_SENT:"promotion_log_message_sent",PROMOTION_ROBOTEXT_SENT:"promotion_robotext_sent",PROMOTION_ATTACHMENT_SENT:"promotion_attachment_sent",PROMOTION_ASYNC_JOB_ERROR:"promotion_async_job_error",USER_CONTROL_BLOCKED_ALL:"user_control_blocked_all",USER_CONTROL_BLOCKED_PROMOTION:"user_control_blocked_promotion",USER_CONTROL_UNBLOCKED_ALL:"user_control_unblocked_all",USER_CONTROL_UNBLOCKED_PROMOTION:"user_control_unblocked_promotion",M_SUGGESTION_CALL:"m_suggestion_call",M_SUGGESTION_ENT_CREATED:"m_suggestion_ent_created",M_SUGGESTION_LINK_IF_NECESSARY:"m_suggestion_link_if_necessary",M_SUGGESTION_SEND_MESSAGE:"m_suggestion_send_message",GEN_CANCELLATION_ENT:"gen_cancellation_ent",CANCELLATION_NOTIFICATION_READY:"cancellation_notification_ready",CANCELLATION_NOTIFICATION_SENT:"cancellation_notification_sent",LIVECHAT_HISTORY_USER_FETCH_FAILURE:"livechat_history_user_fetch_failure",LIVECHAT_HISTORY_PAGE_FETCH_FAILURE:"livechat_history_page_fetch_failure",LIVECHAT_HISTORY_API_SUCCESS:"livechat_history_api_success",LIVECHAT_HISTORY_API_FAILURE:"livechat_history_api_failure",PIXEL_FIRE_CALL:"pixel_fire_call",PIXEL_EVENT_NAME_VALIDATED:"pixel_event_name_validated",PIXEL_SECURITY_CHECKED:"pixel_security_checked",PIXEL_MESSAGE_SENT:"pixel_message_sent",PIXEL_EVENT_HANDLER_EXCEPTION:"pixel_event_handler_exception",PIXEL_INVALID_SENDER:"pixel_invalid_sender",PIXEL_MULTIPLE_WELCOME_MESSAGE_NOT_ALLOWED:"pixel_multiple_welcome_message_not_allowed",PIXEL_NO_OPT_IN:"pixel_event_no_opt_in",PROMOTION_CTA_CLICKED:"promotion_cta_clicked",LINK_CLICK:"link_click"};},null);
__d("MNCommerceReplyTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3};},null);
__d("P2PChannelType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD_CHANGED:"P2P\/CreditCardChanged",CREDIT_CARD_DELETED:"P2P\/CreditCardDeleted",TRANSFER_STATUS_CHANGED:"P2P\/TransferStatusChanged",PLATFORM_CONTEXT_NEW:"P2P\/PlatformContextNew",PLATFORM_CONTEXT_DISMISSED:"P2P\/PlatformContextDismissed",PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED:"P2P\/PlatformContextEligibleItemUpdated",PAYMENT_REQUEST_STATUS_CHANGED:"P2P\/PaymentRequestStateChanged"};},null);
__d("P2PLinkConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={receiverIneligibleHelpURI:"http:\/\/www.facebook.com\/help\/1495718484027862",addDebitCardHelpURI:"http:\/\/www.facebook.com\/help\/200298266807261",helpCenterURI:"http:\/\/www.facebook.com\/help\/863171203733904",contactSupportURI:"http:\/\/www.facebook.com\/help\/contact\/1491759007768605",disabledPaymentsSupportURI:"http:\/\/www.facebook.com\/help\/contact\/223254857690713",complianceLearnMoreURI:"http:\/\/www.facebook.com\/help\/1555715811351399",complianceLearnMoreMsiteURI:"http:\/\/www.facebook.com\/help\/messenger-app\/369959656515129",contactFraudTeamURI:"http:\/\/www.facebook.com\/help\/contact\/370238886476028",payerProtectionURI:"http:\/\/www.facebook.com\/payer_protection\/",helpTransferSystemFailureURI:"http:\/\/www.facebook.com\/help\/contact\/614010102040957",helpTransferManualReviewURI:"http:\/\/www.facebook.com\/help\/messenger-app\/1463256903894928",helpTransferRecipientCanceledURI:"http:\/\/www.facebook.com\/help\/messenger-app\/1564459413784472",helpTransferCompletedURI:"http:\/\/www.facebook.com\/help\/messenger-app\/750020781733477",helpTransferCanceledSameCardURI:"http:\/\/www.facebook.com\/help\/messenger-app\/818512131561533",settingsWWWURI:"http:\/\/www.facebook.com\/settings?tab=payments",settingsMsiteURI:"http:\/\/m.facebook.com\/settings\/p2p\/",mTermsURI:"http:\/\/www.facebook.com\/legal\/m",mHelpURI:"http:\/\/www.facebook.com\/help\/messenger-app\/870471599656315",disputeURI:"http:\/\/www.facebook.com\/help\/contact\/828169843971429",paymentMethodsURI:"https:\/\/www.facebook.com\/settings?tab=payments&section=settings",paymentHistoryURI:"https:\/\/www.facebook.com\/settings?tab=payments&section=history"};},null);
__d("P2PPasswordProtectionParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STATUS:"status"};},null);
__d("P2PPaymentCampaignNames",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ZANGOOSE:"zangoose",SEVIPER:"seviper",PICHU:"pichu"};},null);
__d("P2PPaymentLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTN_ADD_CREDIT_CARD:"Actn_AddCreditCard",ACTN_UPDATE_CREDIT_CARD:"Actn_UpdateCreditCard",ACTN_REMOVE_CREDIT_CARD:"Actn_RemoveCreditCard",ACTN_UNLOCK_CREDIT_CARD:"Actn_UnlockCreditCard",ACTN_VALIDATE_CARD:"Actn_ValidateCard",ACTN_TRANSFER_MONEY:"Actn_TransferMoney",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN:"Actn_TransferMoneyWithCampaign",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_PARENT_CALL:"Actn_TransferMoneyWithCampaignParentCall",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_POST_SUCCESS:"Actn_TransferMoneyWithCampaignPostSuccess",ACTN_TRANSFER_MONEY_CHECK_NEEDS_REVERT:"Actn_TransferMoneyCheckNeedsRevert",ACTN_TRANSFER_MONEY_REVERT:"Actn_TransferMoneyRevert",ACTN_TRANSFER_MONEY_CREATE_CONTEXT:"Actn_TransferMoneyCreateContext",ACTN_TRANSFER_MONEY_CREATE_PLATFORM_ITEM:"Actn_TransferMoneyCreatePlatformItem",ACTN_ACCEPT_MONEY:"Actn_AcceptMoney",ACTN_DECLINE_MONEY:"Actn_DeclineMoney",ACTN_SET_PRIMARY:"Actn_SetPrimary",ACTN_WITHDRAW_MONEY:"Actn_WithdrawMoney",ACTN_CREATE_MSGR_COMMERCE_CART:"Actn_CreateMsgrCommerceCart",ACTN_PLACE_MSGR_COMMERCE_ORDER:"Actn_PlaceMsgrCommerceOrder",ACTN_SEND_TRANSFER_MESSAGE:"Actn_SendTransferMessage",ACTN_POST_TRANSFER_STEPS:"Actn_PostTransferSteps",ACTN_SEND_EXPIRE_NOTIFICATIONS:"Actn_SendExpireNotifications",ACTN_UNCATEGORIZED_EXCEPTION:"Actn_Uncategorized_Exception",ACTN_INCREASE_CAMPAIGN_COUNTER:"Actn_Increase_Campaign_Counter",ACTN_CREATE_PAYMENT_REQUEST:"Actn_CreatePaymentRequest",ACTN_REMIND_PAYMENT_REQUEST:"Actn_RemindPaymentRequest",ACTN_PAY_PAYMENT_REQUEST:"Actn_PayPaymentRequest",ACTN_DECLINE_PAYMENT_REQUEST:"Actn_DeclinePaymentRequest",ACTN_CANCEL_PAYMENT_REQUEST:"Actn_CancelPaymentRequest",ACTN_EXPIRE_PAYMENT_REQUEST:"Actn_ExpirePaymentRequest",ACTN_SEND_PAYMENT_REQUEST_MESSAGE:"Actn_SendPaymentRequestMessage",ACTN_AUTH_FOR_SENDER_REVIEW:"Actn_AuthForSenderReview",ACTN_COMPLETE_SENDER_REVIEW:"Actn_CompleteSenderReview",ACTN_COMPLETE_RECEIVER_REVIEW:"Actn_CompleteReceiverReview",ACTN_SUBMIT_VERIFICATION_STEP:"Actn_SubmitVerificationStep",ACTN_COMPLETE_SENDER_VERIFICATION:"Actn_CompleteSenderVerification",ACTN_COMPLETE_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_VERIFICATION:"Actn_CancelSenderVerification",ACTN_CANCEL_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_RISK:"Actn_CancelSenderRisk",ACTN_CANCEL_EXPIRE:"Actn_CancelExpire",ACTN_CANCEL_FOR_SAME_CARD:"Actn_CancelForSameCard",ACTN_CANCEL_BY_CUSTOMER_SERVICE:"Actn_CancelByCustomerService",ACTN_CANCEL_RECEIVER_REVIEW:"Actn_CancelReceiverReview",ACTN_CANCEL_SENDER_REVIEW:"Actn_CancelSenderReview",ACTN_CANCEL_ALL_PENDING_TRANSFERS:"Actn_CancelAllPendingTransfers",ACTN_FILTER_LOGMESSAGE:"Actn_FilterLogMessage",ACTN_FILTER_NOTIFICATION:"Actn_FilterNotification",ACTN_SEND_NOTIFICATION:"Actn_SendNotification",ACTN_ADD_PIN:"Actn_AddPIN",ACTN_UPDATE_PIN:"Actn_UpdatePIN",ACTN_REMOVE_PIN:"Actn_RemovePIN",ACTN_RESET_PIN:"Actn_ResetPIN",ACTN_ENABLE_TOUCH_ID:"Actn_EnableTouchID",ACTN_VERIFY_TOUCH_ID:"Actn_VerifyTouchID",ACTN_DISABLE_TOUCH_ID:"Actn_DisableTouchID",ACTN_CHANNEL_NOTIF_CARD_EVENT:"Actn_ChannelNotifCardEvent",ACTN_CHANNEL_NOTIF_TRANSFER_STATUS_EVENT:"Actn_ChannelNotifTransferStatusEvent",ACTN_CHANNEL_NOTIF_PLATFORM_EVENT:"Actn_ChannelNotifPlatformEvent",ACTN_CHANNEL_NOTIF_PAYMENT_REQUEST_STATUS_EVENT:"Actn_ChannelNotifPaymentRequestStatusEvent",ACTN_PLATFORM_BANNER_DISMISSED:"Actn_PlatformBannerDismissed",ACTN_PLATFORM_BANNER_MARK_AS_SOLD:"Actn_PlatformBannerMarkAsSold",ACTN_ADD_ADDRESS:"Actn_AddAddress",ACTN_GET_ADDRESSES:"Actn_GetAddresses",ACTN_GET_CURRENT_USER_PROFILE_DATA:"Actn_GetCurrentUserProfileData",ACTN_CAMPAIGN_CHECK_USER_HAS_NEW_ACTIVITY:"Actn_CampaignCheckUserHasNewActivity",ACTN_CAMPAIGN_SAVE_PROMO_NOTIFICATION_TIME:"Actn_CampaignSavePromoNotificationTime",UI_ACTN_SEND_MONEY_BUTTON_CLICKED:"UI_Actn_Send_Money_Button_Clicked",UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED:"UI_Actn_Send_Money_Button_Placeholder_Clicked",UI_ACTN_INITIATE_SEND:"UI_Actn_Initiate_Send",UI_ACTN_CANCEL_SEND:"UI_Actn_Send_Money_Cancelled",UI_ACTN_INITIATE_ADD_CARD:"UI_Actn_Initiate_Add_Card",UI_ACTN_INITIATE_CHOOSE_CARD:"UI_Actn_Initiate_Choose_Card",UI_ACTN_CANCEL_ADD_CARD:"UI_Actn_Cancel_Add_Card",UI_ACTN_CONFIRM_CARD_DETAILS:"UI_Actn_Confirm_Card_Details",UI_ACTN_ACCEPT_MONEY_CANCEL:"UI_Actn_Accept_Money_Cancel",UI_ACTN_ACCEPT_WITH_CARD:"UI_Actn_Accept_With_Card",UI_ACTN_ADD_CARD_SUCCESS:"UI_Actn_Add_Card_Success",UI_ACTN_ADD_CARD_FAIL:"UI_Actn_Add_Card_Fail",UI_ACTN_CONFIRM_SEND:"UI_Actn_Confirm_Send",UI_ACTN_SEND_SUCCESS:"UI_Actn_Send_Success",UI_ACTN_SEND_MONEY_CANCELLED:"UI_Actn_Send_Money_Cancelled",UI_ACTN_SEND_FAIL:"UI_Actn_Send_Fail",UI_ACTN_INITIATE_EDIT_CARD:"UI_Actn_Initiate_Edit_Card",UI_ACTN_CANCEL_EDIT_CARD:"UI_Actn_Cancel_Edit_Card",UI_ACTN_CONFIRM_EDIT_CARD_DETAILS:"UI_Actn_Confirm_Edit_Card_Details",UI_ACTN_EDIT_CARD_SUCCESS:"UI_Actn_Edit_Card_Success",UI_ACTN_EDIT_CARD_FAIL:"UI_Actn_Edit_Card_Fail",UI_ACTN_INITIATE_REMOVE_CARD:"UI_Actn_Initiate_Remove_Card",UI_ACTN_CONFIRM_REMOVE_CARD:"UI_Actn_Confirm_Remove_Card",UI_ACTN_REMOVE_CARD_SUCCESS:"UI_Actn_Remove_Card_Success",UI_ACTN_REMOVE_CARD_FAIL:"UI_Actn_Remove_Card_Fail",UI_ACTN_INITIATE_PASSWORD_PROTECTION_NUX:"UI_Actn_Initiate_Password_Protection_NUX",UI_ACTN_OPT_IN_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_In_Password_Protection_NUX",UI_ACTN_OPT_OUT_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_Out_Password_Protection_NUX",UI_ACTN_ENABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Enabled_Password_Protection_Setting",UI_ACTN_DISABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Disabled_Password_Protection_Setting",UI_ACTN_SEND_CLICKED:"UI_Actn_Send_Clicked",UI_ACTN_VERIFY_CSC:"UI_Actn_Verify_CSC",UI_ACTN_CONFIRM_AMOUNT:"UI_Actn_Confirm_Amount",UI_ACTN_EDIT_CARD:"UI_Actn_Edit_Card",UI_ACTN_CHANGE_CARD:"UI_Actn_Change_Card",UI_ACTN_INITIATE_SEND_TRIGGER:"UI_Actn_Initiate_Send_Trigger",UI_ACTN_INITIATE_GROUP_SEND:"UI_Actn_Initiate_Group_Send",UI_ACTN_GROUP_SEND_CANCELLED:"UI_Actn_Group_Send_Cancelled",UI_ACTN_INITIATE_GROUP_SEND_TRIGGER:"UI_Actn_Initiate_Group_Send_Trigger",UI_ACTN_GROUP_SEND_RECIPIENT_PICKED:"UI_Actn_Group_Send_Recipient_Picked",UI_ACTN_3RD_PARTY_RECEIPT_SHOWN:"UI_Actn_3rd_Party_Receipt_Shown",UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED:"UI_Actn_3rd_Party_Receipt_Dismissed",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CLICKED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Clicked",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CANCELLED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Cancelled",UI_ACTN_CHAT_THREAD_BANNER_CLICKED:"UI_Actn_Chat_Thread_Banner_Clicked",UI_ACTN_CHAT_THREAD_BANNER_VIEWED:"UI_Actn_Chat_Thread_Banner_Viewed",UI_ACTN_CHAT_THREAD_BANNER_DISMISSED:"UI_Actn_Chat_Thread_Banner_Dismissed",UI_ACTN_INITIATE_MONEYPENNY_ORDER:"UI_Actn_Initiate_Moneypenny_Order",UI_ACTN_CONFIRM_MONEYPENNY_ORDER:"UI_Actn_Confirm_Moneypenny_Order",UI_ACTN_MONEYPENNY_ORDER_FAIL:"UI_Actn_Moneypenny_Order_Fail",UI_ACTN_MONEYPENNY_ORDER_SUCCESS:"UI_Actn_Moneypenny_Order_Success",UI_ACTN_MONEYPENNY_ORDER_CANCEL:"UI_Actn_Moneypenny_Order_Cancel",UI_ACTN_FRIEND_PICKER_SEARCH:"UI_Actn_Friend_Picker_Search",UI_ACTN_FRIEND_PICKER_SELECT:"UI_Actn_Friend_Picker_Select",UI_ACTN_FRIEND_PICKER_SHOWN:"UI_Actn_Friend_Picker_Shown",UI_ACTN_FI_CANCEL:"UI_Actn_FI_Cancel",UI_ACTN_FI_SUCCESS_DIALOG_NEXT:"UI_Action_Success_Dialog_Next",UI_ACTN_FI_BANNER_DISMISSED:"UI_Actn_FI_Banner_Dismissed",UI_ACTN_FI_BANNER_IMPRESSION:"UI_Actn_FI_Banner_Impression",UI_ACTN_INCENTIVE_TRANSFER_SUCCESS:"UI_Actn_Incentive_Transfer_Success",UI_ACTN_INCENTIVE_TRANSFER_FAILURE:"UI_Actn_Incentive_Transfer_Failure",UI_ACTN_PLATFORM_BANNER_SELLER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Seller_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_BUYER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Buyer_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_SOLD_CLICKED:"UI_Actn_Platform_Banner_Sold_Clicked",UI_ACTN_PLATFORM_BANNER_IMAGE_CLICKED:"UI_Actn_Platform_Banner_Image_Clicked",UI_ACTN_PLATFORM_BANNER_TITLE_CLICKED:"UI_Actn_Platform_Banner_Title_Clicked",UI_ACTN_PLATFORM_BANNER_PAY_CLICKED:"UI_Actn_Platform_Banner_Pay_Clicked",UI_ACTN_PLATFORM_BANNER_SELLER_VIEWED:"UI_Actn_Platform_Banner_Seller_Viewed",UI_ACTN_PLATFORM_BANNER_BUYER_VIEWED:"UI_Actn_Platform_Banner_Buyer_Viewed",UI_ACTN_PLATFORM_BANNER_PAY_NUX_SHOWN:"UI_Actn_Platform_Banner_Pay_Nux_Shown",UI_ACTN_INITIATE_REQUEST:"UI_Actn_Initiate_Request",UI_ACTN_REQUEST_CLICKED:"UI_Actn_Request_Clicked",UI_ACTN_CONFIRM_REQUEST:"UI_Actn_Confirm_Request",UI_ACTN_REQUEST_SUCCESS:"UI_Actn_Request_Success",UI_ACTN_REQUEST_FAIL:"UI_Actn_Request_Fail",UI_ACTN_INITIATE_DECLINE_REQUEST:"UI_Actn_Initiate_Decline_Request",UI_ACTN_CONFIRM_DECLINE_REQUEST:"UI_Actn_Confirm_Decline_Request",UI_ACTN_DECLINE_REQUEST_FAIL:"UI_Actn_Decline_Request_Fail",UI_ACTN_DECLINE_REQUEST_SUCCESS:"UI_Actn_Decline_Request_Success",UI_ACTN_INITIATE_CANCEL_REQUEST:"UI_Actn_Initiate_Cancel_Request",UI_ACTN_CONFIRM_CANCEL_REQUEST:"UI_Actn_Confirm_Cancel_Request",UI_ACTN_CANCEL_REQUEST_FAIL:"UI_Actn_Cancel_Request_Fail",UI_ACTN_CANCEL_REQUEST_SUCCESS:"UI_Actn_Cancel_Request_Success",UI_ACTN_INITIATE_CHECKOUT:"UI_Actn_Initiate_Checkout",UI_ACTN_CHECKOUT_CONFIRM:"UI_Actn_Checkout_Confirm",UI_ACTN_INITIATE_ADD_ADDRESS:"UI_Actn_Initiate_Add_Address",UI_ACTN_CANCEL_ADD_ADDRESS:"UI_Actn_Cancel_Add_Address",UI_ACTN_INITIATE_CHOOSE_ADDRESS:"UI_Actn_Initiate_Choose_Address",UI_ACTN_CONFIRM_ADDRESS_DETAILS:"UI_Actn_Confirm_Address_Details",UI_ACTN_ADD_ADDRESS_SUCCESS:"UI_Actn_Add_Address_Success",UI_ACTN_ADD_ADDRESS_FAIL:"UI_Actn_Add_Address_Fail",UI_ACTN_CHECKOUT_FAIL:"UI_Actn_Checkout_Fail",UI_ACTN_CHECKOUT_CART_CREATION_FAIL:"UI_Actn_Checkout_Cart_Creation_Fail",UI_ACTN_CHECKOUT_CANCEL:"UI_Actn_Checkout_Cancel",UI_ACTN_CHECKOUT_SUCCESS:"UI_Actn_Checkout_Success",UI_ACTN_CHECKOUT_CART_CREATION_SUCCESS:"UI_Actn_Checkout_Cart_Creation_Success",UI_ACTN_SEND_MONEY_PAGE_VIEWED:"UI_Actn_Send_Money_Page_Viewed",UI_ACTN_ACCEPT_MONEY_NUX_SHOWN:"UI_Actn_Accept_Money_NUX_Shown",UI_ACTN_ACCEPT_MONEY_NUX_NEXT_CLICK:"UI_Actn_Accept_Money_NUX_Next_Click",UI_ACTN_SEND_MONEY_NUX_SHOWN:"UI_Actn_Send_Money_NUX_Shown",UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK:"UI_Actn_Send_Money_NUX_Next_Click",UI_ACTN_GET_CREDIT_CARDS_EXCEPTION:"UI_ACTN_GET_CREDIT_CARDS_EXCEPTION",UI_ACTN_CREATE_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_TRANSFER_EXCEPTION",UI_ACTN_ADD_CARD_EXCEPTION:"UI_ACTN_ADD_CARD_EXCEPTION",UI_ACTN_GET_TRANSFERS_EXCEPTION:"UI_ACTN_GET_TRANSFERS_EXCEPTION",UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION:"UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION",UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION:"UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION",UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION:"UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION",UI_ACTN_UPDATE_CARD_EXCEPTION:"UI_ACTN_UPDATE_CARD_EXCEPTION",UI_ACTN_DELETE_CARD_EXCEPTION:"UI_ACTN_DELETE_CARD_EXCEPTION",UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_DECLINE_TRANSFER_EXCEPTION:"UI_ACTN_DECLINE_TRANSFER_EXCEPTION",UI_ACTN_CANCEL_TRANSFER_EXCEPTION:"UI_ACTN_CANCEL_TRANSFER_EXCEPTION",UI_ACTN_VERIFY_CARD_EXCEPTION:"UI_ACTN_VERIFY_CARD_EXCEPTION",UI_ACTN_VALIDATE_BIN_EXCEPTION:"UI_ACTN_VALIDATE_BIN_EXCEPTION",UI_ACTN_GET_ELIGIBILITY_EXCEPTION:"UI_ACTN_GET_ELIGIBILITY_EXCEPTION",UI_ACTN_GET_FRIEND_LIST_EXCEPTION:"UI_ACTN_GET_FRIEND_LIST_EXCEPTION",UI_ACTN_GET_BANNER_STATES_EXCEPTION:"UI_ACTN_GET_BANNER_STATES_EXCEPTION",UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION",UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION",UI_ACTN_CREATE_M_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_M_TRANSFER_EXCEPTION",UI_ACTN_CREATE_FI_TRANSER_EXCEPTION:"UI_ACTN_CREATE_FI_TRANSER_EXCEPTION",UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION:"UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION",UI_ACTN_GET_ADDRESSES_EXCEPTION:"UI_ACTN_GET_ADDRESSES_EXCEPTION",UI_ACTN_ADD_ADDRESS_EXCEPTION:"UI_ACTN_ADD_ADDRESS_EXCEPTION",UI_ACTN_CREATE_CART_EXCEPTION:"UI_ACTN_CREATE_CART_EXCEPTION",UI_ACTN_SET_CART_ADDRESS_EXCEPTION:"UI_ACTN_SET_CART_ADDRESS_EXCEPTION",UI_ACTN_GET_PROFILE_EXCEPTION:"UI_ACTN_GET_PROFILE_EXCEPTION",UI_ACTN_CREATE_REQUEST_EXCEPTION:"UI_ACTN_CREATE_REQUEST_EXCEPTION",UI_ACTN_DECLINE_REQUEST_EXCEPTION:"UI_ACTN_DECLINE_REQUEST_EXCEPTION",UI_ACTN_CANCEL_REQUEST_EXCEPTION:"UI_ACTN_CANCEL_REQUEST_EXCEPTION",UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION:"UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK",UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK:"UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK"};},null);
__d("P2PPaymentLoggerEventFlow",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UI_FLOW_P2P_SEND:"UI_Flow_P2P_Send",UI_FLOW_P2P_REQUEST:"UI_Flow_P2P_Request",UI_FLOW_P2P_RECEIVE:"UI_Flow_P2P_Receive",UI_FLOW_P2P_SETTINGS:"UI_Flow_P2P_Settings",UI_FLOW_P2P_GROUP_SEND:"UI_Flow_P2P_Group_Send",UI_FLOW_P2P_GROUP_REQUEST:"UI_Flow_P2P_Group_Request",UI_FLOW_MONEYPENNY_CHECKOUT:"UI_Flow_Moneypenny_Checkout",UI_FLOW_FINANCIAL_INCENTIVES:"UI_Flow_Financial_Incentives",UI_FLOW_FINANCIAL_INCENTIVES_ZERO_INDEX_JEWEL:"UI_Flow_Financial_Incentives_Zero_Index_Jewel",UI_FLOW_PLATFORM_BANNER:"UI_Flow_Platform_Banner",UI_FLOW_CHECKOUT:"UI_Flow_Checkout",UI_FLOW_SEND_MONEY_PAGE:"UI_Flow_Send_Money_Page",UI_FLOW_REQUEST_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Request_Sender_NUX_Chat_Thread_Banner",UI_FLOW_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Sender_NUX_Chat_Thread_Banner",UI_FLOW_GROUP_SELL_INTEREST_DIALOG:"UI_FLOW_GROUP_SELL_INTEREST_DIALOG",UI_FLOW_SEND_MONEY_BLUEBAR:"UI_FLOW_SEND_MONEY_BLUEBAR",UI_FLOW_PAYMENTS_MENU_BLUEBAR:"UI_FLOW_PAYMENTS_MENU_BLUEBAR",UI_FLOW_BOOKMARK:"UI_FLOW_BOOKMARK"};},null);
__d("P2PPaymentLogMessageSubtype",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired"};},null);
__d("P2PPaymentMethodCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD:"credit_card",DEBIT_CARD:"debit_card",PREPAID_CARD:"prepaid_card"};},null);
__d("P2PPaymentRequestStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6,EXPIRED:7};},null);
__d("P2PTransferParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TRANSFER_ID:"transfer_id",STATUS:"status",SENDER_STATUS:"sender_status",RECEIVER_STATUS:"receiver_status",RISK_RESULT:"risk_result"};},null);
__d("P2PTransferStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18};},null);
__d("PageMessageEnumTag",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FLAG:"flag",LOW_VALUE:"low_value",SPAM_SPOOFING:"spam_spoofing"};},null);
__d("PhotoResizeModeConst",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONTAIN:"s",COVER:"p"};},null);
__d("StickerAssetType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={IMAGE:"BestEffortImage",SPRITE:"SpriteImage",PADDED_SPRITE:"PaddedSpriteImage"};},null);
__d("StickerConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},EMOTICON_PACK_ID:"1471127876485636",DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120};},null);
__d("StickerInterfaces",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MESSAGES:"messages",COMMENTS:"comments",STICKERED:"stickered",COMPOSER:"composer",POSTS:"posts",FRAMES:"frames"};},null);
__d("StoryAttachmentStyle",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FALLBACK:"fallback",SHARE:"share",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",CHECKIN:"checkin",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",CANCELED_EVENT:"canceled_event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",TRAVEL_SLIDESHOW_LIFE_EVENT:"travel_slideshow_life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",FILE_UPLOAD:"file_upload",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",DONATIONS_CAMPAIGN:"donations_campaign",DONATE_PROMPT:"donate_prompt",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GAMETIME_PLAY:"gametime_play",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",POST_CHANNEL:"post_channel",TEXT_FOR_COLLAGE:"text_for_collage",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",INSTANT_ARTICLE:"instant_article",MOMENTS_APP_INVITATION:"moments_app_invitation",MOMENTS_APP_PHOTO_REQUEST:"moments_app_photo_request",RIDE_ORDERED:"ride_ordered",RIDE_RECEIPT:"ride_receipt",BUSINESS_MESSAGE_ITEMS:"business_message_items",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_PROMOTION:"retail_promotion",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",JOB_OFFER:"job_offer",GROUP_ADD_MEMBERS:"group_add_memebers",RTC_CALL_LOG:"rtc_call_log",EVENTS_PENDING_POST_QUEUE:"events_pending_post_queue",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",EGO_HSCROLL:"ego_hscroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",AIRLINE_CONFIRMATION:"airline_confirmation",AIRLINE_CHECK_IN:"airline_check_in",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_FLIGHT_RESCHEDULE_UPDATE:"airline_flight_reschedule_update",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",GENIE_MESSAGE:"genie_message",MOVIE_BOT_MOVIE_LIST:"movie_bot_movie_list",MOVIE_BOT_MOVIE_SHOWTIME_LIST:"movie_bot_movie_showtime_list",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",SAHELI_IMAGE:"saheli_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment",TELEPHONE_CALL_LOG:"telephone_call_log",SUPER_EMOJI:"super_emoji",BOOK:"book",SUBTOPIC_CUSTOMIZATION_QUESTION:"subtopic_customization_question",SUBTOPIC_CUSTOMIZATION_OPTION:"subtopic_customization_option",RESTAURANT:"restaurant",CONNECTION_QUESTION:"connection_question",CONNECTION_QUESTION_OPTION:"connection_question_option",PYMI_ITEM:"pymi_item",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD:"goodwill_throwback_friendversary_collage_card",CITY:"city",AVATAR_WITH_SHARE:"avatar_with_share",LIGHTWEIGHT_PLACE:"lightweight_place",QUOTED_SHARE:"quoted_share",SMS_LOG:"sms_log",CENTERED_TEXT:"centered_text",GOODWILL_THROWBACK_FRIENDVERSARY_DATA_CARD:"goodwill_throwback_friendversary_data_card",GOODWILL_THROWBACK_FACEVERSARY_COLLAGE_CARD:"goodwill_throwback_faceversary_collage_card",MESSAGE_EVENT:"message_event",MESSAGE_THREAD:"message_thread",QUOTE:"quote",VOTER_REGISTRATION_SHARE:"voter_registration_share",AIRLINE_ITINERARY:"airline_itinerary",AIRLINE_UPDATE:"airline_update",PLACE_LIST:"place_list",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",MINUTIAE_UNIT:"minutiae_unit",INSTANT_ARTICLE_PHOTO:"instant_article_photo",INSTANT_ARTICLE_VIDEO:"instant_article_video",PHOTO_LINK_SHARE:"photo_link_share",BUSINESS_LOCATION:"business_location",GOODWILL_WEATHER:"goodwill_weather",TRANSACTION_INVOICE:"transaction_invoice"};},null);
__d("URLMatcherConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9910\u5385|\u98de\u5229\u6d66|\u96c6\u56e2|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5e7f\u4e1c|\u5de5\u884c|\u5a31\u4e50|\u5927\u62ff|\u5728\u7ebf|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09b0\u09a4|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u03b5\u03bb|zw|zuerich|zone|zm|zip|zero|zara|za|yt|youtube|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgberp4a5d4ar|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c|xn--gecrj9c|xn--g2xx48c|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--c2br7g|xn--c1avg|xn--b4w605ferd|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--55qx5d|xn--55qw42g|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--42c2d9a|xn--3pxu8k|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--1qqw23a|xn--11b4c3d|xin|xerox|xbox|wtf|wtc|ws|world|works|work|wolterskluwer|wme|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|wanggou|wang|walter|wales|vu|voyage|voto|voting|vote|volkswagen|vodka|vn|vlaanderen|viva|vistaprint|vista|vision|virgin|vip|vin|villas|video|viajes|vi|vg|vet|versicherung|verm\u00f6gensberatung|verm\u00f6gensberater|verisign|ventures|vegas|ve|vc|vana|vacations|va|uz|uy|us|uol|uno|university|unicom|uk|ug|ubs|ua|tz|tw|tvs|tv|tushu|tui|tube|tt|trv|trust|travelersinsurance|travelers|travel|training|trading|trade|tr|toys|toyota|town|tours|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tk|tj|tirol|tires|tips|tiffany|tienda|tickets|theatre|theater|thd|th|tg|tf|tennis|temasek|telefonica|tel|technology|tech|team|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|taobao|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|storage|stockholm|stcgroup|stc|statoil|statefarm|starhub|star|stada|st|srl|sr|spreadbetting|spiegel|space|soy|sony|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|sm|sl|skype|sky|skin|ski|sk|sj|site|singles|si|shriram|show|shoes|shiksha|shia|shell|sharp|sh|sg|sfr|sexy|sex|sew|seven|services|sener|select|seek|security|seat|se|sd|scot|scor|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sb|saxo|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|ru|rsvp|rs|room|rodeo|rocks|rocher|ro|rip|rio|ricoh|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|read|re|racing|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|protection|property|properties|promo|prof|productions|prod|pro|press|praxi|pr|post|porn|poker|pohl|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|philips|pharmacy|ph|pg|pf|pet|pe|party|parts|partners|pars|paris|panerai|pamperedchef|page|pa|ovh|otsuka|osaka|origins|organic|org|orange|oracle|ooo|online|onl|ong|one|omega|om|okinawa|office|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowruz|norton|nokia|no|nl|nissan|ninja|nikon|nico|ni|nhk|ngo|ng|nf|nexus|news|new|neustar|network|netbank|net|nec|ne|nc|navy|natura|name|nagoya|nadex|na|mz|my|mx|mw|mv|mutuelle|museum|mu|mtr|mtpc|mtn|mt|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moscow|mortgage|mormon|montblanc|money|monash|mom|moi|moe|moda|mobily|mobi|mo|mn|mma|mm|ml|mk|mini|mil|microsoft|miami|mh|mg|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mc|mba|marriott|markets|marketing|market|mango|management|man|makeup|maison|maif|madrid|ma|ly|lv|luxury|luxe|lupin|lu|ltda|ltd|lt|ls|lr|love|lotto|lotte|london|lol|loans|loan|lk|lixil|living|live|link|linde|lincoln|limo|limited|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|legal|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|lat|lasalle|lanxess|landrover|land|lancaster|lamer|lamborghini|lacaixa|la|kz|kyoto|ky|kw|kred|krd|kr|kpn|kp|komatsu|koeln|kn|km|kiwi|kitchen|kinder|kim|kia|ki|kh|kg|kfh|ke|kddi|kaufen|juegos|jprs|jp|joy|jot|joburg|jobs|jo|jmp|jm|jll|jlc|jewelry|jetzt|je|jcb|java|jaguar|iwc|itau|it|istanbul|ist|iselect|is|irish|ir|iq|ipiranga|io|investments|international|int|insure|insurance|institute|ink|ing|info|infiniti|industries|in|immobilien|immo|im|il|iinet|ifm|ie|id|icu|ice|icbc|ibm|hyundai|hu|ht|hsbc|hr|how|house|hotmail|hoteles|hosting|host|horse|honda|homes|homedepot|holiday|holdings|hockey|hn|hm|hk|hiv|hitachi|hiphop|hermes|here|helsinki|help|healthcare|health|hdfcbank|haus|hangout|hamburg|gy|gw|guru|guitars|guide|guge|gucci|gu|gt|gs|group|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goo|golf|goldpoint|gold|gn|gmx|gmo|gmail|gm|globo|global|gle|glass|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|genting|gent|gea|ge|gdn|gd|gbiz|gb|garden|game|gallup|gallery|gal|ga|fyi|futbol|furniture|fund|frontier|frogans|frl|fresenius|fr|fox|foundation|forum|forsale|forex|ford|football|foo|fo|fm|fly|flsmidth|flowers|florist|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|financial|finance|final|film|fi|ferrero|feedback|fast|fashion|farm|fans|fan|family|faith|fairwinds|fail|fage|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|et|estate|esq|es|erni|er|equipment|epson|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|ec|eat|earth|dz|dvag|durban|dubai|drive|download|doosan|domains|doha|dog|docs|do|dnp|dm|dk|dj|discount|directory|direct|digital|diet|diamonds|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|de|dclk|day|datsun|dating|date|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|crs|crown|cricket|creditunion|creditcard|credit|cr|courses|coupons|country|corsica|coop|cool|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|cisco|circle|cipriani|ci|church|chrome|christmas|chloe|cheap|chat|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbn|cba|catering|cat|casino|cash|casa|cartier|cars|careers|career|care|cards|caravan|car|capital|capetown|canon|cancerresearch|camp|camera|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|boutique|bot|bostik|bosch|boots|book|boo|bond|bom|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|best|berlin|bentley|beer|beats|be|bd|bcn|bbva|bbc|bb|bayern|bauhaus|bargains|barclays|barclaycard|barcelona|bar|bank|band|baidu|ba|azure|az|axa|ax|aw|autos|auto|author|audio|audi|auction|au|attorney|at|associates|asia|as|arte|arpa|army|archi|aramco|ar|aquarelle|aq|apple|app|apartments|ao|android|analytics|amsterdam|amica|am|alsace|allfinanz|alipay|alibaba|al|airtel|airforce|aig|ai|agency|ag|afl|af|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abogado|abbott|abb|aarp|aaa))"};},null);
__d('CallbackManagerController',['ErrorUtils'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$CallbackManagerController1=[];this.$CallbackManagerController2=[undefined];this.$CallbackManagerController3=j;}i.prototype.executeOrEnqueue=function(j,k,l){'use strict';l=l||{};var m=this.$CallbackManagerController4(k,j,l);if(m)return 0;this.$CallbackManagerController2.push({fn:k,request:j,options:l});var n=this.$CallbackManagerController2.length-1;this.$CallbackManagerController1.push(n);return n;};i.prototype.unsubscribe=function(j){'use strict';delete this.$CallbackManagerController2[j];};i.prototype.reset=function(){'use strict';this.$CallbackManagerController2=[];};i.prototype.getRequest=function(j){'use strict';return this.$CallbackManagerController2[j];};i.prototype.runPossibleCallbacks=function(){'use strict';var j=this.$CallbackManagerController1;this.$CallbackManagerController1=[];var k=[];j.forEach(function(l){var m=this.$CallbackManagerController2[l];if(!m)return;if(this.$CallbackManagerController3(m.request,m.options)){k.push(l);}else this.$CallbackManagerController1.push(l);}.bind(this));k.forEach(function(l){var m=this.$CallbackManagerController2[l];delete this.$CallbackManagerController2[l];this.$CallbackManagerController4(m.fn,m.request,m.options);}.bind(this));};i.prototype.$CallbackManagerController4=function(j,k,l){'use strict';var m=this.$CallbackManagerController3(k,l);if(m){var n={ids:k};h.applyWithGuard(j,n,m);}return !!m;};f.exports=i;},null);
__d('KeyedCallbackManager',['CallbackManagerController','ErrorUtils'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){'use strict';this.$KeyedCallbackManager1={};this.$KeyedCallbackManager2=new h(this.$KeyedCallbackManager3.bind(this));}j.prototype.executeOrEnqueue=function(k,l){'use strict';if(!(k instanceof Array)){var m=k,n=l;k=[k];l=function(o){n(o[m]);};}k=k.filter(function(o){var p=o!==null&&o!==undefined;if(!p)i.applyWithGuard(function(){throw new Error('KeyedCallbackManager.executeOrEnqueue: key '+JSON.stringify(o)+' is invalid');});return p;});return this.$KeyedCallbackManager2.executeOrEnqueue(k,l);};j.prototype.unsubscribe=function(k){'use strict';this.$KeyedCallbackManager2.unsubscribe(k);};j.prototype.reset=function(){'use strict';this.$KeyedCallbackManager2.reset();this.$KeyedCallbackManager1={};};j.prototype.getUnavailableResources=function(k){'use strict';var l=this.$KeyedCallbackManager2.getRequest(k),m=[];if(l)m=l.request.filter(function(n){return !this.$KeyedCallbackManager1[n];}.bind(this));return m;};j.prototype.getUnavailableResourcesFromRequest=function(k){'use strict';var l=Array.isArray(k)?k:[k];return l.filter(function(m){if(m!==null&&m!==undefined)return !this.$KeyedCallbackManager1[m];},this);};j.prototype.addResourcesAndExecute=function(k){'use strict';Object.assign(this.$KeyedCallbackManager1,k);this.$KeyedCallbackManager2.runPossibleCallbacks();};j.prototype.setResource=function(k,l){'use strict';this.$KeyedCallbackManager1[k]=l;this.$KeyedCallbackManager2.runPossibleCallbacks();};j.prototype.getResource=function(k){'use strict';return this.$KeyedCallbackManager1[k];};j.prototype.getAllResources=function(){'use strict';return this.$KeyedCallbackManager1;};j.prototype.dumpResources=function(){'use strict';var k={};for(var l in this.$KeyedCallbackManager1){var m=this.$KeyedCallbackManager1[l];if(typeof m==='object')m=babelHelpers['extends']({},m);k[l]=m;}return k;};j.prototype.$KeyedCallbackManager3=function(k){'use strict';var l={};for(var m=0;m<k.length;m++){var n=k[m],o=this.$KeyedCallbackManager1[n];if(typeof o=='undefined')return false;l[n]=o;}return [l];};f.exports=j;},null);
__d('BaseAsyncLoader',['KeyedCallbackManager','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(m,n,o){var p=new h(),q=false,r=[];function s(){if(!r.length||q)return;q=true;i(u,0);}function t(x){q=false;x.forEach(p.unsubscribe.bind(p));s();}function u(){var x={},y=[];r=r.filter(function(aa){var ba=p.getUnavailableResources(aa);if(ba.length){ba.forEach(function(ca){x[ca]=true;});y.push(aa);return true;}return false;});var z=Object.keys(x);if(z.length){o(m,z,y,v.bind(null,y),w.bind(null,y));}else q=false;}function v(x,y){var z=y.payload[n]||y.payload;p.addResourcesAndExecute(z);t(x);}function w(x){t(x);}return {get:function(x,y){var z=p.executeOrEnqueue(x,y),aa=p.getUnavailableResources(z);if(aa.length){r.push(z);s();}},getCachedKeys:function(){return Object.keys(p.getAllResources());},getNow:function(x){return p.getResource(x)||null;},set:function(x){p.addResourcesAndExecute(x);}};}function l(m,n){throw 'BaseAsyncLoader can\'t be instantiated';}Object.assign(l.prototype,{_getLoader:function(){if(!j[this._endpoint])j[this._endpoint]=k(this._endpoint,this._type,this.send);return j[this._endpoint];},get:function(m,n){return this._getLoader().get(m,n);},getCachedKeys:function(){return this._getLoader().getCachedKeys();},getNow:function(m){return this._getLoader().getNow(m);},reset:function(){j[this._endpoint]=null;},set:function(m){this._getLoader().set(m);}});f.exports=l;},null);
__d('AjaxLoader',['AsyncRequest','BaseAsyncLoader','LogHistory'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.getInstance('ajax_loader');function l(m,n){this._endpoint=m;this._type=n;}Object.assign(l.prototype,i.prototype);l.prototype.send=function(m,n,o,p,q){new h().setURI(m).setData({ids:n}).setMethod('POST').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(r){p(r);}).setErrorHandler(function(r){q();k.error('fetch_error',{error_type:r.errorSummary,error_text:r.errorDescription});}).send();};f.exports=l;},null);
__d('ChannelConnection',['Arbiter','Run','SystemEvents','ChannelConstants','ChannelManager','JSLogger','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.create('channel_connection'),p=null,q=null,r=null,s=null,t=0,u=Object.assign(new h(),{CONNECTED:'chat-connection/connected',RECONNECTING:'chat-connection/reconnecting',SHUTDOWN:'chat-connection/shutdown',MUTE_WARNING:'chat-connection/mute',UNMUTE_WARNING:'chat-connection/unmute'});i.onBeforeUnload(function(){});function v(){if(q){clearTimeout(q);q=null;}}function w(){v();o.log('unmute_warning');u.inform(u.UNMUTE_WARNING);}function x(ca){v();q=n(w,ca);o.log('mute_warning',{time:ca});u.inform(u.MUTE_WARNING);}function y(){if(r){clearTimeout(r);r=null;}}function z(ca,da){y();if(ca===k.ON_ENTER_STATE&&(da.nextState||da.state)==='pull'){if(s!==u.CONNECTED){o.log('connected');var ea=!s;s=u.CONNECTED;t=0;u.inform(u.CONNECTED,{init:ea});}}else if(ca===k.ON_ENTER_STATE&&((da.nextState||da.state)==='ping'||!da.nextState&&da.state==='idle')){r=n(function(){var fa=null;if(!(da.state==='idle'&&!da.nextState))fa=da.delay||0;o.log('reconnecting',{delay:fa});if(u.disconnected())o.log('reconnecting_ui',{delay:fa});s=u.RECONNECTING;da.state==='idle'&&t++;if(t>1){u.inform(u.RECONNECTING,fa);}else if(!da.nextState&&da.state==='idle')z(ca,da);},500);}else if(ca===k.ON_SHUTDOWN){o.log('shutdown',{reason:da.reason});s=u.SHUTDOWN;t=0;u.inform(u.SHUTDOWN,da.reason);}}function aa(){if(l.isShutdown()){z(k.ON_SHUTDOWN,l._shutdownHint);}else z(k.ON_ENTER_STATE,{state:l.state,nextState:l.nextState,delay:0});}i.onAfterLoad(aa);Object.assign(u,{disconnected:function(){return s===u.SHUTDOWN||s===u.RECONNECTING&&!q&&t>1;},isShutdown:function(){return s===u.SHUTDOWN;},reconnect:function(ca){if(l.state==='ping'||l.isShutdown())return;o.log('reconnect',{now:ca});u.inform(u.RECONNECTING,0);if(!!ca){if(p!==null){clearTimeout(p);p=null;}l.enterState('ping!');}else if(!p)p=n(function(){l.enterState('ping!');p=null;},k.CHANNEL_MANUAL_RECONNECT_DEFER_MSEC);},unmuteWarning:w});function ba(){h.subscribe([k.ON_ENTER_STATE,k.ON_SHUTDOWN],z);h.subscribe(k.ATTEMPT_RECONNECT,function(){if(u.disconnected())u.reconnect();});j.subscribe(j.TIME_TRAVEL,function(){u.reconnect();x(k.MUTE_WARNING_TIME_MSEC);});i.onBeforeUnload(y,false);}i.onAfterLoad(ba);u.mockAfterLoad=function(){aa();ba();};f.exports=u;},6);
__d('AvailableListConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ON_AVAILABILITY_CHANGED:'buddylist/availability-changed',ON_UPDATE_ERROR:'buddylist/update-error',ON_UPDATED:'buddylist/updated',ON_CHAT_NOTIFICATION_CHANGED:'chat-notification-changed',OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:'webStatus',FB_APP_STATUS:'fbAppStatus',MESSENGER_STATUS:'messengerStatus',OTHER_STATUS:'otherStatus',STATUS_ACTIVE:'active',STATUS_IDLE:'idle',STATUS_OFFLINE:'offline'};f.exports=h;},null);
__d('ServerTime',['InitialServerTime'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();l(h.serverTime);var i;function j(){return Date.now()-i;}function k(){return i;}function l(m){i=Date.now()-m;}f.exports={getMillis:j,getOffsetMillis:k,update:l,get:j,getSkew:k};},null);
__d('LastActiveTimes',['ServerTime','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(o){if(!o||o<0)return '';var p=h.get()/1000-o,q=Math.floor(p/60),r=Math.floor(q/60),s=Math.floor(r/24);if(q<=1){return i._("{count}m",[i.param('count',1)]);}else if(q<60){return i._("{count}m",[i.param('count',q)]);}else if(r<24){return i._("{count}h",[i.param('count',r)]);}else if(s<3){return i._("{count}d",[i.param('count',s)]);}else return '';}function l(o,p){if(!(o in j)||j[o]<p)j[o]=p;}function m(o){if(o in j){return j[o];}else return 0;}var n={update:function(o){for(var p in o)l(p,o[p]);},getShortDisplay:function(o){return k(m(o));},get:function(o){return m(o);},getDebugData:function(){return j;}};f.exports=n;},null);
__d('PresenceStatus',['ArbiterMixin','AvailableListConstants','BanzaiODS','ChatVisibility','CurrentUser','LastActiveTimes','Set','PresencePrivacy','ServerTime','createObjectFrom','debounceAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();j.setEntitySample('presence',.0001);var s={},t={},u={},v=Object.assign({},h),w=r(function(){return v.inform('change');},0);Object.assign(v,{resetPresenceData:function(){s={};t={};},reset:function(){v.resetPresenceData();u={};},get:function(x){if(x==l.getID())return k.isOnline()?i.ACTIVE:i.OFFLINE;var y=i.OFFLINE;if(x in s)y=s[x];if(!o.allows(x))y=i.OFFLINE;return y;},getCapabilities:function(x){var y=v.get(x);if(y==i.OFFLINE)return 0;var z=t[x];return z?z:0;},isPlayingCanvasGameUser:function(x){return !!u[x];},getGroup:function(x){return x.some(function(y){if(y==l.getID())return false;return v.get(y)===i.ACTIVE;})?i.ACTIVE:i.OFFLINE;},set:function(x,y,z,aa,ba,ca){if(x==l.getID())return false;var da;if(y!==null&&y!==undefined){y=y==i.ACTIVE?i.ACTIVE:i.OFFLINE;var ea=v.get(x);da=ea!=y;if(da&&ea==i.ACTIVE||y==i.ACTIVE){var fa={};fa[x]=p.get()/1000;m.update(fa);}s[x]=y;}var ga=false;if(ba){ga=v.getCapabilities(x)!=ba;t[x]=ba;}var ha=da||ga;if(ha&&!ca)w();return ha;},setPlayingCanvasGameFriends:function(x){u=q(x);},getOnlineIDs:function(){var x,y=[];for(x in s)if(v.get(x)===i.ACTIVE)y.push(x);return y;},getOnlineCount:function(){return v.getOnlineIDs().length;},getPresenceStats:function(){var x=0,y=0,z=0;for(var aa in s){x+=1;switch(v.get(aa)){case i.OFFLINE:y+=1;break;case i.ACTIVE:z+=1;break;default:break;}}return {total:x,offline:y,active:z};},getDebugInfo:function(x){return {id:x,presence:s[x]};},getAllDebugInfo:function(){return {presence:s};},setMulti:function(x,y){var z=false;for(var aa in x)v.set(aa,x[aa].a,false,y,x[aa].c,true)&&(z=true);if(z)w();},setMultiChatproxy:function(x){var y={};for(var z in x){if(x[z].lat)y[z]=x[z].lat;var aa=x[z].p;if(aa!==undefined)v.set(z,aa,false,'chatproxy',x[z].vc,true);}m.update(y);w();},setMultiActive:function(x,y){var z=false;x.forEach(function(aa){v.set(aa,i.ACTIVE,false,y,null,true)&&(z=true);});if(z)w();}});f.exports=v;},null);
__d('ChatproxyPresence',['Arbiter','AvailableListConstants','AvailableListInitialData','ChannelConstants','CurrentUser','LastActiveTimes','PresenceStatus','debounceAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();function p(q){'use strict';this.$ChatproxyPresence1=q;this.$ChatproxyPresence2=false;this.$ChatproxyPresence3=j.chatNotif;var r=j.activeList,s=j.lastActiveTimes;if(r)n.setMultiActive(r,'available_list_active');if(s&&!Array.isArray(s))m.update(s);}p.prototype.subscribe=function(){'use strict';h.subscribe(k.getArbiterType('chatproxy-presence'),this.updatePresenceInfo.bind(this));h.subscribe(k.ON_INVALID_HISTORY,function(){this.$ChatproxyPresence2=true;}.bind(this));};p.prototype.updatePresenceInfo=function(q,r){'use strict';if(this.$ChatproxyPresence2){this.$ChatproxyPresence2=false;n.resetPresenceData();}r=r.obj;var s=r.buddyList;n.setMultiChatproxy(s);var t=false;if(r.chatNotif!==undefined)t=this.$ChatproxyPresence3!==r.chatNotif;if(t)this.$ChatproxyPresence3=r.chatNotif;if(r.gamers)n.setPlayingCanvasGameFriends(r.gamers);if(t)this.$ChatproxyPresence1(i.ON_CHAT_NOTIFICATION_CHANGED,this.$ChatproxyPresence3);o(function(){this.$ChatproxyPresence1(i.ON_AVAILABILITY_CHANGED);}.bind(this),0)();};p.prototype.getWebChatNotification=function(){'use strict';return this.$ChatproxyPresence3;};f.exports=p;},null);
__d("XChatUserInfoAllAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/user_info_all\/",{viewer:{type:"Int",required:true}});},null);
__d('ShortProfilesBootstrapper',['Promise','AsyncRequest','BanzaiODS','CurrentUser','JSLogger','XChatUserInfoAllAsyncController'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=5,o=10000,p=m.getURIBuilder().setInt('viewer',k.getID()).getURI(),q=l.create('short_profiles');function r(s){this.$ShortProfilesBootstrapper1=s;this.$ShortProfilesBootstrapper2=new h(function(t,u){this.$ShortProfilesBootstrapper3=t;this.$ShortProfilesBootstrapper4=u;}.bind(this));this.$ShortProfilesBootstrapper5=false;this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper7=0;this.$ShortProfilesBootstrapper8=0;this.$ShortProfilesBootstrapper9=0;this.$ShortProfilesBootstrapper10=false;this.$ShortProfilesBootstrapper11=false;}r.prototype.fetchAll=function(){this.$ShortProfilesBootstrapper12();if(this.$ShortProfilesBootstrapper5||this.$ShortProfilesBootstrapper6)return this.$ShortProfilesBootstrapper2;if(this.$ShortProfilesBootstrapper7>=n){this.$ShortProfilesBootstrapper13();return this.$ShortProfilesBootstrapper2;}this.$ShortProfilesBootstrapper7++;this.$ShortProfilesBootstrapper14();this.$ShortProfilesBootstrapper6=new i(p).setHandler(function(s){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper5=true;this.$ShortProfilesBootstrapper15();this.$ShortProfilesBootstrapper1(s.payload);this.$ShortProfilesBootstrapper3();}.bind(this)).setErrorHandler(function(){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper8++;this.$ShortProfilesBootstrapper16();}.bind(this)).setTimeoutHandler(o,function(){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper9++;this.$ShortProfilesBootstrapper17();this.fetchAll();}.bind(this)).setAllowCrossPageTransition(true);this.$ShortProfilesBootstrapper6.send();return this.$ShortProfilesBootstrapper2;};r.prototype.isBootstrapped=function(){return this.$ShortProfilesBootstrapper5;};r.prototype.isBootstrapping=function(){return !!this.$ShortProfilesBootstrapper6;};r.prototype.getAttemptCount=function(){return this.$ShortProfilesBootstrapper7;};r.prototype.getErrorCount=function(){return this.$ShortProfilesBootstrapper8;};r.prototype.getTimeoutCount=function(){return this.$ShortProfilesBootstrapper9;};r.prototype.$ShortProfilesBootstrapper12=function(){if(!this.$ShortProfilesBootstrapper10){q.log('bootstrap_start');j.bumpEntityKey('chat.web','typeahead.bootstrap.starts');this.$ShortProfilesBootstrapper10=true;}};r.prototype.$ShortProfilesBootstrapper14=function(){q.log('bootstrap_attempt');j.bumpEntityKey('chat.web','typeahead.bootstrap.attempts');};r.prototype.$ShortProfilesBootstrapper15=function(){q.log('bootstrap_success');j.bumpEntityKey('chat.web','typeahead.bootstrap.successes');if(this.$ShortProfilesBootstrapper7>1)j.bumpEntityKey('chat.web','typeahead.bootstrap.successes_after_retries');};r.prototype.$ShortProfilesBootstrapper16=function(){q.log('bootstrap_error');j.bumpEntityKey('chat.web','typeahead.bootstrap.errors');};r.prototype.$ShortProfilesBootstrapper17=function(){q.log('bootstrap_timeout');j.bumpEntityKey('chat.web','typeahead.bootstrap.timeouts');};r.prototype.$ShortProfilesBootstrapper13=function(){if(!this.$ShortProfilesBootstrapper11){q.log('bootstrap_giveup');j.bumpEntityKey('chat.web','typeahead.bootstrap.giveups');this.$ShortProfilesBootstrapper11=true;this.$ShortProfilesBootstrapper4();}};f.exports=r;},null);
__d("XChatUserInfoAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/chat\/user_info\/",{ids:{type:"IntVector",defaultValue:[]}});},null);
__d('ShortProfiles',['AjaxLoader','Arbiter','JSLogger','ShortProfilesBootstrapper','XChatUserInfoAsyncController'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=null,n=new h(l.getURIBuilder().getURI().toString(),'profiles'),o={get:function(q,r){this.getMulti([q],function(s){r(s[q],q);});},getMulti:function(q,r){function s(t){r&&r(p(t));}n.get(q,s);},getNow:function(q){return p(n.getNow(q)||null);},getNowUnsafe:function(q){return n.getNow(q)||null;},getCachedProfileIDs:function(){return n.getCachedKeys();},hasAll:function(){return !!m&&m.isBootstrapped();},fetchAll:function(){if(!m)m=new k(function(q){n.set(q);});return m.fetchAll();},set:function(q,r){var s={};s[q]=r;this.setMulti(s);},setMulti:function(q){n.set(p(q));}};function p(q){return JSON.parse(JSON.stringify(q));}i.subscribe(j.DUMP_EVENT,function(q,r){var s=o.getCachedProfileIDs(),t=j.getEntries(function(u){return (u.cat=='short_profiles'||u.cat=='chat_typeahead');});r.chat_typeahead={bootstrapped:m&&m.isBootstrapped(),bootstrapping:m&&m.isBootstrapping(),bootstrap_attempts:m&&m.getAttemptCount(),bootstrap_errors:m&&m.getErrorCount(),bootstrap_timeouts:m&&m.getTimeoutCount(),entries:s,entry_count:s.length,history:t};});f.exports=o;},null);
__d("TypingStates",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={INACTIVE:0,TYPING:1,QUITTING:2};f.exports=h;},null);
__d("requireWeak",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){e.call(null,[i],j);}f.exports=h;},null);
__d('AvailableList',['Arbiter','ArbiterMixin','AsyncRequest','AvailableListConstants','AvailableListInitialData','BanzaiODS','Bootloader','ChannelConstants','ChatConfig','ChatproxyPresence','ChatVisibility','ErrorUtils','JSLogger','LastActiveTimes','PresencePrivacy','PresenceStatus','Run','ServerTime','ShortProfiles','TypingStates','debounceAcrossTransitions','emptyFunction','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();m.setEntitySample('presence',.0001);var ea=babelHelpers['extends']({},k,i);ea.subscribe([k.ON_AVAILABILITY_CHANGED,k.ON_UPDATE_ERROR],function(ma,na){h.inform(ma,na);});var fa=ba(function(){return ea.inform(k.ON_AVAILABILITY_CHANGED);},0);function ga(ma,na,oa,pa,qa){var ra=w.set(ma,na,oa,pa,qa);if(ra){var sa=ba(function(){return ea.inform(k.ON_AVAILABILITY_CHANGED,ma);},0);sa();}}function ha(ma){var na=ma.payload.availability||{};for(var oa in na)ga(oa&&oa.toString(),na[oa].a,true,'mercury_tabs',na[oa].c,na[oa].p);}function ia(ma){var na=ea.getDebugInfo(ma),oa=na.presence==k.ACTIVE;new j('/ajax/mercury/tabs_presence.php').setData({target_id:ma,to_online:oa,presence_source:na.overlaySource,presence_time:na.overlayTime}).setHandler(ha).setErrorHandler(ca).setAllowCrossPageTransition(true).send();}function ja(ma,na){na.chat_config=p.getDebugInfo();na.available_list_debug_info={};w.getOnlineIDs().forEach(function(oa){na.available_list_debug_info[oa]=ea.getDebugInfo(oa);});}var ka=undefined;try{ka=new q(function(event){ea.inform(event);});ka.subscribe();}catch(la){s.reportError&&s.reportError(la,false);}Object.assign(ea,{getChatproxyPresenceObject:function(){return ka;},get:function(ma){return w.get(ma);},updateForID:function(ma){ia(ma);if(v.getVisibility()==v.ONLINE)x.onAfterLoad(function(){return (n.loadModules(["ChannelManager","ChannelTransport"],function(na,oa){oa.sendAdditionalBuddyRequest(na.getCompleteConfig(),ma);}));});},getWebChatNotification:function(){return ka&&ka.getWebChatNotification();},isReady:function(){return !!ka;},set:function(ma,na,oa,pa){ga(ma,na,true,oa,pa);},getDebugInfo:function(ma){var na=w.getDebugInfo(ma),oa=z.getNow(ma);if(oa)na.name=oa.name;return na;}});h.subscribe(t.DUMP_EVENT,ja);v.subscribe(['privacy-changed','privacy-availability-changed','privacy-user-presence-response'],fa);da('ChannelConnection',function(ma){return (ma.subscribe([ma.CONNECTED,ma.RECONNECTING,ma.SHUTDOWN,ma.MUTE_WARNING,ma.UNMUTE_WARNING],fa));});h.subscribe(o.getArbiterType('buddylist_overlay'),function(ma,na){var oa={},pa=na.obj.overlay;for(var qa in pa){ea.set(qa,pa[qa].a,pa[qa].s||'channel',pa[qa].vc);if(pa[qa].la)oa[qa]=pa[qa].la;}u.update(oa);});h.subscribe([o.getArbiterType('typ'),o.getArbiterType('ttyp')],function(ma,na){var oa=na.obj;if(oa.st===aa.TYPING){var pa=oa.from;if(r.isOnline()){m.bumpEntityKey('presence','stale_presence_check_typing');var qa=w.get(pa);if(qa!=k.ACTIVE){var ra=u.get(pa)*1000,sa=y.get();if(!ra){m.bumpEntityKey('presence','no_detailed_presence_typing');}else if(sa-ra>5*60*1000){var ta='stale_presence_typing',ua=sa-ra;if(ua<10*60*1000){ta+='600';}else if(ua<60*60*1000)ta+='3600';m.bumpEntityKey('presence',ta);}}}ea.set(pa&&pa.toString(),k.ACTIVE,'channel-typing');}});h.subscribe(o.getArbiterType('messaging'),function(ma,na){if(!r.isOnline())return;var oa=na.obj;if(oa.message&&oa.message.timestamp&&oa.message.sender_fbid){var pa=y.get(),qa=oa.message.timestamp;if(pa-qa<2*60*1000){m.bumpEntityKey('presence','stale_presence_check');var ra=oa.message.sender_fbid,sa=w.get(ra);if(sa==k.ACTIVE)return;var ta=u.get(ra)*1000;if(!ta){m.bumpEntityKey('presence','no_detailed_presence');}else if(qa-ta>5*60*1000){var ua='stale_presence',va=qa-ta;if(va<10*60*1000){ua+='600';}else if(va<60*60*1000)ua+='3600';m.bumpEntityKey('presence',ua);}}}});f.exports=ea;},null);
__d('ChatTypeaheadConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={USER_TYPE:'user',THREAD_TYPE:'thread',FRIEND_TYPE:'friend',NON_FRIEND_TYPE:'non_friend',FB4C_TYPE:'fb4c',PAGE_TYPE:'page',MEETING_ROOM_PAGE_TYPE:'meeting_room_page',COMMERCE_PAGE_TYPE:'commerce_page',HEADER_TYPE:'header'};f.exports=h;},null);
__d('MercuryIDs',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isValid:function(i){if(!i||typeof i!=='string')return false;return (/^\w{3,12}:/.test(i));},isValidThreadID:function(i){if(!h.isValid(i))return false;var j=h.tokenize(i);switch(j.type){case 'user':case 'group':case 'thread':case 'root':case 'pending':return true;default:return false;}},tokenize:function(i){if(!this.isValid(i))throw new Error('bad_id_format '+i);var j=i.indexOf(':');return {type:i.substr(0,j),value:i.substr(j+1)};},getUserIDFromParticipantID:function(i){if(!this.isValid(i))throw new Error('bad_id_format '+i);var j=h.tokenize(i),k=j.type,l=j.value;if(k!='fbid')return null;return l;},getParticipantIDFromUserID:function(i){if(isNaN(i))throw new Error('Not a user ID: '+i);return 'fbid:'+i;},getUserIDFromThreadID:function(i){if(!this.isCanonical(i))return null;return this.tokenize(i).value;},getThreadIDFromUserID:function(i){return 'user:'+i;},getThreadIDFromThreadFBID:function(i){return 'thread:'+i;},getThreadIDFromParticipantID:function(i){var j=this.getUserIDFromParticipantID(i);return j?this.getThreadIDFromUserID(j):null;},getParticipantIDFromFromThreadID:function(i){return this.getParticipantIDFromUserID(this.getUserIDFromThreadID(i)||'');},isCanonical:function(i){return this.isValid(i)&&this.tokenize(i).type==='user';},isGroupChat:function(i){return this.isValid(i)&&this.tokenize(i).type!=='user';},isLocalThread:function(i){return this.isValid(i)&&this.tokenize(i).type==='root';}};f.exports=h;},null);
__d('WebMessengerPermalinkConstants',['URI'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={ARCHIVED_PATH:'/messages/archived',BASE_PATH:'/messages',PENDING_PATH:'/messages/pending',OTHER_PATH:'/messages/other',SPAM_PATH:'/messages/spam',COMPOSE_POSTFIX_PATH:'/new',SEARCH_POSTFIX_PATH:'/search',TID_POSTFIX_PARTIAL_PATH:'/conversation-',overriddenVanities:'(archived|other|pending|spam|new|search|conversation-.*)',getURIPathForThreadID:function(j,k){return (k||i.BASE_PATH)+i.TID_POSTFIX_PARTIAL_PATH+h.encodeComponent(h.encodeComponent(j));},getThreadIDFromURI:function(j){var k=j.getPath().match(i.BASE_PATH+'(/[^/]*)*'+i.TID_POSTFIX_PARTIAL_PATH+'([^/]+)');if(k){var l=h.decodeComponent(h.decodeComponent(k[2]));return l;}},getURIPathForIDOrVanity:function(j,k){if(j.match('^'+i.overriddenVanities+'$'))j='.'+j;return (k||i.BASE_PATH)+'/'+j;},getUserIDOrVanity:function(j){var k=j.match(i.BASE_PATH+'.*/([^/]+)/?$'),l=k&&k[1],m=i.overriddenVanities;if(!l||l.match('^'+m+'$')){return false;}else if(l.match('^\\.'+m+'$')){return l.substr(1);}else return l;}};f.exports=i;},null);
__d('ChatOpenTab',['ChatTypeaheadConstants','ContextualThing','Event','MercuryIDs','MercuryParticipantTypes','Parent','URI','WebMessengerPermalinkConstants','csx','curry','cx','emptyFunction','goURI','ifRequired','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=null;v('ChatApp',function(ha){return w=ha;});function x(ha,ia){var ja=ha?new n(o.getURIPathForThreadID(ha)):new n(o.BASE_PATH+o.COMPOSE_POSTFIX_PATH);if(ia)ja.addQueryData({ref:ia});u('BusinessURI.brands',function(ka){return t(ka(ja));},function(){return t(ja);});}function y(ha,ia){x(k.getThreadIDFromUserID(ha),ia);}function z(ha,ia,ja){y(ia,ja);}function aa(ha,ia){x(k.getThreadIDFromThreadFBID(ha),ia);}function ba(ha,ia){x(null,ia);}function ca(ha,ia,ja,ka){j.listen(ha,'click',function(la){if(ga.canOpenTab()){ka(ia,ja);return la.kill();}});}function da(ha,ia,ja,ka){j.listen(ha,'click',function(la){if(ga.canOpenTab())ka(ia,ja);});}function ea(ha,ia,ja,ka){ga.impl()._logChatOpenTabEvent(ha,ia,ja,ka);}function fa(ha){var ia=i.getContext(ha);return ia&&m.bySelector(ia,"._3qw")!==null;}var ga={canOpenTab:function(){return w&&!w.isHidden();},openEmptyTab:function(ha,ia,ja){ga.impl().openEmptyTab(ha,ia,ja);},listenOpenEmptyTab:function(ha,ia){ca(ha,null,ia,ga.openEmptyTab);},openThread:function(ha,ia,ja,ka,la){ga.impl().openThreadTab(ha,ia,ja,ka,la);},openClientTab:function(ha,ia,ja,ka,la){var ma=ga.impl();ma.openClientTab(ha,ka,la);ma._logChatOpenTabEvent(ia,ha,null,ja);},listenOpenThread:function(ha,ia,ja){ca(ha,ia,ja,ga.openThread);},openUserTab:function(ha,ia,ja){ga.impl().openUserTab(ha,ia,ja);},openPageTab:function(ha,ia,ja){ga.impl().openPageTab(ha,ia,ja);return true;},listenOpenUserTab:function(ha,ia,ja){if(!fa(ha))ca(ha,ia,ja,ga.openUserTab);},listenOpenPageTab:function(ha,ia,ja,ka){if(!fa(ha))ca(ha,ia,ka,q(ga.openPageTab,ja));},listenOpenPageTabPersistentEvent:function(ha,ia,ja,ka){if(!fa(ha))da(ha,ia,ka,q(ga.openPageTab,ja));},openTabByType:function(ha,ia,ja){if(ia===h.THREAD_TYPE){if(ha){this.openThread(ha,ja);}else this.openEmptyTab(null,ja);}else if(!ia||ia===l.FRIEND||ia===h.FRIEND_TYPE||ia===h.PAGE_TYPE||ia===h.USER_TYPE)this.openUserTab(ha,ja);},impl:function(){if(w&&w.isInitialized()&&!w.isHidden()&&w.chatOpenTabImpl){return w.chatOpenTabImpl;}else return {openClientTab:x,openUserTab:y,openEmptyTab:ba,openThreadTab:aa,openPageTab:z,_logChatOpenTabEvent:s};}};f.exports=ga;},null);
__d('AbstractSearchSource',['Promise'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();i.prototype.bootstrap=function(j){'use strict';if(!this.$AbstractSearchSource1)this.$AbstractSearchSource1=new h(function(k){this.bootstrapImpl(k);}.bind(this));return this.$AbstractSearchSource1.then(j);};i.prototype.search=function(j,k,l){'use strict';this.searchImpl(j,k,l);};i.prototype.bootstrapImpl=function(j){'use strict';j();};i.prototype.searchImpl=function(j,k,l){'use strict';throw new Error('Abstract method #searchImpl is not implemented.');};i.prototype.clearBootstrappedData=function(){'use strict';this.$AbstractSearchSource1=null;};function i(){'use strict';}f.exports=i;},null);
__d('SearchSourceQueryStatus',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ACTIVE:'ACTIVE',COMPLETE:'COMPLETE'};f.exports=h;},null);
__d('SearchSourceCallbackManager',['SearchSourceQueryStatus','createObjectFrom','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.ACTIVE,l=h.COMPLETE;function m(o){'use strict';this.$SearchSourceCallbackManager1=o.parseFn;!(typeof this.$SearchSourceCallbackManager1==='function')?j(0):undefined;this.$SearchSourceCallbackManager2=o.matchFn;!(typeof this.$SearchSourceCallbackManager2==='function')?j(0):undefined;this.$SearchSourceCallbackManager3=o.alwaysPrefixMatch||false;this.$SearchSourceCallbackManager4=o.indexFn||n;this.reset();}m.prototype.search=function(o,p,q){'use strict';var r=this.$SearchSourceCallbackManager5(o,p,q);if(r)return 0;this.$SearchSourceCallbackManager6.push({queryString:o,callback:p,options:q});var s=this.$SearchSourceCallbackManager6.length-1;this.$SearchSourceCallbackManager7.push(s);return s;};m.prototype.$SearchSourceCallbackManager5=function(o,p,q){'use strict';var r=this.$SearchSourceCallbackManager8(o),s=!!this.$SearchSourceCallbackManager9[o];if(!r.length){p([],o,s?l:k);return s;}var t=r.map(function(u){return this.$SearchSourceCallbackManager10[u];},this);p(t,o,s?l:k);return s;};m.prototype.$SearchSourceCallbackManager11=function(){'use strict';var o=this.$SearchSourceCallbackManager7;this.$SearchSourceCallbackManager7=[];o.forEach(this.$SearchSourceCallbackManager12,this);};m.prototype.$SearchSourceCallbackManager12=function(o){'use strict';var p=this.$SearchSourceCallbackManager6[o];if(!p)return;var q=this.$SearchSourceCallbackManager5(p.queryString,p.callback,p.options);if(q){delete this.$SearchSourceCallbackManager6[o];return;}this.$SearchSourceCallbackManager7.push(o);};m.prototype.reset=function(){'use strict';this.$SearchSourceCallbackManager10={};this.$SearchSourceCallbackManager13={};this.$SearchSourceCallbackManager14={};this.$SearchSourceCallbackManager15={};this.$SearchSourceCallbackManager9={};this.$SearchSourceCallbackManager7=[];this.$SearchSourceCallbackManager6=[undefined];};m.prototype.addLocalEntries=function(o){'use strict';o.forEach(function(p){var q=p.getUniqueID(),r=this.$SearchSourceCallbackManager4(p);this.$SearchSourceCallbackManager10[q]=p;this.$SearchSourceCallbackManager13[q]=r;var s=this.$SearchSourceCallbackManager1(r);s.tokens.forEach(function(t){if(!this.$SearchSourceCallbackManager14.hasOwnProperty(t))this.$SearchSourceCallbackManager14[t]={};this.$SearchSourceCallbackManager14[t][q]=true;},this);},this);this.$SearchSourceCallbackManager11();};m.prototype.addQueryEntries=function(o,p,q){'use strict';if(q===l)this.setQueryStringAsExhausted(p);var r=this.$SearchSourceCallbackManager8(p),s=this.$SearchSourceCallbackManager1(p).flatValue;this.$SearchSourceCallbackManager15[s]=i(r,true);o.forEach(function(t){var u=t.getUniqueID();this.$SearchSourceCallbackManager10[u]=t;this.$SearchSourceCallbackManager13[u]=this.$SearchSourceCallbackManager4(t);this.$SearchSourceCallbackManager15[s][u]=true;},this);this.$SearchSourceCallbackManager11();};m.prototype.unsubscribe=function(o){'use strict';delete this.$SearchSourceCallbackManager6[o];};m.prototype.removeEntry=function(o){'use strict';delete this.$SearchSourceCallbackManager10[o];};m.prototype.getAllEntriesMap=function(){'use strict';return this.$SearchSourceCallbackManager10;};m.prototype.setQueryStringAsExhausted=function(o){'use strict';this.$SearchSourceCallbackManager9[o]=true;};m.prototype.unsetQueryStringAsExhausted=function(o){'use strict';delete this.$SearchSourceCallbackManager9[o];};m.prototype.$SearchSourceCallbackManager8=function(o){'use strict';var p=this.$SearchSourceCallbackManager16(o,this.$SearchSourceCallbackManager17(o)),q=this.$SearchSourceCallbackManager16(o,this.$SearchSourceCallbackManager18(o)),r=p.concat(q),s={},t=[];r.forEach(function(u){if(!s[u]&&this.$SearchSourceCallbackManager10[u]!==undefined){t.push(u);s[u]=true;}},this);return t;};m.prototype.$SearchSourceCallbackManager16=function(o,p){'use strict';var q=this.$SearchSourceCallbackManager19(o,p),r=this.$SearchSourceCallbackManager10;function s(t,u){if(q[t]!==q[u])return q[t]?-1:1;var v=r[t],w=r[u];if(v.getOrder()!==w.getOrder())return v.getOrder()-w.getOrder();var x=v.getTitle().length,y=w.getTitle().length;if(x!==y)return x-y;return v.getUniqueID()-w.getUniqueID();}return p.sort(s).slice();};m.prototype.$SearchSourceCallbackManager19=function(o,p){'use strict';var q={};p.forEach(function(r){q[r]=this.$SearchSourceCallbackManager2(o,this.$SearchSourceCallbackManager13[r]);},this);return q;};m.prototype.$SearchSourceCallbackManager17=function(o){'use strict';var p=this.$SearchSourceCallbackManager1(o,this.$SearchSourceCallbackManager3),q=this.$SearchSourceCallbackManager3?p.sortedTokens:p.tokens,r=q.length,s=p.isPrefixQuery?r-1:null,t={},u={},v={},w=false,x={},y=0;q.forEach(function(aa,ba){if(x.hasOwnProperty(aa))return;y++;x[aa]=true;for(var ca in this.$SearchSourceCallbackManager14){var da=ca===aa&&!t.hasOwnProperty(ca),ea=false;if(!da)ea=(this.$SearchSourceCallbackManager3||s===ba)&&ca.indexOf(aa)===0;if(!da&&!ea)continue;if(ca===aa){if(u.hasOwnProperty(ca))w=true;t[ca]=true;}else{if(t.hasOwnProperty(ca)||u.hasOwnProperty(ca))w=true;u[ca]=true;}for(var fa in this.$SearchSourceCallbackManager14[ca])if(ba===0||v.hasOwnProperty(fa)&&v[fa]==y-1)v[fa]=y;}},this);var z=Object.keys(v).filter(function(aa){return v[aa]==y;});if(w||y<r)z=this.$SearchSourceCallbackManager20(o,z);return z;};m.prototype.$SearchSourceCallbackManager18=function(o){'use strict';var p=this.$SearchSourceCallbackManager1(o).flatValue,q=this.$SearchSourceCallbackManager21(p);if(this.$SearchSourceCallbackManager15.hasOwnProperty(p))return q;return this.$SearchSourceCallbackManager20(o,q);};m.prototype.$SearchSourceCallbackManager21=function(o){'use strict';var p=0,q=null,r=this.$SearchSourceCallbackManager15;Object.keys(r).forEach(function(s){if(o.indexOf(s)===0&&s.length>p){p=s.length;q=s;}});return (r.hasOwnProperty(q)?Object.keys(r[q]):[]);};m.prototype.$SearchSourceCallbackManager20=function(o,p){'use strict';return p.filter(function(q){return this.$SearchSourceCallbackManager2(o,this.$SearchSourceCallbackManager13[q]);},this);};function n(o){return [o.getTitle(),o.getKeywordString()].join(' ');}f.exports=m;},null);
__d('isValidUniqueID',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return (i!==null&&i!==undefined&&i!==''&&(typeof i==='string'||typeof i==='number'));}f.exports=h;},null);
__d('SearchableEntry',['HTML','isValidUniqueID','invariant','FbtResult'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(n){if(!n){return '';}else if(typeof n==='string'){return n;}else if(n instanceof k){return n.toString();}else if(typeof n==='object'){var o=h.replaceJSONWrapper(n);if(h.isHTML(o)){var p=o.getRootNode();return p.textContent||p.innerText||'';}else return '';}else return '';}function m(n){'use strict';!i(n.uniqueID)?j(0):undefined;this.$SearchableEntry8=n.uniqueID+'';if(n.title instanceof k)n.title=n.title.toString();!(!!n.title&&typeof n.title==='string')?j(0):undefined;this.$SearchableEntry6=n.title;this.$SearchableEntry3=n.order||0;this.$SearchableEntry5=l(n.subtitle);this.$SearchableEntry2=n.keywordString||'';this.$SearchableEntry4=n.photo||'';this.$SearchableEntry9=n.uri||'';this.$SearchableEntry7=n.type||'';var o=n.auxiliaryData||{};this.$SearchableEntry1=o;}m.prototype.getUniqueID=function(){'use strict';return this.$SearchableEntry8;};m.prototype.getOrder=function(){'use strict';return this.$SearchableEntry3;};m.prototype.getTitle=function(){'use strict';return this.$SearchableEntry6;};m.prototype.getSubtitle=function(){'use strict';return this.$SearchableEntry5;};m.prototype.getKeywordString=function(){'use strict';return this.$SearchableEntry2;};m.prototype.getPhoto=function(){'use strict';return this.$SearchableEntry4;};m.prototype.getURI=function(){'use strict';return this.$SearchableEntry9;};m.prototype.getType=function(){'use strict';return this.$SearchableEntry7;};m.prototype.getAuxiliaryData=function(){'use strict';return this.$SearchableEntry1;};f.exports=m;},null);
__d('TokenizeUtil',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/[ ]+/g,i=/[^ ]+/g,j=new RegExp(k(),'g');function k(){return '[.,+*?$|#{}()\'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;'+'\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f'+'\uff3b-\uff40\uff5b-\uff65\u2E2E\u061f\u066a-\u066c\u061b\u060c\u060d'+'\uFD3e\uFD3F\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e'+'\u00a1-\u00b1\u00b4-\u00b8\u00ba\u00bb\u00bf]';}var l={},m={a:"\u0430 \u00e0 \u00e1 \u00e2 \u00e3 \u00e4 \u00e5 \u0101",b:"\u0431",c:"\u0446 \u00e7 \u010d",d:"\u0434 \u00f0 \u010f \u0111",e:"\u044d \u0435 \u00e8 \u00e9 \u00ea \u00eb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \u00ec \u00ed \u00ee \u00ef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \u00f1 \u0148 \u0149 \u014b \u0146",o:"\u043e \u00f8 \u00f6 \u00f5 \u00f4 \u00f3 \u00f2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \u00fe",u:"\u0443 \u044e \u00fc \u00fb \u00fa \u00f9 \u016f \u016b",v:"\u0432",y:"\u044b \u00ff \u00fd",z:"\u0437 \u017e",ae:"\u00e6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\u00df",ya:"\u044f"};for(var n in m){var o=m[n].split(' ');for(var p=0;p<o.length;p++)l[o[p]]=n;}var q={};function r(x){return x?x.replace(j,' '):'';}function s(x){x=x.toLowerCase();var y='',z='';for(var aa=x.length;aa--;){z=x.charAt(aa);y=(l[z]||z)+y;}return y.replace(h,' ');}function t(x){var y=[],z=i.exec(x);while(z){z=z[0];y.push(z);z=i.exec(x);}return y;}function u(x,y){if(!q.hasOwnProperty(x)){var z=s(x),aa=r(z);q[x]={value:x,flatValue:z,tokens:t(aa),isPrefixQuery:aa&&aa[aa.length-1]!=' '};}if(y&&typeof q[x].sortedTokens=='undefined'){q[x].sortedTokens=q[x].tokens.slice();q[x].sortedTokens.sort(function(ba,ca){return ca.length-ba.length;});}return q[x];}function v(x,y,z){var aa=u(y,x=='prefix'),ba=x=='prefix'?aa.sortedTokens:aa.tokens,ca=u(z).tokens,da={},ea=aa.isPrefixQuery&&x=='query'?ba.length-1:null,fa=function(ga,ha){for(var ia=0;ia<ca.length;++ia){var ja=ca[ia];if(!da[ia]&&(ja==ga||(x=='query'&&ha===ea||x=='prefix')&&ja.indexOf(ga)===0))return da[ia]=true;}return false;};return Boolean(ba.length&&ba.every(fa));}var w={flatten:s,parse:u,getPunctuation:k,isExactMatch:v.bind(null,'exact'),isQueryMatch:v.bind(null,'query'),isPrefixMatch:v.bind(null,'prefix'),tokenize:t};f.exports=w;},null);
__d('ChatSearchSource',['requireWeak','AbstractSearchSource','AsyncRequest','CurrentUser','MercuryConfig','MercuryParticipantTypes','SearchableEntry','SearchSourceCallbackManager','ShortProfiles','TokenizeUtil','emptyFunction','isValidUniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t,u;if(c.__markCompiled)c.__markCompiled();var v=null;h('OrderedFriendsList',function(x){v=x;});t=babelHelpers.inherits(w,i);u=t&&t.prototype;function w(x){u.constructor.call(this);this.$ChatSearchSource1=new o({parseFn:q.parse,matchFn:q.isQueryMatch,indexFn:x.indexFn});this.$ChatSearchSource2=x.queryRequests||[];this.$ChatSearchSource3=false;}w.prototype.bootstrapImpl=function(x){p.fetchAll().done(function(){this.$ChatSearchSource3=true;this.$ChatSearchSource4();x();}.bind(this));};w.prototype.searchImpl=function(x,y,z){var aa=null,ba={},ca=z&&z.onQueryFinished,da=z&&z.onQueryStarted;da&&da(x);var ea=this.$ChatSearchSource1.search(x,function(ha){if(!aa){aa=ha;aa.forEach(function(ia){return ba[ia.getUniqueID()]=true;});}else ha.forEach(function(ia){var ja=ia.getUniqueID();if(!ba[ja]){aa.push(ia);ba[ja]=true;}});y(aa,x);if(x.length===1&&this.$ChatSearchSource3)ca&&ca(x);}.bind(this),z);if(!ea||!this.$ChatSearchSource2||!this.$ChatSearchSource2.length||x.length===0){ca&&ca(x);return;}if(x.length===1){if(this.$ChatSearchSource3)ca&&ca(x);return;}var fa={value:x,existing_ids:aa&&aa.map(function(ha){return ha.getUniqueID();}).join(','),limit:z&&z.threadLimit},ga=this.$ChatSearchSource2.length;this.$ChatSearchSource2.forEach(function(ha){this.$ChatSearchSource5(fa,ha,function(ia){this.$ChatSearchSource6(this.$ChatSearchSource7(this.$ChatSearchSource8(ia)).filter(function(ja){return !!ja;}),x);ga--;if(ga===0){this.$ChatSearchSource1.setQueryStringAsExhausted(x);ca&&ca(x);}}.bind(this));}.bind(this),this);};w.prototype.getAllEntriesMap=function(){return this.$ChatSearchSource1.getAllEntries();};w.prototype.$ChatSearchSource4=function(){var x=p.getCachedProfileIDs(),y=x.filter(function(aa){var ba=p.getNow(aa);return (aa==k.getID()||ba.type===m.FRIEND||ba.type===m.PAGE&&l.LinkedAgents&&l.LinkedAgents.indexOf(aa.toString())>-1);}),z=y.map(this.$ChatSearchSource9);if(z.length)this.$ChatSearchSource1.addLocalEntries(z);};w.prototype.$ChatSearchSource7=function(x){return x.map(this.$ChatSearchSource10,this);};w.prototype.$ChatSearchSource10=function(x,y){if(x.mercury_thread){if(!v)return null;return v.normalizeThreadEntry(x,y);}var z=x.text,aa=x.uid;if(!z||!s(aa))return null;return new n({uniqueID:aa,title:z,order:v?v.getActiveRank(aa):0,subtitle:x.subtext,type:x.render_type||x.type,photo:x.photo,uri:x.path,auxiliaryData:{isMessengerUser:x.is_messenger_user,alias:x.alias}});};w.prototype.$ChatSearchSource8=function(x){var y=x.getPayload();if(Array.isArray(y)){return y;}else if(y&&y.entries){return y.entries;}else return [];};w.prototype.$ChatSearchSource9=function(x){var y=p.getNow(x),z=x==k.getID()?m.FRIEND:y.type,aa=[y.additionalName,y.alternateName].concat(y.searchTokens||[]).join(' '),ba=y.name,ca=y.additionalName;if(y.threadNickname){ba=y.threadNickname;ca=y.name;}return new n({uniqueID:x,title:ba,order:v?v.getActiveRank(x):0,subtitle:ca,keywordString:aa,type:z,photo:y.thumbSrc,uri:y.uri,auxiliaryData:{isMessengerUser:y.is_messenger_user,alias:y.alias}});};w.prototype.$ChatSearchSource5=function(x,y,z,aa){new j(y.uri).setData(babelHelpers['extends']({},x,y.data)).setMethod('GET').setReadOnly(true).setHandler(z).setErrorHandler(aa||r).setAllowCrossPageTransition(true).send();};w.prototype.$ChatSearchSource6=function(x,y){if(x.length)this.$ChatSearchSource1.addQueryEntries(x,y);};w.prototype.addLocalEntries=function(x){this.$ChatSearchSource1.addLocalEntries(x);};w.prototype.refreshData=function(){p.fetchAll();};f.exports=w;},null);
__d('ChatSortUsers',['ShortProfiles','TokenizeUtil'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(m){if(j[m])return j[m];var n=(h.getNowUnsafe(m)||{}).name;if(n)return j[m]=i.flatten(n);return '~';}var l={sortAlphabetical:function(m,n){var o=k(m),p=k(n);if(o!==p)return o<p?-1:1;return 0;}};f.exports=l;},null);
__d('OrderedFriendsList',['AvailableListConstants','MercuryIDs','PresenceStatus','SearchableEntry','ShortProfiles','WorkModeConfig','createArrayFromMixed','isValidUniqueID','InitialChatFriendsList'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=[],q=[],r={},s=[],t={},u=[];function v(x){return i.isValid(x)?x:i.getParticipantIDFromUserID(x);}var w={contains:function(x){return x in r;},getList:function(){if(m.is_work_user)return n(p);w.reRank();var x=n(p);x=x.filter(function(y){var z=l.getNowUnsafe(y);return !z||z.type=='friend'||z.is_nonfriend_messenger_contact;});return x;},getSearchableEntries:function(x,y){var z=w.getList();l.getMulti(z.slice(0,x),function(aa){var ba=[];for(var ca in aa)ba.push(w.normalizeProfileEntry(aa[ca],ca));var da=w.getGroups().map(w.normalizeThreadEntry);y(ba.concat(da).filter(function(ea){return !!ea;}).sort(function(ea,fa){return ea.getOrder()-fa.getOrder();}));});},normalizeProfileEntry:function(x,y){var z=x.searchTokens||[],aa=x.name,ba=null;if(x.threadNickname){aa=x.threadNickname;ba=x.name;}return new k({uniqueID:x.id||y,keywordString:z.join(' '),order:w.getRank(x.id||y),photo:x.thumbSrc,title:aa,subtitle:ba,type:x.type,uri:x.uri,auxiliaryData:{isMessengerUser:x.is_messenger_user}});},normalizeThreadEntry:function(x,y){var z=x.mercury_thread,aa=x.participants_to_render.map(function(fa){return babelHelpers['extends']({},fa,{id:v(fa.id)});});z.participants=z.participants.map(v);var ba=x.text,ca=null;if(!ba)ba=z.name;var da=aa.map(function(fa){return fa.name;}).join(', ');if(!ba){ba=da;}else ca=da;var ea=x.uid;if(!ba||!o(ea))return null;return new k({uniqueID:ea,order:y,photo:z.image_src,title:ba,subtitle:ca,type:'thread',auxiliaryData:{participantsToRender:aa,thread:z}});},getRank:function(x){return x in r?r[x]:p.length;},getActiveList:function(){if(s.length>0)return s;return w.getList();},getActiveRank:function(x){return x in t?t[x]:w.getRank(x);},reRank:function(){p=[];var x=0;u.forEach(function(y){var z=y.slice(0,-2),aa=y.slice(-1);if(j.get(z)==aa){p[x]=z;r[z]=x++;}});},rankActive:function(){var x=0;u.forEach(function(y){var z=y.slice(0,-2),aa=y.slice(-1);if(aa==h.ACTIVE){s[x]=z;t[z]=x++;}});},getGroups:function(){return q;}};(function(){var x=c('InitialChatFriendsList');p=x.list.length?x.list:[];q=x.groups||[];if(x.shortProfiles)l.setMulti(x.shortProfiles);if(!m.is_work_user){u=p.slice();w.rankActive();w.reRank();}else p.forEach(function(y,z){r[y]=z;});})();f.exports=b.OrderedFriendsList||w;},null);
__d('TypingDetector',['ArbiterMixin','Event','Input','Run','SubscriptionsHandler','TypingStates','createObjectFrom','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();function p(q,r){this._input=q;this._ignoreKeys={};this._getValueFn=r;}Object.assign(p.prototype,h,{_timeout:7000,_currentState:m.INACTIVE,init:function(){this.init=o;this.reset();this._subscriptions=new l();this._subscriptions.addSubscriptions(i.listen(this._input,'keyup',this._update.bind(this)),k.onUnload(this._onunload.bind(this)));},reset:function(){clearTimeout(this._checkTimer);this._checkTimer=null;this._lastKeystrokeAt=null;this._currentState=m.INACTIVE;},setIgnoreKeys:function(q){this._ignoreKeys=n(q);},destroy:function(){this._subscriptions.release();},_onunload:function(){if(this._currentState==m.TYPING)this._transition(m.QUITTING);},_update:function(event){var q=i.getKeyCode(event),r=this._currentState;if(!this._ignoreKeys[q]){var s=this._getValueFn?this._getValueFn():j.getValue(this._input);if(s.trim().length===0){if(r==m.TYPING)this._transition(m.INACTIVE);}else if(r==m.TYPING){this._recordKeystroke();}else if(r==m.INACTIVE){this._transition(m.TYPING);this._recordKeystroke();}}},_transition:function(q){this.reset();this._currentState=q;this.inform('change',q);},_recordKeystroke:function(){this._lastKeystrokeTime=Date.now();if(!this._checkTimer)this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout);},_checkTyping:function(){var q=this._lastKeystrokeTime+this._timeout,r=Date.now();if(r>q){this._transition(m.INACTIVE);}else{clearTimeout(this._checkTimer);this._checkTimer=setTimeout(this._checkTyping.bind(this),q-r+10);}}});f.exports=p;},null);
__d('TypingDetectorController',['AsyncRequest','AvailableList','AvailableListConstants','ChannelConnection','ChatVisibility','Keys','MercuryServerRequestsConfig','TypingDetector','TypingStates','emptyFunction','setTimeoutAcrossTransitions','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();function t(u,v,w,x,y,z){'use strict';this.userID=u;this.input=v;this.source=w;this.threadID=y;this.remoteState=p.INACTIVE;this.notifyTimer=null;x=x||{};this.notifyDelay=x.notifyDelay||this.notifyDelay;this._typingDetector=new o(v,z);this._typingDetector.init(x);this._typingDetector.subscribe('change',this._stateChange.bind(this));}t.prototype.setUserAndThread=function(u,v){'use strict';if(this.userID!==u||this.threadID!==v){this.resetState();this.userID=u;this.threadID=v;}};t.prototype.setIgnoreEnter=function(u){'use strict';var v=u?[m.RETURN]:[];this._typingDetector.setIgnoreKeys(v);};t.prototype.resetState=function(){'use strict';this._notifyState(p.INACTIVE);this.remoteState=p.INACTIVE;this._typingDetector.reset();clearTimeout(this.notifyTimer);this.notifyTimer=null;};t.prototype.destroy=function(){'use strict';this.resetState();this._typingDetector.destroy();};t.prototype._stateChange=function(u,v){'use strict';if(v!=p.QUITTING){clearTimeout(this.notifyTimer);this.notifyTimer=r(s(this._notifyState,this,v),this.notifyDelay);}else this._notifyState(v,true);};t.prototype._notifyState=function(u,v){'use strict';if(!this.userID&&!this.threadID||!l.isOnline()||u===this.remoteState||k.disconnected())return;this._sendRequest(u,this.userID,v);};t.prototype._sendRequest=function(u,v,w){'use strict';this.remoteState=u;var x={typ:u,to:v,source:this.source,thread:this.threadID},y=new h().setHandler(this._onTypResponse.bind(this,v)).setErrorHandler(q).setData(x).setURI('/ajax/messaging/typ.php').setAllowCrossPageTransition(true).setOption('asynchronous_DEPRECATED',!w);if(n.msgrRegion)y.setRequestHeader('X-MSGR-Region',n.msgrRegion);y.send();};t.prototype._onTypResponse=function(u,v){'use strict';var w=v.getPayload()||{};if(w.offline)i.set(u,j.OFFLINE,'typing_response');};Object.assign(t.prototype,{notifyDelay:1000});f.exports=t;},null);
__d('CenteredContainer.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'CenteredContainer',propTypes:{fullHeight:k.bool,vertical:k.bool,horizontal:k.bool},getDefaultProps:function(){return {fullHeight:false,vertical:false,horizontal:true};},render:function(){var m=(this.props.vertical?"_3bwv":'')+(this.props.horizontal?' '+"_3bww":''),n=h.Children.map(this.props.children,function(p){return (h.createElement('div',{className:"_3bwx"},p));}),o=j(this.props.className,this.props.fullHeight?"_5bpf":'');return (h.createElement('div',babelHelpers['extends']({},this.props,{className:o}),h.createElement('div',{className:m},h.createElement('div',{className:"_3bwy"},n))));}});f.exports=l;},null);
__d('SplitImage.react',['React','Image.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.createClass({displayName:'SplitImage',render:function(){var m=this.props.size;return (h.createElement('div',babelHelpers['extends']({},this.props,{className:k(this.props.className,"_55lt"),style:babelHelpers['extends']({},this.props.style||{},{width:m,height:m})}),this.renderImages()));},renderImages:function(){if(!this.props.srcs)return null;var m=this.props.srcs,n=Array.isArray(m);if(n){m=m.filter(function(o){return o!==null;});if(!m.length)return null;}if(!n||m.length==1)return this.renderOne(n?m[0]:m);return m.length==2?this.renderTwo(m):this.renderThree(m);},renderOne:function(m){return (h.createElement(i,{src:m,width:this.props.size,height:this.props.size,alt:''}));},renderTwo:function(m){var n=this.props.size,o=Math.floor(n/2),p=-Math.floor(o/2),q="_55lu"+(this.props.border?' '+"_57xo":'');return (h.createElement('div',null,h.createElement('div',{className:"_55lu",style:{width:o}},h.createElement(i,{src:m[0],width:n,height:n,style:{marginLeft:p},alt:''})),h.createElement('div',{className:q,style:{width:o}},h.createElement(i,{src:m[1],width:n,height:n,style:{marginLeft:p},alt:''}))));},renderThree:function(m){var n=this.props.size,o=Math.floor(n/3*2),p=-Math.floor((n-o)/2),q=Math.floor(n/2),r=n-o,s=-Math.floor((q-r)/2),t="_55lu"+(this.props.border?' '+"_57pl":''),u="_55lu"+(this.props.border?' '+"_57pm":'');return (h.createElement('div',null,h.createElement('div',{className:t,style:{width:o}},h.createElement(i,{src:m[0],width:n,height:n,style:{marginLeft:p},alt:''})),h.createElement('div',{className:u,style:{width:r,height:q}},h.createElement(i,{src:m[1],width:q,height:q,style:{marginLeft:s},alt:''})),h.createElement('div',{className:"_55lu",style:{width:r,height:q}},h.createElement(i,{src:m[2],width:q,height:q,style:{marginLeft:s},alt:''}))));}});f.exports=l;},null);
__d('DeferredComponent.react',['React','createCancelableFunction'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes;j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;function m(n,o){'use strict';k.constructor.call(this,n,o);this.$DeferredComponent1=this.$DeferredComponent1.bind(this);this.state={ComponentClass:null,cancelableModulesLoaded:i(this.$DeferredComponent1)};}m.prototype.componentWillMount=function(){'use strict';this.props.deferredComponent(this.state.cancelableModulesLoaded);};m.prototype.componentWillUnmount=function(){'use strict';this.state.cancelableModulesLoaded.cancel();};m.prototype.render=function(){'use strict';var n=this.state.ComponentClass;if(!n||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var o=this.props,p=o.deferredPlaceholder,q=o.deferredComponent,r=o.onComponentLoad,s=o.deferredForcePlaceholder,t=babelHelpers.objectWithoutProperties(o,['deferredPlaceholder','deferredComponent','onComponentLoad','deferredForcePlaceholder']);return h.createElement(n,t);};m.prototype.$DeferredComponent1=function(n){'use strict';this.setState({ComponentClass:n},function(){this.props.onComponentLoad&&this.props.onComponentLoad(n);}.bind(this));};m.propTypes={deferredPlaceholder:l.element.isRequired,deferredComponent:l.func.isRequired,onComponentLoad:l.func,deferredForcePlaceholder:l.bool};f.exports=m;},null);
__d('JSResource',['Promise','Bootloader'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(l){'use strict';this.$JSResourceReference1=l;}j.prototype.getModuleId=function(){'use strict';return this.$JSResourceReference1;};j.prototype.load=function(){'use strict';return new h(function(l){i.loadModules.call(i,[this.$JSResourceReference1],l);}.bind(this));};j.prototype.equals=function(l){'use strict';return this===l||this.$JSResourceReference1==l.$JSResourceReference1;};var k=function(l){return new j(l);};k.Reference=j;f.exports=k;},null);
__d('BootloadedComponent.react',['Bootloader','DeferredComponent.react','JSResource','React'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes;l=babelHelpers.inherits(o,k.Component);m=l&&l.prototype;function o(p,q){'use strict';m.constructor.call(this,p,q);this.$BootloadedComponent1=this.$BootloadedComponent1.bind(this);}o.prototype.render=function(){'use strict';var p=this.props,q=p.bootloadLoader,r=p.bootloadPlaceholder,s=p.bootloadForcePlaceholder,t=babelHelpers.objectWithoutProperties(p,['bootloadLoader','bootloadPlaceholder','bootloadForcePlaceholder']);return (k.createElement(i,babelHelpers['extends']({deferredPlaceholder:r,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:s},t)));};o.prototype.$BootloadedComponent1=function(p){'use strict';h.loadModules.call(h,[this.props.bootloadLoader.getModuleId()],p);};f.exports=Object.assign(o,{propTypes:{bootloadPlaceholder:n.element.isRequired,bootloadLoader:n.instanceOf(j.Reference).isRequired,bootloadForcePlaceholder:n.bool},create:function(p){var q,r;q=babelHelpers.inherits(s,k.Component);r=q&&q.prototype;s.prototype.render=function(){'use strict';var t=this.props,u=t.bootloadLoader,v=babelHelpers.objectWithoutProperties(t,['bootloadLoader']);return (k.createElement(o,babelHelpers['extends']({bootloadLoader:p},v)));};function s(){'use strict';q.apply(this,arguments);}s.displayName='BootloadedComponent('+p.getModuleId()+')';return s;}});},null);
__d("EmoticonsList",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={emotes:{":)":"smile",":-)":"smile",":]":"smile","=)":"smile","(:":"smile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":poop:":"poop",":putnam:":"putnam",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=D":"grin",":-D":"grin",":D":"grin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","B-)":"glasses","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel",":*":"kiss",":-*":"kiss","<3":"heart","&lt;3":"heart","♥":"heart","^_^":"kiki","^~^":"kiki","-_-":"squint","o.O":"confused","O.o":"confused_rev",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",":v":"pacman",":V":"pacman",":|]":"robot",":3":"colonthree","<(\")":"penguin","(^^^)":"shark","(y)":"like",":like:":"like","(Y)":"like"},symbols:{smile:":)",frown:":(",poop:":poop:",putnam:":putnam:",tongue:":P",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",sunglasses:"B|",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",heart:"<3",kiki:"^_^",squint:"-_-",confused:"o.O",confused_rev:"O.o",upset:">:o",pacman:":v",robot:":|]",colonthree:":3",penguin:"<(\")",shark:"(^^^)",like:"(y)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:V|:\|\]|:3|<\(\"\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:V|:\|\]|:3|<\(\"\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/};},null);
__d('EmployeeLinkMatcher',['CurrentUser'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=new RegExp('^[\\s.,:]'),j=new RegExp('(?:[\\s.,:]|^)([DTP]\\d{4,})(?:[\\s.,:?]|$)','im'),k=function(n){if(!h.isEmployee())return null;var o=j.exec(n);if(o==null)return null;return {lnk:o[1],idx:o.index+(i.exec(o[0])?1:0)};},l=function(n){var o=h.isEmployee()&&j.exec(n)!=null;return o;},m={match:k,isMatch:l};f.exports=m;},null);
__d('EmployeeLinkRanges',['EmployeeLinkMatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={PHABRICATOR_PREFIX:'https://phabricator.fb.com/',TASKS_PREFIX:'https://our.intern.facebook.com/intern/tasks/?t=',get:function(j){var k=arguments.length<=1||arguments[1]===undefined?0:arguments[1],l=j.substr(k),m=h.match(l);if(!m)return [];var n=m.lnk;k+=m.idx;var o='';switch(n[0].toLowerCase()){case 'd':case 'p':o=this.PHABRICATOR_PREFIX+n.toUpperCase();break;case 't':o=this.TASKS_PREFIX+n.substr(1);break;default:return [];}var p=n.length,q=[{offset:k,length:p,entity:{url:o}}];return q.concat(this.get(j,k+p));}};f.exports=i;},null);
__d('P2PTriggersUtils',['P2PGKValues'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=/\$((\d{1,3}(,\d{3})*)|\d+)(\.\d{1,2})?(?=\s|\.\s|\,\s|$|\.$|\,$|\?|\!|\")/,j={canSeeTriggers:function(k){if(!h.P2PEnabled)return false;return true;},getMatches:function(k){return k.match(i);}};f.exports=j;},null);
__d("Utf16",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={decode:function(i){switch(i.length){case 1:return i.charCodeAt(0);case 2:return 65536|(i.charCodeAt(0)-55296)*1024|i.charCodeAt(1)-56320;}},encode:function(i){if(i<65536){return String.fromCharCode(i);}else return String.fromCharCode(55296+(i-65536>>10))+String.fromCharCode(56320+i%1024);}};f.exports=h;},null);
__d('SupportedEmoji',['cx','Utf16'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=new RegExp("([\u203C\u2049\u2100-\u21FF\u2300-\u27FF"+"\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|"+"\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?"),k={126980:"_4_o0",127378:"_4_o1",127385:"_4_o2",127386:"_4_o3",127489:"_4_o4",127490:"_4_o5",127514:"_4_o6",127535:"_4_o7",127539:"_4_o8",127541:"_4_o9",127542:"_4_oa",127543:"_4_ob",127544:"_4_oc",127545:"_4_od",127546:"_4_oe",127568:"_4_of",127744:"_2b_",127746:"_2c0",127747:"_4_og",127748:"_4_oh",127749:"_4_oi",127750:"_4_oj",127751:"_4_ok",127752:"_4_ol",127754:"_2c1",127769:"_2c2",127775:"_2c3",127793:"_2c4",127796:"_2c5",127797:"_2c6",127799:"_2c7",127800:"_2c8",127801:"_2c9",127802:"_2ca",127803:"_2cb",127806:"_2cc",127808:"_2cd",127809:"_2ce",127810:"_2cf",127811:"_2cg",127813:"_4_om",127814:"_4_on",127817:"_4_oo",127818:"_2ch",127822:"_2ci",127827:"_2cj",127828:"_2ck",127832:"_4_op",127833:"_4_oq",127834:"_4_or",127835:"_4_os",127836:"_4_ot",127837:"_4_ou",127838:"_4_ov",127839:"_4_ow",127841:"_4_ox",127842:"_4_oy",127843:"_4_oz",127846:"_4_o-",127847:"_4_o_",127856:"_4_p0",127857:"_4_p1",127858:"_4_p2",127859:"_4_p3",127860:"_4_p4",127861:"_4_p5",127862:"_4_p6",127864:"_2cl",127866:"_2cm",127867:"_4_p7",127872:"_4_p8",127873:"_2cn",127875:"_2co",127876:"_2cp",127877:"_2cq",127880:"_2cr",127881:"_2cs",127884:"_4_p9",127885:"_2ct",127886:"_2cu",127887:"_2cv",127888:"_2cw",127890:"_4_pa",127891:"_2cx",127905:"_4_pb",127906:"_4_pc",127908:"_4_pd",127909:"_4_pe",127910:"_4_pf",127911:"_4_pg",127912:"_4_ph",127913:"_4_pi",127915:"_4_pj",127916:"_4_pk",127917:"_4_pl",127919:"_4_pm",127921:"_4_pn",127925:"_2cy",127926:"_2cz",127927:"_4_po",127928:"_4_pp",127930:"_4_pq",127932:"_2c-",127934:"_4_pr",127935:"_4_ps",127936:"_4_pt",127937:"_4_pu",127942:"_4_pv",127944:"_4_pw",127968:"_4_px",127969:"_4_py",127970:"_4_pz",127971:"_4_p-",127973:"_4_p_",127974:"_4_q0",127975:"_4_q1",127976:"_4_q2",127977:"_4_q3",127978:"_4_q4",127979:"_4_q5",127980:"_4_q6",127981:"_4_q7",127983:"_4_q8",127984:"_4_q9",128013:"_2c_",128014:"_2d0",128017:"_2d1",128018:"_2d2",128020:"_2d3",128023:"_2d4",128024:"_2d5",128025:"_2d6",128026:"_2d7",128027:"_2d8",128031:"_2d9",128032:"_2da",128033:"_2db",128037:"_2dc",128038:"_2dd",128039:"_2de",128040:"_2df",128041:"_2dg",128043:"_2dh",128044:"_2di",128045:"_2dj",128046:"_2dk",128047:"_2dl",128048:"_2dm",128049:"_2dn",128051:"_2do",128052:"_2dp",128053:"_2dq",128054:"_491",128055:"_2dr",128056:"_2ds",128057:"_2dt",128058:"_2du",128059:"_2dv",128062:"_2dw",128064:"_2dx",128066:"_2dy",128067:"_2dz",128068:"_2d-",128069:"_2d_",128070:"_2e0",128071:"_2e1",128072:"_2e2",128073:"_2e3",128074:"_2e4",128075:"_2e5",128076:"_2e6",128077:"_2e7",128078:"_2e8",128079:"_2e9",128080:"_2ea",128081:"_4_qa",128082:"_4_qb",128084:"_4_qc",128085:"_4_qd",128087:"_4_qe",128088:"_4_qf",128089:"_4_qg",128092:"_4_qh",128095:"_4_qi",128096:"_4_qj",128097:"_4_qk",128098:"_4_ql",128102:"_2eb",128103:"_2ec",128104:"_2ed",128105:"_2ee",128107:"_2ef",128110:"_2eg",128111:"_2eh",128113:"_2ei",128114:"_2ej",128115:"_2ek",128116:"_2el",128117:"_2em",128118:"_2en",128119:"_2eo",128120:"_2ep",128123:"_2eq",128124:"_2er",128125:"_2es",128126:"_2et",128127:"_2eu",128128:"_2ev",128130:"_2ew",128131:"_2ex",128132:"_4_qm",128133:"_2ey",128136:"_4_qn",128137:"_4_qo",128138:"_4_qp",128139:"_2ez",128140:"_4_qq",128141:"_4_qr",128142:"_4_qs",128143:"_2e-",128144:"_2e_",128145:"_2f0",128146:"_4_qt",128147:"_2f1",128148:"_2f2",128150:"_2f3",128151:"_2f4",128152:"_2f5",128153:"_2f6",128154:"_2f7",128155:"_2f8",128156:"_2f9",128157:"_2fa",128158:"_4_qu",128159:"_4_qv",128160:"_4_qw",128161:"_4_qx",128162:"_2fb",128163:"_4_qy",128164:"_2fc",128166:"_2fd",128167:"_4_qz",128168:"_2fe",128169:"_2ff",128170:"_2fg",128176:"_4_q-",128178:"_4_q_",128180:"_4_r0",128181:"_4_r1",128186:"_4_r2",128187:"_2fh",128188:"_4_r3",128189:"_2fi",128190:"_2fj",128191:"_2fk",128192:"_2fl",128214:"_4_r4",128221:"_4_r5",128222:"_2fm",128224:"_2fn",128225:"_4_r6",128226:"_4_r7",128227:"_4_r8",128232:"_4_r9",128233:"_4_ra",128234:"_4_rb",128235:"_4_rc",128236:"_4_rd",128237:"_4_re",128238:"_4_rf",128241:"_2fo",128242:"_2fp",128243:"_4_rg",128244:"_4_rh",128246:"_4_ri",128247:"_4_rj",128250:"_2fq",128251:"_4_rk",128252:"_4_rl",128264:"_4_rm",128269:"_4_rn",128270:"_4_ro",128271:"_4_rp",128272:"_4_rq",128273:"_4_rr",128274:"_4_rs",128275:"_4_rt",128276:"_2fr",128286:"_4_ru",128293:"_492",128296:"_4_rv",128299:"_4_rw",128304:"_4_rx",128305:"_4_ry",128306:"_4_rz",128307:"_4_r-",128308:"_4_r_",128309:"_4_s0",128310:"_4_s1",128311:"_4_s2",128312:"_4_s3",128313:"_4_s4",128507:"_4_s5",128508:"_4_s6",128509:"_4_s7",128513:"_2fs",128514:"_2ft",128515:"_2fu",128516:"_2fv",128518:"_2fw",128521:"_2fx",128522:"_1q3y",128524:"_2fz",128525:"_2f-",128527:"_2f_",128530:"_2g0",128531:"_2g1",128532:"_2g2",128534:"_2g3",128536:"_2g4",128538:"_2g5",128540:"_2g6",128541:"_2g7",128542:"_2g8",128544:"_2g9",128545:"_2ga",128546:"_2gb",128547:"_2gc",128548:"_2gd",128549:"_2ge",128552:"_2gf",128553:"_2gg",128554:"_2gh",128555:"_2gi",128557:"_2gj",128560:"_2gk",128561:"_2gl",128562:"_2gm",128563:"_2gn",128565:"_2go",128567:"_2gp",128568:"_2gq",128569:"_2gr",128570:"_2gs",128571:"_2gt",128572:"_2gu",128573:"_2gv",128575:"_2gw",128576:"_2gx",128587:"_2gy",128588:"_2gz",128589:"_2g-",128591:"_2g_",128640:"_4_s8",128643:"_4_s9",128644:"_4_sa",128645:"_4_sb",128649:"_4_sc",128652:"_4_sd",128655:"_4_se",128657:"_4_sf",128658:"_4_sg",128659:"_4_sh",128661:"_4_si",128663:"_4_sj",128665:"_4_sk",128666:"_4_sl",128674:"_4_sm",128676:"_4_sn",128677:"_4_so",128679:"_4_sp",128684:"_4_sq",128685:"_4_sr",128690:"_4_ss",128697:"_4_st",128698:"_4_su",128699:"_4_sv",128700:"_4_sw",128701:"_4_sx",128702:"_4_sy",128704:"_4_sz",9642:"_4_s-",9643:"_4_s_",9723:"_4_t0",9724:"_4_t1",9725:"_4_t2",9726:"_4_t3",9742:"_4_t4",9757:"_2h0",9786:"_2h1",9855:"_4_t5",9888:"_4_t6",9889:"_2h2",9898:"_4_t7",9899:"_4_t8",9917:"_4_t9",9918:"_4_ta",9924:"_2h3",9940:"_4_tb",9962:"_4_tc",9970:"_4_td",9971:"_4_te",9973:"_4_tf",9978:"_4_tg",9981:"_4_th",9994:"_2h4",9995:"_2h5",9996:"_2h6",10060:"_4_ti",10062:"_4_tj",10145:"_4_tk",10175:"_4_tl",11013:"_4_tm",11014:"_4_tn",11015:"_4_to",11035:"_4_tp",11036:"_4_tq",11088:"_4_tr",11093:"_4_ts",12349:"_4_tt",8598:"_4_tu",8599:"_4_tv",8600:"_4_tw",8601:"_4_tx",9728:"_2h7",9729:"_2h8",9748:"_2h9",9749:"_2ha",9824:"_4_ty",9827:"_4_tz",9829:"_4_t-",9830:"_4_t_",9832:"_4_u0",9986:"_4_u1",9992:"_4_u2",9993:"_4_u3",10006:"_4_u4",10024:"_2hb",10035:"_4_u5",10036:"_4_u6",10067:"_4_u7",10068:"_4_u8",10069:"_4_u9",10071:"_4_ua",10084:"_2hc",10548:"_4_ub",10549:"_4_uc",12951:"_4_ud",12953:"_4_ue"},l=function(m){var n=0;while(m.length>0){var o=j.exec(m);if(!o||!o.length)return false;var p=o[1],q=o.index,r=i.decode(p),s=k[r];if(!s){n+=q+1;m=m.substr(q+1);continue;}o.index+=n;o.emoji=s;return o;}return false;};f.exports={findEmoji:l,emoji:k,_utf16Regex:j};},null);
__d('Newline.react',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.createClass({displayName:'Newline',render:function(){return h.createElement('br',this.props);}});f.exports=i;},null);
__d('Text.react',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.createClass({displayName:'Text',render:function(){return (h.createElement('span',this.props,this.props.children));}});f.exports=i;},null);
__d('UnicodeUtils',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=55296,j=56319,k=56320,l=57343,m=/[\uD800-\uDFFF]/;function n(w){return i<=w&&w<=l;}function o(w,x){!(0<=x&&x<w.length)?h(0):undefined;if(x+1===w.length)return false;var y=w.charCodeAt(x),z=w.charCodeAt(x+1);return (i<=y&&y<=j&&k<=z&&z<=l);}function p(w){return m.test(w);}function q(w,x){return 1+n(w.charCodeAt(x));}function r(w){if(!p(w))return w.length;var x=0;for(var y=0;y<w.length;y+=q(w,y))x++;return x;}function s(w,x,y){x=x||0;y=y===undefined?Infinity:y||0;if(!p(w))return w.substr(x,y);var z=w.length;if(z<=0||x>z||y<=0)return '';var aa=0;if(x>0){for(;x>0&&aa<z;x--)aa+=q(w,aa);if(aa>=z)return '';}else if(x<0){for(aa=z;x<0&&0<aa;x++)aa-=q(w,aa-1);if(aa<0)aa=0;}var ba=z;if(y<z)for(ba=aa;y>0&&ba<z;y--)ba+=q(w,ba);return w.substring(aa,ba);}function t(w,x,y){x=x||0;y=y===undefined?Infinity:y||0;if(x<0)x=0;if(y<0)y=0;var z=Math.abs(y-x);x=x<y?x:y;return s(w,x,z);}function u(w){var x=[];for(var y=0;y<w.length;y+=q(w,y))x.push(w.codePointAt(y));return x;}var v={getCodePoints:u,getUTF16Length:q,hasSurrogateUnit:p,isCodeUnitInSurrogateRange:n,isSurrogatePair:o,strlen:r,substring:t,substr:s};f.exports=v;},null);
__d('BaseTextWithEntities.react',['Newline.react','React','ReactFragment','Text.react','UnicodeUtils'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes;function n(r,s){return r.offset-s.offset;}var o=/(\r\n|[\r\n])/,p=m.shape({length:m.number.isRequired,offset:m.number.isRequired}),q=i.createClass({displayName:'BaseTextWithEntities',propTypes:{aggregatedRanges:m.array,imageRanges:m.array,ranges:m.arrayOf(p),rangeRenderer:m.func.isRequired,text:m.string.isRequired,textRenderer:m.func.isRequired},_getSortedRanges:function(){var r=[];[this.props.ranges,this.props.aggregatedRanges,this.props.imageRanges].filter(function(s){return s!=null;}).forEach(function(s){return r=r.concat(s);});return r.sort(n);},_renderText:function(r){var s=r.split(o),t={};for(var u=0;u<s.length;u++){var v=s[u];if(v){var w='text'+u;if(u%2===1){t[w]=i.createElement(h,null);}else t[w]=this.props.textRenderer(s[u]);}}return j.create(t);},render:function(){var r=0,s=this.props.text,t=this._getSortedRanges(),u={},v=t.length;for(var w=0,x=v;w<x;w++){var y=t[w];if(y.offset<r)continue;if(y.offset>r)u['text'+w]=this._renderText(l.substring(s,r,y.offset));var z=l.substr(s,y.offset,y.length);u['range'+w]=this.props.rangeRenderer(z,y);r=y.offset+y.length;}if(s.length>r)u.end=this._renderText(l.substr(s,r));return (i.createElement(k,{className:this.props.className,style:this.props.style},j.create(u)));}});f.exports=q;},null);
__d('TransformTextToDOMMixin',['flattenArray','isElementNode'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=3,k={transform:function(l,m){return h(l.map(function(n){if(!i(n)){var o=n,p=[],q=this.MAX_ITEMS||j;while(q--){var r=m?[o].concat(m):[o],s=this.match.apply(this,r);if(!s)break;p.push(o.substring(0,s.startIndex));p.push(s.element);o=o.substring(s.endIndex);}o&&p.push(o);return p;}return n;}.bind(this)));},params:function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];var o=this;return {__params:true,obj:o,params:m};}};f.exports=k;},null);
__d('DOMEmoji',['CSS','JSXDOM','TransformTextToDOMMixin','SupportedEmoji','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={MAX_ITEMS:40,match:function(n){var o=k.findEmoji(n);if(!o||!o.length)return false;var p=o[0],q=o.index,r=o.emoji;return {startIndex:q,endIndex:q+p.length,element:this._element(r)};},_element:function(n){var o=i.span(null);h.addClass(o,"_1az");h.addClass(o,"_1a-");h.addClass(o,n);return o;}};f.exports=Object.assign(m,j);},null);
__d('DOMEmote',['CSS','EmoticonsList','JSXDOM','TransformTextToDOMMixin','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={MAX_ITEMS:40,match:function(n){var o=i.regexp.exec(n);if(!o||!o.length)return false;var p=o[2],q=o.index+o[1].length;return {startIndex:q,endIndex:q+p.length,element:this._element(p,i.emotes[p])};},_element:function(n,o){var p=l._("{emoticonName} emoticon",[l.param('emoticonName',o)]),q=j.span({className:"emoticon_text"},p),r=j.span({title:n,className:"emoticon"});h.addClass(r,'emoticon_'+o);return [q,r];}};f.exports=Object.assign(m,k);},null);
__d('transformTextToDOM',['createArrayFromMixed'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=[j];k=h(k);k.forEach(function(m){var n,o=m;if(m.__params){n=m.params;o=m.obj;}l=o.transform(l,n);});return l;}f.exports=i;},null);
__d('emojiAndEmote',['DOMEmoji','DOMEmote','transformTextToDOM'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=function(l){var m=[h,i];return j(l,m);};f.exports=k;},null);
__d('Emoji',['DOMEmoji','JSXDOM','emojiAndEmote','transformTextToDOM'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={htmlEmojiAndEmote:function(m,n){return i.span(null,j(m)).innerHTML;},htmlEmojiAndEmoteWithoutFBID:function(m,n){return i.span(null,j(m,false)).innerHTML;},htmlEmoji:function(m){return i.span(null,k(m,h)).innerHTML;}};f.exports=l;},null);
__d('Emote',['DOMEmote','JSXDOM','transformTextToDOM'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={htmlEmoteWithoutFBID:function(l,m){return i.span(null,j(l,h)).innerHTML;},htmlEmote:function(l,m){return (i.span(null,j(l,[h])).innerHTML);}};f.exports=k;},null);
__d('TextWithEmoticons.react',['Emoji','Emote','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'ReactTextWithEmoticons',render:function(){if(!this.props.renderEmoticons&&!this.props.renderEmoji)return j.createElement('span',null,this.props.text);var l;if(this.props.renderEmoticons&&this.props.renderEmoji){l=h.htmlEmojiAndEmoteWithoutFBID(this.props.text);}else if(this.props.renderEmoticons){l=i.htmlEmoteWithoutFBID(this.props.text);}else l=h.htmlEmoji(this.props.text);if(l.indexOf('<')===-1)return j.createElement('span',null,this.props.text);return j.createElement('span',{dangerouslySetInnerHTML:{__html:l}});}});f.exports=k;},null);
__d('TextWithEntities.react',['Link.react','React','BaseTextWithEntities.react','TextWithEmoticons.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(n){return n.replace(/<3\b|&hearts;/g,'\u2665');}var m=i.createClass({displayName:'TextWithEntities',_renderText:function(n){if(this.props.renderEmoticons||this.props.renderEmoji){return (i.createElement(k,{text:n,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else return l(n);},_renderRange:function(n,o){if(this.props.interpolator){return this.props.interpolator(n,o);}else return (i.createElement(h,{href:o.entity},n));},render:function(){return (i.createElement(j,babelHelpers['extends']({},this.props,{textRenderer:this._renderText,rangeRenderer:this._renderRange,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:this.props.text})));}});f.exports=m;},null);
__d('URLMatcher',['URLMatcherConfig'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i='!"#%&\'()*,-./:;<>?@[\\]^_`{|}',j='\u2000-\u206F\u00ab\u00bb\uff08\uff09',k='(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])',l='(?:(?:ht|f)tps?)://',m='(?:(?:'+k+'[.]){3}'+k+')',n='\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]',o='(?:\\b)www\\d{0,3}[.]',p='[^\\s'+i+j+']',q='(?:(?:(?:[.:\\-_%@]|'+p+')*'+p+')|'+n+')',r='(?::\\d+){0,1}',s='(?=[/?#])',t=h.tlds,u='(?:'+'(?:'+l+q+r+')|'+'(?:'+m+r+')|'+'(?:'+n+r+')|'+'(?:'+o+q+t+r+')|'+'(?:'+q+t+r+s+')'+')',v='[/#?]',w='\\([^\\s()<>]+\\)',x='[^\\s()<>?#]+',y=new RegExp(u,'im'),z='^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]',aa=new RegExp(z,'im'),ba='(?:'+'(?:'+v+')'+'(?:'+'(?:'+w+'|'+x+')*'+')*'+')*',ca=new RegExp('('+'(?:'+u+')'+'(?:'+ba+')'+')','im'),da=new RegExp('('+'(?:'+l+q+r+')|'+'(?:'+o+q+t+r+')'+')'),ea=/[\s'";]/,fa=new RegExp(v,'im'),ga=new RegExp('[\\s!"#%&\'()*,./:;<>?@[\\]^`{|}\u00ab\u00bb\u2000-\u206F\uff08\uff09]','im'),ha=new RegExp('[\\s()<>?#]','im'),ia=new RegExp('\\s()<>'),ja=function(qa){if(qa&&qa.indexOf('@')!=-1){return da.exec(qa)?qa:null;}else return qa;},ka=function(qa){return la(qa,ca);},la=function(qa,ra){var sa=(ra.exec(qa)||[])[1]||null;return ja(sa);},ma=function(qa){return y.exec(qa);},na=function(qa){return !ea.test(qa.charAt(qa.length-1));},oa=function(qa){do{var ra=y.exec(qa);if(!ra)return null;var sa=false;if(ra[0][0]==='['&&ra.index>0&&qa[ra.index-1]==='@'){var ta=aa.exec(ra[0]);if(ta){sa=true;qa=qa.substr(ra.index+ta[0].length);}}}while(sa);var ua=qa.substr(ra.index+ra[0].length);if(ua.length===0||!fa.test(ua[0]))return ja(ra[0]);var va=0,wa=0,xa=1,ya=0,za=wa;for(var ab=1;ab<ua.length;ab++){var bb=ua[ab];if(za===wa){if(bb==='('){ya=ya+1;za=xa;}else if(fa.test(bb)||!ga.test(bb)){va=ab;}else if(ha.test(bb))break;}else if(bb==='('){ya=ya+1;}else if(bb===')'){ya=ya-1;if(ya===0){za=wa;va=ab;}}else if(ia.test(bb))break;}return ja(ra[0]+ua.substring(0,va+1));},pa={};pa.permissiveMatch=ka;pa.matchToPattern=la;pa.matchHost=ma;pa.trigger=na;pa.match=oa;f.exports=pa;},null);
__d('URLScraper',['ArbiterMixin','DataStore','Event','URLMatcher','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();var o='scraperLastPermissiveMatch';m=babelHelpers.inherits(p,l(h));n=m&&m.prototype;function p(q,r){'use strict';n.constructor.call(this);this.input=q;this.enable();this.getValueFn=r;}p.prototype.reset=function(){'use strict';i.set(this.input,o,null);};p.prototype.enable=function(){'use strict';if(this.events)return;var q=function(r){setTimeout(this.check.bind(this,r),30);};this.events=j.listen(this.input,{paste:q.bind(this,false),keydown:q.bind(this,true)});};p.prototype.disable=function(){'use strict';if(!this.events)return;for(var event in this.events)this.events[event].remove();this.events=null;};p.prototype.check=function(q){'use strict';var r=this.getValueFn?this.getValueFn():this.input.value;if(q&&p.trigger(r))return;var s=p.match(r),t=k.permissiveMatch(r);if(t&&t!=i.get(this.input,o)){i.set(this.input,o,t);this.inform('match',{url:s||t,alt_url:t});}};Object.assign(p,k);f.exports=p;},null);
__d('getURLRanges',['URI','URLScraper'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=k.substr(l),n=i.match(m);if(!n)return [];var o=n;if(!/^[a-z][a-z0-9\-+.]+:\/\//i.test(n))o='http://'+n;if(!h.isValidURI(o))return [];l+=m.indexOf(n);var p=n.length,q=[{offset:l,length:n.length,entity:{url:o}}];return q.concat(j(k,l+p));}f.exports=j;},null);
__d('MercuryMessageBody.react',['BootloadedComponent.react','EmoticonsList','EmployeeLinkMatcher','JSResource','Link.react','P2PTriggersUtils','ReactComponentWithPureRenderMixin','React','SupportedEmoji','TextWithEntities.react','URI','URLMatcher','cancelAnimationFrame','cx','EmployeeLinkRanges','fbt','getURLRanges','isFacebookURI','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa=o.PropTypes,ba=o.createClass({displayName:'MercuryMessageBody',mixins:[n],propTypes:{body:aa.string,ranges:aa.array,threadID:aa.string,customLike:aa.object},getInitialState:function(){return {richText:false};},_shouldRenderP2PTriggers:false,componentDidMount:function(){this._raf=z(this.setIsRichText);},targetBlankLinkInterpolator:function(ca,da){if(da.entity&&da.entity.url){var ea=new r(da.entity.url);if(y(ea)&&!ea.getFragment())da.entity.url=ea.addQueryData({__mref:'message_bubble'}).toString();da.entity.url=/.*[^#]/.exec(da.entity.url)[0];}return (o.createElement(l,{href:da.entity.url,shimhash:da.entity.shimhash,s:da.entity.s,target:'_blank'},ca));},setIsRichText:function(){delete this._raf;var ca=this.props,da=ca.body,ea=ca.ranges;da=da||'';this._shouldRenderP2PTriggers=!!(this.props.threadID&&m.canSeeTriggers(this.props.threadID)&&m.getMatches(da));if(ea&&ea.length||i.noncapturingRegexp.test(da)||p.findEmoji(da)||s.match(da)||j.isMatch(da)||this._shouldRenderP2PTriggers)this.setState({richText:true});},componentWillUnmount:function(){this._raf&&t(this._raf);},render:function(){var ca=this.props.body||'';if(ca.startsWith('?OTR'))return (o.createElement('span',{className:"_89h"},w._("[encrypted message]")));ca=ca.replace(/\s+$/,'');if(ca.length===0)return null;if(!this.state.richText)return o.createElement('span',{className:this.props.className},ca);var da=this.props.ranges;if(da==undefined)da=x(ca);if(da==undefined){da=v.get(ca);}else{da=da.concat(v.get(ca));da=da.filter(function(ga){return ga!=undefined;});}var ea={className:this.props.className,interpolator:this.targetBlankLinkInterpolator,text:ca,ranges:da,renderEmoticons:true,renderEmoji:true},fa=o.createElement(q,ea);if(this._shouldRenderP2PTriggers){return (o.createElement(h,babelHelpers['extends']({bootloadPlaceholder:fa,bootloadLoader:k('TextWithEntitiesAndP2P.react')},ea,{threadID:this.props.threadID})));}else return fa;}});f.exports=ba;},null);
__d('MercuryAudioPlayer',['Arbiter','DOM','Event','Flash'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=200;function m(){var v=i.create('audio'),w=false;try{if(!!v.canPlayType)if(v.canPlayType('video/mp4;').replace(/^no$/,''))w=true;}finally{return w;}}function n(){return k.isAvailable();}var o=function(){this.interval=null;this.arbiterInstance=null;this.audio=i.create('audio');j.listen(this.audio,'playing',function(){this.informAttachment('playing',this.audio.currentTime);this.interval=setInterval(function(){this.informAttachment('playing',this.audio.currentTime);}.bind(this),l);}.bind(this));j.listen(this.audio,'ended',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(o.prototype,{setAudio:function(v,w){this.audio.setAttribute('src',v);this.arbiterInstance=w;},informAttachment:function(v,w){if(this.arbiterInstance)this.arbiterInstance.inform(v,w);},play:function(){this.audio.play();this.informAttachment('played');},resume:function(){this.audio.play();this.informAttachment('played');},pause:function(){this.audio.pause();clearInterval(this.interval);this.informAttachment('paused');},getType:function(){return 'html5';}});var p=function(){this.src=null;this.arbiterInstance=null;var v=i.create('div');document.body.appendChild(v);this.swf=k.embed('/swf/cigars/SoundStreamPlayer.swf',v,null,{});this.interval=null;h.subscribe('soundstream/finished',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(p.prototype,{setAudio:function(v,w){this.src=v;this.arbiterInstance=w;},informAttachment:function(v,w){if(this.arbiterInstance)this.arbiterInstance.inform(v,w);},play:function(){this.swf.playSound(this.src);this.interval=setInterval(function(){var v=this.swf.getCurrentTime();this.informAttachment('playing',v);}.bind(this),l);this.informAttachment('played');},resume:function(){this.swf.resume();this.informAttachment('played');},pause:function(){clearInterval(this.interval);this.swf.pause();this.informAttachment('paused');},getType:function(){return 'flash';}});function q(){if(m()){return new o();}else if(n())return new p();return false;}var r=null,s=null,t=0;function u(v,w){this.src=v;this.arbiterInstance=w;this.audio_id=++t;r!==null||(r=q());if(!r)return false;}Object.assign(u.prototype,{getType:function(){if(!r){return false;}else return r.getType();},play:function(v){if(v&&s==this.audio_id){r.resume();}else{this.pause();s=this.audio_id;r.setAudio(this.src,this.arbiterInstance);r.play();}},pause:function(){r.pause();}});f.exports=u;},null);
__d('MercuryShareAttachmentRenderLocations',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={CHAT:'chat',CHAT_PREVIEW:'chat_preview',MESSENGER:'messenger',WEB_INBOX:'web_inbox',getValues:function(){return [h.CHAT,h.CHAT_PREVIEW,h.MESSENGER,h.WEB_INBOX];},isPreview:function(i){return i===h.CHAT_PREVIEW;}};f.exports=h;},null);
__d('MercuryAttachmentAudioClip.react',['Arbiter','ArbiterMixin','MercuryAudioPlayer','CurrentUser','JSLogger','LeftRight.react','MercuryShareAttachmentRenderLocations','React','SubscriptionsHandler','cx','fbt','joinClasses','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=o.PropTypes,v='MercuryAttachmentAudioClip/play',w=l.create('mercury_audio_clip'),x=o.createClass({displayName:'AudioClip',mixins:[i],propTypes:{duration:u.number,location:u.oneOf(n.getValues()),rootClassName:u.string,showHelp:u.bool,src:u.string.isRequired,width:u.number},getInitialState:function(){this.logged=false;return {time:0,playing:false,started:false,duration:this.props.duration,audioPlayer:new j(this.props.src,this)};},componentDidMount:function(){this._subscriptionsHandler=new p();this._subscriptionsHandler.addSubscriptions(this.subscribe('playing',this.updateTime),this.subscribe('played',t(this.setState,this,{playing:true,started:true})),this.subscribe('paused',t(this.setState,this,{playing:false})),this.subscribe('finished',t(this.setState,this,{playing:false,started:false,time:this.props.duration})),h.subscribe(v,function(y,z){if(this.props.src!=z)this.setState({time:0});}.bind(this)));},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release();},updateTime:function(y,z){this.setState({time:z});},play:function(){if(this.state.playing){this.state.audioPlayer.pause();}else{this.state.audioPlayer.play(this.state.started);h.inform(v,this.props.src);if(!this.logged){this.logged=true;w.log('play',{uid:k.getID(),duration:this.props.duration});}}},_formatSeconds:function(y){if(y){y=Math.round(y);var z=y%60;if(z<10)z='0'+z;var aa=Math.floor(y/60);return aa+':'+z;}else return null;},_renderPlayer:function(y,z){return (o.createElement('a',{className:"_1miz _2e-1 _3_om",href:'#',style:{width:y},onClick:this.play},o.createElement('span',{className:"_1mi- _2e-2"},o.createElement('i',{className:"_1mi_ _2e-3"})),o.createElement('span',{className:"_1mj0 _2e-4 _3oh-"},z),o.createElement('div',{className:"_1mj1 _2e-5"})));},render:function(){var y=this.state.time,z=this.state.playing,aa=this._formatSeconds(this.state.duration),ba=this.props.location===n.MESSENGER,ca=this.props.width||170;if(ba){var da=this.props.duration;if(da>10){ca=240;}else if(da>5){ca=200;}else if(da>2){ca=160;}else ca=120;}var ea=null,fa=Math.ceil(y*(ca+2)/this.state.duration);if(ba)fa=Math.ceil(y*(ca+24)/this.state.duration);if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var ga=this._renderPlayer(ca,aa),ha=this._renderPlayer(ca,aa),ia="_1mj2"+(' '+"_2e-6")+(z&&y!==0?' '+"_1mj3":'')+(z&&y===0?' '+"_4g4x":'');ea=o.createElement('div',{className:ia},ga,o.createElement('div',{className:"_1mj4 _2e-7",style:{width:fa}},ha));}else ea=o.createElement('div',{className:"_1mj2"},o.createElement('div',{className:"_1miz"},o.createElement(m,null,o.createElement('a',{className:"_1mj5",href:this.props.src},o.createElement('span',{className:"_3qi6"},o.createElement('i',{className:"_1mj6"})),o.createElement('span',{className:"_1mj7"},r._("Voice Message")),o.createElement('span',{className:"_1mj8"},aa)),o.createElement('a',{href:this.props.src,className:"_1mj9"},o.createElement('i',{className:"_1mja"})))));return (o.createElement('div',{className:s("_1mjb"+(ba?' '+"_454y":''),this.props.rootClassName)},ea));}});f.exports=x;},null);
__d('HelpLink.react',['React','joinClasses','TooltipLink.react'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'HelpLink',render:function(){return (h.createElement(j,babelHelpers['extends']({},this.props,{className:i(this.props.className,"uiHelpLink mls")}),undefined));}});f.exports=k;},null);
__d('UFICreatorInfo.react',['HelpLink.react','Image.react','React','URI','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'UFICreatorInfo',propTypes:{creatorID:n.string.isRequired,creatorType:n.string.isRequired,creatorName:n.string.isRequired,labelType:n.string.isRequired,pageID:n.string.isRequired,profileURI:n.string},render:function(){var p,q=this.getCreatorLink();switch(this.props.labelType){case 'commented':p=m._("Commented on by {creator}",[m.param('creator',q)]);break;case 'edited_comment':p=m._("Edited by {creator}",[m.param('creator',q)]);break;case 'sent_message':p=m._("Sent by {creator}",[m.param('creator',q)]);break;case 'page_admin_note':p=m._("Noted by {creator}",[m.param('creator',q)]);break;default:return;}return (j.createElement('span',null,p,j.createElement(h,{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (j.createElement('a',{className:'uiLinkSubtle','data-hover':'tooltip','data-tooltip-content':this.getTooltipText()},this.props.creatorName));case 'business_admin':return (j.createElement('a',{className:'uiLinkSubtle',href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (j.createElement('span',{className:'uiLinkSubtle'},j.createElement(i,{src:'/images/privacy/cant-see.png',width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (j.createElement('span',{className:'uiLinkSubtle'},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return j.createElement('span',null,this.props.creatorName);var p=new k('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (j.createElement('a',{className:'uiLinkSubtle','data-hovercard':p,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return m._("This was commented on by someone using {application}.",[m.param('application',this.props.creatorName)]);case 'edited_comment':return m._("This was edited by someone using {application}.",[m.param('application',this.props.creatorName)]);case 'sent_message':return m._("This was sent by someone using {application}.",[m.param('application',this.props.creatorName)]);case 'page_admin_note':return m._("This was noted by someone using {application}.",[m.param('application',this.props.creatorName)]);}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return m._("This was commented on by someone from {page}.",[m.param('page',this.props.creatorName)]);case 'edited_comment':return m._("This was edited by someone from {page}.",[m.param('page',this.props.creatorName)]);case 'sent_message':return m._("This was sent by someone from {page}.",[m.param('page',this.props.creatorName)]);case 'page_admin_note':return m._("This was noted by someone from {page}.",[m.param('page',this.props.creatorName)]);}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return m._("This was commented on by someone who doesn't have a personal Facebook account.");case 'edited_comment':return m._("This was edited by someone who doesn't have a personal Facebook account.");case 'sent_message':return m._("This was sent by someone who doesn't have a personal Facebook account.");case 'page_admin_note':return m._("This was noted by someone who doesn't have a personal Facebook account.");}},getHelpText:function(){switch(this.props.labelType){case 'commented':return m._("Only people who manage this Page can see who posted a comment");case 'edited_comment':return m._("Only people who manage this Page can see who edited a comment");case 'sent_message':return m._("Only people who manage this Page can see who sent a message");case 'page_admin_note':return m._("Only people who manage this Page can see who created a note");}}});f.exports=o;},null);
__d('PagesMessengerCreatorInfo.react',['React','UFICreatorInfo.react','XUIGrayText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;o.prototype.render=function(){return (h.createElement(j,{className:"_ajk"+(this.props.isNote?' '+"_45l2":''),display:'inline',shade:'light',size:'small'},h.createElement(i,{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI})));};function o(){l.apply(this,arguments);}o.propTypes={creator_info:n.shape({creatorID:n.string.isRequired,creatorName:n.string.isRequired,creatorType:n.string.isRequired,labelType:n.string.isRequired,pageID:n.string.isRequired,profileURI:n.string}).isRequired};f.exports=o;},null);
__d('PagesMessengerThreadUtils',['MessagingTag','PageMessageEnumTag','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='CUSTOM_TAG_',l={isFlagThread:function(m){if(m&&m.page_thread_info&&'flagged' in m.page_thread_info)return m.page_thread_info.flagged;return false;},isPageSpecficEnumFilter:function(m){if(m===i.FLAG)return true;return false;},isCustomTagsFilter:function(m){return m.startsWith(k);},getCustomTagsFilter:function(m){return k+JSON.stringify(m.sort());},parseCustomTagsFilter:function(m){if(!this.isCustomTagsFilter(m))j(0);return JSON.parse(m.substring(k.length));},getBatchActionMenuParam:function(m){var n=false,o=false,p=false,q=false,r=false,s=false,t=false,u=false,v=false;if(m.folder===h.INBOX&&!m.is_archived){n=true;q=true;if(l.isFlagThread(m)){t=true;}else s=true;if(m&&m.unread_count===0){v=true;}else u=true;}else if(m.folder===h.SPAM){r=true;}else if(m.is_archived){o=true;p=true;}if(m&&m.unread_count===0){v=true;}else u=true;return {showArchive:n,showDelete:o,showUnarchive:p,showSpam:q,showUnspam:r,showFlag:s,showUnflag:t,showMarkRead:u,showMarkUnread:v,showHideContextCard:false,showShowContextCard:false};}};f.exports=l;},null);
__d('PhotoResizeMath',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getScaledPhotoDimensions:function(i,j,k,l,m){var n=i/j,o=k/l;if(k&&l&&m==='stretch')return {width:k,height:l};if(!k&&l||m==='contain'!==n>=o)return {width:l*n,height:l};if(k)return {width:k,height:k/n};return {width:i,height:j};}};f.exports=h;},null);
__d('PixelzFocus',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={search:function(i,j){var k=0,l=i.length-1;while(k<=l){var m=k+Math.floor((l-k)/2),n=i[m];if(n>j){l=m-1;}else if(n<j){k=m+1;}else return m;}return Math.min(k,l);},forceSpecificPoint:function(i,j,k){var l=1e-09,m=h.search(i,j-k-l)+1,n=h.search(i,j+k);return i.slice(m,n+1);},findBiggestSets:function(i,j){var k=[],l=-1;for(var m=0;m<i.length;++m){var n=i[m],o=m,p=h.search(i,n+j),q=p-o;if(q>l)k=[];if(q>=l){l=q;k.push({low:o,high:p});}}return k;},getBestSet:function(i,j,k){var l=-1,m=null;for(var n=0;n<j.length;++n){var o=j[n],p=i[o.low],q=i[o.high],r=p+(q-p)/2,s=Math.min(p-(r-k),r+k-q);if(s>l){l=s;m=o;}}return m;},getFocusFromSet:function(i,j){var k=i[j.low],l=i[j.high];return k+(l-k)/2;},clampFocus:function(i,j){var k=j/2,l=1-j/2;if(i<k)return k;if(i>l)return l;return i;},convertFromCenterToCSS:function(i,j){if(Math.abs(1-j)<1e-05)return 0;return (i-j/2)/(1-j);},convertFromCSSToCenter:function(i,j){return i*(1-j)+j/2;},getVisible:function(i,j){if(i<j)return i/j;return j/i;},getHidden:function(i,j){return 1-h.getVisible(i,j);},focusHorizontally:function(i,j){return i<j;},convertVectorFromCenterToCSS:function(i,j,k){var l=h.focusHorizontally(j,k),m;if(l){m=i.x/100;}else m=i.x/100;var n=h.convertFromCenterToCSS(m,h.getVisible(j,k));if(l){return {x:n,y:0};}else return {x:0,y:n};},getCropRect:function(i,j,k){var l=h.focusHorizontally(j,k),m=h.getVisible(j,k);if(l){var n=(1-m)*i.x;return {left:n,top:0,width:m,height:1};}else{var o=(1-m)*i.y;return {left:0,top:o,width:1,height:m};}}};f.exports=h;},null);
__d('loadImage',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=new Image();k.onload=function(){j(k.width,k.height,k);};k.src=i;}f.exports=h;},null);
__d('Pixelz.react',['arrayContains','cx','loadImage','joinClasses','React','PhotoResizeMath','PixelzFocus'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'Pixelz',propTypes:{width:o.number,height:o.number,resizeMode:o.oneOf(['contain','cover','stretch']),alt:o.string,letterbox:o.bool,borderRadius:o.number,insetBorderColor:o.string,animated:o.bool,upscale:o.bool,cropRect:function(q,r,s){var t=q[r],u='Invalid prop `'+r+'` supplied to `'+s+'`, expected a rectangle with values normalized '+'between 0 and 1.';if(t.left<0||t.top<0||t.width<0||t.height<0||t.left+t.width>1||t.top+t.height>1)return new Error(u);},focus:function(q,r,s){var t=q[r],u='Invalid prop `'+r+'` supplied to `'+s+'`, expected either a {x, y, type} vector where type '+'is `css` or `center` or an array of {x, y} vectors. All the vectors '+'have with values normalized between 0 and 1.';if(Array.isArray(t)){for(var v=0;v<t.length;++v)if(!(t[v].x>=0&&t[v].x<=1)||!(t[v].y>=0&&t[v].y<=1))return new Error(u);}else{if(!t.type)t.type='css';if(!(t.x>=0&&t.x<=1)||!(t.y>=0&&t.y<=1)||!h(['center','css'],t.type))return new Error(u);}}},getDefaultProps:function(){return {resizeMode:'cover',alt:'',letterbox:true,upscale:true,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:'css'}};},getInitialState:function(){return {srcDimensions:{}};},getSrcDimensions:function(){var q=this.props.src,r=this.state.srcDimensions[q];if(r)return r;j(q,function(s,t){var u={};u[q]={width:s,height:t};this.isMounted()&&this.setState({srcDimensions:u});}.bind(this));return null;},getCropSrcDimensions:function(){var q=this.getSrcDimensions();return {width:q.width*this.props.cropRect.width,height:q.height*this.props.cropRect.height};},getUpscaleCropDimensions:function(){var q=this.getCropSrcDimensions();return m.getScaledPhotoDimensions(q.width,q.height,this.props.width,this.props.height,this.props.resizeMode);},getCropDimensions:function(){var q=this.getUpscaleCropDimensions(),r=this.getCropSrcDimensions();if(!this.props.upscale)return {width:Math.min(q.width,r.width),height:Math.min(q.height,r.height)};return q;},getCropAspectRatio:function(){var q=this.getCropDimensions();return q.width/q.height;},getContainerDimensions:function(){if(this.props.letterbox&&this.props.width&&this.props.height)return {width:this.props.width,height:this.props.height};return this.getCropDimensions();},getContainerAspectRatio:function(){var q=this.getContainerDimensions();return q.width/q.height;},getContainerPosition:function(){return {left:0,top:0};},getFocus:function(){var q=this.props.focus;if(!Array.isArray(q)&&q.type==='css')return {x:q.x,y:q.y};var r=this.getContainerAspectRatio(),s=this.getCropAspectRatio(),t=n.getVisible(r,s),u=n.focusHorizontally(r,s),v;if(!Array.isArray(q)){v=n.convertFromCenterToCSS(u?q.x:q.y,t);}else{var w=q.map(function(z){return u?z.x:z.y;});w.sort();var x=n.findBiggestSets(w,t),y=n.getBestSet(w,x,t);v=n.getFocusFromSet(w,y);}return {x:u?v:.5,y:u?.5:v};},getCropPosition:function(){var q=this.getCropDimensions(),r=this.getContainerDimensions(),s=this.getFocus();return {left:s.x*(r.width-q.width),top:s.y*(r.height-q.height)};},getScaleDimensions:function(){var q=this.getCropDimensions();return {width:q.width/this.props.cropRect.width,height:q.height/this.props.cropRect.height};},getScalePosition:function(){var q=this.getScaleDimensions();return {left:-q.width*this.props.cropRect.left,top:-q.height*this.props.cropRect.top};},getClipCropRectangle:function(){var q=this.getContainerDimensions(),r=this.getCropDimensions(),s=this.getContainerPosition(),t=this.getCropPosition(),u=Math.max(s.left,t.left),v=Math.max(s.top,t.top),w=Math.min(s.top+q.height,t.top+r.height),x=Math.min(s.left+q.width,t.left+r.width);return {left:u,top:v,width:x-u,height:w-v};},getClipCropPosition:function(){var q=this.getClipCropRectangle();return {left:q.left,top:q.top};},getClipCropDimensions:function(){var q=this.getClipCropRectangle();return {width:q.width,height:q.height};},getClipScalePosition:function(){var q=this.getScalePosition(),r=this.getClipCropPosition(),s=this.getCropPosition();return {left:q.left+(s.left-r.left),top:q.top+(s.top-r.top)};},getClipScaleDimensions:function(){return this.getScaleDimensions();},areDimensionsEqual:function(q,r){return q.width===r.width&&q.height===r.height;},shouldAddAllNodesAndStyles:function(){return this.props.animated;},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return true;var q=this.getContainerDimensions(),r=this.getClipCropDimensions(),s=this.getClipScaleDimensions();if(this.areDimensionsEqual(q,r)||this.areDimensionsEqual(r,s))return false;return true;},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return true;var q=this.getContainerDimensions(),r=this.getClipScaleDimensions();if(this.areDimensionsEqual(q,r))return false;return true;},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor;},applyPositionStyle:function(q,r){if(this.shouldAddAllNodesAndStyles()||r.left)q.left=Math.round(r.left);if(this.shouldAddAllNodesAndStyles()||r.top)q.top=Math.round(r.top);},applyDimensionsStyle:function(q,r){q.width=Math.round(r.width);q.height=Math.round(r.height);},applyBorderRadiusStyle:function(q){if(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)q.borderRadius=this.props.borderRadius||0;},getScaleStyle:function(){var q={},r=this.getClipCropDimensions(),s=this.getClipScaleDimensions();if(this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(r,s)){this.applyPositionStyle(q,this.getClipScalePosition());}else this.applyPositionStyle(q,this.getClipCropPosition());this.applyDimensionsStyle(q,this.getClipScaleDimensions());this.applyBorderRadiusStyle(q);return q;},getCropStyle:function(){var q={};this.applyPositionStyle(q,this.getClipCropPosition());this.applyDimensionsStyle(q,this.getClipCropDimensions());this.applyBorderRadiusStyle(q);return q;},getInsetBorderStyle:function(){var q={borderColor:this.props.insetBorderColor||'transparent'};this.applyPositionStyle(q,this.getClipCropPosition());this.applyDimensionsStyle(q,this.getClipCropDimensions());this.applyBorderRadiusStyle(q);return q;},getContainerStyle:function(){var q={};this.applyDimensionsStyle(q,this.getContainerDimensions());this.applyBorderRadiusStyle(q);return q;},getScale:function(){var q=this.getScaleStyle(),r=q.width,s=q.height;q=babelHelpers['extends']({},q);delete q.width;delete q.height;return (l.createElement('img',babelHelpers['extends']({},this.props,{alt:this.props.alt,className:k(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),src:this.props.src,style:babelHelpers['extends']({},this.props.style||{},q),width:r,height:s})));},getCrop:function(){var q=this.getScale();if(!this.hasCrop())return q;return (l.createElement('div',{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getCropStyle()},q));},getInsetBorder:function(){if(!this.hasInsetBorder())return null;return (l.createElement('div',{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getInsetBorderStyle()}));},getContainer:function(){var q=this.getCrop();if(!this.hasContainer())return q;var r=this.getInsetBorder();return (l.createElement('div',{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),'data-skipchecker':null,style:this.getContainerStyle()},q,r));},render:function(){var q=this.getSrcDimensions();if(!q)return l.createElement('span',{'data-skipchecker':null});return this.getContainer();}});f.exports=p;},null);
__d('CloseButton.react',['React','Image.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.createClass({displayName:'CloseButton',render:function(){var n=this.props,o=n.size||'medium',p=n.appearance||'normal',q=o==='small',r=o==='huge',s=p==='dark',t=p==='inverted',u=n.ajaxify||null,v=n.rel||null,w="uiCloseButton"+(q?' '+"uiCloseButtonSmall":'')+(r?' '+"uiCloseButtonHuge":'')+(q&&s?' '+"uiCloseButtonSmallDark":'')+(q&&t?' '+"uiCloseButtonSmallInverted":'')+(!q&&s?' '+"uiCloseButtonDark":'')+(!q&&t?' '+"uiCloseButtonInverted":''),x=k._("Close");return (h.createElement('a',babelHelpers['extends']({},this.props,{ajaxify:u,href:'#',role:'button','aria-label':n.ariaLabel||x,'data-hover':n.tooltip&&'tooltip','data-skipchecker':null,'data-tooltip-alignh':n.tooltip&&'center','data-tooltip-content':n.tooltip,className:l(this.props.className,w),rel:v}),h.createElement(i,{className:'uiCloseButtonHighContrast',src:'/images/chat/tab/close.png'})));}});f.exports=m;},null);
__d('InputLabel.react',['React','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=0;function n(){return 'js_input_label_'+m++;}var o=h.createClass({displayName:'InputLabel',propTypes:{display:l.oneOf(['block','inline'])},getDefaultProps:function(){return {display:'block'};},render:function(){!(this.props.children.length===2)?j(0):undefined;var p=this.props.children[0],q=this.props.children[1],r=p.type==='input';p=h.cloneElement(p,{className:k(p.props.className,"uiInputLabelInput"+(r&&p.props.type==='radio'?' '+"uiInputLabelRadio":'')+(r&&p.props.type==='checkbox'?' '+"uiInputLabelCheckbox":'')),id:p.props.id||n()});q=h.cloneElement(q,{className:k(q.props.className,'uiInputLabelLabel'),htmlFor:p.props.id});var s="uiInputLabel"+(' '+"clearfix")+(this.props.display==='inline'?' '+"inlineBlock":'')+(r?' '+"uiInputLabelLegacy":'');return (h.createElement('div',babelHelpers['extends']({},this.props,{className:k(this.props.className,s)}),p,q));}});f.exports=o;},null);
__d('ContextualLayer.react',['ContextualLayer','React','ReactDOM','ReactLayer','Style'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=k.createClass({propTypes:{contextRef:m.func,context:function(o,p,q){if(o.context==null==(o.contextRef==null))return new Error('Exactly one of `context` or `contextRef` must be set on `'+(q+'`.'));var r=o[p];if(r!=null){if(typeof r!=='object')return new Error('Invalid `'+p+'` supplied to `'+q+'`, '+'expected a React component.');if(i.isValidElement(r))return new Error('Invalid `'+p+'` supplied to `'+q+'`, '+'expected a React component instance. You\'re passing a React '+'descriptor.');}}},immutableProps:{modal:null},createLayer:function(o){var p=this._getContextNode(),q={context:p,contextBounds:this.props.contextBounds,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties},r=new h(q,o);this._node=o;this._matchContextSize(this.props);if(this.props.contextBounds)r.setContextWithBounds(p,this.props.contextBounds);r.conditionShow(this.props.shown);return r;},receiveProps:function(o,p){this.updateBehaviors(p.behaviors,o.behaviors);var q=this._getContextNode();if(o.contextBounds){this.layer.setContextWithBounds(q,o.contextBounds);}else this.layer.setContext(q);this._matchContextSize(o);this.layer.setPosition(o.position);this.layer.setAlignment(o.alignment);this.layer.setOffsetX(o.offsetX);this.layer.setOffsetY(o.offsetY);this.layer.conditionShow(o.shown);},getDefaultEnabledBehaviors:function(){return h.getDefaultBehaviorsAsObject();},_getContextNode:function(){var o;if(this.props.context){o=j.findDOMNode(this.props.context);}else if(this.props.contextRef)o=j.findDOMNode(this.props.contextRef());return o;},_matchContextSize:function(o){var p=this._node,q=this._getContextNode();if(o.containerWidthMatchContext)l.set(p,'width',q.offsetWidth+'px');if(o.containerHeightMatchContext)l.set(p,'height',q.offsetHeight+'px');}});f.exports=n;},null);
__d('MenuSeparator',['DOM','CSS','MenuItemInterface','cx'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();l=babelHelpers.inherits(n,j);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,o);this._data=o;this.showFn=this._data.should_show_fn;}n.prototype.updateShownState=function(o){'use strict';if(this.showFn){this._isHidden=!this.showFn(o);if(this._root)i.conditionShow(this._root,!this._isHidden);}};n.prototype.isShown=function(o){'use strict';var p=this.showFn?this.showFn(o):true;return p;};n.prototype.render=function(){'use strict';var o="_54ak";if(this._data.className)o+=' '+this._data.className;var p=this._data.label||'',q=h.create('li',{className:o,role:'separator'},p);if(this._isHidden)i.hide(q);return q;};f.exports=n;},null);
__d('MenuSeparator.react',['MenuSeparator'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){k.isReactLegacyFactory={};k.type=k;}var j=h;i(j);f.exports=j;},null);
__d('Scrollable',['Event','Parent','Scroll','UserAgent_DEPRECATED'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=function(event){var o=i.byClass(event.getTarget(),'scrollable');if(!o)return;if(typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS||event.wheelDeltaX&&!event.wheelDeltaY||event.deltaX&&!event.deltaY)return;var p=event.wheelDelta||-event.deltaY||-event.detail,q=o.scrollHeight,r=o.clientHeight;if(q>r){var s=j.getTop(o);if(p>0&&s===0||p<0&&s>=q-r-1){event.prevent();}else if(k.ie()<9)if(o.currentStyle){var t=o.currentStyle.fontSize;if(t.indexOf('px')<0){var u=document.createElement('div');u.style.fontSize=t;u.style.height='1em';t=u.style.pixelHeight;}else t=parseInt(t,10);j.setTop(o,s-Math.round(p/120*t));event.prevent();}}},m=document.documentElement;if(k.firefox()){var n='WheelEvent' in window?'wheel':'DOMMouseScroll';m.addEventListener(n,l,false);}else h.listen(m,'mousewheel',l);},null);
__d('ScrollableArea.react',['Bootloader','React','ReactDOM','Style','cx','joinClasses','Scrollable'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();c('Scrollable');var n=i.PropTypes,o="uiScrollableArea native",p="uiScrollableAreaWrap scrollable",q="uiScrollableAreaBody",r="uiScrollableAreaContent",s=i.createClass({displayName:'ReactScrollableArea',propTypes:{width:n.number,height:n.oneOfType([n.number,n.string]),onScroll:n.func,shadow:n.bool,fade:n.bool,persistent:n.bool},render:function(){var t={height:this.props.height};return (i.createElement('div',babelHelpers['extends']({},this.props,{className:m(this.props.className,o),ref:'root',style:babelHelpers['extends']({},this.props.style||{},t)}),i.createElement('div',{className:p,ref:'wrap'},i.createElement('div',{className:q,ref:'body'},i.createElement('div',{className:r},this.props.children)))));},getArea:function(){return this._area;},componentDidMount:function(){h.loadModules(["ScrollableArea"],this._loadScrollableArea);},componentDidUpdate:function(t){if(t.width!==this.props.width)this._setWidthFromProps();var u=this.getArea();if(u)u.throttledAdjustGripper();},componentWillUnmount:function(){this._area&&this._area.destroy();},_loadScrollableArea:function(t){this._area=t.fromNative(j.findDOMNode(this.refs.root),{fade:this.props.fade,persistent:this.props.persistent,shadow:this.props.shadow===undefined?true:this.props.shadow,tabIndex:this.props.tabIndex});this._setWidthFromProps();this.props.onScroll&&this._area.subscribe('scroll',this.props.onScroll);},_setWidthFromProps:function(){var t=j.findDOMNode(this.refs.body);k.set(t,'width',this.props.width+'px');}});f.exports=s;},null);
__d('TokenizerToken.react',['CloseButton.react','React','SearchableEntry','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'TokenizerToken',propTypes:{label:n.string.isRequired,entry:n.instanceOf(j),highlighted:n.bool,glyph:n.element,onRemove:n.func},render:function(){var p;if(this.props.onRemove)p=i.createElement(h,{'aria-label':l._("Remove {item}",[l.param('item',this.props.label)]),className:"_58zx",size:'small',onClick:this._onClick});var q="_58zy"+(this.props.highlighted?' '+"_58zz":'');return (i.createElement('span',babelHelpers['extends']({},this.props,{className:m(this.props.className,q),label:null}),this.props.glyph,this.props.label,p));},_onClick:function(p){p.preventDefault();this.props.onRemove(this.props.entry);}});f.exports=o;},null);
__d('AbstractTextField.react',['React','Keys','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=h.Component,o=h.PropTypes;l=babelHelpers.inherits(p,n);m=l&&l.prototype;p.defaultProps={useLabel:true,classNames:{root:"_58ak",empty:"_3ct8"},styles:{label:null}};p.propTypes={useLabel:o.bool,leftChild:o.element,rightChild:o.element,classNames:o.shape({root:o.string.isRequired,empty:o.string.isRequired}),styles:o.shape({label:o.object}),'aria-activedescendant':o.string,'aria-autocomplete':o.string,'aria-label':o.string,'aria-labelledby':o.string,'aria-expanded':o.bool,'aria-owns':o.string,'aria-valuenow':o.number,'aria-valuetext':o.string,'data-testid':o.string,autoComplete:o.string,className:o.string,defaultValue:o.string,disabled:o.bool,id:o.string,max:o.string,maxLength:o.number,min:o.string,name:o.string,onBackspace:o.func,onBackTab:o.func,onBlur:o.func,onChange:o.func,onDownArrow:o.func,onEnter:o.func,onEscape:o.func,onFocus:o.func,onKeyDown:o.func,onLeftArrow:o.func,onNoShiftEnter:o.func,onRightArrow:o.func,onShiftDownArrow:o.func,onShiftEnter:o.func,onShiftUpArrow:o.func,onTab:o.func,onUpArrow:o.func,placeholder:o.string,required:o.bool,role:o.string,style:o.object,title:o.string,type:o.string,value:o.string,autoCapitalize:o.string,autoCorrect:o.string};function p(q){'use strict';m.constructor.call(this,q);this.state={focused:false,value:this.props.defaultValue||''};this.onInputKeyDown=this.onInputKeyDown.bind(this);this.onInputBlur=this.onInputBlur.bind(this);this.onInputFocus=this.onInputFocus.bind(this);this.onInputChange=this.onInputChange.bind(this);}p.prototype.getValue=function(){'use strict';return this.props.value!=null?String(this.props.value):this.state.value;};p.prototype.onInputKeyDown=function(q){'use strict';var r=this.props,s=q.keyCode,t=q.shiftKey;if(s===i.BACKSPACE&&!t&&r.onBackspace){r.onBackspace(q);}else if(s===i.TAB&&!t&&r.onTab){r.onTab(q);}else if(s===i.TAB&&t&&r.onBackTab){r.onBackTab(q);}else if(s===i.UP){if(t){if(r.onShiftUpArrow)r.onShiftUpArrow(q);}else if(r.onUpArrow)r.onUpArrow(q);}else if(s===i.DOWN&&r.onDownArrow){if(t){if(r.onShiftDownArrow)r.onShiftDownArrow(q);}else if(r.onDownArrow)r.onDownArrow(q);}else if(s===i.LEFT&&r.onLeftArrow){r.onLeftArrow(q);}else if(s===i.RIGHT&&r.onRightArrow){r.onRightArrow(q);}else if(s===i.RETURN){if(r.onEnter)r.onEnter(q);if(t){if(r.onShiftEnter)r.onShiftEnter(q);}else if(r.onNoShiftEnter)r.onNoShiftEnter(q);}else if(s===i.ESC&&r.onEscape)r.onEscape(q);if(r.onKeyDown)r.onKeyDown(q);};p.prototype.onInputChange=function(q){'use strict';if(this.props.onChange)this.props.onChange(q);if(this.props.value===null||this.props.value===undefined)this.setState({value:q.target.value});};p.prototype.onInputBlur=function(q){'use strict';if(this.props.onBlur)this.props.onBlur(q);if(!q.isDefaultPrevented())this.setState({focused:false});};p.prototype.onInputFocus=function(q){'use strict';if(this.props.onFocus)this.props.onFocus(q);if(!q.isDefaultPrevented())this.setState({focused:true});};p.prototype.cloneElement=function(q){'use strict';return h.cloneElement(q,{'aria-activedescendant':this.props['aria-activedescendant'],'aria-autocomplete':this.props['aria-autocomplete'],'aria-label':this.props['aria-label'],'aria-labelledby':this.props['aria-labelledby'],'aria-expanded':this.props['aria-expanded'],'aria-owns':this.props['aria-owns'],'aria-valuenow':this.props['aria-valuenow'],'aria-valuetext':this.props['aria-valuetext'],'data-testid':this.props['data-testid'],required:this.props.required,role:this.props.role,placeholder:this.props.placeholder,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,onKeyDown:this.onInputKeyDown,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.onInputChange,disabled:this.props.disabled,defaultValue:this.props.defaultValue,name:this.props.name,value:this.getValue(),id:this.props.id,maxLength:this.props.maxLength,min:this.props.min,max:this.props.max,style:this.props.style,title:this.props.title,type:this.props.type||q.props.type});};p.prototype.render=function(){'use strict';var q=h.Children.only(this.props.children);if(!this.props.useLabel)return this.cloneElement(q);var r=this.props.className;if(this.props.classNames){r=k(r,this.props.classNames.root);if(!this.getValue())r=k(r,this.props.classNames.empty);}return (h.createElement('label',{className:r,style:this.props.styles.label},this.props.leftChild,this.cloneElement(q),this.props.rightChild));};f.exports=p;},null);
__d('SearchableTextInput.react',['EventListener','React','AbstractTextInput.react','getActiveElement'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'SearchableTextInput',propTypes:babelHelpers['extends']({},j.propTypes,{queryString:l.string,searchSource:l.object,searchSourceOptions:l.object,onEntriesFound:l.func.isRequired,searchOnFocus:l.bool,searchOnUpdate:l.bool,required:l.bool,onPaste:l.func,onFocus:l.func,onChange:l.func}),componentDidMount:function(){if(this.props.onPaste)this._listener=h.listen(this.refs.input.getTextFieldDOM(),'paste',this.props.onPaste);},componentWillReceiveProps:function(n){},componentDidUpdate:function(n){if(this.props.searchOnUpdate)if(n.queryString!==this.props.queryString)this.search(this.props.queryString);},componentWillUnmount:function(){if(this._listener){this._listener.remove();this._listener=null;}},_onInputFocus:function(){this.props.searchSource.bootstrap(function(){if(this.props.searchOnFocus)this.search(this.props.queryString);}.bind(this));this.props.onFocus&&this.props.onFocus();},_onSearchCallback:function(n,o,p){if(this.props.queryString===o)this.props.onEntriesFound(n,o,p);},_onChange:function(event){this.props.onChange&&this.props.onChange(event);var n=event.target.value;setTimeout(function(){return this.search(n);}.bind(this));},search:function(n){this.props.searchSource.search(n,this._onSearchCallback,this.props.searchSourceOptions);},focusInput:function(){var n=this.getTextFieldDOM();if(k()===n){this._onInputFocus();}else n.offsetHeight&&n.focus();},blurInput:function(){var n=this.getTextFieldDOM();n.offsetHeight&&n.blur();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();},render:function(){var n=this.props.queryString||'';return (i.createElement(j,babelHelpers['extends']({},this.props,{onChange:this._onChange,onFocus:this._onInputFocus,ref:'input',role:'combobox',value:n})));}});f.exports=m;},null);
__d("TypeaheadNavigation",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={moveUp:function(i,j,k){var l=i.indexOf(j),m=l==-1?i.length-1:l-1;k(m==-1?null:i[m]);},moveDown:function(i,j,k){var l=i.indexOf(j)+1;k(l==i.length?null:i[l]);}};f.exports=h;},null);
__d('TypeaheadView.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'TypeaheadView',propTypes:{entries:j.array.isRequired,extraRendererProps:j.object,highlightedEntry:j.object,isVisible:j.bool,queryString:j.string,Renderer:j.func.isRequired,selectedEntry:j.object},_onSelect:function(l,m){if(this.props.onSelect)this.props.onSelect(l,m);},_onHighlight:function(l){this.props.onHighlight(l);},render:function(){var l=!this.props.isVisible?"hidden_elem":'',m=babelHelpers['extends']({highlightedEntry:this.props.highlightedEntry,selectedEntry:this.props.selectedEntry,entries:this.props.entries,onSelect:this._onSelect,onHighlight:this._onHighlight,onRenderHighlight:this.props.onRenderHighlight,ariaOwneeID:this.props.ariaOwneeID,queryString:this.props.queryString},this.props.extraRendererProps),n=this.props.Renderer;return (h.createElement('div',{className:l},h.createElement(n,m)));}});f.exports=k;},null);
__d('AbstractTypeahead.react',['AbstractTextField.react','ContextualLayer.react','InputSelection','React','ReactLayeredComponentMixin','SearchableTextInput.react','SearchSourceQueryStatus','TypeaheadNavigation','TypeaheadView.react','cx','getOrCreateDOMID','joinClasses','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=k.PropTypes,v=[],w=10,x=k.createClass({displayName:'AbstractTypeahead',mixins:[l],propTypes:babelHelpers['extends']({},h.propTypes,{additionalElements:u.node,inputClassName:u.string,inputID:u.string,inputStyle:u.object,autoCapitalize:u.string,autoComplete:u.string,autoCorrect:u.string,queryString:u.string,searchSource:u.object.isRequired,searchSourceOptions:u.object,excludedEntries:u.object,presenter:u.object.isRequired,onSelectAttempt:u.func,onEntriesFound:u.func,onNoEntriesFound:u.func,onEnterWithoutSelection:u.func,autoHighlight:u.bool,showEntriesOnFocus:u.bool,selectOnBlur:u.bool,selectOnTab:u.bool,focusedOnInit:u.bool,hideViewWithEntries:u.bool,disabled:u.bool,entriesWidthMatchContext:u.bool,selectedEntry:u.object,onTypeaheadVisibilityChanged:u.func,onPaste:u.func,navigation:u.object}),getDefaultProps:function(){return {autoComplete:'off',autoCorrect:'off',selectOnBlur:false,selectOnTab:true,hideViewWithEntries:true,entriesWidthMatchContext:true,navigation:o};},getInitialState:function(){return {highlightedEntry:null,isArrowNavigation:false,isAutoHighlight:this.props.autoHighlight,ariaActiveDescendantID:null,ariaOwneeID:t(),activeEntries:null,focused:!!this.props.focusedOnInit,viewIsVisible:!!this.props.focusedOnInit};},_onRenderHighlight:function(y){var z=r(y);this.setState({ariaActiveDescendantID:z});},_determineViewVisibility:function(y,z){if(!y)return false;var aa=y.length>0&&(this.props.showEntriesOnFocus||this.props.queryString.length>0);return !!(z&&(this.props.presenter.alwaysVisibleOnFocus||aa));},_onEntriesFound:function(y,z,aa){if(!this.isMounted())return;if(this.props.excludedEntries){var ba=this.props.excludedEntries;y=y.filter(function(ja){return !ba.hasOwnProperty(ja.getUniqueID());});}var ca=this.props.presenter,da=typeof ca.sortEntries=='function'?ca.sortEntries(y,this.state.activeEntries,this.props.queryString):y,ea=da.slice(0,ca.maxEntries||w),fa=this._determineViewVisibility(ea,this.state.focused);if(!ea.length){this.setState({ariaActiveDescendantID:null,activeEntries:ea,highlightedEntry:null,isAutoHighlight:this.props.autoHighlight});this._setViewIsVisible(fa);if(this.props.onNoEntriesFound&&aa===n.COMPLETE)this.props.onNoEntriesFound();return;}if(this.props.onEntriesFound)this.props.onEntriesFound(ea,aa);var ga=this.state.highlightedEntry,ha=ga&&ea.indexOf(ga)!==-1;if(!this.props.autoHighlight){this.setState({activeEntries:ea,highlightedEntry:ha?ga:null});if(fa)this._setViewIsVisible(true);return;}var ia=this.state.isAutoHighlight;if(ia){ga=ea[0];}else{ga=ha?ga:ea[0];ia=!ha;}this.setState({activeEntries:ea,highlightedEntry:ga,isAutoHighlight:ia});if(fa)this._setViewIsVisible(true);},_onInputFocus:function(){var y=this._determineViewVisibility(this.state.activeEntries,true);if(y)this._setViewIsVisible(true);this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onInputBlur:function(){if(this.props.hideViewWithEntries)this._close();if(this.props.selectOnBlur&&this.state.highlightedEntry)this.props.onSelectAttempt(this.state.highlightedEntry);this.setState({focused:false});this.props.onBlur&&this.props.onBlur();},_onInputClick:function(y){var z=this.getTextFieldDOM(),aa=j.get(z);if(aa&&aa.start==aa.end)z.select();this.props.onClick&&this.props.onClick(y);},_onEscape:function(){this._close();this.blurInput();this.setState({focused:false});this.props.onEscape&&this.props.onEscape();},_onEnter:function(event){if(this.props.onEnterWithoutSelection&&(!this.state.viewIsVisible||!this.state.highlightedEntry)){this.props.onEnterWithoutSelection(event);return;}if(!this.state.viewIsVisible)return;if(!this.state.highlightedEntry){event.preventDefault();return;}if(this.props.hideViewWithEntries)this._close();if(this.props.onSelectAttempt)this.props.onSelectAttempt(this.state.highlightedEntry,event);event.preventDefault();},_onTab:function(event){if(this.props.selectOnTab&&this.state.viewIsVisible&&this.props.onSelectAttempt&&this.state.highlightedEntry){if(this.props.hideViewWithEntries){this._close();event.preventDefault();}this.props.onSelectAttempt(this.state.highlightedEntry,event);}},_onDownArrow:function(event){event.preventDefault();this.props.navigation.moveDown(this.state.activeEntries||v,this.state.highlightedEntry,this._setHighlight);},_onUpArrow:function(event){event.preventDefault();this.props.navigation.moveUp(this.state.activeEntries||v,this.state.highlightedEntry,this._setHighlight);},_setHighlight:function(y){this.setState({highlightedEntry:y,isArrowNavigation:true,isAutoHighlight:!y});},_onInputChange:function(event){if(this.props.onChange)this.props.onChange(event);this._setViewIsVisible(this.state.focused&&(this.props.showEntriesOnFocus||event.target.value.length>0)&&(this.props.presenter.alwaysVisibleOnFocus||this.state.activeEntries!=null&&this.state.activeEntries.length>0));},_onViewHighlight:function(y){this.setState({highlightedEntry:y,isArrowNavigation:false,isAutoHighlight:false});},_getView:function(){return (k.createElement(p,{Renderer:this.props.presenter.ViewRenderer,extraRendererProps:babelHelpers['extends']({},this.props.presenter.extraRendererProps,{isArrowNavigation:this.state.isArrowNavigation}),highlightedEntry:this.state.highlightedEntry,selectedEntry:this.props.selectedEntry,isVisible:this.state.viewIsVisible,ariaOwneeID:this.state.ariaOwneeID,onHighlight:this._onViewHighlight,onRenderHighlight:this._onRenderHighlight,onSelect:this.props.onSelectAttempt,entries:this.state.activeEntries||v,queryString:this.props.queryString}));},_setViewIsVisible:function(y){if(y!==this.state.viewIsVisible){if(this.props.onTypeaheadVisibilityChanged)this.props.onTypeaheadVisibilityChanged(y,this.state.activeEntries||v);this.setState({viewIsVisible:y});}},componentWillReceiveProps:function(y){if(!y.queryString&&!this.props.showEntriesOnFocus)this.clearActiveEntries();},componentDidUpdate:function(){var y=this._determineViewVisibility(this.state.activeEntries,this.state.focused);if(y)this._setViewIsVisible(true);},renderLayers:function(){if(!this.props.presenter.useLayer)return {};var y=null,z=null;if(this.props.context){y=this.props.context;}else z=function(){return this.refs.input;}.bind(this);return {typeaheadView:k.createElement(i,{alignment:this.props.presenter.alignment,behaviors:this.props.presenter.layerBehaviors,containerWidthMatchContext:this.props.entriesWidthMatchContext,contextRef:z,context:y,position:this.props.presenter.layerPosition||"below",shown:this.state.viewIsVisible,shouldSetARIAProperties:false},this._getView())};},render:function(){var y=this.state.activeEntries,z=!!(y&&y.length),aa=k.createElement(m,{'aria-activedescendant':this.state.ariaActiveDescendantID,'aria-expanded':z,'aria-autocomplete':'list','aria-label':this.props.ariaLabel,'aria-owns':this.state.ariaOwneeID,required:this.props.required,ref:'input',autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:this.props.inputClassName,id:this.props.inputID,queryString:this.props.queryString,placeholder:this.props.placeholder,maxLength:this.props.maxLength,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,searchOnFocus:!!this.props.showEntriesOnFocus,disabled:this.props.disabled,onEntriesFound:this._onEntriesFound,onEscape:this._onEscape,onBlur:this._onInputBlur,onFocus:this._onInputFocus,onChange:this._onInputChange,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,onTab:this._onTab,onEnter:this._onEnter,onBackspace:this.props.onBackspace,onPaste:this.props.onPaste,onClick:this._onInputClick,style:this.props.inputStyle,tabIndex:this.props.tabIndex}),ba=null;if(!this.props.presenter.useLayer)ba=this._getView();return (k.createElement('span',babelHelpers['extends']({},this.props,{className:s(this.props.className,"_58ah"),onBlur:null,onClick:null,onFocus:null,tabIndex:null}),aa,this.props.additionalElements,ba));},componentDidMount:function(){if(this.props.focusedOnInit)this.focusInput();},clearActiveEntries:function(){this.setState({ariaActiveDescendantID:null,activeEntries:null,highlightedEntry:null});},focusInput:function(){var y=this.getTextFieldDOM();if(y.value)j.set(y,y.value.length);this.refs.input.focusInput();},blurInput:function(){if(this.refs.input.blur){this.refs.input.blur();}else if(this.refs.input.blurInput)this.refs.input.blurInput();},hideView:function(){this._setViewIsVisible(false);},_close:function(){this._setViewIsVisible(false);this.clearActiveEntries();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();}});f.exports=x;},null);
__d('AbstractCheckboxInput.react',['React','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'AbstractCheckboxInput',propTypes:{tooltip:l.string},render:function(){!(!this.props.children||this.props.children.length===0)?j(0):undefined;var n=k(this.props.className,"_kv1"),o=h.createElement('input',babelHelpers['extends']({},this.props,{className:null,type:'checkbox'}),undefined);return (h.createElement('label',{className:n},o,h.createElement('span',{'data-hover':this.props.tooltip?'tooltip':null,'data-tooltip-content':this.props.tooltip})));}});f.exports=m;},null);
__d('XUINotice.react',['React','Image.react','XUICloseButton.react','cx','fbt','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=h.PropTypes,p={notify:{altText:l._("Notice"),className:null,iconSrc:m('/images/deprecated/glyphs/flat/info-flat_m.png')},success:{altText:l._("Success"),className:"_3qh4",iconSrc:m('/images/deprecated/glyphs/flat/checkmark_white_m.png')},warn:{altText:l._("Warning"),className:"_585o",iconSrc:m('/images/deprecated/glyphs/flat/error-flat_m.png')}},q=h.createClass({displayName:'XUINotice',propTypes:{onDismiss:o.func,use:o.oneOf(Object.keys(p)).isRequired,size:o.oneOf(['medium','small']).isRequired},getDefaultProps:function(){return {use:'notify',size:'medium'};},render:function(){var r=this.props,s=r.children,t=r.className,u=r.onDismiss,v=r.use,w=babelHelpers.objectWithoutProperties(r,['children','className','onDismiss','use']),x=p[v];t=n("_585n",x.className,t);var y=null;if(u)y=h.createElement(j,{className:"_585q",href:'#',onClick:u});var z="_585r"+(u?' '+"_2i-a":'')+(this.props.size==='medium'?' '+"_50f4":'')+(this.props.size==='small'?' '+"_50f3":'');return (h.createElement('div',babelHelpers['extends']({},w,{className:t}),h.createElement(i,{alt:x.altText,className:"_585p",src:x.iconSrc}),y,h.createElement('div',{className:z},s)));}});f.exports=q;},null);
__d('XUIRadioInput.react',['React','cx','joinClasses','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.createClass({displayName:'XUIRadioInput',render:function(){!(!this.props.children||this.props.children.length===0)?k(0):undefined;var m=j(this.props.className,"_55sh"),n=h.createElement('input',babelHelpers['extends']({},this.props,{className:null,type:'radio'}),undefined);return (h.createElement('label',{className:m},n,h.createElement('span',null)));}});f.exports=l;},null);
__d('XUIRadioList.react',['InputLabel.react','React','ReactChildren','XUIRadioInput.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'XUIRadioList',propTypes:{name:l.string,onValueChange:l.func,selectedValue:l.any},render:function(){var n=j.map(this.props.children,function(o){return o===null?null:i.cloneElement(o,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue});},this);return i.createElement('ul',babelHelpers['extends']({},this.props,{name:null}),n);}});m.Item=i.createClass({displayName:'Item',propTypes:{name:l.string,onSelect:l.func,selectedValue:l.any,value:l.any,disabled:l.bool},render:function(){return (i.createElement('li',{className:this.props.className},i.createElement(h,{'aria-label':this.props['aria-label'],'data-hover':this.props['data-hover'],display:'inline'},i.createElement(k,{checked:this.props.selectedValue===this.props.value,name:this.props.name,onChange:this._handleChange,value:this.props.value,disabled:!!this.props.disabled}),i.createElement('label',null,this.props.children))));},_handleChange:function(event){this.props.onSelect&&this.props.onSelect(event.target.value);}});f.exports=m;},null);
__d('nl2br',['DOM'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=/(\r\n|[\r\n])/;function j(k){return k.split(i).map(function(l){return i.test(l)?h.create('br'):l;});}f.exports=j;},null);
__d('XUIError',['Promise','ARIA','Bootloader','CSS','DataStore','DOM','Event','Parent','cx','filterObject','getActiveElement','getElementText','invariant','isNode','memoize','nl2br'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x='data-xui-error-alignh',y='XUIError',z='data-xui-error',aa="_1tp7",ba='data-xui-error-position';n.listen(document.documentElement,'mouseover',function(event){if(o.byClass(r(),aa))return;var oa=o.byClass(event.getTarget(),aa);if(oa){ka(oa);}else la();});n.listen(document.documentElement,'focusin',function(event){var oa=o.byClass(event.getTarget(),aa);if(oa){ka(oa);}else la();});n.listen(document.documentElement,'focusout',function(event){la();});var ca=v(function(){return new h(function(oa,pa){j.loadModules(["React","ReactDOM","XUIErrorDialogImpl"],function(qa,ra,sa){oa(babelHelpers['extends']({React:qa,ReactDOM:ra},sa.getNewDialog()));});});}),da=null;function ea(oa){return babelHelpers['extends']({message:oa.getAttribute(z),position:oa.getAttribute(ba),alignh:oa.getAttribute(x)},l.get(oa,y));}function fa(oa,pa){l.set(oa,y,pa);}function ga(oa,pa){l.set(oa,y,babelHelpers['extends']({},l.get(oa,y),pa));}function ha(oa){l.remove(oa,y);}var ia=false,ja=false;function ka(oa){ca().done(function(pa){var qa=pa.React,ra=pa.ReactDOM,sa=pa.dialog,ta=pa.dialogMessageNode,ua=ea(oa),va=ua.message;if(va==null)return;var wa=qa.isValidElement(va);if(ia&&!wa)ra.unmountComponentAtNode(ta);if(wa){ra.render(va,ta);}else{!(typeof va==='string'||u(va))?t(0):undefined;if(typeof va==='string')va=w(va);m.setContent(ta,va);}ia=wa;sa.setContext(oa).setPosition(ua.position||'right').setAlignment(ua.alignh||(ua.position==='above'||ua.position==='below'?'right':null)).show();i.notify(s(ta));da=oa;});ja=true;}function la(){if(!ja)return;ca().done(function(oa){var pa=oa.React,qa=oa.ReactDOM,ra=oa.dialog,sa=oa.dialogMessageNode;if(!da)return;if(ia){qa.unmountComponentAtNode(sa);ia=false;}ra.hide();da=null;});}function ma(oa){if(m.contains(oa,r()))ka(oa);}var na={set:function(oa){var pa=oa.target,qa=oa.message,ra=oa.position,sa=oa.alignh;!(qa!==null)?t(0):undefined;k.addClass(pa,aa);ga(pa,q({message:qa,position:ra,alignh:sa},function(ta){return ta!==undefined;}));ma(pa);},clear:function(oa){k.removeClass(oa,aa);oa.removeAttribute(z);ha(oa);if(oa===da)la();},updatePosition:function(){if(!ja)return;ca().done(function(oa){var pa=oa.dialog;if(da)pa.updatePosition();});},__setReactError:function(oa,pa){var qa=pa.message,ra=pa.position,sa=pa.alignh;!(qa!==null)?t(0):undefined;fa(oa,{message:qa,position:ra,alignh:sa});ma(oa);},__clearReactError:function(oa){ha(oa);if(oa===da)la();}};f.exports=na;},null);
__d('XUIError.react',['React','ReactDOM','XUIError','cx','joinClasses','onlyChild'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes,o="_1tp7",p=h.createClass({displayName:'ReactXUIError',propTypes:{xuiError:n.any,xuiErrorPosition:n.oneOf(['above','below','left','right']),xuiErrorAlignh:n.oneOf(['left','center','right'])},componentDidMount:function(){if(this.props.xuiError!=null)j.__setReactError(i.findDOMNode(this),{message:this.props.xuiError,position:this.props.xuiErrorPosition,alignh:this.props.xuiErrorAlignh});},componentDidUpdate:function(){if(this.props.xuiError==null){j.__clearReactError(i.findDOMNode(this));}else j.__setReactError(i.findDOMNode(this),{message:this.props.xuiError,position:this.props.xuiErrorPosition,alignh:this.props.xuiErrorAlignh});},componentWillUnmount:function(){j.__clearReactError(i.findDOMNode(this));},render:function(){var q=m(this.props.children);if(this.props.xuiError!=null)q=h.cloneElement(q,{className:l(q.props.className,o)});return q;}});f.exports=p;},null);
__d('XUITextInput.react',['AbstractTextInput.react','React','XUIError.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();var o=i.Component,p=i.PropTypes;m=babelHelpers.inherits(q,o);n=m&&m.prototype;q.defaultProps={height:'short'};q.propTypes=babelHelpers['extends']({},h.propTypes,j.propTypes,{height:p.oneOf(['short','tall'])});q.prototype.render=function(){'use strict';var r="_55r1"+(this.props.height==='tall'?' '+"_55r2":'')+(!!this.props.disabled?' '+"_53a0":'');return (i.createElement(j,this.props,i.createElement(h,babelHelpers['extends']({},this.props,{ref:'textInput',className:l(this.props.className,r)}))));};q.prototype.focusInput=function(){'use strict';this.refs.textInput&&this.refs.textInput.focusInput();};q.prototype.blurInput=function(){'use strict';this.refs.textInput&&this.refs.textInput.blurInput();};q.prototype.getTextFieldDOM=function(){'use strict';if(this.refs.textInput)return this.refs.textInput.getTextFieldDOM();return null;};function q(){'use strict';m.apply(this,arguments);}f.exports=q;},null);
__d("arrayStableSort",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){return i.map(function(k,l){return {data:k,index:l};}).sort(function(k,l){return j(k.data,l.data)||k.index-l.index;}).map(function(k){return k.data;});}f.exports=h;},null);
__d('RangedCallbackManager',['CallbackManagerController','arrayStableSort','createObjectFrom'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m,n){'use strict';this.$RangedCallbackManager1=[];this.$RangedCallbackManager2=false;this.$RangedCallbackManager3=false;this.$RangedCallbackManager4={};this.$RangedCallbackManager5=new h(this.$RangedCallbackManager6.bind(this));this.$RangedCallbackManager7=l;this.$RangedCallbackManager8=m;this.$RangedCallbackManager9=n;}k.prototype.executeOrEnqueue=function(l,m,n,o,p){'use strict';return this.$RangedCallbackManager5.executeOrEnqueue({start:l,limit:m},n,{strict:!!o,skipOnStrictHandler:p});};k.prototype.unsubscribe=function(l){'use strict';this.$RangedCallbackManager5.unsubscribe(l);};k.prototype.getUnavailableResources=function(l){'use strict';var m=this.$RangedCallbackManager5.getRequest(l),n=[];if(m&&!this.$RangedCallbackManager2){var o=m.request,p=this.$RangedCallbackManager10(m.options),q=o.start+o.limit;for(var r=p.length;r<q;r++)n.push(r);}return n;};k.prototype.addResources=function(l){'use strict';l.forEach(function(m){if(!this.$RangedCallbackManager4[m]){this.$RangedCallbackManager4[m]=true;this.$RangedCallbackManager1.push(m);this.$RangedCallbackManager3=null;}}.bind(this));this.resortResources();this.$RangedCallbackManager5.runPossibleCallbacks();};k.prototype.addResourcesWithoutSorting=function(l,m){'use strict';var n=this.$RangedCallbackManager1.slice(0,m);n=n.concat(l);n=n.concat(this.$RangedCallbackManager1.slice(m));this.$RangedCallbackManager1=n;Object.assign(this.$RangedCallbackManager4,j(l,true));this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks();};k.prototype.removeResources=function(l){'use strict';l.forEach(function(m){if(this.$RangedCallbackManager4[m]){this.$RangedCallbackManager4[m]=false;var n=this.$RangedCallbackManager1.indexOf(m);if(n!=-1)this.$RangedCallbackManager1.splice(n,1);}}.bind(this));};k.prototype.removeAllResources=function(){'use strict';this.$RangedCallbackManager1=[];this.$RangedCallbackManager4={};};k.prototype.resortResources=function(){'use strict';this.$RangedCallbackManager1=i(this.$RangedCallbackManager1,function(l,m){return (this.$RangedCallbackManager8(this.$RangedCallbackManager7(l),this.$RangedCallbackManager7(m)));}.bind(this));};k.prototype.setReachedEndOfArray=function(){'use strict';if(!this.$RangedCallbackManager2){this.$RangedCallbackManager2=true;this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks();}};k.prototype.hasReachedEndOfArray=function(){'use strict';return this.$RangedCallbackManager2;};k.prototype.setError=function(l){'use strict';if(this.$RangedCallbackManager3!==l){this.$RangedCallbackManager3=l;this.$RangedCallbackManager5.runPossibleCallbacks();}};k.prototype.getError=function(l,m,n){'use strict';var o=this.$RangedCallbackManager10({strict:n});return l+m>o.length?this.$RangedCallbackManager3:null;};k.prototype.hasResource=function(l){'use strict';return this.$RangedCallbackManager4[l];};k.prototype.getResourceAtIndex=function(l){'use strict';return this.$RangedCallbackManager1[l];};k.prototype.getAllResources=function(){'use strict';return this.$RangedCallbackManager1.concat();};k.prototype.getCurrentArraySize=function(l){'use strict';return this.$RangedCallbackManager10(l).length;};k.prototype.$RangedCallbackManager10=function(l){'use strict';var m=this.$RangedCallbackManager1;if(l&&l.strict){var n=l.skipOnStrictHandler||this.$RangedCallbackManager9;if(n)m=m.filter(n);}return m;};k.prototype.$RangedCallbackManager6=function(l,m){'use strict';var n=this.$RangedCallbackManager10(m);if(!this.$RangedCallbackManager2&&!this.$RangedCallbackManager3&&l.start+l.limit>n.length){return false;}else{var o=n.slice(l.start,l.start+l.limit),p=l.start+l.limit>n.length?this.$RangedCallbackManager3:null;return [o,p];}};k.prototype.getElementsUntil=function(l){'use strict';var m=[];for(var n=0;n<this.$RangedCallbackManager1.length;n++){var o=this.$RangedCallbackManager7(this.$RangedCallbackManager1[n]);if(this.$RangedCallbackManager8(o,l)>0)break;m.push(this.$RangedCallbackManager1[n]);}return m;};f.exports=k;},null);
__d("Deferred",["Promise"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){"use strict";this.$Deferred1=false;this.$Deferred2=new h(function(j,k){this.$Deferred3=j;this.$Deferred4=k;}.bind(this));}i.prototype.getPromise=function(){"use strict";return this.$Deferred2;};i.prototype.resolve=function(j){"use strict";this.$Deferred1=true;this.$Deferred3(j);};i.prototype.reject=function(j){"use strict";this.$Deferred1=true;this.$Deferred4(j);};i.prototype.then=function(){"use strict";return h.prototype.then.apply(this.$Deferred2,arguments);};i.prototype.done=function(){"use strict";h.prototype.done.apply(this.$Deferred2,arguments);};i.prototype.isSettled=function(){"use strict";return this.$Deferred1;};f.exports=i;},null);
__d('PromiseMap',['Deferred','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(){this.$PromiseMap1={};}j.prototype.get=function(l){return k(this.$PromiseMap1,l).getPromise();};j.prototype.resolveKey=function(l,m){var n=k(this.$PromiseMap1,l);!!n.isSettled()?i(0):undefined;n.resolve(m);};j.prototype.rejectKey=function(l,m){var n=k(this.$PromiseMap1,l);!!n.isSettled()?i(0):undefined;n.reject(m);};function k(l,m){if(!l.hasOwnProperty(m))l[m]=new h();return l[m];}f.exports=j;},null);
__d("classWithMixins",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=function(){i.apply(this,arguments);};k.prototype=Object.assign(Object.create(i.prototype),j.prototype);return k;}f.exports=h;},null);
__d('clearImmediatePolyfill',['ImmediateImplementation'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=b.clearImmediate||c('ImmediateImplementation').clearImmediate;},null);
__d('escapeJSQuotes',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){if(typeof i=='undefined'||i==null||!i.valueOf())return '';return i.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}f.exports=h;},null);
__d('escapeRegex',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i.replace(/([.?*+\^$\[\]\\(){}|\-])/g,'\\$1');}f.exports=h;},null);
__d("resolveImmediate",["Promise"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.resolve();function j(l){i.then(l)["catch"](k);}function k(l){setTimeout(function(){throw l;},0);}f.exports=j;},null);
__d('Grid.react',['React','ReactChildren','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'Grid',propTypes:{cols:l.number.isRequired,fixed:l.bool,alignv:l.oneOf(['top','middle','bottom']),alignh:l.oneOf(['left','center','right']),spacing:l.string},render:function(){var o=this.props,p=o.alignh,q=o.alignv,r=o.children,s=o.cols,t=o.fixed,u=o.spacing,v=i.count(r),w=[],x=[],y=0;i.forEach(r,function(z,aa){if(z===null||z===undefined)return;var ba=z.type===n;y+=ba?Math.max(z.props.colSpan||0,1):1;var ca=y===s?"_51mw":'';if(!ba){z=h.createElement(n,{alignh:p,alignv:q,className:k(u,ca),key:z.key||aa},z);}else z=h.cloneElement(z,{key:z.key||aa,alignh:z.props.alignh||p,alignv:z.props.alignv||q,className:k(z.props.className,u,ca)});x.push(z);if(y%s===0||aa+1===v){if(t&&y<s){for(var da=y;da<s;da++)x.push(h.createElement(n,{key:aa+da}));y=s;}w.push(h.createElement('tr',{className:"_51mx",key:aa},x));x=[];y=0;}});return (h.createElement('table',babelHelpers['extends']({},this.props,{className:k(this.props.className,"uiGrid"+(' '+"_51mz")+(t?' '+"_5f0n":'')),cellSpacing:'0',cellPadding:'0'}),h.createElement('tbody',null,w)));}}),n=h.createClass({displayName:'GridItem',propTypes:{alignv:l.oneOf(['top','middle','bottom']),alignh:l.oneOf(['left','center','right'])},render:function(){var o=k(this.props.className,"_51m-"+(this.props.alignv==='top'?' '+"vTop":'')+(this.props.alignv==='middle'?' '+"vMid":'')+(this.props.alignv==='bottom'?' '+"vBot":'')+(this.props.alignh==='left'?' '+"hLeft":'')+(this.props.alignh==='center'?' '+"hCent":'')+(this.props.alignh==='right'?' '+"hRght":''));return (h.createElement('td',babelHelpers['extends']({},this.props,{className:o})));}});m.GridItem=n;f.exports=m;},null);
__d('ImageBlock.react',['LeftRight.react','React','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();function o(r){!(r.children&&(r.children.length===2||r.children.length===3))?k(0):undefined;}function p(r){return "img"+(' '+"_8o")+(r==='small'?' '+"_8r":'')+(r==='medium'?' '+"_8s":'')+(r==='large'?' '+"_8t":'');}m=babelHelpers.inherits(q,i.Component);n=m&&m.prototype;q.prototype.render=function(){'use strict';o(this.props);var r=this.props.children[0],s=this.props.children[1],t=this.props.children[2],u=this.props.spacing||'small',v={className:l(r.props.className,p(u),this.props.imageClassName)};if(r.type==='img'){if(r.props.alt===undefined)v.alt='';}else if((r.type==='a'||r.type==='link')&&r.props.tabIndex===undefined&&r.props.title===undefined&&r.props['aria-label']===undefined){v.tabIndex='-1';v['aria-hidden']='true';}r=i.cloneElement(r,v);var w=l(this.props.contentClassName,"_42ef"+(u==='small'?' '+"_8u":'')),x;if(!t){x=i.createElement('div',{className:w},s);}else x=i.createElement(h,{className:w,direction:h.DIRECTION.right},s,t);return (i.createElement(h,babelHelpers['extends']({},this.props,{direction:h.DIRECTION.left}),r,x));};function q(){'use strict';m.apply(this,arguments);}f.exports=q;},null);
__d("MutationObserver",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.prototype.observe=function(j,k){"use strict";};h.prototype.disconnect=function(){"use strict";};h.prototype.takeRecords=function(){"use strict";return null;};function h(){"use strict";}var i=b.MutationObserver||b.WebKitMutationObserver||h;f.exports=i;},null);
__d('SimpleObjectsPool',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$SimpleObjectsPool1=j;this.$SimpleObjectsPool2=[];}i.prototype.get=function(){'use strict';if(this.$SimpleObjectsPool2.length){return this.$SimpleObjectsPool2.pop();}else{var j=this.$SimpleObjectsPool1;return new j();}};i.prototype.put=function(j){'use strict';!(j instanceof this.$SimpleObjectsPool1)?h(0):undefined;this.$SimpleObjectsPool2.push(j);};f.exports=i;},null);
__d('PersistentAnimationFrame',['SimpleObjectsPool','Visibility','cancelAnimationFrame','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=16,m,n={},o=true;function p(){if(!m)m=new h(q);return m;}q.request=function(t){'use strict';if(!t)return 0;return p().get().request(t);};q.cancel=function(t){'use strict';if(t===0)return;var u=n[String(t)];if(u)u.cancel();};function q(){'use strict';this.$PersistentAnimationFrame1=this.$PersistentAnimationFrame1.bind(this);}q.prototype.request=function(t){'use strict';o&&r();this.callback=t;this.hidden=i.isHidden();if(this.hidden){this.intID=setTimeout(this.$PersistentAnimationFrame1,l);}else this.intID=k(this.$PersistentAnimationFrame1);this.strID=String(this.intID);n[this.strID]=this;return this.intID;};q.prototype.cancel=function(){'use strict';if(this.strID){if(this.hidden){clearTimeout(this.intID);}else j(this.intID);this.$PersistentAnimationFrame2();p().put(this);}};q.prototype.$PersistentAnimationFrame1=function(){'use strict';this.callback();this.$PersistentAnimationFrame2();p().put(this);};q.prototype.$PersistentAnimationFrame2=function(){'use strict';delete n[this.strID];delete this.intID;delete this.strID;delete this.callback;delete this.hidden;};function r(){o=false;i.addListener(i.HIDDEN,s);i.addListener(i.VISIBLE,s);}function s(){Object.keys(n).forEach(function(t){var u=n[t],v=u.callback;u.cancel();v();});}f.exports=q;},null);
__d('requestPersistentAnimationFrame',['PersistentAnimationFrame'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=h.request;},null);
__d('ResizeEventHandler',['requestPersistentAnimationFrame'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$ResizeEventHandler1=false;this.$ResizeEventHandler2=j;this.$ResizeEventHandler3=this.$ResizeEventHandler3.bind(this);this.handleEvent=this.handleEvent.bind(this);}i.prototype.handleEvent=function(){if(this.$ResizeEventHandler1===false){this.$ResizeEventHandler1=true;h(this.$ResizeEventHandler3);}};i.prototype.$ResizeEventHandler3=function(){this.$ResizeEventHandler1=false;this.$ResizeEventHandler2();};f.exports=i;},null);
__d('ResponsiveBlock.react',['MutationObserver','React','ReactDOM','ResizeEventHandler','UserAgent','cx','joinClasses','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=i.PropTypes,q=l.isBrowser('IE')&&'onresize' in document.createElement('div'),r={attributes:true,characterData:true,childList:true,subtree:true},s=i.createClass({displayName:'ResponsiveBlock',propTypes:{onResize:p.func.isRequired},componentDidMount:function(){this._width=null;this._height=null;this._resizeHandler=new k(this._didResize);this._bindResizeEvent();this._observer=new h(this._resizeHandler.handleEvent);this._observer.observe(j.findDOMNode(this),r);},componentWillUnmount:function(){if(this._sensorTarget){this._sensorTarget.onresize=null;this._sensorTarget=null;}this._resizeHandler=null;if(this._observer){this._observer.disconnect();this._observer=null;}this._width=null;this._height=null;},render:function(){var t=n("_4u-c",this.props.className),u;if(q){u=i.createElement('div',{key:'sensor',ref:'sensorNode',className:"_4u-f"});}else u=i.createElement('div',{key:'sensor',className:"_4u-f"},i.createElement('iframe',{'aria-hidden':'true',ref:'sensorNode',className:"_4u-g",tabIndex:'-1'}));return (i.createElement('div',babelHelpers['extends']({},this.props,{className:t}),this.props.children,u));},_bindResizeEvent:function(){if(!this.isMounted())return;if(q){this._sensorTarget=j.findDOMNode(this.refs.sensorNode);}else this._sensorTarget=j.findDOMNode(this.refs.sensorNode).contentWindow;if(this._sensorTarget){this._sensorTarget.onresize=this._resizeHandler.handleEvent;this._resizeHandler.handleEvent();}else o(this._bindResizeEvent);},_didResize:function(){if(this.isMounted()){var t=j.findDOMNode(this),u=t.offsetWidth,v=t.offsetHeight;if(u!==this._width||v!==this._height){this._width=u;this._height=v;this.props.onResize(u,v);}}}});f.exports=s;},null);
__d('StoreBasedStateMixinHelper',['SubscriptionsHandler','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){this.$StoreBasedStateMixinHelper1=k;this.$StoreBasedStateMixinHelper2=new h();}j.prototype.subscribeCallback=function(k){var l=this.$StoreBasedStateMixinHelper1.map(function(m){if(m.hasChanged&&m.getDispatchToken&&m.addListener){return m.addListener(k);}else if(m.subscribe){return m.subscribe('change',k);}else if(m.addListener){return m.addListener('change',k);}else i(0);});if(this.$StoreBasedStateMixinHelper1.length>0)this.$StoreBasedStateMixinHelper2.addSubscriptions.apply(this.$StoreBasedStateMixinHelper2,l);};j.prototype.release=function(){this.$StoreBasedStateMixinHelper2.release();};f.exports=j;},null);
__d('PureStoreBasedStateMixin',['StoreBasedStateMixinHelper','invariant','setImmediate'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return {getInitialState:function(){return this.constructor.calculateState();},componentWillMount:function(){!this.constructor.calculateState?i(0):undefined;this._recalculateStateID=null;var o=function(){if(this.isMounted())this.setState(this.constructor.calculateState());this._recalculateStateID=null;}.bind(this);this._mixin=new h(m);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=j(o);}.bind(this));},componentWillUnmount:function(){this._mixin.release();this._mixin=null;}};}.bind(this);f.exports=k;},null);
__d('StoreAndPropBasedStateMixin',['StoreBasedStateMixinHelper','invariant','setImmediate'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return {getInitialState:function(){return this.constructor.calculateState(this.props);},componentWillMount:function(){!this.constructor.calculateState?i(0):undefined;this._recalculateStateID=null;var o=function(){if(this.isMounted())this.setState(this.constructor.calculateState(this.props));this._recalculateStateID=null;}.bind(this);this._mixin=new h(m);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=j(o);}.bind(this));},componentWillReceiveProps:function(o){this.setState(this.constructor.calculateState(o));},componentWillUnmount:function(){this._mixin.release();this._mixin=null;}};}.bind(this);f.exports=k;},null);
__d('PhotosMimeType',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';if(this instanceof h===false)return new h(i);this.$PhotosMimeType1=i.split('/');}h.prototype.isImage=function(){'use strict';return this.$PhotosMimeType1[0]==='image';};h.prototype.isJpeg=function(){'use strict';return this.isImage()&&(this.$PhotosMimeType1[1]==='jpeg'||this.$PhotosMimeType1[1]==='pjpeg');};f.exports=h;},null);
__d('DataTransfer',['PhotosMimeType','createArrayFromMixed','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new RegExp('\u000D\u000A','g'),l='\u000A',m={'text/rtf':1,'text/html':1};function n(p){if(p.kind=='file')return p.getAsFile();}function o(p){'use strict';this.data=p;this.types=p.types?i(p.types):[];}o.prototype.isRichText=function(){'use strict';if(this.getHTML())return true;if(this.isImage())return false;return this.types.some(function(p){return m[p];});};o.prototype.getText=function(){'use strict';var p;if(this.data.getData)if(!this.types.length){p=this.data.getData('Text');}else if(this.types.indexOf('text/plain')!=-1)p=this.data.getData('text/plain');return p?p.replace(k,l):null;};o.prototype.getHTML=function(){'use strict';if(this.data.getData)if(!this.types.length){return this.data.getData('Text');}else if(this.types.indexOf('text/html')!=-1)return this.data.getData('text/html');};o.prototype.isLink=function(){'use strict';return this.types.some(function(p){return p.indexOf('Url')!=-1||p.indexOf('text/uri-list')!=-1;});};o.prototype.getLink=function(){'use strict';if(this.data.getData)return this.types.indexOf('text/uri-list')!=-1?this.data.getData('text/uri-list'):this.data.getData('url');return null;};o.prototype.isImage=function(){'use strict';var p=this.types.some(function(t){return t.indexOf('application/x-moz-file')!=-1;});if(p)return true;var q=this.getFiles();for(var r=0;r<q.length;r++){var s=q[r].type;if(!h(s).isImage())return false;}return true;};o.prototype.getCount=function(){'use strict';if(this.data.hasOwnProperty('items')){return this.data.items.length;}else if(this.data.hasOwnProperty('mozItemCount')){return this.data.mozItemCount;}else if(this.data.files)return this.data.files.length;return null;};o.prototype.getFiles=function(){'use strict';if(this.data.items){return Array.prototype.slice.call(this.data.items).map(n).filter(j.thatReturnsArgument);}else if(this.data.files){return Array.prototype.slice.call(this.data.files);}else return [];};o.prototype.hasFiles=function(){'use strict';return this.getFiles().length>0;};f.exports=o;},null);
__d('base62',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';function i(j){if(!j)return '0';var k='';while(j>0){k=h[j%62]+k;j=Math.floor(j/62);}return k;}f.exports=i;},null);
__d("crc32",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){var k=-1;for(var l=0,m=j.length;l<m;l++)k=k>>>8^i[(k^j.charCodeAt(l))&255];return ~k;}var i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(b.Int32Array!==undefined)i=new Int32Array(i);f.exports=h;},null);
__d('everyObject',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=Object.prototype.hasOwnProperty;function i(j,k,l){for(var m in j)if(h.call(j,m))if(!k.call(l,j[m],m,j))return false;return true;}f.exports=i;},null);
__d('someObject',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=Object.prototype.hasOwnProperty;function i(j,k,l){for(var m in j)if(h.call(j,m))if(k.call(l,j[m],m,j))return true;return false;}f.exports=i;},null);
__d('keyMirrorRecursive',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(l,m){return j(l,m);}function j(l,m){var n={},o;!k(l)?h(0):undefined;for(o in l){if(!l.hasOwnProperty(o))continue;var p=l[o],q=m?m+'.'+o:o;if(k(p)){p=j(p,q);}else p=q;n[o]=p;}return n;}function k(l){return l instanceof Object&&!Array.isArray(l);}f.exports=i;},null);
__d('LoadObjectOperations',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({CREATING:'',DELETING:'',LOADING:'',UPDATING:''});f.exports=i;},null);
__d("immutable",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();(function(h,i){typeof g==='object'&&typeof f!=='undefined'?f.exports=i():typeof define==='function'&&define.amd?define(i):h.Immutable=i();}(this,function(){'use strict';var h=Array.prototype.slice;function i(yh,zh){if(zh)yh.prototype=Object.create(zh.prototype);yh.prototype.constructor=yh;}var j='delete',k=5,l=1<<k,m=l-1,n={},o={value:false},p={value:false};function q(yh){yh.value=false;return yh;}function r(yh){yh&&(yh.value=true);}function s(){}function t(yh,zh){zh=zh||0;var ai=Math.max(0,yh.length-zh),bi=new Array(ai);for(var ci=0;ci<ai;ci++)bi[ci]=yh[ci+zh];return bi;}function u(yh){if(yh.size===undefined)yh.size=yh.__iterate(w);return yh.size;}function v(yh,zh){return zh>=0?(+zh):u(yh)+(+zh);}function w(){return true;}function x(yh,zh,ai){return (yh===0||(ai!==undefined&&yh<=-ai))&&(zh===undefined||(ai!==undefined&&zh>=ai));}function y(yh,zh){return aa(yh,zh,0);}function z(yh,zh){return aa(yh,zh,zh);}function aa(yh,zh,ai){return yh===undefined?ai:yh<0?Math.max(0,zh+yh):zh===undefined?yh:Math.min(zh,yh);}function ba(yh){return fa(yh)?yh:cb(yh);}i(ca,ba);function ca(yh){return ga(yh)?yh:db(yh);}i(da,ba);function da(yh){return ha(yh)?yh:eb(yh);}i(ea,ba);function ea(yh){return fa(yh)&&!ia(yh)?yh:fb(yh);}function fa(yh){return !!(yh&&yh[ka]);}function ga(yh){return !!(yh&&yh[la]);}function ha(yh){return !!(yh&&yh[ma]);}function ia(yh){return ga(yh)||ha(yh);}function ja(yh){return !!(yh&&yh[na]);}ba.isIterable=fa;ba.isKeyed=ga;ba.isIndexed=ha;ba.isAssociative=ia;ba.isOrdered=ja;ba.Keyed=ca;ba.Indexed=da;ba.Set=ea;var ka='@@__IMMUTABLE_ITERABLE__@@',la='@@__IMMUTABLE_KEYED__@@',ma='@@__IMMUTABLE_INDEXED__@@',na='@@__IMMUTABLE_ORDERED__@@',oa=0,pa=1,qa=2,ra=typeof Symbol==='function'&&Symbol.iterator,sa='@@iterator',ta=ra||sa;function ua(yh){this.next=yh;}ua.prototype.toString=function(){return '[Iterator]';};ua.KEYS=oa;ua.VALUES=pa;ua.ENTRIES=qa;ua.prototype.inspect=ua.prototype.toSource=function(){return this.toString();};ua.prototype[ta]=function(){return this;};function va(yh,zh,ai,bi){var ci=yh===0?zh:yh===1?ai:[zh,ai];bi?(bi.value=ci):(bi={value:ci,done:false});return bi;}function wa(){return {value:undefined,done:true};}function xa(yh){return !!ab(yh);}function ya(yh){return yh&&typeof yh.next==='function';}function za(yh){var zh=ab(yh);return zh&&zh.call(yh);}function ab(yh){var zh=yh&&((ra&&yh[ra])||yh[sa]);if(typeof zh==='function')return zh;}function bb(yh){return yh&&typeof yh.length==='number';}i(cb,ba);function cb(yh){return yh===null||yh===undefined?nb():fa(yh)?yh.toSeq():qb(yh);}cb.of=function(){return cb(arguments);};cb.prototype.toSeq=function(){return this;};cb.prototype.toString=function(){return this.__toString('Seq {','}');};cb.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length;}return this;};cb.prototype.__iterate=function(yh,zh){return sb(this,yh,zh,true);};cb.prototype.__iterator=function(yh,zh){return tb(this,yh,zh,true);};i(db,cb);function db(yh){return yh===null||yh===undefined?nb().toKeyedSeq():fa(yh)?(ga(yh)?yh.toSeq():yh.fromEntrySeq()):ob(yh);}db.prototype.toKeyedSeq=function(){return this;};i(eb,cb);function eb(yh){return yh===null||yh===undefined?nb():!fa(yh)?pb(yh):ga(yh)?yh.entrySeq():yh.toIndexedSeq();}eb.of=function(){return eb(arguments);};eb.prototype.toIndexedSeq=function(){return this;};eb.prototype.toString=function(){return this.__toString('Seq [',']');};eb.prototype.__iterate=function(yh,zh){return sb(this,yh,zh,false);};eb.prototype.__iterator=function(yh,zh){return tb(this,yh,zh,false);};i(fb,cb);function fb(yh){return (yh===null||yh===undefined?nb():!fa(yh)?pb(yh):ga(yh)?yh.entrySeq():yh).toSetSeq();}fb.of=function(){return fb(arguments);};fb.prototype.toSetSeq=function(){return this;};cb.isSeq=lb;cb.Keyed=db;cb.Set=fb;cb.Indexed=eb;var gb='@@__IMMUTABLE_SEQ__@@';cb.prototype[gb]=true;i(hb,eb);function hb(yh){this._array=yh;this.size=yh.length;}hb.prototype.get=function(yh,zh){return this.has(yh)?this._array[v(this,yh)]:zh;};hb.prototype.__iterate=function(yh,zh){var ai=this._array,bi=ai.length-1;for(var ci=0;ci<=bi;ci++)if(yh(ai[zh?bi-ci:ci],ci,this)===false)return ci+1;return ci;};hb.prototype.__iterator=function(yh,zh){var ai=this._array,bi=ai.length-1,ci=0;return new ua(function(){return ci>bi?wa():va(yh,ci,ai[zh?bi-ci++:ci++]);});};i(ib,db);function ib(yh){var zh=Object.keys(yh);this._object=yh;this._keys=zh;this.size=zh.length;}ib.prototype.get=function(yh,zh){if(zh!==undefined&&!this.has(yh))return zh;return this._object[yh];};ib.prototype.has=function(yh){return this._object.hasOwnProperty(yh);};ib.prototype.__iterate=function(yh,zh){var ai=this._object,bi=this._keys,ci=bi.length-1;for(var di=0;di<=ci;di++){var ei=bi[zh?ci-di:di];if(yh(ai[ei],ei,this)===false)return di+1;}return di;};ib.prototype.__iterator=function(yh,zh){var ai=this._object,bi=this._keys,ci=bi.length-1,di=0;return new ua(function(){var ei=bi[zh?ci-di:di];return di++>ci?wa():va(yh,ei,ai[ei]);});};ib.prototype[na]=true;i(jb,eb);function jb(yh){this._iterable=yh;this.size=yh.length||yh.size;}jb.prototype.__iterateUncached=function(yh,zh){if(zh)return this.cacheResult().__iterate(yh,zh);var ai=this._iterable,bi=za(ai),ci=0;if(ya(bi)){var di;while(!(di=bi.next()).done)if(yh(di.value,ci++,this)===false)break;}return ci;};jb.prototype.__iteratorUncached=function(yh,zh){if(zh)return this.cacheResult().__iterator(yh,zh);var ai=this._iterable,bi=za(ai);if(!ya(bi))return new ua(wa);var ci=0;return new ua(function(){var di=bi.next();return di.done?di:va(yh,ci++,di.value);});};i(kb,eb);function kb(yh){this._iterator=yh;this._iteratorCache=[];}kb.prototype.__iterateUncached=function(yh,zh){if(zh)return this.cacheResult().__iterate(yh,zh);var ai=this._iterator,bi=this._iteratorCache,ci=0;while(ci<bi.length)if(yh(bi[ci],ci++,this)===false)return ci;var di;while(!(di=ai.next()).done){var ei=di.value;bi[ci]=ei;if(yh(ei,ci++,this)===false)break;}return ci;};kb.prototype.__iteratorUncached=function(yh,zh){if(zh)return this.cacheResult().__iterator(yh,zh);var ai=this._iterator,bi=this._iteratorCache,ci=0;return new ua(function(){if(ci>=bi.length){var di=ai.next();if(di.done)return di;bi[ci]=di.value;}return va(yh,ci,bi[ci++]);});};function lb(yh){return !!(yh&&yh[gb]);}var mb;function nb(){return mb||(mb=new hb([]));}function ob(yh){var zh=Array.isArray(yh)?new hb(yh).fromEntrySeq():ya(yh)?new kb(yh).fromEntrySeq():xa(yh)?new jb(yh).fromEntrySeq():typeof yh==='object'?new ib(yh):undefined;if(!zh)throw new TypeError('Expected Array or iterable object of [k, v] entries, '+'or keyed object: '+yh);return zh;}function pb(yh){var zh=rb(yh);if(!zh)throw new TypeError('Expected Array or iterable object of values: '+yh);return zh;}function qb(yh){var zh=rb(yh)||(typeof yh==='object'&&new ib(yh));if(!zh)throw new TypeError('Expected Array or iterable object of values, or keyed object: '+yh);return zh;}function rb(yh){return (bb(yh)?new hb(yh):ya(yh)?new kb(yh):xa(yh)?new jb(yh):undefined);}function sb(yh,zh,ai,bi){var ci=yh._cache;if(ci){var di=ci.length-1;for(var ei=0;ei<=di;ei++){var fi=ci[ai?di-ei:ei];if(zh(fi[1],bi?fi[0]:ei,yh)===false)return ei+1;}return ei;}return yh.__iterateUncached(zh,ai);}function tb(yh,zh,ai,bi){var ci=yh._cache;if(ci){var di=ci.length-1,ei=0;return new ua(function(){var fi=ci[ai?di-ei:ei];return ei++>di?wa():va(zh,bi?fi[0]:ei-1,fi[1]);});}return yh.__iteratorUncached(zh,ai);}i(ub,ba);function ub(){throw TypeError('Abstract');}i(vb,ub);function vb(){}i(wb,ub);function wb(){}i(xb,ub);function xb(){}ub.Keyed=vb;ub.Indexed=wb;ub.Set=xb;function yb(yh,zh){if(yh===zh||(yh!==yh&&zh!==zh))return true;if(!yh||!zh)return false;if(typeof yh.valueOf==='function'&&typeof zh.valueOf==='function'){yh=yh.valueOf();zh=zh.valueOf();if(yh===zh||(yh!==yh&&zh!==zh))return true;if(!yh||!zh)return false;}if(typeof yh.equals==='function'&&typeof zh.equals==='function'&&yh.equals(zh))return true;return false;}function zb(yh,zh){return zh?ac(zh,yh,'',{'':yh}):bc(yh);}function ac(yh,zh,ai,bi){if(Array.isArray(zh))return yh.call(bi,ai,eb(zh).map(function(ci,di){return ac(yh,ci,di,zh);}));if(cc(zh))return yh.call(bi,ai,db(zh).map(function(ci,di){return ac(yh,ci,di,zh);}));return zh;}function bc(yh){if(Array.isArray(yh))return eb(yh).map(bc).toList();if(cc(yh))return db(yh).map(bc).toMap();return yh;}function cc(yh){return yh&&(yh.constructor===Object||yh.constructor===undefined);}var dc=typeof Math.imul==='function'&&Math.imul(4294967295,2)===-2?Math.imul:function yh(zh,ai){zh=zh|0;ai=ai|0;var bi=zh&65535,ci=ai&65535;return (bi*ci)+((((zh>>>16)*ci+bi*(ai>>>16))<<16)>>>0)|0;};function ec(yh){return ((yh>>>1)&1073741824)|(yh&3221225471);}function fc(yh){if(yh===false||yh===null||yh===undefined)return 0;if(typeof yh.valueOf==='function'){yh=yh.valueOf();if(yh===false||yh===null||yh===undefined)return 0;}if(yh===true)return 1;var zh=typeof yh;if(zh==='number'){var ai=yh|0;if(ai!==yh)ai^=yh*4294967295;while(yh>4294967295){yh/=4294967295;ai^=yh;}return ec(ai);}if(zh==='string')return yh.length>qc?gc(yh):hc(yh);if(typeof yh.hashCode==='function')return yh.hashCode();return ic(yh);}function gc(yh){var zh=tc[yh];if(zh===undefined){zh=hc(yh);if(sc===rc){sc=0;tc={};}sc++;tc[yh]=zh;}return zh;}function hc(yh){var zh=0;for(var ai=0;ai<yh.length;ai++)zh=31*zh+yh.charCodeAt(ai)|0;return ec(zh);}function ic(yh){var zh;if(mc){zh=nc.get(yh);if(zh!==undefined)return zh;}zh=yh[pc];if(zh!==undefined)return zh;if(!kc){zh=yh.propertyIsEnumerable&&yh.propertyIsEnumerable[pc];if(zh!==undefined)return zh;zh=lc(yh);if(zh!==undefined)return zh;}zh=++oc;if(oc&1073741824)oc=0;if(mc){nc.set(yh,zh);}else if(jc!==undefined&&jc(yh)===false){throw new Error('Non-extensible objects are not allowed as keys.');}else if(kc){Object.defineProperty(yh,pc,{enumerable:false,configurable:false,writable:false,value:zh});}else if(yh.propertyIsEnumerable!==undefined&&yh.propertyIsEnumerable===yh.constructor.prototype.propertyIsEnumerable){yh.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};yh.propertyIsEnumerable[pc]=zh;}else if(yh.nodeType!==undefined){yh[pc]=zh;}else throw new Error('Unable to set a non-enumerable property on object.');return zh;}var jc=Object.isExtensible,kc=(function(){try{Object.defineProperty({},'@',{});return true;}catch(yh){return false;}}());function lc(yh){if(yh&&yh.nodeType>0)switch(yh.nodeType){case 1:return yh.uniqueID;case 9:return yh.documentElement&&yh.documentElement.uniqueID;}}var mc=typeof WeakMap==='function',nc;if(mc)nc=new WeakMap();var oc=0,pc='__immutablehash__';if(typeof Symbol==='function')pc=Symbol(pc);var qc=16,rc=255,sc=0,tc={};function uc(yh,zh){if(!yh)throw new Error(zh);}function vc(yh){uc(yh!==Infinity);}i(wc,db);function wc(yh,zh){this._iter=yh;this._useKeys=zh;this.size=yh.size;}wc.prototype.get=function(yh,zh){return this._iter.get(yh,zh);};wc.prototype.has=function(yh){return this._iter.has(yh);};wc.prototype.valueSeq=function(){return this._iter.valueSeq();};wc.prototype.reverse=function(){var yh=this,zh=cd(this,true);if(!this._useKeys)zh.valueSeq=function(){return yh._iter.toSeq().reverse();};return zh;};wc.prototype.map=function(yh,zh){var ai=this,bi=bd(this,yh,zh);if(!this._useKeys)bi.valueSeq=function(){return ai._iter.toSeq().map(yh,zh);};return bi;};wc.prototype.__iterate=function(yh,zh){var ai=this,bi;return this._iter.__iterate(this._useKeys?function(ci,di){return yh(ci,di,ai);}:((bi=zh?td(this):0),function(ci){return yh(ci,zh?--bi:bi++,ai);}),zh);};wc.prototype.__iterator=function(yh,zh){if(this._useKeys)return this._iter.__iterator(yh,zh);var ai=this._iter.__iterator(pa,zh),bi=zh?td(this):0;return new ua(function(){var ci=ai.next();return ci.done?ci:va(yh,zh?--bi:bi++,ci.value,ci);});};wc.prototype[na]=true;i(xc,eb);function xc(yh){this._iter=yh;this.size=yh.size;}xc.prototype.includes=function(yh){return this._iter.includes(yh);};xc.prototype.__iterate=function(yh,zh){var ai=this,bi=0;return this._iter.__iterate(function(ci){return yh(ci,bi++,ai);},zh);};xc.prototype.__iterator=function(yh,zh){var ai=this._iter.__iterator(pa,zh),bi=0;return new ua(function(){var ci=ai.next();return ci.done?ci:va(yh,bi++,ci.value,ci);});};i(yc,fb);function yc(yh){this._iter=yh;this.size=yh.size;}yc.prototype.has=function(yh){return this._iter.includes(yh);};yc.prototype.__iterate=function(yh,zh){var ai=this;return this._iter.__iterate(function(bi){return yh(bi,bi,ai);},zh);};yc.prototype.__iterator=function(yh,zh){var ai=this._iter.__iterator(pa,zh);return new ua(function(){var bi=ai.next();return bi.done?bi:va(yh,bi.value,bi.value,bi);});};i(zc,db);function zc(yh){this._iter=yh;this.size=yh.size;}zc.prototype.entrySeq=function(){return this._iter.toSeq();};zc.prototype.__iterate=function(yh,zh){var ai=this;return this._iter.__iterate(function(bi){if(bi){sd(bi);var ci=fa(bi);return yh(ci?bi.get(1):bi[1],ci?bi.get(0):bi[0],ai);}},zh);};zc.prototype.__iterator=function(yh,zh){var ai=this._iter.__iterator(pa,zh);return new ua(function(){while(true){var bi=ai.next();if(bi.done)return bi;var ci=bi.value;if(ci){sd(ci);var di=fa(ci);return va(yh,di?ci.get(0):ci[0],di?ci.get(1):ci[1],bi);}}});};xc.prototype.cacheResult=wc.prototype.cacheResult=yc.prototype.cacheResult=zc.prototype.cacheResult=wd;function ad(yh){var zh=vd(yh);zh._iter=yh;zh.size=yh.size;zh.flip=function(){return yh;};zh.reverse=function(){var ai=yh.reverse.apply(this);ai.flip=function(){return yh.reverse();};return ai;};zh.has=function(ai){return yh.includes(ai);};zh.includes=function(ai){return yh.has(ai);};zh.cacheResult=wd;zh.__iterateUncached=function(ai,bi){var ci=this;return yh.__iterate(function(di,ei){return ai(ei,di,ci)!==false;},bi);};zh.__iteratorUncached=function(ai,bi){if(ai===qa){var ci=yh.__iterator(ai,bi);return new ua(function(){var di=ci.next();if(!di.done){var ei=di.value[0];di.value[0]=di.value[1];di.value[1]=ei;}return di;});}return yh.__iterator(ai===pa?oa:pa,bi);};return zh;}function bd(yh,zh,ai){var bi=vd(yh);bi.size=yh.size;bi.has=function(ci){return yh.has(ci);};bi.get=function(ci,di){var ei=yh.get(ci,n);return ei===n?di:zh.call(ai,ei,ci,yh);};bi.__iterateUncached=function(ci,di){var ei=this;return yh.__iterate(function(fi,gi,hi){return ci(zh.call(ai,fi,gi,hi),gi,ei)!==false;},di);};bi.__iteratorUncached=function(ci,di){var ei=yh.__iterator(qa,di);return new ua(function(){var fi=ei.next();if(fi.done)return fi;var gi=fi.value,hi=gi[0];return va(ci,hi,zh.call(ai,gi[1],hi,yh),fi);});};return bi;}function cd(yh,zh){var ai=vd(yh);ai._iter=yh;ai.size=yh.size;ai.reverse=function(){return yh;};if(yh.flip)ai.flip=function(){var bi=ad(yh);bi.reverse=function(){return yh.flip();};return bi;};ai.get=function(bi,ci){return yh.get(zh?bi:-1-bi,ci);};ai.has=function(bi){return yh.has(zh?bi:-1-bi);};ai.includes=function(bi){return yh.includes(bi);};ai.cacheResult=wd;ai.__iterate=function(bi,ci){var di=this;return yh.__iterate(function(ei,fi){return bi(ei,fi,di);},!ci);};ai.__iterator=function(bi,ci){return yh.__iterator(bi,!ci);};return ai;}function dd(yh,zh,ai,bi){var ci=vd(yh);if(bi){ci.has=function(di){var ei=yh.get(di,n);return ei!==n&&!!zh.call(ai,ei,di,yh);};ci.get=function(di,ei){var fi=yh.get(di,n);return fi!==n&&zh.call(ai,fi,di,yh)?fi:ei;};}ci.__iterateUncached=function(di,ei){var fi=this,gi=0;yh.__iterate(function(hi,ii,ji){if(zh.call(ai,hi,ii,ji)){gi++;return di(hi,bi?ii:gi-1,fi);}},ei);return gi;};ci.__iteratorUncached=function(di,ei){var fi=yh.__iterator(qa,ei),gi=0;return new ua(function(){while(true){var hi=fi.next();if(hi.done)return hi;var ii=hi.value,ji=ii[0],ki=ii[1];if(zh.call(ai,ki,ji,yh))return va(di,bi?ji:gi++,ki,hi);}});};return ci;}function ed(yh,zh,ai){var bi=zd().asMutable();yh.__iterate(function(ci,di){bi.update(zh.call(ai,ci,di,yh),0,function(ei){return ei+1;});});return bi.asImmutable();}function fd(yh,zh,ai){var bi=ga(yh),ci=(ja(yh)?yf():zd()).asMutable();yh.__iterate(function(ei,fi){ci.update(zh.call(ai,ei,fi,yh),function(gi){return (gi=gi||[],gi.push(bi?[fi,ei]:ei),gi);});});var di=ud(yh);return ci.map(function(ei){return rd(yh,di(ei));});}function gd(yh,zh,ai,bi){var ci=yh.size;if(x(zh,ai,ci))return yh;var di=y(zh,ci),ei=z(ai,ci);if(di!==di||ei!==ei)return gd(yh.toSeq().cacheResult(),zh,ai,bi);var fi=ei-di,gi;if(fi===fi)gi=fi<0?0:fi;var hi=vd(yh);hi.size=gi;if(!bi&&lb(yh)&&gi>=0)hi.get=function(ii,ji){ii=v(this,ii);return ii>=0&&ii<gi?yh.get(ii+di,ji):ji;};hi.__iterateUncached=function(ii,ji){var ki=this;if(gi===0)return 0;if(ji)return this.cacheResult().__iterate(ii,ji);var li=0,mi=true,ni=0;yh.__iterate(function(oi,pi){if(!(mi&&(mi=li++<di))){ni++;return ii(oi,bi?pi:ni-1,ki)!==false&&ni!==gi;}});return ni;};hi.__iteratorUncached=function(ii,ji){if(gi!==0&&ji)return this.cacheResult().__iterator(ii,ji);var ki=gi!==0&&yh.__iterator(ii,ji),li=0,mi=0;return new ua(function(){while(li++<di)ki.next();if(++mi>gi)return wa();var ni=ki.next();if(bi||ii===pa){return ni;}else if(ii===oa){return va(ii,mi-1,undefined,ni);}else return va(ii,mi-1,ni.value[1],ni);});};return hi;}function hd(yh,zh,ai){var bi=vd(yh);bi.__iterateUncached=function(ci,di){var ei=this;if(di)return this.cacheResult().__iterate(ci,di);var fi=0;yh.__iterate(function(gi,hi,ii){return zh.call(ai,gi,hi,ii)&&++fi&&ci(gi,hi,ei);});return fi;};bi.__iteratorUncached=function(ci,di){var ei=this;if(di)return this.cacheResult().__iterator(ci,di);var fi=yh.__iterator(qa,di),gi=true;return new ua(function(){if(!gi)return wa();var hi=fi.next();if(hi.done)return hi;var ii=hi.value,ji=ii[0],ki=ii[1];if(!zh.call(ai,ki,ji,ei)){gi=false;return wa();}return ci===qa?hi:va(ci,ji,ki,hi);});};return bi;}function id(yh,zh,ai,bi){var ci=vd(yh);ci.__iterateUncached=function(di,ei){var fi=this;if(ei)return this.cacheResult().__iterate(di,ei);var gi=true,hi=0;yh.__iterate(function(ii,ji,ki){if(!(gi&&(gi=zh.call(ai,ii,ji,ki)))){hi++;return di(ii,bi?ji:hi-1,fi);}});return hi;};ci.__iteratorUncached=function(di,ei){var fi=this;if(ei)return this.cacheResult().__iterator(di,ei);var gi=yh.__iterator(qa,ei),hi=true,ii=0;return new ua(function(){var ji,ki,li;do{ji=gi.next();if(ji.done)if(bi||di===pa){return ji;}else if(di===oa){return va(di,ii++,undefined,ji);}else return va(di,ii++,ji.value[1],ji);var mi=ji.value;ki=mi[0];li=mi[1];hi&&(hi=zh.call(ai,li,ki,fi));}while(hi);return di===qa?ji:va(di,ki,li,ji);});};return ci;}function jd(yh,zh){var ai=ga(yh),bi=[yh].concat(zh).map(function(ei){if(!fa(ei)){ei=ai?ob(ei):pb(Array.isArray(ei)?ei:[ei]);}else if(ai)ei=ca(ei);return ei;}).filter(function(ei){return ei.size!==0;});if(bi.length===0)return yh;if(bi.length===1){var ci=bi[0];if(ci===yh||ai&&ga(ci)||ha(yh)&&ha(ci))return ci;}var di=new hb(bi);if(ai){di=di.toKeyedSeq();}else if(!ha(yh))di=di.toSetSeq();di=di.flatten(true);di.size=bi.reduce(function(ei,fi){if(ei!==undefined){var gi=fi.size;if(gi!==undefined)return ei+gi;}},0);return di;}function kd(yh,zh,ai){var bi=vd(yh);bi.__iterateUncached=function(ci,di){var ei=0,fi=false;function gi(hi,ii){var ji=this;hi.__iterate(function(ki,li){if((!zh||ii<zh)&&fa(ki)){gi(ki,ii+1);}else if(ci(ki,ai?li:ei++,ji)===false)fi=true;return !fi;},di);}gi(yh,0);return ei;};bi.__iteratorUncached=function(ci,di){var ei=yh.__iterator(ci,di),fi=[],gi=0;return new ua(function(){while(ei){var hi=ei.next();if(hi.done!==false){ei=fi.pop();continue;}var ii=hi.value;if(ci===qa)ii=ii[1];if((!zh||fi.length<zh)&&fa(ii)){fi.push(ei);ei=ii.__iterator(ci,di);}else return ai?hi:va(ci,gi++,ii,hi);}return wa();});};return bi;}function ld(yh,zh,ai){var bi=ud(yh);return yh.toSeq().map(function(ci,di){return bi(zh.call(ai,ci,di,yh));}).flatten(true);}function md(yh,zh){var ai=vd(yh);ai.size=yh.size&&yh.size*2-1;ai.__iterateUncached=function(bi,ci){var di=this,ei=0;yh.__iterate(function(fi,gi){return (!ei||bi(zh,ei++,di)!==false)&&bi(fi,ei++,di)!==false;},ci);return ei;};ai.__iteratorUncached=function(bi,ci){var di=yh.__iterator(pa,ci),ei=0,fi;return new ua(function(){if(!fi||ei%2){fi=di.next();if(fi.done)return fi;}return ei%2?va(bi,ei++,zh):va(bi,ei++,fi.value,fi);});};return ai;}function nd(yh,zh,ai){if(!zh)zh=xd;var bi=ga(yh),ci=0,di=yh.toSeq().map(function(ei,fi){return [fi,ei,ci++,ai?ai(ei,fi,yh):ei];}).toArray();di.sort(function(ei,fi){return zh(ei[3],fi[3])||ei[2]-fi[2];}).forEach(bi?function(ei,fi){di[fi].length=2;}:function(ei,fi){di[fi]=ei[1];});return bi?db(di):ha(yh)?eb(di):fb(di);}function od(yh,zh,ai){if(!zh)zh=xd;if(ai){var bi=yh.toSeq().map(function(ci,di){return [ci,ai(ci,di,yh)];}).reduce(function(ci,di){return pd(zh,ci[1],di[1])?di:ci;});return bi&&bi[0];}else return yh.reduce(function(ci,di){return pd(zh,ci,di)?di:ci;});}function pd(yh,zh,ai){var bi=yh(ai,zh);return (bi===0&&ai!==zh&&(ai===undefined||ai===null||ai!==ai))||bi>0;}function qd(yh,zh,ai){var bi=vd(yh);bi.size=new hb(ai).map(function(ci){return ci.size;}).min();bi.__iterate=function(ci,di){var ei=this.__iterator(pa,di),fi,gi=0;while(!(fi=ei.next()).done)if(ci(fi.value,gi++,this)===false)break;return gi;};bi.__iteratorUncached=function(ci,di){var ei=ai.map(function(hi){return (hi=ba(hi),za(di?hi.reverse():hi));}),fi=0,gi=false;return new ua(function(){var hi;if(!gi){hi=ei.map(function(ii){return ii.next();});gi=hi.some(function(ii){return ii.done;});}if(gi)return wa();return va(ci,fi++,zh.apply(null,hi.map(function(ii){return ii.value;})));});};return bi;}function rd(yh,zh){return lb(yh)?zh:yh.constructor(zh);}function sd(yh){if(yh!==Object(yh))throw new TypeError('Expected [K, V] tuple: '+yh);}function td(yh){vc(yh.size);return u(yh);}function ud(yh){return ga(yh)?ca:ha(yh)?da:ea;}function vd(yh){return Object.create((ga(yh)?db:ha(yh)?eb:fb).prototype);}function wd(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this;}else return cb.prototype.cacheResult.call(this);}function xd(yh,zh){return yh>zh?1:yh<zh?-1:0;}function yd(yh){var zh=za(yh);if(!zh){if(!bb(yh))throw new TypeError('Expected iterable or array-like: '+yh);zh=za(ba(yh));}return zh;}i(zd,vb);function zd(yh){return yh===null||yh===undefined?ne():ae(yh)?yh:ne().withMutations(function(zh){var ai=ca(yh);vc(ai.size);ai.forEach(function(bi,ci){return zh.set(ci,bi);});});}zd.prototype.toString=function(){return this.__toString('Map {','}');};zd.prototype.get=function(yh,zh){return this._root?this._root.get(0,undefined,yh,zh):zh;};zd.prototype.set=function(yh,zh){return oe(this,yh,zh);};zd.prototype.setIn=function(yh,zh){return this.updateIn(yh,n,function(){return zh;});};zd.prototype.remove=function(yh){return oe(this,yh,n);};zd.prototype.deleteIn=function(yh){return this.updateIn(yh,function(){return n;});};zd.prototype.update=function(yh,zh,ai){return arguments.length===1?yh(this):this.updateIn([yh],zh,ai);};zd.prototype.updateIn=function(yh,zh,ai){if(!ai){ai=zh;zh=undefined;}var bi=ye(this,yd(yh),zh,ai);return bi===n?undefined:bi;};zd.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this;}return ne();};zd.prototype.merge=function(){return ve(this,undefined,arguments);};zd.prototype.mergeWith=function(yh){var zh=h.call(arguments,1);return ve(this,yh,zh);};zd.prototype.mergeIn=function(yh){var zh=h.call(arguments,1);return this.updateIn(yh,ne(),function(ai){return typeof ai.merge==='function'?ai.merge.apply(ai,zh):zh[zh.length-1];});};zd.prototype.mergeDeep=function(){return ve(this,we(undefined),arguments);};zd.prototype.mergeDeepWith=function(yh){var zh=h.call(arguments,1);return ve(this,we(yh),zh);};zd.prototype.mergeDeepIn=function(yh){var zh=h.call(arguments,1);return this.updateIn(yh,ne(),function(ai){return typeof ai.mergeDeep==='function'?ai.mergeDeep.apply(ai,zh):zh[zh.length-1];});};zd.prototype.sort=function(yh){return yf(nd(this,yh));};zd.prototype.sortBy=function(yh,zh){return yf(nd(this,zh,yh));};zd.prototype.withMutations=function(yh){var zh=this.asMutable();yh(zh);return zh.wasAltered()?zh.__ensureOwner(this.__ownerID):this;};zd.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new s());};zd.prototype.asImmutable=function(){return this.__ensureOwner();};zd.prototype.wasAltered=function(){return this.__altered;};zd.prototype.__iterator=function(yh,zh){return new ie(this,yh,zh);};zd.prototype.__iterate=function(yh,zh){var ai=this,bi=0;this._root&&this._root.iterate(function(ci){bi++;return yh(ci[1],ci[0],ai);},zh);return bi;};zd.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;if(!yh){this.__ownerID=yh;this.__altered=false;return this;}return le(this.size,this._root,yh,this.__hash);};function ae(yh){return !!(yh&&yh[be]);}zd.isMap=ae;var be='@@__IMMUTABLE_MAP__@@',ce=zd.prototype;ce[be]=true;ce[j]=ce.remove;ce.removeIn=ce.deleteIn;function de(yh,zh){this.ownerID=yh;this.entries=zh;}de.prototype.get=function(yh,zh,ai,bi){var ci=this.entries;for(var di=0,ei=ci.length;di<ei;di++)if(yb(ai,ci[di][0]))return ci[di][1];return bi;};de.prototype.update=function(yh,zh,ai,bi,ci,di,ei){var fi=ci===n,gi=this.entries,hi=0;for(var ii=gi.length;hi<ii;hi++)if(yb(bi,gi[hi][0]))break;var ji=hi<ii;if(ji?gi[hi][1]===ci:fi)return this;r(ei);(fi||!ji)&&r(di);if(fi&&gi.length===1)return;if(!ji&&!fi&&gi.length>=df)return se(yh,gi,bi,ci);var ki=yh&&yh===this.ownerID,li=ki?gi:t(gi);if(ji){if(fi){hi===ii-1?li.pop():(li[hi]=li.pop());}else li[hi]=[bi,ci];}else li.push([bi,ci]);if(ki){this.entries=li;return this;}return new de(yh,li);};function ee(yh,zh,ai){this.ownerID=yh;this.bitmap=zh;this.nodes=ai;}ee.prototype.get=function(yh,zh,ai,bi){if(zh===undefined)zh=fc(ai);var ci=(1<<((yh===0?zh:zh>>>yh)&m)),di=this.bitmap;return (di&ci)===0?bi:this.nodes[ze(di&(ci-1))].get(yh+k,zh,ai,bi);};ee.prototype.update=function(yh,zh,ai,bi,ci,di,ei){if(ai===undefined)ai=fc(bi);var fi=(zh===0?ai:ai>>>zh)&m,gi=1<<fi,hi=this.bitmap,ii=(hi&gi)!==0;if(!ii&&ci===n)return this;var ji=ze(hi&(gi-1)),ki=this.nodes,li=ii?ki[ji]:undefined,mi=pe(li,yh,zh+k,ai,bi,ci,di,ei);if(mi===li)return this;if(!ii&&mi&&ki.length>=ef)return ue(yh,ki,hi,fi,mi);if(ii&&!mi&&ki.length===2&&qe(ki[ji^1]))return ki[ji^1];if(ii&&mi&&ki.length===1&&qe(mi))return mi;var ni=yh&&yh===this.ownerID,oi=ii?mi?hi:hi^gi:hi|gi,pi=ii?mi?af(ki,ji,mi,ni):cf(ki,ji,ni):bf(ki,ji,mi,ni);if(ni){this.bitmap=oi;this.nodes=pi;return this;}return new ee(yh,oi,pi);};function fe(yh,zh,ai){this.ownerID=yh;this.count=zh;this.nodes=ai;}fe.prototype.get=function(yh,zh,ai,bi){if(zh===undefined)zh=fc(ai);var ci=(yh===0?zh:zh>>>yh)&m,di=this.nodes[ci];return di?di.get(yh+k,zh,ai,bi):bi;};fe.prototype.update=function(yh,zh,ai,bi,ci,di,ei){if(ai===undefined)ai=fc(bi);var fi=(zh===0?ai:ai>>>zh)&m,gi=ci===n,hi=this.nodes,ii=hi[fi];if(gi&&!ii)return this;var ji=pe(ii,yh,zh+k,ai,bi,ci,di,ei);if(ji===ii)return this;var ki=this.count;if(!ii){ki++;}else if(!ji){ki--;if(ki<ff)return te(yh,hi,ki,fi);}var li=yh&&yh===this.ownerID,mi=af(hi,fi,ji,li);if(li){this.count=ki;this.nodes=mi;return this;}return new fe(yh,ki,mi);};function ge(yh,zh,ai){this.ownerID=yh;this.keyHash=zh;this.entries=ai;}ge.prototype.get=function(yh,zh,ai,bi){var ci=this.entries;for(var di=0,ei=ci.length;di<ei;di++)if(yb(ai,ci[di][0]))return ci[di][1];return bi;};ge.prototype.update=function(yh,zh,ai,bi,ci,di,ei){if(ai===undefined)ai=fc(bi);var fi=ci===n;if(ai!==this.keyHash){if(fi)return this;r(ei);r(di);return re(this,yh,zh,ai,[bi,ci]);}var gi=this.entries,hi=0;for(var ii=gi.length;hi<ii;hi++)if(yb(bi,gi[hi][0]))break;var ji=hi<ii;if(ji?gi[hi][1]===ci:fi)return this;r(ei);(fi||!ji)&&r(di);if(fi&&ii===2)return new he(yh,this.keyHash,gi[hi^1]);var ki=yh&&yh===this.ownerID,li=ki?gi:t(gi);if(ji){if(fi){hi===ii-1?li.pop():(li[hi]=li.pop());}else li[hi]=[bi,ci];}else li.push([bi,ci]);if(ki){this.entries=li;return this;}return new ge(yh,this.keyHash,li);};function he(yh,zh,ai){this.ownerID=yh;this.keyHash=zh;this.entry=ai;}he.prototype.get=function(yh,zh,ai,bi){return yb(ai,this.entry[0])?this.entry[1]:bi;};he.prototype.update=function(yh,zh,ai,bi,ci,di,ei){var fi=ci===n,gi=yb(bi,this.entry[0]);if(gi?ci===this.entry[1]:fi)return this;r(ei);if(fi){r(di);return;}if(gi){if(yh&&yh===this.ownerID){this.entry[1]=ci;return this;}return new he(yh,this.keyHash,[bi,ci]);}r(di);return re(this,yh,zh,fc(bi),[bi,ci]);};de.prototype.iterate=ge.prototype.iterate=function(yh,zh){var ai=this.entries;for(var bi=0,ci=ai.length-1;bi<=ci;bi++)if(yh(ai[zh?ci-bi:bi])===false)return false;};ee.prototype.iterate=fe.prototype.iterate=function(yh,zh){var ai=this.nodes;for(var bi=0,ci=ai.length-1;bi<=ci;bi++){var di=ai[zh?ci-bi:bi];if(di&&di.iterate(yh,zh)===false)return false;}};he.prototype.iterate=function(yh,zh){return yh(this.entry);};i(ie,ua);function ie(yh,zh,ai){this._type=zh;this._reverse=ai;this._stack=yh._root&&ke(yh._root);}ie.prototype.next=function(){var yh=this._type,zh=this._stack;while(zh){var ai=zh.node,bi=zh.index++,ci;if(ai.entry){if(bi===0)return je(yh,ai.entry);}else if(ai.entries){ci=ai.entries.length-1;if(bi<=ci)return je(yh,ai.entries[this._reverse?ci-bi:bi]);}else{ci=ai.nodes.length-1;if(bi<=ci){var di=ai.nodes[this._reverse?ci-bi:bi];if(di){if(di.entry)return je(yh,di.entry);zh=this._stack=ke(di,zh);}continue;}}zh=this._stack=this._stack.__prev;}return wa();};function je(yh,zh){return va(yh,zh[0],zh[1]);}function ke(yh,zh){return {node:yh,index:0,__prev:zh};}function le(yh,zh,ai,bi){var ci=Object.create(ce);ci.size=yh;ci._root=zh;ci.__ownerID=ai;ci.__hash=bi;ci.__altered=false;return ci;}var me;function ne(){return me||(me=le(0));}function oe(yh,zh,ai){var bi,ci;if(!yh._root){if(ai===n)return yh;ci=1;bi=new de(yh.__ownerID,[[zh,ai]]);}else{var di=q(o),ei=q(p);bi=pe(yh._root,yh.__ownerID,0,undefined,zh,ai,di,ei);if(!ei.value)return yh;ci=yh.size+(di.value?ai===n?-1:1:0);}if(yh.__ownerID){yh.size=ci;yh._root=bi;yh.__hash=undefined;yh.__altered=true;return yh;}return bi?le(ci,bi):ne();}function pe(yh,zh,ai,bi,ci,di,ei,fi){if(!yh){if(di===n)return yh;r(fi);r(ei);return new he(zh,bi,[ci,di]);}return yh.update(zh,ai,bi,ci,di,ei,fi);}function qe(yh){return yh.constructor===he||yh.constructor===ge;}function re(yh,zh,ai,bi,ci){if(yh.keyHash===bi)return new ge(zh,bi,[yh.entry,ci]);var di=(ai===0?yh.keyHash:yh.keyHash>>>ai)&m,ei=(ai===0?bi:bi>>>ai)&m,fi,gi=di===ei?[re(yh,zh,ai+k,bi,ci)]:((fi=new he(zh,bi,ci)),di<ei?[yh,fi]:[fi,yh]);return new ee(zh,(1<<di)|(1<<ei),gi);}function se(yh,zh,ai,bi){if(!yh)yh=new s();var ci=new he(yh,fc(ai),[ai,bi]);for(var di=0;di<zh.length;di++){var ei=zh[di];ci=ci.update(yh,0,undefined,ei[0],ei[1]);}return ci;}function te(yh,zh,ai,bi){var ci=0,di=0,ei=new Array(ai);for(var fi=0,gi=1,hi=zh.length;fi<hi;fi++,gi<<=1){var ii=zh[fi];if(ii!==undefined&&fi!==bi){ci|=gi;ei[di++]=ii;}}return new ee(yh,ci,ei);}function ue(yh,zh,ai,bi,ci){var di=0,ei=new Array(l);for(var fi=0;ai!==0;fi++,ai>>>=1)ei[fi]=ai&1?zh[di++]:undefined;ei[bi]=ci;return new fe(yh,di+1,ei);}function ve(yh,zh,ai){var bi=[];for(var ci=0;ci<ai.length;ci++){var di=ai[ci],ei=ca(di);if(!fa(di))ei=ei.map(function(fi){return zb(fi);});bi.push(ei);}return xe(yh,zh,bi);}function we(yh){return function(zh,ai,bi){return zh&&zh.mergeDeepWith&&fa(ai)?zh.mergeDeepWith(yh,ai):yh?yh(zh,ai,bi):ai;};}function xe(yh,zh,ai){ai=ai.filter(function(bi){return bi.size!==0;});if(ai.length===0)return yh;if(yh.size===0&&!yh.__ownerID&&ai.length===1)return yh.constructor(ai[0]);return yh.withMutations(function(bi){var ci=zh?function(ei,fi){bi.update(fi,n,function(gi){return gi===n?ei:zh(gi,ei,fi);});}:function(ei,fi){bi.set(fi,ei);};for(var di=0;di<ai.length;di++)ai[di].forEach(ci);});}function ye(yh,zh,ai,bi){var ci=yh===n,di=zh.next();if(di.done){var ei=ci?ai:yh,fi=bi(ei);return fi===ei?yh:fi;}uc(ci||(yh&&yh.set));var gi=di.value,hi=ci?n:yh.get(gi,n),ii=ye(hi,zh,ai,bi);return ii===hi?yh:ii===n?yh.remove(gi):(ci?ne():yh).set(gi,ii);}function ze(yh){yh=yh-((yh>>1)&1431655765);yh=(yh&858993459)+((yh>>2)&858993459);yh=(yh+(yh>>4))&252645135;yh=yh+(yh>>8);yh=yh+(yh>>16);return yh&127;}function af(yh,zh,ai,bi){var ci=bi?yh:t(yh);ci[zh]=ai;return ci;}function bf(yh,zh,ai,bi){var ci=yh.length+1;if(bi&&zh+1===ci){yh[zh]=ai;return yh;}var di=new Array(ci),ei=0;for(var fi=0;fi<ci;fi++)if(fi===zh){di[fi]=ai;ei=-1;}else di[fi]=yh[fi+ei];return di;}function cf(yh,zh,ai){var bi=yh.length-1;if(ai&&zh===bi){yh.pop();return yh;}var ci=new Array(bi),di=0;for(var ei=0;ei<bi;ei++){if(ei===zh)di=1;ci[ei]=yh[ei+di];}return ci;}var df=l/4,ef=l/2,ff=l/4;i(gf,wb);function gf(yh){var zh=qf();if(yh===null||yh===undefined)return zh;if(hf(yh))return yh;var ai=da(yh),bi=ai.size;if(bi===0)return zh;vc(bi);if(bi>0&&bi<l)return of(0,bi,k,null,new lf(ai.toArray()));return zh.withMutations(function(ci){ci.setSize(bi);ai.forEach(function(di,ei){return ci.set(ei,di);});});}gf.of=function(){return this(arguments);};gf.prototype.toString=function(){return this.__toString('List [',']');};gf.prototype.get=function(yh,zh){yh=v(this,yh);if(yh<0||yh>=this.size)return zh;yh+=this._origin;var ai=uf(this,yh);return ai&&ai.array[yh&m];};gf.prototype.set=function(yh,zh){return rf(this,yh,zh);};gf.prototype.remove=function(yh){return !this.has(yh)?this:yh===0?this.shift():yh===this.size-1?this.pop():this.splice(yh,1);};gf.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=k;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this;}return qf();};gf.prototype.push=function(){var yh=arguments,zh=this.size;return this.withMutations(function(ai){vf(ai,0,zh+yh.length);for(var bi=0;bi<yh.length;bi++)ai.set(zh+bi,yh[bi]);});};gf.prototype.pop=function(){return vf(this,0,-1);};gf.prototype.unshift=function(){var yh=arguments;return this.withMutations(function(zh){vf(zh,-yh.length);for(var ai=0;ai<yh.length;ai++)zh.set(ai,yh[ai]);});};gf.prototype.shift=function(){return vf(this,1);};gf.prototype.merge=function(){return wf(this,undefined,arguments);};gf.prototype.mergeWith=function(yh){var zh=h.call(arguments,1);return wf(this,yh,zh);};gf.prototype.mergeDeep=function(){return wf(this,we(undefined),arguments);};gf.prototype.mergeDeepWith=function(yh){var zh=h.call(arguments,1);return wf(this,we(yh),zh);};gf.prototype.setSize=function(yh){return vf(this,0,yh);};gf.prototype.slice=function(yh,zh){var ai=this.size;if(x(yh,zh,ai))return this;return vf(this,y(yh,ai),z(zh,ai));};gf.prototype.__iterator=function(yh,zh){var ai=0,bi=nf(this,zh);return new ua(function(){var ci=bi();return ci===mf?wa():va(yh,ai++,ci);});};gf.prototype.__iterate=function(yh,zh){var ai=0,bi=nf(this,zh),ci;while((ci=bi())!==mf)if(yh(ci,ai++,this)===false)break;return ai;};gf.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;if(!yh){this.__ownerID=yh;return this;}return of(this._origin,this._capacity,this._level,this._root,this._tail,yh,this.__hash);};function hf(yh){return !!(yh&&yh[jf]);}gf.isList=hf;var jf='@@__IMMUTABLE_LIST__@@',kf=gf.prototype;kf[jf]=true;kf[j]=kf.remove;kf.setIn=ce.setIn;kf.deleteIn=kf.removeIn=ce.removeIn;kf.update=ce.update;kf.updateIn=ce.updateIn;kf.mergeIn=ce.mergeIn;kf.mergeDeepIn=ce.mergeDeepIn;kf.withMutations=ce.withMutations;kf.asMutable=ce.asMutable;kf.asImmutable=ce.asImmutable;kf.wasAltered=ce.wasAltered;function lf(yh,zh){this.array=yh;this.ownerID=zh;}lf.prototype.removeBefore=function(yh,zh,ai){if(ai===zh?1<<zh:this.array.length===0)return this;var bi=(ai>>>zh)&m;if(bi>=this.array.length)return new lf([],yh);var ci=bi===0,di;if(zh>0){var ei=this.array[bi];di=ei&&ei.removeBefore(yh,zh-k,ai);if(di===ei&&ci)return this;}if(ci&&!di)return this;var fi=tf(this,yh);if(!ci)for(var gi=0;gi<bi;gi++)fi.array[gi]=undefined;if(di)fi.array[bi]=di;return fi;};lf.prototype.removeAfter=function(yh,zh,ai){if(ai===zh?1<<zh:this.array.length===0)return this;var bi=((ai-1)>>>zh)&m;if(bi>=this.array.length)return this;var ci=bi===this.array.length-1,di;if(zh>0){var ei=this.array[bi];di=ei&&ei.removeAfter(yh,zh-k,ai);if(di===ei&&ci)return this;}if(ci&&!di)return this;var fi=tf(this,yh);if(!ci)fi.array.pop();if(di)fi.array[bi]=di;return fi;};var mf={};function nf(yh,zh){var ai=yh._origin,bi=yh._capacity,ci=xf(bi),di=yh._tail;return ei(yh._root,yh._level,0);function ei(hi,ii,ji){return ii===0?fi(hi,ji):gi(hi,ii,ji);}function fi(hi,ii){var ji=ii===ci?di&&di.array:hi&&hi.array,ki=ii>ai?0:ai-ii,li=bi-ii;if(li>l)li=l;return function(){if(ki===li)return mf;var mi=zh?--li:ki++;return ji&&ji[mi];};}function gi(hi,ii,ji){var ki,li=hi&&hi.array,mi=ji>ai?0:(ai-ji)>>ii,ni=((bi-ji)>>ii)+1;if(ni>l)ni=l;return function(){do{if(ki){var oi=ki();if(oi!==mf)return oi;ki=null;}if(mi===ni)return mf;var pi=zh?--ni:mi++;ki=ei(li&&li[pi],ii-k,ji+(pi<<ii));}while(true);};}}function of(yh,zh,ai,bi,ci,di,ei){var fi=Object.create(kf);fi.size=zh-yh;fi._origin=yh;fi._capacity=zh;fi._level=ai;fi._root=bi;fi._tail=ci;fi.__ownerID=di;fi.__hash=ei;fi.__altered=false;return fi;}var pf;function qf(){return pf||(pf=of(0,0,k));}function rf(yh,zh,ai){zh=v(yh,zh);if(zh>=yh.size||zh<0)return yh.withMutations(function(ei){zh<0?vf(ei,zh).set(0,ai):vf(ei,0,zh+1).set(zh,ai);});zh+=yh._origin;var bi=yh._tail,ci=yh._root,di=q(p);if(zh>=xf(yh._capacity)){bi=sf(bi,yh.__ownerID,0,zh,ai,di);}else ci=sf(ci,yh.__ownerID,yh._level,zh,ai,di);if(!di.value)return yh;if(yh.__ownerID){yh._root=ci;yh._tail=bi;yh.__hash=undefined;yh.__altered=true;return yh;}return of(yh._origin,yh._capacity,yh._level,ci,bi);}function sf(yh,zh,ai,bi,ci,di){var ei=(bi>>>ai)&m,fi=yh&&ei<yh.array.length;if(!fi&&ci===undefined)return yh;var gi;if(ai>0){var hi=yh&&yh.array[ei],ii=sf(hi,zh,ai-k,bi,ci,di);if(ii===hi)return yh;gi=tf(yh,zh);gi.array[ei]=ii;return gi;}if(fi&&yh.array[ei]===ci)return yh;r(di);gi=tf(yh,zh);if(ci===undefined&&ei===gi.array.length-1){gi.array.pop();}else gi.array[ei]=ci;return gi;}function tf(yh,zh){if(zh&&yh&&zh===yh.ownerID)return yh;return new lf(yh?yh.array.slice():[],zh);}function uf(yh,zh){if(zh>=xf(yh._capacity))return yh._tail;if(zh<1<<(yh._level+k)){var ai=yh._root,bi=yh._level;while(ai&&bi>0){ai=ai.array[(zh>>>bi)&m];bi-=k;}return ai;}}function vf(yh,zh,ai){var bi=yh.__ownerID||new s(),ci=yh._origin,di=yh._capacity,ei=ci+zh,fi=ai===undefined?di:ai<0?di+ai:ci+ai;if(ei===ci&&fi===di)return yh;if(ei>=fi)return yh.clear();var gi=yh._level,hi=yh._root,ii=0;while(ei+ii<0){hi=new lf(hi&&hi.array.length?[undefined,hi]:[],bi);gi+=k;ii+=1<<gi;}if(ii){ei+=ii;ci+=ii;fi+=ii;di+=ii;}var ji=xf(di),ki=xf(fi);while(ki>=1<<(gi+k)){hi=new lf(hi&&hi.array.length?[hi]:[],bi);gi+=k;}var li=yh._tail,mi=ki<ji?uf(yh,fi-1):ki>ji?new lf([],bi):li;if(li&&ki>ji&&ei<di&&li.array.length){hi=tf(hi,bi);var ni=hi;for(var oi=gi;oi>k;oi-=k){var pi=(ji>>>oi)&m;ni=ni.array[pi]=tf(ni.array[pi],bi);}ni.array[(ji>>>k)&m]=li;}if(fi<di)mi=mi&&mi.removeAfter(bi,0,fi);if(ei>=ki){ei-=ki;fi-=ki;gi=k;hi=null;mi=mi&&mi.removeBefore(bi,0,ei);}else if(ei>ci||ki<ji){ii=0;while(hi){var qi=(ei>>>gi)&m;if(qi!==(ki>>>gi)&m)break;if(qi)ii+=(1<<gi)*qi;gi-=k;hi=hi.array[qi];}if(hi&&ei>ci)hi=hi.removeBefore(bi,gi,ei-ii);if(hi&&ki<ji)hi=hi.removeAfter(bi,gi,ki-ii);if(ii){ei-=ii;fi-=ii;}}if(yh.__ownerID){yh.size=fi-ei;yh._origin=ei;yh._capacity=fi;yh._level=gi;yh._root=hi;yh._tail=mi;yh.__hash=undefined;yh.__altered=true;return yh;}return of(ei,fi,gi,hi,mi);}function wf(yh,zh,ai){var bi=[],ci=0;for(var di=0;di<ai.length;di++){var ei=ai[di],fi=da(ei);if(fi.size>ci)ci=fi.size;if(!fa(ei))fi=fi.map(function(gi){return zb(gi);});bi.push(fi);}if(ci>yh.size)yh=yh.setSize(ci);return xe(yh,zh,bi);}function xf(yh){return yh<l?0:(((yh-1)>>>k)<<k);}i(yf,zd);function yf(yh){return yh===null||yh===undefined?cg():zf(yh)?yh:cg().withMutations(function(zh){var ai=ca(yh);vc(ai.size);ai.forEach(function(bi,ci){return zh.set(ci,bi);});});}yf.of=function(){return this(arguments);};yf.prototype.toString=function(){return this.__toString('OrderedMap {','}');};yf.prototype.get=function(yh,zh){var ai=this._map.get(yh);return ai!==undefined?this._list.get(ai)[1]:zh;};yf.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this;}return cg();};yf.prototype.set=function(yh,zh){return dg(this,yh,zh);};yf.prototype.remove=function(yh){return dg(this,yh,n);};yf.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered();};yf.prototype.__iterate=function(yh,zh){var ai=this;return this._list.__iterate(function(bi){return bi&&yh(bi[1],bi[0],ai);},zh);};yf.prototype.__iterator=function(yh,zh){return this._list.fromEntrySeq().__iterator(yh,zh);};yf.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;var zh=this._map.__ensureOwner(yh),ai=this._list.__ensureOwner(yh);if(!yh){this.__ownerID=yh;this._map=zh;this._list=ai;return this;}return ag(zh,ai,yh,this.__hash);};function zf(yh){return ae(yh)&&ja(yh);}yf.isOrderedMap=zf;yf.prototype[na]=true;yf.prototype[j]=yf.prototype.remove;function ag(yh,zh,ai,bi){var ci=Object.create(yf.prototype);ci.size=yh?yh.size:0;ci._map=yh;ci._list=zh;ci.__ownerID=ai;ci.__hash=bi;return ci;}var bg;function cg(){return bg||(bg=ag(ne(),qf()));}function dg(yh,zh,ai){var bi=yh._map,ci=yh._list,di=bi.get(zh),ei=di!==undefined,fi,gi;if(ai===n){if(!ei)return yh;if(ci.size>=l&&ci.size>=bi.size*2){gi=ci.filter(function(hi,ii){return hi!==undefined&&di!==ii;});fi=gi.toKeyedSeq().map(function(hi){return hi[0];}).flip().toMap();if(yh.__ownerID)fi.__ownerID=gi.__ownerID=yh.__ownerID;}else{fi=bi.remove(zh);gi=di===ci.size-1?ci.pop():ci.set(di,undefined);}}else if(ei){if(ai===ci.get(di)[1])return yh;fi=bi;gi=ci.set(di,[zh,ai]);}else{fi=bi.set(zh,ci.size);gi=ci.set(ci.size,[zh,ai]);}if(yh.__ownerID){yh.size=fi.size;yh._map=fi;yh._list=gi;yh.__hash=undefined;return yh;}return ag(fi,gi);}i(eg,wb);function eg(yh){return yh===null||yh===undefined?kg():fg(yh)?yh:kg().unshiftAll(yh);}eg.of=function(){return this(arguments);};eg.prototype.toString=function(){return this.__toString('Stack [',']');};eg.prototype.get=function(yh,zh){var ai=this._head;yh=v(this,yh);while(ai&&yh--)ai=ai.next;return ai?ai.value:zh;};eg.prototype.peek=function(){return this._head&&this._head.value;};eg.prototype.push=function(){if(arguments.length===0)return this;var yh=this.size+arguments.length,zh=this._head;for(var ai=arguments.length-1;ai>=0;ai--)zh={value:arguments[ai],next:zh};if(this.__ownerID){this.size=yh;this._head=zh;this.__hash=undefined;this.__altered=true;return this;}return ig(yh,zh);};eg.prototype.pushAll=function(yh){yh=da(yh);if(yh.size===0)return this;vc(yh.size);var zh=this.size,ai=this._head;yh.reverse().forEach(function(bi){zh++;ai={value:bi,next:ai};});if(this.__ownerID){this.size=zh;this._head=ai;this.__hash=undefined;this.__altered=true;return this;}return ig(zh,ai);};eg.prototype.pop=function(){return this.slice(1);};eg.prototype.unshift=function(){return this.push.apply(this,arguments);};eg.prototype.unshiftAll=function(yh){return this.pushAll(yh);};eg.prototype.shift=function(){return this.pop.apply(this,arguments);};eg.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this;}return kg();};eg.prototype.slice=function(yh,zh){if(x(yh,zh,this.size))return this;var ai=y(yh,this.size),bi=z(zh,this.size);if(bi!==this.size)return wb.prototype.slice.call(this,yh,zh);var ci=this.size-ai,di=this._head;while(ai--)di=di.next;if(this.__ownerID){this.size=ci;this._head=di;this.__hash=undefined;this.__altered=true;return this;}return ig(ci,di);};eg.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;if(!yh){this.__ownerID=yh;this.__altered=false;return this;}return ig(this.size,this._head,yh,this.__hash);};eg.prototype.__iterate=function(yh,zh){if(zh)return this.reverse().__iterate(yh);var ai=0,bi=this._head;while(bi){if(yh(bi.value,ai++,this)===false)break;bi=bi.next;}return ai;};eg.prototype.__iterator=function(yh,zh){if(zh)return this.reverse().__iterator(yh);var ai=0,bi=this._head;return new ua(function(){if(bi){var ci=bi.value;bi=bi.next;return va(yh,ai++,ci);}return wa();});};function fg(yh){return !!(yh&&yh[gg]);}eg.isStack=fg;var gg='@@__IMMUTABLE_STACK__@@',hg=eg.prototype;hg[gg]=true;hg.withMutations=ce.withMutations;hg.asMutable=ce.asMutable;hg.asImmutable=ce.asImmutable;hg.wasAltered=ce.wasAltered;function ig(yh,zh,ai,bi){var ci=Object.create(hg);ci.size=yh;ci._head=zh;ci.__ownerID=ai;ci.__hash=bi;ci.__altered=false;return ci;}var jg;function kg(){return jg||(jg=ig(0));}i(lg,xb);function lg(yh){return yh===null||yh===undefined?sg():mg(yh)?yh:sg().withMutations(function(zh){var ai=ea(yh);vc(ai.size);ai.forEach(function(bi){return zh.add(bi);});});}lg.of=function(){return this(arguments);};lg.fromKeys=function(yh){return this(ca(yh).keySeq());};lg.prototype.toString=function(){return this.__toString('Set {','}');};lg.prototype.has=function(yh){return this._map.has(yh);};lg.prototype.add=function(yh){return pg(this,this._map.set(yh,true));};lg.prototype.remove=function(yh){return pg(this,this._map.remove(yh));};lg.prototype.clear=function(){return pg(this,this._map.clear());};lg.prototype.union=function(){var yh=h.call(arguments,0);yh=yh.filter(function(zh){return zh.size!==0;});if(yh.length===0)return this;if(this.size===0&&!this.__ownerID&&yh.length===1)return this.constructor(yh[0]);return this.withMutations(function(zh){for(var ai=0;ai<yh.length;ai++)ea(yh[ai]).forEach(function(bi){return zh.add(bi);});});};lg.prototype.intersect=function(){var yh=h.call(arguments,0);if(yh.length===0)return this;yh=yh.map(function(ai){return ea(ai);});var zh=this;return this.withMutations(function(ai){zh.forEach(function(bi){if(!yh.every(function(ci){return ci.includes(bi);}))ai.remove(bi);});});};lg.prototype.subtract=function(){var yh=h.call(arguments,0);if(yh.length===0)return this;yh=yh.map(function(ai){return ea(ai);});var zh=this;return this.withMutations(function(ai){zh.forEach(function(bi){if(yh.some(function(ci){return ci.includes(bi);}))ai.remove(bi);});});};lg.prototype.merge=function(){return this.union.apply(this,arguments);};lg.prototype.mergeWith=function(yh){var zh=h.call(arguments,1);return this.union.apply(this,zh);};lg.prototype.sort=function(yh){return tg(nd(this,yh));};lg.prototype.sortBy=function(yh,zh){return tg(nd(this,zh,yh));};lg.prototype.wasAltered=function(){return this._map.wasAltered();};lg.prototype.__iterate=function(yh,zh){var ai=this;return this._map.__iterate(function(bi,ci){return yh(ci,ci,ai);},zh);};lg.prototype.__iterator=function(yh,zh){return this._map.map(function(ai,bi){return bi;}).__iterator(yh,zh);};lg.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;var zh=this._map.__ensureOwner(yh);if(!yh){this.__ownerID=yh;this._map=zh;return this;}return this.__make(zh,yh);};function mg(yh){return !!(yh&&yh[ng]);}lg.isSet=mg;var ng='@@__IMMUTABLE_SET__@@',og=lg.prototype;og[ng]=true;og[j]=og.remove;og.mergeDeep=og.merge;og.mergeDeepWith=og.mergeWith;og.withMutations=ce.withMutations;og.asMutable=ce.asMutable;og.asImmutable=ce.asImmutable;og.__empty=sg;og.__make=qg;function pg(yh,zh){if(yh.__ownerID){yh.size=zh.size;yh._map=zh;return yh;}return zh===yh._map?yh:zh.size===0?yh.__empty():yh.__make(zh);}function qg(yh,zh){var ai=Object.create(og);ai.size=yh?yh.size:0;ai._map=yh;ai.__ownerID=zh;return ai;}var rg;function sg(){return rg||(rg=qg(ne()));}i(tg,lg);function tg(yh){return yh===null||yh===undefined?yg():ug(yh)?yh:yg().withMutations(function(zh){var ai=ea(yh);vc(ai.size);ai.forEach(function(bi){return zh.add(bi);});});}tg.of=function(){return this(arguments);};tg.fromKeys=function(yh){return this(ca(yh).keySeq());};tg.prototype.toString=function(){return this.__toString('OrderedSet {','}');};function ug(yh){return mg(yh)&&ja(yh);}tg.isOrderedSet=ug;var vg=tg.prototype;vg[na]=true;vg.__empty=yg;vg.__make=wg;function wg(yh,zh){var ai=Object.create(vg);ai.size=yh?yh.size:0;ai._map=yh;ai.__ownerID=zh;return ai;}var xg;function yg(){return xg||(xg=wg(cg()));}i(zg,vb);function zg(yh,zh){var ai,bi=function di(ei){if(ei instanceof bi)return ei;if(!(this instanceof bi))return new bi(ei);if(!ai){ai=true;var fi=Object.keys(yh);dh(ci,fi);ci.size=fi.length;ci._name=zh;ci._keys=fi;ci._defaultValues=yh;}this._map=zd(ei);},ci=bi.prototype=Object.create(ah);ci.constructor=bi;return bi;}zg.prototype.toString=function(){return this.__toString(ch(this)+' {','}');};zg.prototype.has=function(yh){return this._defaultValues.hasOwnProperty(yh);};zg.prototype.get=function(yh,zh){if(!this.has(yh))return zh;var ai=this._defaultValues[yh];return this._map?this._map.get(yh,ai):ai;};zg.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this;}var yh=this.constructor;return yh._empty||(yh._empty=bh(this,ne()));};zg.prototype.set=function(yh,zh){if(!this.has(yh))throw new Error('Cannot set unknown key "'+yh+'" on '+ch(this));var ai=this._map&&this._map.set(yh,zh);if(this.__ownerID||ai===this._map)return this;return bh(this,ai);};zg.prototype.remove=function(yh){if(!this.has(yh))return this;var zh=this._map&&this._map.remove(yh);if(this.__ownerID||zh===this._map)return this;return bh(this,zh);};zg.prototype.wasAltered=function(){return this._map.wasAltered();};zg.prototype.__iterator=function(yh,zh){var ai=this;return ca(this._defaultValues).map(function(bi,ci){return ai.get(ci);}).__iterator(yh,zh);};zg.prototype.__iterate=function(yh,zh){var ai=this;return ca(this._defaultValues).map(function(bi,ci){return ai.get(ci);}).__iterate(yh,zh);};zg.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;var zh=this._map&&this._map.__ensureOwner(yh);if(!yh){this.__ownerID=yh;this._map=zh;return this;}return bh(this,zh,yh);};var ah=zg.prototype;ah[j]=ah.remove;ah.deleteIn=ah.removeIn=ce.removeIn;ah.merge=ce.merge;ah.mergeWith=ce.mergeWith;ah.mergeIn=ce.mergeIn;ah.mergeDeep=ce.mergeDeep;ah.mergeDeepWith=ce.mergeDeepWith;ah.mergeDeepIn=ce.mergeDeepIn;ah.setIn=ce.setIn;ah.update=ce.update;ah.updateIn=ce.updateIn;ah.withMutations=ce.withMutations;ah.asMutable=ce.asMutable;ah.asImmutable=ce.asImmutable;function bh(yh,zh,ai){var bi=Object.create(Object.getPrototypeOf(yh));bi._map=zh;bi.__ownerID=ai;return bi;}function ch(yh){return yh._name||yh.constructor.name||'Record';}function dh(yh,zh){try{zh.forEach(eh.bind(undefined,yh));}catch(ai){}}function eh(yh,zh){Object.defineProperty(yh,zh,{get:function(){return this.get(zh);},set:function(ai){uc(this.__ownerID);this.set(zh,ai);}});}function fh(yh,zh){if(yh===zh)return true;if(!fa(zh)||yh.size!==undefined&&zh.size!==undefined&&yh.size!==zh.size||yh.__hash!==undefined&&zh.__hash!==undefined&&yh.__hash!==zh.__hash||ga(yh)!==ga(zh)||ha(yh)!==ha(zh)||ja(yh)!==ja(zh))return false;if(yh.size===0&&zh.size===0)return true;var ai=!ia(yh);if(ja(yh)){var bi=yh.entries();return zh.every(function(gi,hi){var ii=bi.next().value;return ii&&yb(ii[1],gi)&&(ai||yb(ii[0],hi));})&&bi.next().done;}var ci=false;if(yh.size===undefined)if(zh.size===undefined){if(typeof yh.cacheResult==='function')yh.cacheResult();}else{ci=true;var di=yh;yh=zh;zh=di;}var ei=true,fi=zh.__iterate(function(gi,hi){if(ai?!yh.has(gi):ci?!yb(gi,yh.get(hi,n)):!yb(yh.get(hi,n),gi)){ei=false;return false;}});return ei&&yh.size===fi;}i(gh,eb);function gh(yh,zh,ai){if(!(this instanceof gh))return new gh(yh,zh,ai);uc(ai!==0);yh=yh||0;if(zh===undefined)zh=Infinity;ai=ai===undefined?1:Math.abs(ai);if(zh<yh)ai=-ai;this._start=yh;this._end=zh;this._step=ai;this.size=Math.max(0,Math.ceil((zh-yh)/ai-1)+1);if(this.size===0){if(hh)return hh;hh=this;}}gh.prototype.toString=function(){if(this.size===0)return 'Range []';return 'Range [ '+this._start+'...'+this._end+(this._step>1?' by '+this._step:'')+' ]';};gh.prototype.get=function(yh,zh){return this.has(yh)?this._start+v(this,yh)*this._step:zh;};gh.prototype.includes=function(yh){var zh=(yh-this._start)/this._step;return zh>=0&&zh<this.size&&zh===Math.floor(zh);};gh.prototype.slice=function(yh,zh){if(x(yh,zh,this.size))return this;yh=y(yh,this.size);zh=z(zh,this.size);if(zh<=yh)return new gh(0,0);return new gh(this.get(yh,this._end),this.get(zh,this._end),this._step);};gh.prototype.indexOf=function(yh){var zh=yh-this._start;if(zh%this._step===0){var ai=zh/this._step;if(ai>=0&&ai<this.size)return ai;}return -1;};gh.prototype.lastIndexOf=function(yh){return this.indexOf(yh);};gh.prototype.__iterate=function(yh,zh){var ai=this.size-1,bi=this._step,ci=zh?this._start+ai*bi:this._start;for(var di=0;di<=ai;di++){if(yh(ci,di,this)===false)return di+1;ci+=zh?-bi:bi;}return di;};gh.prototype.__iterator=function(yh,zh){var ai=this.size-1,bi=this._step,ci=zh?this._start+ai*bi:this._start,di=0;return new ua(function(){var ei=ci;ci+=zh?-bi:bi;return di>ai?wa():va(yh,di++,ei);});};gh.prototype.equals=function(yh){return yh instanceof gh?this._start===yh._start&&this._end===yh._end&&this._step===yh._step:fh(this,yh);};var hh;i(ih,eb);function ih(yh,zh){if(!(this instanceof ih))return new ih(yh,zh);this._value=yh;this.size=zh===undefined?Infinity:Math.max(0,zh);if(this.size===0){if(jh)return jh;jh=this;}}ih.prototype.toString=function(){if(this.size===0)return 'Repeat []';return 'Repeat [ '+this._value+' '+this.size+' times ]';};ih.prototype.get=function(yh,zh){return this.has(yh)?this._value:zh;};ih.prototype.includes=function(yh){return yb(this._value,yh);};ih.prototype.slice=function(yh,zh){var ai=this.size;return x(yh,zh,ai)?this:new ih(this._value,z(zh,ai)-y(yh,ai));};ih.prototype.reverse=function(){return this;};ih.prototype.indexOf=function(yh){if(yb(this._value,yh))return 0;return -1;};ih.prototype.lastIndexOf=function(yh){if(yb(this._value,yh))return this.size;return -1;};ih.prototype.__iterate=function(yh,zh){for(var ai=0;ai<this.size;ai++)if(yh(this._value,ai,this)===false)return ai+1;return ai;};ih.prototype.__iterator=function(yh,zh){var ai=this,bi=0;return new ua(function(){return bi<ai.size?va(yh,bi++,ai._value):wa();});};ih.prototype.equals=function(yh){return yh instanceof ih?yb(this._value,yh._value):fh(yh);};var jh;function kh(yh,zh){var ai=function(bi){yh.prototype[bi]=zh[bi];};Object.keys(zh).forEach(ai);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(zh).forEach(ai);return yh;}ba.Iterator=ua;kh(ba,{toArray:function(){vc(this.size);var yh=new Array(this.size||0);this.valueSeq().__iterate(function(zh,ai){yh[ai]=zh;});return yh;},toIndexedSeq:function(){return new xc(this);},toJS:function(){return this.toSeq().map(function(yh){return yh&&typeof yh.toJS==='function'?yh.toJS():yh;}).__toJS();},toJSON:function(){return this.toSeq().map(function(yh){return yh&&typeof yh.toJSON==='function'?yh.toJSON():yh;}).__toJS();},toKeyedSeq:function(){return new wc(this,true);},toMap:function(){return zd(this.toKeyedSeq());},toObject:function(){vc(this.size);var yh={};this.__iterate(function(zh,ai){yh[ai]=zh;});return yh;},toOrderedMap:function(){return yf(this.toKeyedSeq());},toOrderedSet:function(){return tg(ga(this)?this.valueSeq():this);},toSet:function(){return lg(ga(this)?this.valueSeq():this);},toSetSeq:function(){return new yc(this);},toSeq:function(){return ha(this)?this.toIndexedSeq():ga(this)?this.toKeyedSeq():this.toSetSeq();},toStack:function(){return eg(ga(this)?this.valueSeq():this);},toList:function(){return gf(ga(this)?this.valueSeq():this);},toString:function(){return '[Iterable]';},__toString:function(yh,zh){if(this.size===0)return yh+zh;return yh+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+zh;},concat:function(){var yh=h.call(arguments,0);return rd(this,jd(this,yh));},contains:function(yh){return this.includes(yh);},includes:function(yh){return this.some(function(zh){return yb(zh,yh);});},entries:function(){return this.__iterator(qa);},every:function(yh,zh){vc(this.size);var ai=true;this.__iterate(function(bi,ci,di){if(!yh.call(zh,bi,ci,di)){ai=false;return false;}});return ai;},filter:function(yh,zh){return rd(this,dd(this,yh,zh,true));},find:function(yh,zh,ai){var bi=this.findEntry(yh,zh);return bi?bi[1]:ai;},findEntry:function(yh,zh){var ai;this.__iterate(function(bi,ci,di){if(yh.call(zh,bi,ci,di)){ai=[ci,bi];return false;}});return ai;},findLastEntry:function(yh,zh){return this.toSeq().reverse().findEntry(yh,zh);},forEach:function(yh,zh){vc(this.size);return this.__iterate(zh?yh.bind(zh):yh);},join:function(yh){vc(this.size);yh=yh!==undefined?''+yh:',';var zh='',ai=true;this.__iterate(function(bi){ai?(ai=false):(zh+=yh);zh+=bi!==null&&bi!==undefined?bi.toString():'';});return zh;},keys:function(){return this.__iterator(oa);},map:function(yh,zh){return rd(this,bd(this,yh,zh));},reduce:function(yh,zh,ai){vc(this.size);var bi,ci;if(arguments.length<2){ci=true;}else bi=zh;this.__iterate(function(di,ei,fi){if(ci){ci=false;bi=di;}else bi=yh.call(ai,bi,di,ei,fi);});return bi;},reduceRight:function(yh,zh,ai){var bi=this.toKeyedSeq().reverse();return bi.reduce.apply(bi,arguments);},reverse:function(){return rd(this,cd(this,true));},slice:function(yh,zh){return rd(this,gd(this,yh,zh,true));},some:function(yh,zh){return !this.every(ph(yh),zh);},sort:function(yh){return rd(this,nd(this,yh));},values:function(){return this.__iterator(pa);},butLast:function(){return this.slice(0,-1);},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true;});},count:function(yh,zh){return u(yh?this.toSeq().filter(yh,zh):this);},countBy:function(yh,zh){return ed(this,yh,zh);},equals:function(yh){return fh(this,yh);},entrySeq:function(){var yh=this;if(yh._cache)return new hb(yh._cache);var zh=yh.toSeq().map(oh).toIndexedSeq();zh.fromEntrySeq=function(){return yh.toSeq();};return zh;},filterNot:function(yh,zh){return this.filter(ph(yh),zh);},findLast:function(yh,zh,ai){return this.toKeyedSeq().reverse().find(yh,zh,ai);},first:function(){return this.find(w);},flatMap:function(yh,zh){return rd(this,ld(this,yh,zh));},flatten:function(yh){return rd(this,kd(this,yh,true));},fromEntrySeq:function(){return new zc(this);},get:function(yh,zh){return this.find(function(ai,bi){return yb(bi,yh);},undefined,zh);},getIn:function(yh,zh){var ai=this,bi=yd(yh),ci;while(!(ci=bi.next()).done){var di=ci.value;ai=ai&&ai.get?ai.get(di,n):n;if(ai===n)return zh;}return ai;},groupBy:function(yh,zh){return fd(this,yh,zh);},has:function(yh){return this.get(yh,n)!==n;},hasIn:function(yh){return this.getIn(yh,n)!==n;},isSubset:function(yh){yh=typeof yh.includes==='function'?yh:ba(yh);return this.every(function(zh){return yh.includes(zh);});},isSuperset:function(yh){return yh.isSubset(this);},keySeq:function(){return this.toSeq().map(nh).toIndexedSeq();},last:function(){return this.toSeq().reverse().first();},max:function(yh){return od(this,yh);},maxBy:function(yh,zh){return od(this,zh,yh);},min:function(yh){return od(this,yh?qh(yh):th);},minBy:function(yh,zh){return od(this,zh?qh(zh):th,yh);},rest:function(){return this.slice(1);},skip:function(yh){return this.slice(Math.max(0,yh));},skipLast:function(yh){return rd(this,this.toSeq().reverse().skip(yh).reverse());},skipWhile:function(yh,zh){return rd(this,id(this,yh,zh,true));},skipUntil:function(yh,zh){return this.skipWhile(ph(yh),zh);},sortBy:function(yh,zh){return rd(this,nd(this,zh,yh));},take:function(yh){return this.slice(0,Math.max(0,yh));},takeLast:function(yh){return rd(this,this.toSeq().reverse().take(yh).reverse());},takeWhile:function(yh,zh){return rd(this,hd(this,yh,zh));},takeUntil:function(yh,zh){return this.takeWhile(ph(yh),zh);},valueSeq:function(){return this.toIndexedSeq();},hashCode:function(){return this.__hash||(this.__hash=uh(this));}});var lh=ba.prototype;lh[ka]=true;lh[ta]=lh.values;lh.__toJS=lh.toArray;lh.__toStringMapper=rh;lh.inspect=lh.toSource=function(){return this.toString();};lh.chain=lh.flatMap;(function(){try{Object.defineProperty(lh,'length',{get:function(){if(!ba.noLengthWarning){var zh;try{throw new Error();}catch(ai){zh=ai.stack;}if(zh.indexOf('_wrapObject')===-1){console&&emptyFunction&&false;return this.size;}}}});}catch(yh){}})();kh(ca,{flip:function(){return rd(this,ad(this));},findKey:function(yh,zh){var ai=this.findEntry(yh,zh);return ai&&ai[0];},findLastKey:function(yh,zh){return this.toSeq().reverse().findKey(yh,zh);},keyOf:function(yh){return this.findKey(function(zh){return yb(zh,yh);});},lastKeyOf:function(yh){return this.findLastKey(function(zh){return yb(zh,yh);});},mapEntries:function(yh,zh){var ai=this,bi=0;return rd(this,this.toSeq().map(function(ci,di){return yh.call(zh,[di,ci],bi++,ai);}).fromEntrySeq());},mapKeys:function(yh,zh){var ai=this;return rd(this,this.toSeq().flip().map(function(bi,ci){return yh.call(zh,bi,ci,ai);}).flip());}});var mh=ca.prototype;mh[la]=true;mh[ta]=lh.entries;mh.__toJS=lh.toObject;mh.__toStringMapper=function(yh,zh){return JSON.stringify(zh)+': '+rh(yh);};kh(da,{toKeyedSeq:function(){return new wc(this,false);},filter:function(yh,zh){return rd(this,dd(this,yh,zh,false));},findIndex:function(yh,zh){var ai=this.findEntry(yh,zh);return ai?ai[0]:-1;},indexOf:function(yh){var zh=this.toKeyedSeq().keyOf(yh);return zh===undefined?-1:zh;},lastIndexOf:function(yh){return this.toSeq().reverse().indexOf(yh);},reverse:function(){return rd(this,cd(this,false));},slice:function(yh,zh){return rd(this,gd(this,yh,zh,false));},splice:function(yh,zh){var ai=arguments.length;zh=Math.max(zh|0,0);if(ai===0||(ai===2&&!zh))return this;yh=y(yh,this.size);var bi=this.slice(0,yh);return rd(this,ai===1?bi:bi.concat(t(arguments,2),this.slice(yh+zh)));},findLastIndex:function(yh,zh){var ai=this.toKeyedSeq().findLastKey(yh,zh);return ai===undefined?-1:ai;},first:function(){return this.get(0);},flatten:function(yh){return rd(this,kd(this,yh,false));},get:function(yh,zh){yh=v(this,yh);return (yh<0||(this.size===Infinity||(this.size!==undefined&&yh>this.size)))?zh:this.find(function(ai,bi){return bi===yh;},undefined,zh);},has:function(yh){yh=v(this,yh);return yh>=0&&(this.size!==undefined?this.size===Infinity||yh<this.size:this.indexOf(yh)!==-1);},interpose:function(yh){return rd(this,md(this,yh));},interleave:function(){var yh=[this].concat(t(arguments)),zh=qd(this.toSeq(),eb.of,yh),ai=zh.flatten(true);if(zh.size)ai.size=zh.size*yh.length;return rd(this,ai);},last:function(){return this.get(-1);},skipWhile:function(yh,zh){return rd(this,id(this,yh,zh,false));},zip:function(){var yh=[this].concat(t(arguments));return rd(this,qd(this,sh,yh));},zipWith:function(yh){var zh=t(arguments);zh[0]=this;return rd(this,qd(this,yh,zh));}});da.prototype[ma]=true;da.prototype[na]=true;kh(ea,{get:function(yh,zh){return this.has(yh)?yh:zh;},includes:function(yh){return this.has(yh);},keySeq:function(){return this.valueSeq();}});ea.prototype.has=lh.includes;kh(db,ca.prototype);kh(eb,da.prototype);kh(fb,ea.prototype);kh(vb,ca.prototype);kh(wb,da.prototype);kh(xb,ea.prototype);function nh(yh,zh){return zh;}function oh(yh,zh){return [zh,yh];}function ph(yh){return function(){return !yh.apply(this,arguments);};}function qh(yh){return function(){return -yh.apply(this,arguments);};}function rh(yh){return typeof yh==='string'?JSON.stringify(yh):yh;}function sh(){return t(arguments);}function th(yh,zh){return yh<zh?1:yh>zh?-1:0;}function uh(yh){if(yh.size===Infinity)return 0;var zh=ja(yh),ai=ga(yh),bi=zh?1:0,ci=yh.__iterate(ai?zh?function(di,ei){bi=31*bi+wh(fc(di),fc(ei))|0;}:function(di,ei){bi=bi+wh(fc(di),fc(ei))|0;}:zh?function(di){bi=31*bi+fc(di)|0;}:function(di){bi=bi+fc(di)|0;});return vh(ci,bi);}function vh(yh,zh){zh=dc(zh,3432918353);zh=dc(zh<<15|zh>>>-15,461845907);zh=dc(zh<<13|zh>>>-13,5);zh=(zh+3864292196|0)^yh;zh=dc(zh^zh>>>16,2246822507);zh=dc(zh^zh>>>13,3266489909);zh=ec(zh^zh>>>16);return zh;}function wh(yh,zh){return yh^zh+2654435769+(yh<<6)+(yh>>2)|0;}var xh={Iterable:ba,Seq:cb,Collection:ub,Map:zd,OrderedMap:yf,List:gf,Stack:eg,Set:lg,OrderedSet:tg,Record:zg,Range:gh,Repeat:ih,is:yb,fromJS:zb};return xh;}));},null);
__d('LoadObject',['immutable','LoadObjectOperations','Map','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();var o=[undefined,null,false,true,0,''],p='SECRET_'+Math.random(),q=new j(new j(o.map(function(t){return [t,new j([[true,new j()],[false,new j()]])];}))),r=h.Record({operation:undefined,value:undefined,error:undefined,internalHasValue:false});m=babelHelpers.inherits(s,r);n=m&&m.prototype;function s(t,u,v,w,x){!(t===p)?k(0):undefined;n.constructor.call(this,{operation:u,value:v,error:w,internalHasValue:x});}s.$LoadObject1=function(t,u,v,w){var x=s.$LoadObject2(t,u,v,w);return (x||new s(p,t,u,v,w));};s.$LoadObject2=function(t,u,v,w){if(v!==undefined||!q.has(u))return null;var x=l(q.get(u)),y=l(x.get(w));if(!y.has(t)){var z=new s(p,t,u,v,w);y.set(t,z);}return l(y.get(t));};s.prototype.getOperation=function(){return this.get('operation');};s.prototype.getValue=function(){return this.get('value');};s.prototype.getValueEnforcing=function(){!this.hasValue()?k(0):undefined;var t=this.getValue();return t;};s.prototype.getError=function(){return this.get('error');};s.prototype.hasValue=function(){return !!this.get('internalHasValue');};s.prototype.hasOperation=function(){return this.getOperation()!==undefined;};s.prototype.hasError=function(){return this.getError()!==undefined;};s.prototype.isEmpty=function(){return !this.hasValue()&&!this.hasOperation()&&!this.hasError();};s.prototype.setOperation=function(t){var u=s.$LoadObject2(t,this.getValue(),this.getError(),this.hasValue());return u||this.set('operation',t);};s.prototype.setValue=function(t){var u=s.$LoadObject2(this.getOperation(),t,this.getError(),true);return u||this.set('value',t).set('internalHasValue',true);};s.prototype.setError=function(t){var u=s.$LoadObject2(this.getOperation(),this.getValue(),t,this.hasValue());return u||this.set('error',t);};s.prototype.removeOperation=function(){var t=this.remove('operation'),u=s.$LoadObject2(t.getOperation(),t.getValue(),t.getError(),t.hasValue());return u||t;};s.prototype.removeValue=function(){var t=this.remove('value').remove('internalHasValue'),u=s.$LoadObject2(t.getOperation(),t.getValue(),t.getError(),t.hasValue());return u||t;};s.prototype.removeError=function(){var t=this.remove('error'),u=s.$LoadObject2(t.getOperation(),t.getValue(),t.getError(),t.hasValue());return u||t;};s.prototype.isCreating=function(){return this.getOperation()===i.CREATING;};s.prototype.isDeleting=function(){return this.getOperation()===i.DELETING;};s.prototype.isDone=function(){return !this.hasOperation();};s.prototype.isLoading=function(){return this.getOperation()===i.LOADING;};s.prototype.isUpdating=function(){return this.getOperation()===i.UPDATING;};s.prototype.creating=function(){return this.setOperation(i.CREATING);};s.prototype.deleting=function(){return this.setOperation(i.DELETING);};s.prototype.done=function(){return this.removeOperation();};s.prototype.loading=function(){return this.setOperation(i.LOADING);};s.prototype.updating=function(){return this.setOperation(i.UPDATING);};s.prototype.map=function(t){if(!this.hasValue())return this;var u=this.getValueEnforcing(),v=t(u),w=v instanceof s?v:this.setValue(v);return w;};s.creating=function(){return s.$LoadObject1(i.CREATING,undefined,undefined,false);};s.deleting=function(){return s.$LoadObject1(i.DELETING,undefined,undefined,false);};s.empty=function(){return s.$LoadObject1(undefined,undefined,undefined,false);};s.loading=function(){return s.$LoadObject1(i.LOADING,undefined,undefined,false);};s.updating=function(){return s.$LoadObject1(i.UPDATING,undefined,undefined,false);};s.withError=function(t){return s.$LoadObject1(undefined,undefined,t,false);};s.withValue=function(t){return s.$LoadObject1(undefined,t,undefined,true);};f.exports=s;},null);
__d('fbglyph',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){throw new Error('fbglyph'+'('+JSON.stringify(i)+'): '+'Unexpected fbglyph reference.');}f.exports=h;},null);
__d('MercuryAttachmentSnippetType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null});f.exports=i;},null);
__d('MercuryChannelMessageTransformer',['MercuryActionType'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l={author:j.mercury_author_id,author_email:j.mercury_author_email,body:j.body,subject:j.subject,has_attachment:j.has_attachment,attachments:j.attachments,ephemeral_ttl_mode:j.ephemeral_ttl_mode,html_body:j.html_body,thread_id:j.tid,thread_fbid:j.thread_fbid&&j.thread_fbid.toString(),other_user_fbid:j.other_user_fbid&&j.other_user_fbid.toString(),offline_threading_id:j.offline_threading_id,message_id:j.mid,is_spoof_warning:j.is_spoof_warning,ranges:j.ranges,source:j.mercury_source,source_tags:j.mercury_source_tags,tags:j.tags&&j.tags.split(','),threading_id:j.threading_id,timestamp:j.timestamp,timestamp_absolute:j.timestamp_absolute,timestamp_relative:j.timestamp_relative,timestamp_datetime:j.timestamp_datetime,timestamp_time_passed:j.timestamp_time_passed,action_type:h.USER_GENERATED_MESSAGE,is_unread:j.is_unread,is_forward:false,forward_count:j.forward_count||j.forward,forward_message_ids:j.forward_msg_ids,folder:k,sync_id:undefined,action_id:undefined};if('sync_id' in j){l.sync_id=j.sync_id;}else l.action_id=j.action_id;return l;}f.exports={transform:i};},null);
__d('MercuryGiftSnippetRenderer',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={renderText:function(j,k){return j?h._("You sent a valentine."):h._("{name} sent a valentine.",[h.param('name',k)]);}};f.exports=i;},null);
__d('P2PSnippetStringUtils',['P2PPaymentRequestStatus','P2PTransferStatus','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getRequestCanceledSnippet:function(l,m,n,o,p){if(l){return j._("Your request for {payment request amount} from {receiver's name} was canceled.",[j.param('payment request amount',p),j.param('receiver\'s name',o)]);}else if(m){return j._("{requester's name}'s request for {payment request amount} was canceled.",[j.param('requester\'s name',n),j.param('payment request amount',p)]);}else return j._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[j.param('requester\'s name',n),j.param('payment request amount',p),j.param('receiver\'s name',o)]);},getRequestDeclinedSnippet:function(l,m,n,o,p){if(l){return j._("{receiver's name} declined your request for {payment request amount}.",[j.param('receiver\'s name',o),j.param('payment request amount',p)]);}else if(m){return j._("You declined {requester's name}'s request for {payment request amount}.",[j.param('requester\'s name',n),j.param('payment request amount',p)]);}else return j._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[j.param('receiver\'s name',o),j.param('sender\'s name',n),j.param('payment request amount',p)]);},getRequestSentSnippet:function(l,m,n,o,p){if(l){return j._("You requested {amount} from {requestee name}.",[j.param('amount',p),j.param('requestee name',o)]);}else if(m){return j._("{requester name} requested {amount} from you.",[j.param('requester name',n),j.param('amount',p)]);}else return j._("{name} requested {amount} from {requestee name}.",[j.param('name',n),j.param('amount',p),j.param('requestee name',o)]);},getRequestSnippetByStatus:function(l,m,n,o,p,q){var r=l||h.INITED,s=[m,n,o,p,q];switch(r){case h.DECLINED:return this.getRequestDeclinedSnippet.apply(this,s);case h.TRANSFER_FAILED:case h.CANCELED:return this.getRequestCanceledSnippet.apply(this,s);}return this.getRequestSentSnippet.apply(this,s);},getTransferCanceledSnippet:function(l,m,n,o,p){if(l){return j._("Your {amount} payment to {receiver_name} was canceled.",[j.param('amount',p),j.param('receiver_name',o)]);}else if(m){return j._("{sender name}'s {amount} payment was canceled.",[j.param('sender name',n),j.param('amount',p)]);}else return j._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[j.param('sender_name',n),j.param('amount',p),j.param('receiver_name',o)]);},getTransferDeclinedSnippet:function(l,m,n,o,p){if(l){return j._("{receiver_name} didn't accept your {amount} payment.",[j.param('receiver_name',o),j.param('amount',p)]);}else if(m){return j._("You didn't accept {sender name}'s {amount} payment.",[j.param('sender name',n),j.param('amount',p)]);}else return j._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[j.param('receiver_name',o),j.param('sender_name',n),j.param('amount',p)]);},getTransferSentSnippet:function(l,m,n,o,p){if(l){return j._("You sent {receiver name} {amount}.",[j.param('receiver name',o),j.param('amount',p)]);}else if(m){return j._("{name} sent you {amount}.",[j.param('name',n),j.param('amount',p)]);}else return j._("{sender name} sent {receiver name} {amount}.",[j.param('sender name',n),j.param('receiver name',o),j.param('amount',p)]);},getTransferSnippetByStatus:function(l,m,n,o,p,q){var r=[m,n,o,p,q],s=l||i.PENDING_SENDER_INITED;switch(s){case i.CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,r);case i.CANCELED_SENDER_RISK:case i.CANCELED_RECIPIENT_RISK:case i.CANCELED_SYSTEM_FAIL:case i.CANCELED_EXPIRED:case i.CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,r);}return this.getTransferSentSnippet.apply(this,r);}};f.exports=k;},null);
__d('MercuryAttachmentSnippetRenderer',['CurrentUser','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryAudioType','MercuryGiftSnippetRenderer','P2PSnippetStringUtils','StoryAttachmentStyle','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p={getAttachmentSnippetType:function(q){if(this._hasOnlyPhotos(q))return i.PHOTO;if(this._hasOnlyAnimatedImages(q))return i.GIF;if(this._hasOnlyVideo(q))return i.VIDEO;if(this._hasAudioClip(q))return i.AUDIO_CLIP;if(this._hasSticker(q))return i.STICKER;if(this._hasShare(q))return i.SHARE;if(this._hasGift(q))return i.GIFT;if(this._hasError(q))return i.ERROR;return i.MIXED;},renderAttachmentSnippetText:function(q,r,s,t){switch(q){case i.PHOTO:return this._renderPhotoAttachmentSnippetText(r,s,this._getPhotoAttachments(t));case i.GIF:return this._renderAnimatedImagesAttachmentSnippetText(r,s,this._getAnimatedImageAttachments(t));case i.VIDEO:return r?o._("You sent a video."):o._("{sender name} sent a video.",[o.param('sender name',s)]);case i.AUDIO_CLIP:return r?o._("You sent a voice message."):o._("{name} sent a voice message.",[o.param('name',s)]);case i.STICKER:return r?o._("You sent a sticker."):o._("{name} sent a sticker.",[o.param('name',s)]);case i.SHARE:if(t&&this._hasP2PPayment(t))return this._renderP2PPaymentSnippetText(t[0]);if(t&&this._hasP2PPaymentRequest(t))return this._renderP2PPaymentRequestSnippetText(t[0]);return r?o._("You shared a link."):o._("{sender name} shared a link.",[o.param('sender name',s)]);case i.GIFT:return l.renderText(r,s);case i.ERROR:return r?o._("You sent an attachment."):o._("{sender name} sent an attachment.",[o.param('sender name',s)]);default:return '';}},_hasOnlyPhotos:function(q){return this._getPhotoAttachments(q).length===q.length;},_hasOnlyAnimatedImages:function(q){return this._getAnimatedImageAttachments(q).length===q.length;},_hasOnlyVideo:function(q){return (q.length===1&&q[0].attach_type===j.VIDEO);},_hasAudioClip:function(q){var r=q[0].metadata&&q[0].metadata.type;return (q.length===1&&(r===k.AudioClip||r===k.VoiceMessageWithTranscript));},_hasSticker:function(q){return (q.length===1&&q[0].attach_type===j.STICKER);},_hasP2PPayment:function(q){return this._hasSingleShareAttachmentOfStyle(q,n.ORION);},_hasP2PPaymentRequest:function(q){return this._hasSingleShareAttachmentOfStyle(q,n.ORION_REQUEST);},_hasSingleShareAttachmentOfStyle:function(q,r){return (q.length===1&&q[0].attach_type===j.SHARE&&q[0].share.style_list.indexOf(r)>=0);},_hasShare:function(q){return (q.length===1&&q[0].attach_type===j.SHARE);},_hasError:function(q){return (q.length===1&&q[0].attach_type===j.ERROR);},_hasGift:function(q){return (q.length===1&&q[0].attach_type===j.GIFT);},_getPhotoAttachments:function(q){if(!q)return [];return q.filter(function(r){return r.attach_type===j.PHOTO;});},_getAnimatedImageAttachments:function(q){if(!q)return [];return q.filter(function(r){return r.attach_type===j.ANIMATED_IMAGE;});},_renderPhotoAttachmentSnippetText:function(q,r,s){if(s.length===1){if(q){return o._("You sent a photo.");}else return o._("{name} sent a photo.",[o.param('name',r)]);}else if(q){return o._({"*":"You sent {num_photos} photos."},[o.param('num_photos',s.length,[0])]);}else return o._({"*":"{name} sent {num_photos} photos."},[o.param('name',r),o.param('num_photos',s.length,[0])]);},_renderAnimatedImagesAttachmentSnippetText:function(q,r,s){if(s.length===1){if(q){return o._("You sent a GIF.");}else return o._("{name} sent a GIF.",[o.param('name',r)]);}else if(q){return o._("You sent {num_animated_images} GIFs.",[o.param('num_animated_images',s.length)]);}else return o._("{name} sent {num_animated_images} GIFs.",[o.param('name',r),o.param('num_animated_images',s.length)]);},_renderP2PPaymentSnippetText:function(q){var r=q.share.target;return this.renderP2PPaymentSnippetText(h.getID()===r.sender.id,r.sender.name,r.amountWithSymbol,r.status,h.getID()===r.receiver.id,r.receiver.name);},_renderP2PPaymentRequestSnippetText:function(q){var r=q.share.target;return this.renderP2PPaymentRequestSnippetText(h.getID()===r.requester.id,r.requester.name,r.amountWithSymbol,r.currentStatus,h.getID()===r.requestee.id,r.requestee.name);},renderP2PPaymentSnippetText:function(q,r,s,t,u,v){return m.getTransferSnippetByStatus(t,q,u||false,r||'',v||'',s);},renderP2PPaymentRequestSnippetText:function(q,r,s,t,u,v){return m.getRequestSnippetByStatus(t,q,u||false,r||'',v||'',s);}};f.exports=p;},null);
__d('MercurySingletonProvider',['CurrentUser','Map'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){this.$MercurySingletonProvider1=new i();this.$MercurySingletonProvider2=k;}j.prototype.getForFBID=function(k){if(!this.$MercurySingletonProvider1.has(k))this.$MercurySingletonProvider1.set(k,new this.$MercurySingletonProvider2(k));return this.$MercurySingletonProvider1.get(k);};j.prototype.get=function(){return this.getForFBID(h.getID());};j.mock=function(k){throw new Error('MercurySingletonProvider.mock() must only be used in tests.');};f.exports=j;},null);
__d('MercurySyncDeltaTypes',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={AdminTextMessage:'AdminTextMessage',DeliveryReceipt:'DeliveryReceipt',ForcedFetch:'ForcedFetch',MarkRead:'MarkRead',MessageDelete:'MessageDelete',NewMessage:'NewMessage',ParticipantLeftGroupThread:'ParticipantLeftGroupThread',ParticipantsAddedToGroupThread:'ParticipantsAddedToGroupThread',ReadReceipt:'ReadReceipt',ReplaceMessage:'ReplaceMessage',RTCEventLog:'RTCEventLog',ThreadDelete:'ThreadDelete',ThreadName:'ThreadName'};f.exports=h;},null);
__d('MercuryTimestamp',['fbt','formatDate','MercuryTimePassed'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=86400000,l=6*k,m={getFormatedTimestamp:function(n){var o=n/1000;return m.getFormattedTimestampByBucket(o,this.getTimeBucket(n));},getFormattedTimestampByBucket:function(n,o){switch(o){case j.TODAY:return {absolute:h._("Today"),relative:i(n,'g:ia')};case j.WEEK_AGO:return {absolute:i(n,'l'),relative:i(n,'D')};case j.CURRENT_YEAR:return {absolute:i(n,'F j'),relative:i(n,'M j')};default:return {absolute:i(n,'F j, Y'),relative:i(n,'n/j/y')};}},getTimeBucket:function(n){var o=new Date(n),p=new Date(),q=new Date(p.getFullYear(),p.getMonth(),p.getDate());if(q<o){return j.TODAY;}else if(q-l<o){return j.WEEK_AGO;}else if(q.getFullYear()===o.getFullYear()){return j.CURRENT_YEAR;}else return j.OTHER_YEAR;},getPreciseTimestamp:function(n){return i(new Date(n),m.getPreciseFormat(n));},getPreciseFormat:function(n){var o=m.getTimeBucket(n);switch(o){case j.TODAY:return 'g:ia';case j.WEEK_AGO:return 'l g:ia';case j.CURRENT_YEAR:return 'F jS, g:ia';case j.OTHER_YEAR:default:return 'F j, Y g:i a';}}};f.exports=m;},null);
__d('MercurySyncNewMessageTransformer',['IrisProtocolMessageLifetime','MercuryActionType','MercuryIDs','MercuryTimestamp','MessagingTag'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(n,o){var p=parseInt(o.messageMetadata.timestamp,10),q=k.getFormatedTimestamp(p),r=[];if(o.attachments)r=o.attachments.map(function(t){return t.mercury;});var s=o.messageMetadata.tags?o.messageMetadata.tags[0]:undefined;return {message_id:o.messageMetadata.messageId,threading_id:null,offline_threading_id:o.messageMetadata.offlineThreadingId,author:j.getParticipantIDFromUserID(o.messageMetadata.actorFbId),author_email:o.messageMetadata.actorFbId+'@facebook.com',ephemeral_ttl_mode:o.ttl?h[o.ttl]:0,timestamp:p,timestamp_absolute:q.absolute,timestamp_relative:q.relative,timestamp_datetime:q.relative,timestamp_time_passed:k.getTimeBucket(p),is_unread:n!==o.messageMetadata.actorFbId,is_forward:false,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,forward_count:0,forward_message_ids:[],source:s,tags:o.messageMetadata.tags,is_spoof_warning:false,folder:l.INBOX,thread_fbid:o.messageMetadata.threadKey.threadFbId,other_user_fbid:o.messageMetadata.threadKey.otherUserFbId,body:o.body!==undefined?o.body:'',html_body:null,subject:null,has_attachment:r.length>0,attachments:r,ranges:undefined,thread_id:null,action_id:null,action_type:i.USER_GENERATED_MESSAGE,is_from_iris:true};}f.exports={transform:m};},null);
__d('MercurySyncAdminTextMessageTransformer',['MercuryActionType','MercuryLogMessageType','MercurySyncNewMessageTransformer'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l,m){var n=j.transform(l,m);n.action_type=h.LOG_MESSAGE;n.log_message_body=m.messageMetadata.adminText;n.log_message_data={message_type:m.type,untypedData:m.untypedData};n.log_message_type=i.GENERIC_ADMIN_TEXT;return n;}f.exports={transform:k};},null);
__d('MercurySyncDeliveryReceiptTransformer',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {delivery_receipts:[{other_user_fbid:i.threadKey.otherUserFbId?i.threadKey.otherUserFbId:'',thread_fbid:i.threadKey.threadFbId?i.threadKey.threadFbId:'',time:parseInt(i.deliveredWatermarkTimestampMs,10)}]};}f.exports={transform:h};},null);
__d('MercurySyncMarkReadTransformer',['MercuryActionType','MessagingTag'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){return k.threadKeys.map(function(l){return {action_type:h.CHANGE_READ_STATUS,action_id:null,other_user_fbid:l.otherUserFbId,thread_fbid:l.threadFbId,mark_as_read:true,timestamp:parseInt(k.watermarkTimestamp,10),folder:i.INBOX};});}f.exports={transform:j};},null);
__d('MercurySyncMessageDeleteTransformer',['MercuryActionType'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){return {action_id:null,action_type:h.DELETE_MESSAGES,message_ids:j.messageIds,other_user_fbid:j.threadKey.otherUserFbId,thread_fbid:j.threadKey.threadFbId};}f.exports={transform:i};},null);
__d('MercurySyncParticipantLeftGroupThreadTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';function l(m,n){var o=k.transform(m,n);o.action_type=h.LOG_MESSAGE;o.log_message_body=n.messageMetadata.adminText;o.log_message_data={removed_participants:[i.getParticipantIDFromUserID(n.leftParticipantFbId)]};o.log_message_type=j.UNSUBSCRIBE;return o;}f.exports={transform:l};},null);
__d('MercurySyncParticipantsAddedToGroupThreadTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';function l(m,n){var o=k.transform(m,n);o.action_type=h.LOG_MESSAGE;o.log_message_body=n.messageMetadata.adminText;o.log_message_data={added_participants:n.addedParticipants.map(function(p){return (i.getParticipantIDFromUserID(p.userFbId));})};o.log_message_type=j.SUBSCRIBE;return o;}f.exports={transform:l};},null);
__d('MercurySyncRTCEventLogTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';function l(m,n){var o=k.transform(m,n),p=n.messageMetadata.actorFbId,q=p===m?n.messageMetadata.threadKey.otherUserFbId:m;o.action_type=h.LOG_MESSAGE;o.log_message_body=n.messageMetadata.adminText;o.log_message_data={answered:n.duration>0,callee:i.getParticipantIDFromUserID(q),caller:i.getParticipantIDFromUserID(p)};o.log_message_type=j.VIDEO_CALL;return o;}f.exports={transform:l};},null);
__d('MercurySyncReadReceiptTransformer',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=parseInt(i.actionTimestampMs,10),k=i.threadKey.otherUserFbId||i.actorFbId,l=i.threadKey.otherUserFbId||i.threadKey.threadFbId,m={roger:{}};m.roger[l]={};m.roger[l][k]=j;return m;}f.exports={transform:h};},null);
__d('MercurySyncReplaceMessageTransformer',['MercuryActionType','MercurySyncNewMessageTransformer'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){l=Object.assign({},l.newMessage,l);return Object.assign(i.transform(k,l),{action_type:h.REPLACE_MESSAGE,replaced_message_id:l.replacedMessageId});}f.exports={transform:j};},null);
__d('MercurySyncThreadDeleteTransformer',['MercuryActionType'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){return j.threadKeys.map(function(k){return {action_type:h.DELETE_THREAD,action_id:null,other_user_fbid:k.otherUserFbId,thread_fbid:k.threadFbId};});}f.exports={transform:i};},null);
__d('MercurySyncThreadNameTransformer',['MercuryActionType','MercuryLogMessageType','MercurySyncNewMessageTransformer'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';function k(l,m){var n=j.transform(l,m);n.action_type=h.LOG_MESSAGE;n.log_message_body=m.messageMetadata.adminText;n.log_message_data={name:m.name};n.log_message_type=i.THREAD_NAME;return n;}f.exports={transform:k};},null);
__d('mergeDeepInto',['invariant','mergeHelpers'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.ArrayStrategies,k=i.checkArrayStrategy,l=i.checkMergeArrayArgs,m=i.checkMergeLevel,n=i.checkMergeObjectArgs,o=i.isTerminal,p=i.normalizeMergeArg,q=function(u,v,w,x){n(u,v);m(x);var y=v?Object.keys(v):[];for(var z=0;z<y.length;z++){var aa=y[z];s(u,v,aa,w,x);}},r=function(u,v,w,x){l(u,v);m(x);var y=Math.max(u.length,v.length);for(var z=0;z<y;z++)s(u,v,z,w,x);},s=function(u,v,w,x,y){var z=v[w],aa=v.hasOwnProperty(w),ba=aa&&o(z),ca=aa&&Array.isArray(z),da=aa&&!ca&&!ca,ea=u[w],fa=u.hasOwnProperty(w),ga=fa&&o(ea),ha=fa&&Array.isArray(ea),ia=fa&&!ha&&!ha;if(ga){if(ba){u[w]=z;}else if(ca){u[w]=[];r(u[w],z,x,y+1);}else if(da){u[w]={};q(u[w],z,x,y+1);}else if(!aa)u[w]=ea;}else if(ha){if(ba){u[w]=z;}else if(ca){!j[x]?h(0):undefined;if(x===j.Clobber)ea.length=0;r(ea,z,x,y+1);}else if(da){u[w]={};q(u[w],z,x,y+1);}else !aa;}else if(ia){if(ba){u[w]=z;}else if(ca){u[w]=[];r(u[w],z,x,y+1);}else if(da){q(ea,z,x,y+1);}else !aa;}else if(!fa)if(ba){u[w]=z;}else if(ca){u[w]=[];r(u[w],z,x,y+1);}else if(da){u[w]={};q(u[w],z,x,y+1);}else !aa;},t=function(u,v,w){var x=p(v);k(w);q(u,x,w,0);};f.exports=t;},null);
__d('mergeDeep',['mergeHelpers','mergeDeepInto'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.checkArrayStrategy,k=h.checkMergeObjectArgs,l=h.normalizeMergeArg,m=function(n,o,p){var q=l(n),r=l(o);k(q,r);j(p);var s={};i(s,q,p);i(s,r,p);return s;};f.exports=m;},null);
__d('clearImmediate',['TimerStorage','clearImmediatePolyfill'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();f.exports=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];h.unset(h.IMMEDIATE,k[0]);return Function.prototype.apply.call(i,b,k);};},null);
__d('PaymentMethodUtils',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=16,i=4,j=[{pattern:/^5[1-5]/,name:'mc',cscDigits:3,digits:16,supported:true,code:77},{pattern:/^4/,name:'visa',cscDigits:3,digits:16,supported:true,code:86},{pattern:/^3[47]/,name:'amex',cscDigits:4,digits:15,supported:true,code:65},{pattern:/^35(2[8-9]|[3-8])/,name:'jcb',cscDigits:3,digits:16,supported:true,code:74},{pattern:/^(6011|65|64[4-9]|622([2-8]|1[3-9]|12[6-9]|9[0-1]|92[0-5]))/,name:'disc',cscDigits:3,digits:16,supported:true,code:68},{pattern:/^30[0-5]/,name:'diners',digits:14,cscDigits:3,supported:false,code:64},{name:'unknown',digits:16,cscDigits:3,supported:false,code:85}],k=function(m){return m.replace(/[iIl]/g,'1').replace(/[Oo]/g,'0').replace(/[^\d]/gi,'');},l={getCardType:function(m){m=k(m);m=m.substr(0,6);for(var n=0;n<j.length;n++)if(m.match(j[n].pattern))return j[n];},getCardTypeFromCode:function(m){for(var n=0;n<j.length;n++)if(m==j[n].code)return j[n];return null;},isValidCCNumber:function(m){m=k(m);var n=l.getCardType(m);if(n.digits!==m.length)return false;if(!n.supported)return false;return l.isValidLuhn(m);},isValidLuhn:function(m){m=k(m);var n=m.split('').reverse(),o='';for(var p=0;p<n.length;p++){var q=parseInt(n[p],10);if(p%2!==0)q=q*2;o=o+q;}var r=0;for(p=0;p<o.length;p++)r=r+parseInt(o.charAt(p),10);return !!(r!==0&&r%10===0);},getMaxCardLength:function(m){return h;},getMaxCSCLength:function(){return i;}};f.exports=l;},null);
__d('PaymentTokenProxyUtils',['CurrentEnvironment','URI'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={getURI:function(k){var l=new i('/ajax/payment/token_proxy.php').setDomain(window.location.hostname).setProtocol('https').addQueryData(k),m=l.getDomain().split('.');if(m.indexOf('secure')<0){m.splice(1,0,'secure');l.setDomain(m.join('.'));}if(h.messengerdotcom){var n=l.getDomain();n=n.replace('messenger.com','facebook.com');l.setDomain(n);}return l;}};f.exports=j;},null);
__d('PhotoStoreCore',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={actions:{UPDATE:'update'},_photoCache:{},_postCreateCallbacks:{},getPhotoCache:function(i){if(!this._photoCache[i])throw new Error('Photo cache requested for unknown set ID');return this._photoCache[i];},hasBeenCreated:function(i){return !!this._photoCache[i];},clearSetCache:function(i){delete this._photoCache[i];delete this._postCreateCallbacks[i];},getByIndex:function(i,j,k){this.getPhotoCache(i).getItemAtIndex(j,k);},getByIndexImmediate:function(i,j){if(this._photoCache[i])return this._photoCache[i].getItemAtIndexImmediate(j);return undefined;},getItemsInAvailableRange:function(i){var j=this.getAvailableRange(i),k=[];for(var l=j.offset;l<j.length;l++)k.push(this.getByIndexImmediate(i,l));return k;},getItemsAfterIndex:function(i,j,k,l){var m=this.getCursorByIndexImmediate(i,j);this.fetchForward(i,m,k,l);},getAllByIDImmediate:function(i){var j=Object.keys(this._photoCache);return j.map(function(k){return this.getByIndexImmediate(k,this.getIndexForID(k,i));}.bind(this)).filter(function(k){return !!k;});},getIndexForID:function(i,j){if(this._photoCache[i])return this._photoCache[i].getIndexForID(j);return undefined;},getEndIndex:function(i){var j=this.getAvailableRange(i);return j.offset+j.length-1;},getCursorByIndexImmediate:function(i,j){var k=this.getByIndexImmediate(i,j);if(k)return this._photoCache[i].getCursorForID(k.id);return undefined;},hasNextPage:function(i){var j=this.getCursorByIndexImmediate(i,this.getEndIndex(i));return this.getPhotoCache(i).hasNextPage(j);},getAvailableRange:function(i){return this.getPhotoCache(i).getAvailableRange();},hasLooped:function(i){return this.getPhotoCache(i).hasLooped();},fetchForward:function(i,j,k,l){this.getPhotoCache(i).getItemsAfterCursor(j,k,l);},fetchBackward:function(i,j,k,l){this.getPhotoCache(i).getItemsBeforeCursor(j,k,l);},executePostCreate:function(i,j){if(this._photoCache[i]){j&&j();}else this._postCreateCallbacks[i]=j;},runPostCreateCallback:function(i){var j=this._postCreateCallbacks[i];if(j){j();delete this._postCreateCallbacks[i];}},setPreFetchCallback:function(i,j){this.getPhotoCache(i).setPreFetchCallback(j);},updateData:function(i){var j=i.set_id;if(!this._photoCache[j]){this._photoCache[j]=new i.cache_class(i);this.runPostCreateCallback(j);}else if(i.query_metadata.action==h.actions.UPDATE){this._photoCache[j].updateData(i);}else this._photoCache[j].addData(i);},updateFeedbackData:function(i){var j=Object.keys(i);j.forEach(function(k){return h.getAllByIDImmediate(k).forEach(function(l){l.feedback=i[k].feedback;});});},reset:function(){Object.keys(this._photoCache).forEach(function(i){return this.clearSetCache(i);}.bind(this));}};f.exports=h;},null);
__d('ReactTransitionEvents',['ExecutionEnvironment'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={transitionend:{transition:'transitionend',WebkitTransition:'webkitTransitionEnd',MozTransition:'mozTransitionEnd',OTransition:'oTransitionEnd',msTransition:'MSTransitionEnd'},animationend:{animation:'animationend',WebkitAnimation:'webkitAnimationEnd',MozAnimation:'mozAnimationEnd',OAnimation:'oAnimationEnd',msAnimation:'MSAnimationEnd'}},j=[];function k(){var o=document.createElement('div'),p=o.style;if(!('AnimationEvent' in window))delete i.animationend.animation;if(!('TransitionEvent' in window))delete i.transitionend.transition;for(var q in i){var r=i[q];for(var s in r)if(s in p){j.push(r[s]);break;}}}if(h.canUseDOM)k();function l(o,p,q){o.addEventListener(p,q,false);}function m(o,p,q){o.removeEventListener(p,q,false);}var n={addEndEventListener:function(o,p){if(j.length===0){window.setTimeout(p,0);return;}j.forEach(function(q){l(o,q,p);});},removeEndEventListener:function(o,p){if(j.length===0)return;j.forEach(function(q){m(o,q,p);});}};f.exports=n;},null);
__d('ReactCSSTransitionGroupChild',['React','ReactDOM','CSSCore','ReactTransitionEvents','onlyChild'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=17,n=h.createClass({displayName:'ReactCSSTransitionGroupChild',propTypes:{name:h.PropTypes.oneOfType([h.PropTypes.string,h.PropTypes.shape({enter:h.PropTypes.string,leave:h.PropTypes.string,active:h.PropTypes.string}),h.PropTypes.shape({enter:h.PropTypes.string,enterActive:h.PropTypes.string,leave:h.PropTypes.string,leaveActive:h.PropTypes.string,appear:h.PropTypes.string,appearActive:h.PropTypes.string})]).isRequired,appear:h.PropTypes.bool,enter:h.PropTypes.bool,leave:h.PropTypes.bool,appearTimeout:h.PropTypes.number,enterTimeout:h.PropTypes.number,leaveTimeout:h.PropTypes.number},transition:function(o,p,q){var r=i.findDOMNode(this);if(!r){if(p)p();return;}var s=this.props.name[o]||this.props.name+'-'+o,t=this.props.name[o+'Active']||s+'-active',u=null,v=function(w){if(w&&w.target!==r)return;clearTimeout(u);j.removeClass(r,s);j.removeClass(r,t);k.removeEndEventListener(r,v);if(p)p();};j.addClass(r,s);this.queueClass(t);if(q){u=setTimeout(v,q);this.transitionTimeouts.push(u);}else k.addEndEventListener(r,v);},queueClass:function(o){this.classNameQueue.push(o);if(!this.timeout)this.timeout=setTimeout(this.flushClassNameQueue,m);},flushClassNameQueue:function(){if(this.isMounted())this.classNameQueue.forEach(j.addClass.bind(j,i.findDOMNode(this)));this.classNameQueue.length=0;this.timeout=null;},componentWillMount:function(){this.classNameQueue=[];this.transitionTimeouts=[];},componentWillUnmount:function(){if(this.timeout)clearTimeout(this.timeout);this.transitionTimeouts.forEach(function(o){clearTimeout(o);});},componentWillAppear:function(o){if(this.props.appear){this.transition('appear',o,this.props.appearTimeout);}else o();},componentWillEnter:function(o){if(this.props.enter){this.transition('enter',o,this.props.enterTimeout);}else o();},componentWillLeave:function(o){if(this.props.leave){this.transition('leave',o,this.props.leaveTimeout);}else o();},render:function(){return l(this.props.children);}});f.exports=n;},null);
__d('ReactTransitionChildMapping',['flattenChildren'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getChildMapping:function(j){if(!j)return j;return h(j);},mergeChildMappings:function(j,k){j=j||{};k=k||{};function l(t){if(k.hasOwnProperty(t)){return k[t];}else return j[t];}var m={},n=[];for(var o in j)if(k.hasOwnProperty(o)){if(n.length){m[o]=n;n=[];}}else n.push(o);var p,q={};for(var r in k){if(m.hasOwnProperty(r))for(p=0;p<m[r].length;p++){var s=m[r][p];q[m[r][p]]=l(s);}q[r]=l(r);}for(p=0;p<n.length;p++)q[n[p]]=l(n[p]);return q;}};f.exports=i;},null);
__d('ReactTransitionGroup',['React','ReactTransitionChildMapping','Object.assign','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.createClass({displayName:'ReactTransitionGroup',propTypes:{component:h.PropTypes.any,childFactory:h.PropTypes.func},getDefaultProps:function(){return {component:'span',childFactory:k.thatReturnsArgument};},getInitialState:function(){return {children:i.getChildMapping(this.props.children)};},componentWillMount:function(){this.currentlyTransitioningKeys={};this.keysToEnter=[];this.keysToLeave=[];},componentDidMount:function(){var m=this.state.children;for(var n in m)if(m[n])this.performAppear(n);},componentWillReceiveProps:function(m){var n=i.getChildMapping(m.children),o=this.state.children;this.setState({children:i.mergeChildMappings(o,n)});var p;for(p in n){var q=o&&o.hasOwnProperty(p);if(n[p]&&!q&&!this.currentlyTransitioningKeys[p])this.keysToEnter.push(p);}for(p in o){var r=n&&n.hasOwnProperty(p);if(o[p]&&!r&&!this.currentlyTransitioningKeys[p])this.keysToLeave.push(p);}},componentDidUpdate:function(){var m=this.keysToEnter;this.keysToEnter=[];m.forEach(this.performEnter);var n=this.keysToLeave;this.keysToLeave=[];n.forEach(this.performLeave);},performAppear:function(m){this.currentlyTransitioningKeys[m]=true;var n=this.refs[m];if(n.componentWillAppear){n.componentWillAppear(this._handleDoneAppearing.bind(this,m));}else this._handleDoneAppearing(m);},_handleDoneAppearing:function(m){var n=this.refs[m];if(n.componentDidAppear)n.componentDidAppear();delete this.currentlyTransitioningKeys[m];var o=i.getChildMapping(this.props.children);if(!o||!o.hasOwnProperty(m))this.performLeave(m);},performEnter:function(m){this.currentlyTransitioningKeys[m]=true;var n=this.refs[m];if(n.componentWillEnter){n.componentWillEnter(this._handleDoneEntering.bind(this,m));}else this._handleDoneEntering(m);},_handleDoneEntering:function(m){var n=this.refs[m];if(n.componentDidEnter)n.componentDidEnter();delete this.currentlyTransitioningKeys[m];var o=i.getChildMapping(this.props.children);if(!o||!o.hasOwnProperty(m))this.performLeave(m);},performLeave:function(m){this.currentlyTransitioningKeys[m]=true;var n=this.refs[m];if(n.componentWillLeave){n.componentWillLeave(this._handleDoneLeaving.bind(this,m));}else this._handleDoneLeaving(m);},_handleDoneLeaving:function(m){var n=this.refs[m];if(n.componentDidLeave)n.componentDidLeave();delete this.currentlyTransitioningKeys[m];var o=i.getChildMapping(this.props.children);if(o&&o.hasOwnProperty(m)){this.performEnter(m);}else this.setState(function(p){var q=j({},p.children);delete q[m];return {children:q};});},render:function(){var m=[];for(var n in this.state.children){var o=this.state.children[n];if(o)m.push(h.cloneElement(this.props.childFactory(o),{ref:n,key:n}));}return h.createElement(this.props.component,this.props,m);}});f.exports=l;},null);
__d('ReactCSSTransitionGroup',['React','Object.assign','ReactTransitionGroup','ReactCSSTransitionGroupChild'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(n){var o='transition'+n+'Timeout',p='transition'+n;return function(q){if(q[p])if(q[o]==null){return new Error(o+' wasn\'t supplied to ReactCSSTransitionGroup: '+'this can cause unreliable animations and won\'t be supported in '+'a future version of React. See '+'https://fb.me/react-animation-transition-group-timeout for more '+'information.');}else if(typeof q[o]!=='number')return new Error(o+' must be a number (in milliseconds)');};}var m=h.createClass({displayName:'ReactCSSTransitionGroup',propTypes:{transitionName:k.propTypes.name,transitionAppear:h.PropTypes.bool,transitionEnter:h.PropTypes.bool,transitionLeave:h.PropTypes.bool,transitionAppearTimeout:l('Appear'),transitionEnterTimeout:l('Enter'),transitionLeaveTimeout:l('Leave')},getDefaultProps:function(){return {transitionAppear:false,transitionEnter:true,transitionLeave:true};},_wrapChild:function(n){return h.createElement(k,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},n);},render:function(){return h.createElement(j,i({},this.props,{childFactory:this._wrapChild}));}});f.exports=m;},null);
__d('ReactComponentRenderer',['React','ReactDOM','Object.assign','warning'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m,n){this.klass=m;this.container=n;this.props={};this.component=null;}l.prototype.replaceProps=function(m,n){this.props={};this.setProps(m,n);};l.prototype.setProps=function(m,n){if(this.klass==null)return;j(this.props,m);var o=h.createElement(this.klass,this.props);this.component=i.render(o,this.container,n);};l.prototype.unmount=function(){i.unmountComponentAtNode(this.container);this.klass=null;};f.exports=l;},null);
__d('StaticContainer.react',['React'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h.Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){'use strict';return !!l.shouldUpdate;};k.prototype.render=function(){'use strict';var l=this.props.children;if(l===null||l===false)return null;return h.Children.only(l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('RelayFBContainerProxy',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=Object.prototype.hasOwnProperty,i={childContextTypes:true,componentDidMount:true,componentDidUpdate:true,componentWillReceiveProps:true,componentWillMount:true,componentWillUpdate:true,componentWillUnmount:true,constructor:true,contextTypes:true,getChildContext:true,getDefaultProps:true,getDOMNode:true,getInitialState:true,mixins:true,propTypes:true,render:true,shouldComponentUpdate:true,statics:true,updateComponent:true},j={proxyMethods:function(l,m){var n=m.prototype;Object.getOwnPropertyNames(n).forEach(function(o){var p=o.charAt(0);if(!i[o]&&p!='_'&&p!='$'&&typeof n[o]==='function')l.prototype[o]=k(n[o],o,m.name);});}};function k(l,m,n){return function(){var o=this.refs.component;if(o)return l.apply(this.refs.component,arguments);};}f.exports=j;},null);
__d('prepareRelayFBContainerProps',['warning'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){function l(m,n){return function(){h(false,'RelayContainer: this.props.%s() is deprecated, use '+'this.props.relay.%s() instead. Check the render method of `%s`.',m,n,k.constructor.displayName||k.constructor.name||'<unknown>');return j[n].apply(j,arguments);};}return {relay:j,forceFetch:l('forceFetch','forceFetch'),hasOptimisticUpdate:l('hasOptimisticUpdate','hasOptimisticUpdate'),getPendingTransactions:l('getPendingTransactions','getPendingTransactions'),hasQueryData:l('hasQueryData','hasFragmentData'),queryParams:j.variables,route:j.route,setParams:l('setParams','setVariables')};}f.exports=i;},null);
__d('RelayFBConnectionInterface',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={after:true,before:true,find:true,first:true,last:true,surrounds:true},i={find:true,first:true,last:true},j={CLIENT_MUTATION_ID:'client_mutation_id',CURSOR:'cursor',EDGES:'edges',END_CURSOR:'end_cursor',HAS_NEXT_PAGE:'has_next_page',HAS_PREV_PAGE:'has_previous_page',NODE:'node',PAGE_INFO:'page_info',START_CURSOR:'start_cursor',EDGES_HAVE_SOURCE_FIELD:true,isConnectionCall:function(k){return h.hasOwnProperty(k.name);},hasRangeCalls:function(k){return k.some(function(l){return i.hasOwnProperty(l.name);});},getDefaultPageInfo:function(){var k={};k[j.START_CURSOR]=undefined;k[j.END_CURSOR]=undefined;k[j.HAS_NEXT_PAGE]=false;k[j.HAS_PREV_PAGE]=false;return k;}};f.exports=j;},null);
__d('forEachRootCallArg',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){!!j.getBatchCall()?h(0):undefined;function l(o,p){if(Array.isArray(o)){o.forEach(function(q){return l(q,p);});}else if(o==null){p(o);}else{!(typeof o==='string'||typeof o==='number')?h(0):undefined;p(''+o);}}var m=j.getIdentifyingArg(),n=m&&m.value||null;l(n,k);}f.exports=i;},null);
__d('generateClientID',['crc32','performanceNow'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=1,k='client:'+h(''+i());function l(){return k+j++;}f.exports=l;},null);
__d('RelayFBNodeInterface',['forEachRootCallArg','generateClientID','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={ANY_TYPE:'__any',ID:'id',ID_TYPE:'ID!',NODE:'node',NODE_TYPE:'Node',NODES:'nodes',TYPENAME:'__typename',isNodeRootCall:function(m){return (m===k.NODE||m===k.NODES);},getResultsFromPayload:function(m,n,o){var p=[],q=n.getBatchCall();if(q){Object.keys(o).forEach(function(r){var s=o[r];if(typeof s==='object'&&s!==null){!(s[k.ID]===r)?j(0):undefined;p.push({dataID:r,result:s});}});}else (function(){var r=n.getFieldName(),s=n.getStorageKey();h(n,function(t){var u=l(o,r,t);if(u==null||!o.hasOwnProperty(u))return;var v=o[u],w=m.getDataID(s,t);if(w==null){var x=typeof v==='object'&&v?v[k.ID]:null;if(x!=null){w=x;}else if(t==null){w='client:'+r;}else w=i();}p.push({dataID:w,result:v,rootCallInfo:{storageKey:s,identifyingArgValue:t}});});})();return p;}};function l(m,n,o){var p,q=Object.keys(m);if(q.length===1){p=q[0];}else if(o==null){!(q.length<2)?j(0):undefined;p=q[0];}else p=o;return p;}f.exports=k;},null);
__d('RelayError',['sprintf'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={create:function(k,l){for(var m=arguments.length,n=Array(m>2?m-2:0),o=2;o<m;o++)n[o-2]=arguments[o];return j('mustfix',k,l,n);},createWarning:function(k,l){for(var m=arguments.length,n=Array(m>2?m-2:0),o=2;o<m;o++)n[o-2]=arguments[o];return j('warn',k,l,n);}};function j(k,l,m,n){var o=new Error(h.apply(undefined,[m].concat(n)));o.name=l;o.type=k;o.framesToPop=2;return o;}f.exports=i;},null);
__d('RelayAPIConfig',['RelayAPIConfigDefaults'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=babelHelpers['extends']({},h,{setLocale:function(j){i.graphBatchURI.setQueryData({locale:j});i.graphURI.setQueryData({locale:j});},setCSRFToken:function(j){i.graphBatchURI.setQueryData({fb_dtsg:j});i.graphURI.setQueryData({fb_dtsg:j});},setCookie:function(j){i.cookie=j;}});f.exports=i;},null);
__d('createChunkedResponseParser',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i="\r\n",j=2;function k(l,m){var n=0,o=function(p,q,r){if(m){p=m(p);!(p==null||typeof p==='string')?h(0):undefined;}if(p){var s=p.length;while(n<s){var t=p.indexOf(i,n);if(t<0)if(r){t=s;}else break;var u=p.slice(n,t);n+=u.length+j;l(u,q,r&&n>=s);}}else if(r)l('',q,true);};o.parseStreaming=true;return o;}f.exports=k;},null);
__d('RelayAPIRequest',['RelayAPIConfig','URI','XHRHttpError','XHRRequest','createChunkedResponseParser','forEachObject','getSameOriginTransport','invariant','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();function q(s){return (s===j.HTTP_TRANSPORT_ERROR||s===j.HTTP_SERVER_ERROR);}function r(s){this.$RelayAPIRequest1=false;this.setURI(s);this.setMethod('POST');this.setTransportBuilder(n);}r.prototype.setURI=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest2=new i(s);return this;};r.prototype.setMethod=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest3=s;return this;};r.prototype.setData=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest4=s;return this;};r.prototype.setRequestHeaders=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest5=s;return this;};r.prototype.setTransportBuilder=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest6=s;return this;};r.prototype.setResponseFilter=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest7=s;return this;};r.prototype.setResponseChunkHandler=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest8=s;return this;};r.prototype.setErrorHandler=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest9=s;return this;};r.prototype.setTimeoutHandler=function(s){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest10=s;return this;};r.prototype.send=function(){!!this.$RelayAPIRequest1?o(0):undefined;this.$RelayAPIRequest1=true;var s=undefined,t=0,u=0;function v(){return t<=h.retryDelays.length;}function w(){var y=h.retryDelays[t-1],z=u+y,aa=setTimeout(function(){s=x();},z-Date.now());s={abort:function(){clearTimeout(aa);}};}var x=function(){t++;u=Date.now();var y=undefined;if(this.$RelayAPIRequest8)y=l(this.$RelayAPIRequest8,this.$RelayAPIRequest7);var z=this.$RelayAPIRequest9,aa=function(ea){if(v()&&q(ea.errorCode)){p(false,'RelayAPIRequest: Transient HTTP error, retrying. %s %s %s',ea.errorType||'',ea.errorCode||'',ea.errorMsg||'');w();}else if(z)z(ea);},ba=this.$RelayAPIRequest10,ca=function(){if(v()){p(false,'RelayAPIRequest: HTTP timeout, retrying.');w();}else if(ba)ba();},da=new k(this.$RelayAPIRequest2).setMethod(this.$RelayAPIRequest3).setData(this.$RelayAPIRequest4).setTransportBuilder(this.$RelayAPIRequest6).setErrorHandler(aa).setResponseHandler(y).setTimeout(h.fetchTimeout).setTimeoutHandler(ca);m(this.$RelayAPIRequest5,function(ea,fa){da.setRequestHeader(fa,ea);});da.send();return da;}.bind(this);s=x();return {abort:function(){if(s)s.abort();}};};f.exports=r;},null);
__d('RelayGraphQLRequestUtils',['RelayAPIConfig','RelayError','XHRHttpError','getAsyncParams','getCrossOriginTransport','getSameOriginTransport'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={createErrorFromPayload:function(o){var p=typeof o==='object'?i.create('GraphQLError','GraphQL server responded with error %s: %s\n%s',o.code,o.description,o.debug_info||''):i.create('GraphQLError','GraphQL server responded with an error: %s',o);p.source=o;return p;},createErrorFromXHR:function(o,p){var q=undefined;for(var r=arguments.length,s=Array(r>2?r-2:0),t=2;t<r;t++)s[t-2]=arguments[t];if(o.errorCode===j.HTTP_TRANSPORT_ERROR){q=i.createWarning.apply(i,['NetworkTransportError',p].concat(s));}else if(o.errorCode===j.HTTP_CLIENT_ERROR&&o.errorMsg&&o.errorMsg.match(/OAuthException/)){q=i.create.apply(i,['NetworkOAuthError',p].concat(s));}else q=i.create.apply(i,['NetworkRequestError',p].concat(s));q.source=o;return q;},getRequestHeaders:function(){var o={'Content-Type':'application/x-www-form-urlencoded'};if(h.xhrEncoding)o['Content-Encoding']=h.xhrEncoding;if(h.cookie)o.cookie=h.cookie;return o;},getAuthenticationData:function(){if(h.useXController){return k('POST');}else return {access_token:h.accessToken};},getTransportBuilder:function(){return h.useXController?m:l;},parsePayload:function(o){try{return JSON.parse(o);}catch(p){throw i.create('JSONParseError','Response contained invalid JSON.\n'+'Reason: %s\n'+'%s',p.message,o);}}};f.exports=n;},null);
__d('RelayProfiler',['emptyFunction','forEachObject','removeFromArray'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={'*':[]},l={'*':[]},m={},n={stop:h},o=function(q){return q.charAt(0)!=='@';},p={instrumentMethods:function(q,r){i(r,function(s,t){q[t]=p.instrument(s,q[t]);});},instrument:function(q,r){if(!o(q)){r.attachHandler=h;r.detachHandler=h;return r;}if(!k.hasOwnProperty(q))k[q]=[];var s=k['*'],t=k[q],u=[],v=[],w=function(){var y=v[v.length-1];if(y[0]){y[0]--;s[y[0]](q,w);}else if(y[1]){y[1]--;t[y[1]](q,w);}else if(y[2]){y[2]--;u[y[2]](q,w);}else y[5]=r.apply(y[3],y[4]);},x=function(){var y=undefined;if(t.length===0&&u.length===0&&s.length==0){y=r.apply(this,arguments);}else{v.push([s.length,t.length,u.length,this,arguments,m]);w();var z=v.pop();y=z[5];if(y===m)throw new Error('RelayProfiler: Handler did not invoke original function.');}return y;};x.attachHandler=function(y){u.push(y);};x.detachHandler=function(y){j(u,y);};x.displayName='(instrumented '+q+')';return x;},attachAggregateHandler:function(q,r){if(o(q)){if(!k.hasOwnProperty(q))k[q]=[];k[q].push(r);}},detachAggregateHandler:function(q,r){if(o(q))if(k.hasOwnProperty(q))j(k[q],r);},profile:function(q,r){var s=l['*'].length>0,t=l.hasOwnProperty(q);if(t||s){var u=function(){var v=t&&s?l[q].concat(l['*']):t?l[q]:l['*'],w=undefined;for(var x=v.length-1;x>=0;x--){var y=v[x],z=y(q,r);w=w||[];w.unshift(z);}return {v:{stop:function(){if(w)w.forEach(function(aa){return aa();});}}};}();if(typeof u==="object")return u.v;}return n;},attachProfileHandler:function(q,r){if(o(q)){if(!l.hasOwnProperty(q))l[q]=[];l[q].push(r);}},detachProfileHandler:function(q,r){if(o(q))if(l.hasOwnProperty(q))j(l[q],r);}};f.exports=p;},null);
__d('RelayOSSNodeInterface',['forEachRootCallArg','generateClientID','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={ANY_TYPE:'__any',ID:'id',ID_TYPE:'ID!',NODE:'node',NODE_TYPE:'Node',NODES:'nodes',TYPENAME:'__typename',isNodeRootCall:function(m){return (m===k.NODE||m===k.NODES);},getResultsFromPayload:function(m,n,o){var p=[],q=n.getBatchCall();if(q){l(n,o).forEach(function(t){if(typeof t!=='object'||!t)return;var u=t[k.ID];!(u!=null)?j(0):undefined;p.push({dataID:u,result:t});});}else{var r,s;(function(){r=l(n,o);s=0;var t=n.getStorageKey();h(n,function(u){var v=r[s++],w=m.getDataID(t,u);if(w==null){var x=typeof v==='object'&&v?v[k.ID]:null;if(x!=null){w=x;}else w=i();}p.push({dataID:w,result:v,rootCallInfo:{storageKey:t,identifyingArgValue:u}});});})();}return p;}};function l(m,n){var o=m.getFieldName(),p=m.getIdentifyingArg(),q=p&&p.value||null,r=n[o];if(!m.getBatchCall())if(Array.isArray(q)){!Array.isArray(r)?j(0):undefined;!(r.length===q.length)?j(0):undefined;}else if(Array.isArray(r))j(0);return Array.isArray(r)?r:[r];}f.exports=k;},null);
__d('RelayNodeInterface',['RelayOSSNodeInterface','RelayFBNodeInterface'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=b.__RELAYOSS__?c('RelayOSSNodeInterface'):c('RelayFBNodeInterface');},null);
__d('generateConcreteFragmentID',['base62'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='::client',j=0;function k(){return h(j++)+i;}f.exports=k;},null);
__d('QueryBuilder',['RelayNodeInterface','generateConcreteFragmentID','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=[],l=[],m=[],n={},o={createBatchCallVariable:function(q,r){return {kind:'BatchCallVariable',sourceQueryID:q,jsonPath:r};},createCall:function(q,r,s){return {kind:'Call',name:q,metadata:{type:s||null},value:r};},createCallValue:function(q){return {kind:'CallValue',callValue:q};},createCallVariable:function(q){return {kind:'CallVariable',callVariableName:q};},createDirective:function(q,r){return {args:r,kind:'Directive',name:q};},createDirectiveArgument:function(q,r){return {name:q,value:r};},createField:function(q){var r=q.metadata||n;return {alias:q.alias,calls:q.calls||k,children:q.children||l,directives:q.directives||m,fieldName:q.fieldName,kind:'Field',metadata:{canHaveSubselections:!!r.canHaveSubselections,inferredRootCallName:r.inferredRootCallName,inferredPrimaryKey:r.inferredPrimaryKey,isConnection:!!r.isConnection,isFindable:!!r.isFindable,isGenerated:!!r.isGenerated,isPlural:!!r.isPlural,isRequisite:!!r.isRequisite,isAbstract:!!r.isAbstract},type:q.type};},createFragment:function(q){var r=q.metadata||n;return {children:q.children||l,directives:q.directives||m,id:i(),kind:'Fragment',metadata:{isAbstract:!!r.isAbstract,pattern:!!r.pattern,plural:!!r.plural},name:q.name,type:q.type};},createFragmentReference:function(q){return {kind:'FragmentReference',fragment:q};},createMutation:function(q){var r=q.metadata||n;return {calls:q.calls||k,children:q.children||l,directives:q.directives||m,kind:'Mutation',metadata:{inputType:r.inputType},name:q.name,responseType:q.responseType};},createQuery:function(q){var r=q.metadata||n,s=[],t=r.identifyingArgName;if(t==null&&h.isNodeRootCall(q.fieldName))t=h.ID;if(t!=null){!(q.identifyingArgValue!=null)?j(0):undefined;s=[o.createCall(t,q.identifyingArgValue)];}return {calls:s,children:q.children||l,directives:q.directives||m,fieldName:q.fieldName,isDeferred:!!(q.isDeferred||r.isDeferred),kind:'Query',metadata:{identifyingArgName:t,identifyingArgType:r.identifyingArgType,isAbstract:!!r.isAbstract,isPlural:!!r.isPlural},name:q.name,type:q.type};},createSubscription:function(q){var r=q.metadata||n;return {calls:q.calls||k,children:q.children||l,directives:q.directives||m,kind:'Subscription',metadata:{inputType:r.inputType},name:q.name,responseType:q.responseType};},getBatchCallVariable:function(q){if(p(q,'BatchCallVariable'))return q;},getCallVariable:function(q){if(p(q,'CallVariable'))return q;},getField:function(q){if(p(q,'Field'))return q;},getFragment:function(q){if(p(q,'Fragment'))return q;},getFragmentReference:function(q){if(p(q,'FragmentReference'))return q;},getMutation:function(q){if(p(q,'Mutation'))return q;},getQuery:function(q){if(p(q,'Query'))return q;},getSubscription:function(q){if(p(q,'Subscription'))return q;}};function p(q,r){return (typeof q==='object'&&q!==null&&q.kind===r);}f.exports=o;},null);
__d('RelayOSSConnectionInterface',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={after:true,before:true,find:true,first:true,last:true,surrounds:true},i={find:true,first:true,last:true},j={CLIENT_MUTATION_ID:'clientMutationId',CURSOR:'cursor',EDGES:'edges',END_CURSOR:'endCursor',HAS_NEXT_PAGE:'hasNextPage',HAS_PREV_PAGE:'hasPreviousPage',NODE:'node',PAGE_INFO:'pageInfo',START_CURSOR:'startCursor',EDGES_HAVE_SOURCE_FIELD:false,isConnectionCall:function(k){return h.hasOwnProperty(k.name);},hasRangeCalls:function(k){return k.some(function(l){return i.hasOwnProperty(l.name);});},getDefaultPageInfo:function(){var k={};k[j.START_CURSOR]=undefined;k[j.END_CURSOR]=undefined;k[j.HAS_NEXT_PAGE]=false;k[j.HAS_PREV_PAGE]=false;return k;}};f.exports=j;},null);
__d('RelayConnectionInterface',['RelayOSSConnectionInterface','RelayFBConnectionInterface'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=b.__RELAYOSS__?c('RelayOSSConnectionInterface'):c('RelayFBConnectionInterface');},null);
__d('RelayFragmentReference',['QueryBuilder','forEachObject','invariant','warning'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();l.createForContainer=function(m,n,o,p){var q=new l(m,n,o,p);q.$RelayFragmentReference5=true;return q;};function l(m,n,o,p){this.$RelayFragmentReference2=n||{};this.$RelayFragmentReference3=undefined;this.$RelayFragmentReference4=m;this.$RelayFragmentReference5=false;this.$RelayFragmentReference6=false;this.$RelayFragmentReference7=o;this.$RelayFragmentReference8=p;}l.prototype.defer=function(){this.$RelayFragmentReference6=true;return this;};l.prototype['if']=function(m){var n=h.getCallVariable(m);!n?j(0):undefined;this.$RelayFragmentReference9(function(o){return !!o[n.callVariableName];});return this;};l.prototype.unless=function(m){var n=h.getCallVariable(m);!n?j(0):undefined;this.$RelayFragmentReference9(function(o){return !o[n.callVariableName];});return this;};l.prototype.$RelayFragmentReference10=function(){var m=this.$RelayFragmentReference3;if(m==null){m=this.$RelayFragmentReference4();this.$RelayFragmentReference3=m;}return m;};l.prototype.getFragment=function(m){var n=this.$RelayFragmentReference1;if(n&&!n.every(function(o){return o(m);}))return null;return this.$RelayFragmentReference10();};l.prototype.getVariables=function(m,n){var o=babelHelpers['extends']({},this.$RelayFragmentReference2),p=this.$RelayFragmentReference7;if(p)i(p,function(r,s){var t=h.getCallVariable(r);if(t)r=n[t.callVariableName];if(r===undefined){k(false,'RelayFragmentReference: Variable `%s` is undefined in fragment '+'`%s`.',s,this.$RelayFragmentReference10().name);}else o[s]=r;}.bind(this));var q=this.$RelayFragmentReference8;if(q)o=q(o,m);return o;};l.prototype.isContainerFragment=function(){return this.$RelayFragmentReference5;};l.prototype.isDeferred=function(){return this.$RelayFragmentReference6;};l.prototype.$RelayFragmentReference9=function(m){var n=this.$RelayFragmentReference1;if(!n){n=[];this.$RelayFragmentReference1=n;}n.push(m);};f.exports=l;},null);
__d('RelayMetaRoute',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(j){Object.defineProperty(this,'name',{enumerable:true,value:j,writable:false});}h.get=function(j){return i[j]||(i[j]=new h(j));};var i={};f.exports=h;},null);
__d('RelayRouteFragment',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$RelayRouteFragment1=i;}h.prototype.getFragmentForRoute=function(i){return this.$RelayRouteFragment1(i);};f.exports=h;},null);
__d('callsFromGraphQL',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k,l){var m=k,n=[];for(var o=0;o<m.length;o++){var p=m[o],q=p.name,r=p.value;if(r!=null)if(Array.isArray(r)){r=r.map(function(s){return j(s,l);});}else if(r.kind==='BatchCallVariable'){r=null;}else r=j(r,l);n.push({name:q,value:r});}return n;}function j(k,l){if(k.kind==='CallValue'){return k.callValue;}else{var m=k.callVariableName;!l.hasOwnProperty(m)?h(0):undefined;return l[m];}}f.exports=i;},null);
__d('callsToGraphQL',['QueryBuilder'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){return j.map(function(k){var l=k.name,m=k.value,n=null;if(Array.isArray(m)){n=m.map(h.createCallValue);}else if(m!=null)n=h.createCallValue(m);return h.createCall(l,n);});}f.exports=i;},null);
__d('directivesToGraphQL',['QueryBuilder'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){return j.map(function(k){var l=k.name,m=k.args,n=m.map(function(o){var p=o.name,q=o.value,r=null;if(Array.isArray(q)){r=q.map(h.createCallValue);}else if(q!=null)r=h.createCallValue(q);return h.createDirectiveArgument(p,r);});return h.createDirective(l,n);});}f.exports=i;},null);
__d('generateRQLFieldAlias',['base62','crc32'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j='_';function k(l){var m=l.indexOf('.');if(m===-1)return l;return j+l.substr(0,m)+h(i(l)>>>0);}f.exports=k;},null);
__d('serializeRelayQueryCall',['flattenArray'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k){var l=k.value,m;if(Array.isArray(l)){m=h(l).map(j).join(',');}else m=j(l);return '.'+k.name+'('+m+')';}function j(k){if(k==null){return '';}else if(typeof k!=='string'){return JSON.stringify(k);}else return k;}f.exports=i;},null);
__d('stableStringify',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(j){return (j!==null&&Object.prototype.toString.call(j)==='[object Object]');}function i(j){var k=Array.isArray(j),l=h(j);if(k||l){var m=Object.keys(j);if(m.length){var n=[];m.sort();for(var o=0;o<m.length;o++){var p=m[o],q=j[p];if(h(q)||Array.isArray(q)){q=i(q);}else q=JSON.stringify(q);n.push(p+':'+q);}if(k){return '['+n.join(',')+']';}else return '{'+n.join(',')+'}';}}return JSON.stringify(j);}f.exports=i;},null);
__d('RelayQuery',['QueryBuilder','RelayConnectionInterface','RelayFragmentReference','RelayMetaRoute','RelayProfiler','RelayRouteFragment','areEqual','callsFromGraphQL','callsToGraphQL','directivesToGraphQL','generateConcreteFragmentID','generateRQLFieldAlias','invariant','serializeRelayQueryCall','shallowEqual','stableStringify'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';var x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia;if(c.__markCompiled)c.__markCompiled();var ja='if',ka='unless',la='true',ma='false',na='skip',oa='include',pa=0,qa={isDeferred:false,isContainerFragment:false},ra=[],sa=[];ta.create=function(eb,fb,gb){var hb=ab(eb,fb,gb);!(hb instanceof ta)?t(0):undefined;return hb;};function ta(eb,fb,gb){!(this.constructor.name!=='RelayQueryNode')?t(0):undefined;this.__concreteNode__=eb;this.__route__=fb;this.__variables__=gb;this.__calls__=null;this.__children__=null;this.__fieldMap__=null;this.__hasDeferredDescendant__=null;this.__hasValidatedConnectionCalls__=null;this.__serializationKey__=null;this.__storageKey__=null;}ta.prototype.canHaveSubselections=function(){return true;};ta.prototype.isGenerated=function(){return false;};ta.prototype.isRefQueryDependency=function(){return false;};ta.prototype.clone=function(eb){if(!this.canHaveSubselections()){!(eb.length===0)?t(0):undefined;return this;}var fb=this.getChildren(),gb=cb(fb,eb);if(!gb.length){return null;}else if(gb===fb)return this;var hb=ta.create(this.__concreteNode__,this.__route__,this.__variables__);hb.__children__=gb;hb.__calls__=this.__calls__;hb.__serializationKey__=this.__serializationKey__;hb.__storageKey__=this.__storageKey__;return hb;};ta.prototype.getChildren=function(){var eb=this,fb=this.__children__;if(!fb)(function(){var gb=[],hb=eb.__concreteNode__.children;if(hb)hb.forEach(function(ib){if(ib==null)return;var jb=ab(ib,this.__route__,this.__variables__);if(jb&&jb.isIncluded())gb.push(jb);}.bind(eb));eb.__children__=gb;fb=gb;})();return fb;};ta.prototype.isIncluded=function(){if(!this.__concreteNode__.directives)return true;return this.getDirectives().every(function(eb){if(eb.name===na){return !eb.args.some(function(fb){return fb.name===ja&&!!fb.value;});}else if(eb.name===oa)return !eb.args.some(function(fb){return fb.name===ja&&!fb.value;});return true;});};ta.prototype.getDirectives=function(){var eb=this.__concreteNode__.directives;if(eb)return this.__concreteNode__.directives.map(function(fb){return {args:o(fb.args,this.__variables__),name:fb.name};}.bind(this));return ra;};ta.prototype.getField=function(eb){return this.getFieldByStorageKey(eb.getStorageKey());};ta.prototype.getFieldByStorageKey=function(eb){var fb=this.__fieldMap__;if(!fb){fb={};var gb,hb=this.getChildren();for(var ib=0;ib<hb.length;ib++){gb=hb[ib];if(gb instanceof za)fb[gb.getStorageKey()]=gb;}this.__fieldMap__=fb;}return fb[eb];};ta.prototype.getType=function(){return this.__concreteNode__.type;};ta.prototype.getRoute=function(){return this.__route__;};ta.prototype.getVariables=function(){return this.__variables__;};ta.prototype.hasDeferredDescendant=function(){var eb=this.__hasDeferredDescendant__;if(eb==null){eb=this.canHaveSubselections()&&this.getChildren().some(function(fb){return fb.hasDeferredDescendant();});this.__hasDeferredDescendant__=eb;}return eb;};ta.prototype.isAbstract=function(){throw new Error('RelayQueryNode: Abstract function cannot be called.');};ta.prototype.isRequisite=function(){return false;};ta.prototype.equals=function(eb){var fb=this.getChildren(),gb=eb.getChildren();return fb===gb||fb.length===gb.length&&fb.every(function(hb,ib){return hb.equals(gb[ib]);});};ta.prototype.isEquivalent=function(eb){return (this.__concreteNode__===eb.__concreteNode__&&this.__route__===eb.__route__&&v(this.__variables__,eb.__variables__));};ta.prototype.createNode=function(eb){return ta.create(eb,this.__route__,this.__variables__);};ta.prototype.getConcreteQueryNode=function(){return this.__concreteNode__;};x=babelHelpers.inherits(ua,ta);y=x&&x.prototype;ua.build=function(eb,fb,gb,hb,ib,jb){var kb=hb?hb.filter(function(pb){return !!pb;}):[],lb=h.getBatchCallVariable(gb),mb=undefined;if(lb){mb=lb;}else if(Array.isArray(gb)){mb=gb.map(h.createCallValue);}else if(gb)mb=h.createCallValue(gb);var nb=h.createQuery({fieldName:fb,identifyingArgValue:mb,metadata:ib,name:eb,type:jb}),ob=new ua(nb,k.get('$RelayQuery'),{});ob.__children__=kb;return ob;};ua.create=function(eb,fb,gb){var hb=h.getQuery(eb);!hb?t(0):undefined;return new ua(hb,fb,gb);};function ua(eb,fb,gb){y.constructor.call(this,eb,fb,gb);this.__batchCall__=undefined;this.__id__=undefined;this.__identifyingArg__=undefined;this.__storageKey__=undefined;this.getID();}ua.prototype.canHaveSubselections=function(){return true;};ua.prototype.getName=function(){var eb=this.__concreteNode__.name;if(!eb){eb=this.getID();this.__concreteNode__.name=eb;}return eb;};ua.prototype.getID=function(){var eb=this.__id__;if(eb==null){eb='q'+pa++;this.__id__=eb;}return eb;};ua.prototype.getBatchCall=function(){var eb=this.__batchCall__;if(eb===undefined){var fb=this.__concreteNode__.calls;if(fb){var gb=fb[0]&&fb[0].value;if(gb!=null&&!Array.isArray(gb)&&gb.kind==='BatchCallVariable')eb={refParamName:'ref_'+gb.sourceQueryID,sourceQueryID:gb.sourceQueryID,sourceQueryPath:gb.jsonPath};}eb=eb||null;this.__batchCall__=eb;}return eb;};ua.prototype.getCallsWithValues=function(){var eb=this.__calls__;if(!eb){var fb=this.__concreteNode__.calls;if(fb){eb=o(fb,this.__variables__);}else eb=sa;this.__calls__=eb;}return eb;};ua.prototype.getFieldName=function(){return this.__concreteNode__.fieldName;};ua.prototype.getIdentifyingArg=function(){var eb=this,fb=this.__identifyingArg__;if(!fb)(function(){var gb=eb.__concreteNode__.metadata,hb=gb.identifyingArgName;if(hb!=null){fb=eb.getCallsWithValues().find(function(ib){return ib.name===hb;});if(fb&&gb.identifyingArgType!=null)fb.type=gb.identifyingArgType;eb.__identifyingArg__=fb;}})();return fb;};ua.prototype.getStorageKey=function(){var eb=this,fb=this.__storageKey__;if(!fb)(function(){var gb=eb.getCallsWithValues(),hb=eb.getIdentifyingArg();if(hb)gb=gb.filter(function(jb){return jb!==hb;});var ib=za.build({fieldName:eb.getFieldName(),calls:gb,type:eb.getType()});fb=ib.getStorageKey();eb.__storageKey__=fb;})();return fb;};ua.prototype.hasDeferredDescendant=function(){return this.isDeferred()||y.hasDeferredDescendant.call(this);};ua.prototype.isAbstract=function(){return !!this.__concreteNode__.metadata.isAbstract;};ua.prototype.isDeferred=function(){return !!this.__concreteNode__.isDeferred;};ua.prototype.isPlural=function(){return !!this.__concreteNode__.metadata.isPlural;};ua.prototype.equals=function(eb){if(this===eb)return true;if(!(eb instanceof ua))return false;if(!n(this.getBatchCall(),eb.getBatchCall()))return false;if(this.getFieldName()!==eb.getFieldName()||!n(this.getCallsWithValues(),eb.getCallsWithValues()))return false;return y.equals.call(this,eb);};z=babelHelpers.inherits(va,ta);aa=z&&z.prototype;function va(eb,fb,gb){aa.constructor.call(this,eb,fb,gb);!(this.constructor.name!=='RelayQueryOperation')?t(0):undefined;}va.prototype.canHaveSubselections=function(){return true;};va.prototype.getName=function(){return this.__concreteNode__.name;};va.prototype.getResponseType=function(){return this.__concreteNode__.responseType;};va.prototype.getType=function(){return this.getResponseType();};va.prototype.getInputType=function(){var eb=this.__concreteNode__.metadata.inputType;!eb?t(0):undefined;return eb;};va.prototype.getCall=function(){var eb=this.__calls__;if(!eb){var fb=this.__concreteNode__.calls;if(fb){eb=o(fb,this.__variables__);}else eb=sa;this.__calls__=eb;}return eb[0];};va.prototype.getCallVariableName=function(){if(!this.__callVariableName__){var eb=this.__concreteNode__.calls,fb=eb&&h.getCallVariable(eb[0].value);!fb?t(0):undefined;this.__callVariableName__=fb.callVariableName;}return this.__callVariableName__;};va.prototype.isAbstract=function(){return false;};ba=babelHelpers.inherits(wa,va);ca=ba&&ba.prototype;wa.build=function(eb,fb,gb,hb,ib,jb){var kb=ib?ib.filter(function(nb){return !!nb;}):[],lb=h.createMutation({calls:[h.createCall(gb,h.createCallVariable('input'))],metadata:jb,name:eb,responseType:fb}),mb=new wa(lb,k.get('$RelayQuery'),{input:hb||''});mb.__children__=kb;return mb;};wa.prototype.equals=function(eb){if(this===eb)return true;if(!(eb instanceof wa))return false;if(!n(this.getResponseType(),eb.getResponseType()))return false;if(!n(this.getCall(),eb.getCall()))return false;return ca.equals.call(this,eb);};function wa(){ba.apply(this,arguments);}da=babelHelpers.inherits(xa,va);ea=da&&da.prototype;xa.create=function(eb,fb,gb){var hb=h.getSubscription(eb);!hb?t(0):undefined;return new xa(eb,fb,gb);};xa.prototype.getPublishedPayloadType=function(){return this.getResponseType();};xa.prototype.equals=function(eb){if(this===eb)return true;if(!(eb instanceof xa))return false;if(!n(this.getPublishedPayloadType(),eb.getPublishedPayloadType()))return false;if(!n(this.getCall(),eb.getCall()))return false;return ea.equals.call(this,eb);};function xa(){da.apply(this,arguments);}fa=babelHelpers.inherits(ya,ta);ga=fa&&fa.prototype;ya.build=function(eb,fb,gb,hb){var ib=gb?gb.filter(function(lb){return !!lb;}):[],jb=h.createFragment({name:eb,type:fb,metadata:hb}),kb=new ya(jb,k.get('$RelayQuery'),{},{isDeferred:!!(hb&&hb.isDeferred),isContainerFragment:!!(hb&&hb.isContainerFragment)});kb.__children__=ib;return kb;};ya.create=function(eb,fb,gb,hb){var ib=h.getFragment(eb);!ib?t(0):undefined;return bb(ib,fb,gb,hb||qa);};function ya(eb,fb,gb,hb){ga.constructor.call(this,eb,fb,gb);this.__compositeHash__=null;this.__metadata__=hb||qa;}ya.prototype.canHaveSubselections=function(){return true;};ya.prototype.getDebugName=function(){return this.__concreteNode__.name;};ya.prototype.getConcreteFragmentID=function(){return this.__concreteNode__.id;};ya.prototype.getCompositeHash=function(){var eb=this.__compositeHash__;if(!eb){eb=s(this.getConcreteFragmentID()+'.'+this.__route__.name+'.'+w(this.__variables__));this.__compositeHash__=eb;}return eb;};ya.prototype.isAbstract=function(){return !!this.__concreteNode__.metadata.isAbstract;};ya.prototype.isDeferred=function(){return this.__metadata__.isDeferred;};ya.prototype.isPattern=function(){return !!this.__concreteNode__.metadata.pattern;};ya.prototype.isPlural=function(){var eb=this.__concreteNode__.metadata;return !!(eb.isPlural||eb.plural);};ya.prototype.cloneAsPlainFragment=function(){return bb(this.__concreteNode__,this.__route__,this.__variables__,qa);};ya.prototype.isContainerFragment=function(){return this.__metadata__.isContainerFragment;};ya.prototype.hasDeferredDescendant=function(){return this.isDeferred()||ga.hasDeferredDescendant.call(this);};ya.prototype.clone=function(eb){var fb=ga.clone.call(this,eb);if(fb!==this&&fb instanceof ya){fb.__concreteNode__=babelHelpers['extends']({},fb.__concreteNode__,{id:r()});fb.__metadata__=babelHelpers['extends']({},this.__metadata__);}return fb;};ya.prototype.equals=function(eb){if(this===eb)return true;if(!(eb instanceof ya))return false;if(this.getType()!==eb.getType())return false;return ga.equals.call(this,eb);};ha=babelHelpers.inherits(za,ta);ia=ha&&ha.prototype;za.create=function(eb,fb,gb){var hb=h.getField(eb);!hb?t(0):undefined;return new za(hb,fb,gb);};za.build=function(eb){var fb=eb.alias,gb=eb.directives,hb=eb.calls,ib=eb.children,jb=eb.fieldName,kb=eb.metadata,lb=eb.type,mb=ib?ib.filter(function(pb){return !!pb;}):[],nb=h.createField({alias:fb,calls:hb?p(hb):null,directives:gb?q(gb):null,fieldName:jb,metadata:kb,type:lb}),ob=new za(nb,k.get('$RelayQuery'),{});ob.__children__=mb;return ob;};function za(eb,fb,gb){ia.constructor.call(this,eb,fb,gb);this.__debugName__=undefined;this.__isRefQueryDependency__=false;this.__rangeBehaviorKey__=undefined;this.__shallowHash__=undefined;}za.prototype.canHaveSubselections=function(){return !!this.__concreteNode__.metadata.canHaveSubselections;};za.prototype.isAbstract=function(){return !!this.__concreteNode__.metadata.isAbstract;};za.prototype.isFindable=function(){return !!this.__concreteNode__.metadata.isFindable;};za.prototype.isGenerated=function(){return !!this.__concreteNode__.metadata.isGenerated;};za.prototype.isConnection=function(){return !!this.__concreteNode__.metadata.isConnection;};za.prototype.isConnectionWithoutNodeID=function(){return !!this.__concreteNode__.metadata.isConnectionWithoutNodeID;};za.prototype.isPlural=function(){return !!this.__concreteNode__.metadata.isPlural;};za.prototype.isRefQueryDependency=function(){return this.__isRefQueryDependency__;};za.prototype.isRequisite=function(){return !!this.__concreteNode__.metadata.isRequisite;};za.prototype.getDebugName=function(){var eb=this,fb=this.__debugName__;if(!fb)(function(){fb=eb.getSchemaName();var gb=undefined;eb.getCallsWithValues().forEach(function(hb){if(this.$RelayQueryField1(hb)){gb=gb||[];gb.push(u(hb));}}.bind(eb));if(gb)fb+=gb.sort().join('');eb.__debugName__=fb;})();return fb;};za.prototype.getSchemaName=function(){return this.__concreteNode__.fieldName;};za.prototype.getRangeBehaviorKey=function(){var eb=this;!this.isConnection()?t(0):undefined;var fb=this.__rangeBehaviorKey__;if(fb==null)(function(){var gb=[];eb.getCallsWithValues().forEach(function(hb){if(this.$RelayQueryField1(hb))gb.push(u(hb));}.bind(eb));fb=gb.sort().join('').slice(1);eb.__rangeBehaviorKey__=fb;})();return fb;};za.prototype.getSerializationKey=function(){var eb=this.__serializationKey__;if(!eb){eb=s(this.getSchemaName()+this.getCallsWithValues().map(u).sort().join(''));this.__serializationKey__=eb;}return eb;};za.prototype.getShallowHash=function(){var eb=this.__shallowHash__;if(!eb)this.__shallowHash__=eb=this.getSchemaName()+db(this.getCallsWithValues());return eb;};za.prototype.getStorageKey=function(){var eb=this.__storageKey__;if(!eb)this.__storageKey__=eb=this.getSchemaName()+db(this.getCallsWithValues().filter(function(fb){return this.$RelayQueryField1(fb);}.bind(this)));return eb;};za.prototype.getApplicationName=function(){var eb=this.__concreteNode__;return eb.alias||eb.fieldName;};za.prototype.getInferredRootCallName=function(){return this.__concreteNode__.metadata.inferredRootCallName;};za.prototype.getInferredPrimaryKey=function(){return this.__concreteNode__.metadata.inferredPrimaryKey;};za.prototype.getCallsWithValues=function(){var eb=this.__calls__;if(!eb){var fb=this.__concreteNode__.calls;if(fb){eb=o(fb,this.__variables__);}else eb=sa;this.__calls__=eb;}return eb;};za.prototype.getCallType=function(eb){var fb=this.__concreteNode__.calls,gb=fb&&fb.filter(function(hb){return hb.name===eb;})[0];if(gb)return gb.metadata.type;};za.prototype.equals=function(eb){if(this===eb)return true;if(!(eb instanceof za))return false;if(this.getSchemaName()!==eb.getSchemaName()||this.getApplicationName()!==eb.getApplicationName()||!n(this.getCallsWithValues(),eb.getCallsWithValues()))return false;return ia.equals.call(this,eb);};za.prototype.cloneAsRefQueryDependency=function(){var eb=new za(this.__concreteNode__,this.__route__,this.__variables__);eb.__children__=[];eb.__isRefQueryDependency__=true;return eb;};za.prototype.cloneFieldWithCalls=function(eb,fb){if(!this.canHaveSubselections())!(eb.length===0)?t(0):undefined;if(n(this.getCallsWithValues(),fb)){var gb=this.clone(eb);return gb;}var hb=cb(this.getChildren(),eb);if(!hb.length)return null;var ib=new za(this.__concreteNode__,this.__route__,this.__variables__);ib.__children__=hb;ib.__calls__=fb;return ib;};za.prototype.$RelayQueryField1=function(eb){return (!(eb.name===ja&&String(eb.value)===la)&&!(eb.name===ka&&String(eb.value)===ma)&&!(this.isConnection()&&i.isConnectionCall(eb)));};function ab(eb,fb,gb){!(typeof eb==='object'&&eb!==null)?t(0):undefined;var hb=eb.kind,ib=ta;if(hb==='Field'){ib=za;}else if(hb==='Fragment'){ib=ya;}else if(hb==='FragmentReference'){ib=ya;var jb=h.getFragment(eb.fragment);if(jb)return bb(jb,fb,{},{isDeferred:false,isContainerFragment:true});}else if(hb==='Query'){ib=ua;}else if(hb==='Mutation'){ib=wa;}else if(hb==='Subscription'){ib=xa;}else if(eb instanceof m){var jb=eb.getFragmentForRoute(fb);if(jb)return ab(jb,fb,gb);return null;}else if(eb instanceof j){var jb=eb.getFragment(gb),kb=eb.getVariables(fb,gb);if(jb)return bb(jb,fb,kb,{isDeferred:eb.isDeferred(),isContainerFragment:eb.isContainerFragment()});return null;}return new ib(eb,fb,gb);}function bb(eb,fb,gb,hb){var ib=fb.name+':'+w(gb)+':'+w(hb),jb=eb.__cachedFragment__,kb=eb.__cacheKey__;if(!jb||kb!==ib){jb=new ya(eb,fb,gb,hb);eb.__cachedFragment__=jb;eb.__cacheKey__=ib;}return jb;}function cb(eb,fb){var gb=[],hb=true,ib=0;for(var jb=0;jb<fb.length;jb++){var kb=fb[jb];if(kb){gb.push(kb);hb=hb&&kb===eb[ib++];}}if(hb&&gb.length===eb.length){return eb;}else return gb;}function db(eb){if(eb.length){var fb=function(){var gb={};eb.forEach(function(hb){gb[hb.name]=hb.value;});return {v:w(gb)};}();if(typeof fb==="object")return fb.v;}else return '';}l.instrumentMethods(ta.prototype,{clone:'@RelayQueryNode.prototype.clone',equals:'@RelayQueryNode.prototype.equals',getChildren:'@RelayQueryNode.prototype.getChildren',getDirectives:'@RelayQueryNode.prototype.getDirectives',hasDeferredDescendant:'@RelayQueryNode.prototype.hasDeferredDescendant',getFieldByStorageKey:'@RelayQueryNode.prototype.getFieldByStorageKey'});l.instrumentMethods(za.prototype,{getStorageKey:'@RelayQueryField.prototype.getStorageKey',getSerializationKey:'@RelayQueryField.prototype.getSerializationKey'});f.exports={Field:za,Fragment:ya,Mutation:wa,Node:ta,Operation:va,Root:ua,Subscription:xa};},null);
__d('aggregateRelayCalls',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=[],k=undefined;i.forEach(function(l){var m=l.name.indexOf('__')>=0?l.name.split('__',1)[0]:null;if(k&&k.name!==m){j.push(k);k=null;}if(m){k=k||{name:m,value:[]};k.value.push(l.value);}else j.push(l);});if(k)j.push(k);return j;}f.exports=h;},null);
__d('RelaySkippableCall',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;},null);
__d('RelayVariable',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.name=i;}h.prototype.getName=function(){return this.name;};f.exports=h;},null);
__d('printRelayFBQueryCallValue',['RelayVariable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){if(j==null)return '';if(j===''){return '\ ';}else if(j instanceof h)return '<'+j.getName()+'>';if(typeof j!=='string')j=JSON.stringify(j);j=j.replace(/[)(}{><,.\\]/g,'\\$&');if(/ $/.test(j))j+=' ';return j.replace(/^( *)(.*?)( *)$/,function(k,l,m,n){return ('\\ '.repeat(l.length)+m+'\\ '.repeat(n.length));});}f.exports=i;},null);
__d('printRelayFBQueryCall',['RelaySkippableCall','flattenArray','printRelayFBQueryCallValue'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){var m=l.value,n;if(m===h){return '';}else if(Array.isArray(m)){n=i(m).map(j).join(',');}else n=j(m);return '.'+l.name+'('+n+')';}f.exports=k;},null);
__d('printRelayFBQuery',['RelayProfiler','RelayQuery','aggregateRelayCalls','base62','invariant','printRelayFBQueryCall'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();function n(t){var u=[],v={},w={fragmentCount:0,fragmentNameByHash:{},fragmentNameByText:{},fragmentTexts:u,variables:v},x=null;if(t instanceof i.Root){x=o(t,w);}else if(t instanceof i.Fragment){x=r(t,w);}else if(t instanceof i.Mutation){x=p(t,w);}else if(t instanceof i.Subscription)x=q(t,w);!x?l(0):undefined;return {text:[x].concat(u).join(' '),variables:v};}function o(t,u){var v=t.getBatchCall(),w=t.getFieldName(),x=t.getIdentifyingArg(),y=undefined;if(v){y=w+'(<'+v.refParamName+'>)';}else if(x==null){y=w+'()';}else y=m({name:w,value:x.value}).slice(1);return 'Query '+t.getName()+'{'+y+s(t,u)+'}';}function p(t,u){var v=t.getCall(),w=t.getCallVariableName();u.variables[w]=v.value;return 'Mutation '+t.getName()+' : '+t.getResponseType()+'{'+v.name+'(<'+w+'>)'+s(t,u)+'}';}function q(t,u){var v=t.getCall(),w=t.getCallVariableName();u.variables[w]=v.value;return 'Subscription '+t.getName()+' : '+t.getResponseType()+'{'+v.name+'(<'+w+'>)'+s(t,u)+'}';}function r(t,u){return 'QueryFragment '+t.getDebugName()+' : '+t.getType()+s(t,u);}function s(t,u){var v=[],w=t.getChildren(),x=undefined;for(var y=0;y<w.length;y++){var z=w[y];if(z instanceof i.Field){var aa=z.getSchemaName(),ba=z.getCallsWithValues();if(ba.length){var ca=j(ba);for(var da=0;da<ca.length;da++)aa+=m(ca[da]);aa+=' as '+z.getSerializationKey();}var ea=undefined;z.getDirectives().some(function(la){if(la.name==='fb_export'){var ma=la.args[0];if(ma&&ma.name==='as')ea=String(ma.value);return true;}});if(ea)aa+=' exports '+ea+' ';if(z.getChildren().length)aa+=s(z,u);v.push(aa);}else if(z instanceof i.Fragment){if(z.getChildren().length){var fa=u.fragmentNameByHash,ga=u.fragmentNameByText,ha=u.fragmentTexts,ia=z.getCompositeHash(),ja=undefined;if(fa.hasOwnProperty(ia)){ja=fa[ia];}else{var ka=z.getType()+s(z,u);if(ga.hasOwnProperty(ka)){ja=ga[ka];}else{ja='F'+k(u.fragmentCount++);fa[ia]=ja;ga[ka]=ja;ha.push('QueryFragment '+ja+' : '+ka);}}if(!x||!x.hasOwnProperty(ja)){x=x||{};x[ja]=true;v.push('@'+ja);}}}else l(0);}return v.length?'{'+v.join(',')+'}':'';}f.exports=h.instrument('printRelayQuery',n);},null);
__d('printRelayOSSQuery',['Map','RelayProfiler','RelayQuery','base62','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(w){var x=[],y=new h(),z={fragmentCount:0,fragmentNameByHash:{},fragmentNameByText:{},fragmentTexts:x,variableCount:0,variableMap:y},aa=null;if(w instanceof j.Root){aa=n(w,z);}else if(w instanceof j.Mutation){aa=o(w,z);}else if(w instanceof j.Fragment)aa=q(w,z);!aa?l(0):undefined;var ba={};y.forEach(function(ca){var da=ca.value,ea=ca.variableID;return ba[ea]=da;});return {text:[aa].concat(x).join(' '),variables:ba};}function n(w,x){!!w.getBatchCall()?l(0):undefined;var y=w.getIdentifyingArg(),z=y&&y.name||null,aa=y&&y.type||null,ba=y&&y.value||null,ca=w.getFieldName();if(ba!=null){!z?l(0):undefined;var da=u(z,ba,aa,x);if(da)ca+='('+da+')';}var ea=r(w,x),fa=w.getName()+p(x);ca+=s(w);return 'query '+fa+'{'+ca+ea+'}';}function o(w,x){var y=w.getCall(),z=u(w.getCallVariableName(),y.value,w.getInputType(),x);!z?l(0):undefined;var aa=r(w,x),ba=w.getName()+p(x),ca=y.name+'('+z+')';return 'mutation '+ba+'{'+ca+aa+'}';}function p(w){var x=w.variableMap,y=null;x.forEach(function(z){var aa=z.type,ba=z.variableID;y=y||[];y.push('$'+ba+':'+aa);});if(y)return '('+y.join(',')+')';return '';}function q(w,x){var y=s(w);return 'fragment '+w.getDebugName()+' on '+w.getType()+y+r(w,x);}function r(w,x){var y=[],z=w.getChildren(),aa=undefined;for(var ba=0;ba<z.length;ba++){var ca=z[ba];if(ca instanceof j.Field){var da=ca.getSchemaName(),ea=ca.getCallsWithValues();if(ea.length){da=ca.getSerializationKey()+':'+da;var fa=[];for(var ga=0;ga<ea.length;ga++){var ha=ea[ga],ia=ha.name,ja=ha.value,ka=u(ia,ja,ca.getCallType(ia),x);if(ka)fa.push(ka);}if(fa.length)da+='('+fa.join(',')+')';}da+=s(ca);if(ca.getChildren().length)da+=r(ca,x);y.push(da);}else if(ca instanceof j.Fragment){if(ca.getChildren().length){var la=x.fragmentNameByHash,ma=x.fragmentNameByText,na=x.fragmentTexts,oa=ca.getCompositeHash(),pa=undefined;if(la.hasOwnProperty(oa)){pa=la[oa];}else{var qa=ca.getType()+s(ca)+r(ca,x);if(ma.hasOwnProperty(qa)){pa=ma[qa];}else{pa='F'+k(x.fragmentCount++);la[oa]=pa;ma[qa]=pa;na.push('fragment '+pa+' on '+qa);}}if(!aa||!aa.hasOwnProperty(pa)){aa=aa||{};aa[pa]=true;y.push('...'+pa);}}}else l(0);}if(!y)return '';return y.length?'{'+y.join(',')+'}':'';}function s(w){var x=undefined;w.getDirectives().forEach(function(y){var z='@'+y.name;if(y.args.length)z+='('+y.args.map(t).join(',')+')';x=x||[];x.push(z);});if(!x)return '';return ' '+x.join(' ');}function t(w){var x=w.name,y=w.value;!(typeof y==='boolean'||typeof y==='number'||typeof y==='string')?l(0):undefined;return x+':'+JSON.stringify(y);}function u(w,x,y,z){if(x==null)return x;var aa=undefined;if(y!=null){var ba=v(w,x,y,z);aa='$'+ba;}else aa=JSON.stringify(x);return w+':'+aa;}function v(w,x,y,z){var aa=JSON.stringify(x),ba=z.variableMap.get(aa);if(ba){return ba.variableID;}else{var ca=w+'_'+k(z.variableCount++);z.variableMap.set(aa,{type:y,value:x,variableID:ca});return ca;}}f.exports=i.instrument('printRelayQuery',m);},null);
__d('printRelayQuery',['printRelayOSSQuery','printRelayFBQuery'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=b.__RELAYOSS__?c('printRelayOSSQuery'):c('printRelayFBQuery');},null);
__d('RelayGraphQLBatchRequest',['RelayAPIConfig','RelayAPIRequest','RelayError','RelayGraphQLRequestUtils','invariant','printRelayQuery'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={printQuery:m,formatResponse:function(q,r){return r;}};function o(q,r){this.$RelayGraphQLBatchRequest1=q;this.$RelayGraphQLBatchRequest2=null;this.$RelayGraphQLBatchRequest3={};this.$RelayGraphQLBatchRequest4={};this.$RelayGraphQLBatchRequest5=r||n;this.$RelayGraphQLBatchRequest6='UNSENT';}o.prototype.add=function(q,r,s){var t;!(this.$RelayGraphQLBatchRequest6==='UNSENT')?l(0):undefined;var u=q.getID();if(this.$RelayGraphQLBatchRequest3.hasOwnProperty(u))return this;var v=q.getBatchCall(),w=s||{},x=w.persistedID,y=w.rerun,z=undefined,aa=r;if(x==null){var ba=this.$RelayGraphQLBatchRequest5.printQuery(q);z=ba.text;aa=babelHelpers['extends']({},ba.variables,r);}this.$RelayGraphQLBatchRequest4[u]=q;this.$RelayGraphQLBatchRequest3[u]={priority:q.isDeferred()?1:0,q:z,query_id:x,query_params:aa,ref_params:v?(t={},t[v.refParamName]={fallback:'skip',plural:'all',query:v.sourceQueryID,target:v.sourceQueryPath},t):undefined,rerun_param:y?{'import':y['import'],param:y.param,max_runs:y.maxRuns}:undefined};return this;};o.prototype.send=function(q){!(this.$RelayGraphQLBatchRequest6==='UNSENT')?l(0):undefined;this.$RelayGraphQLBatchRequest6='SENT';this.$RelayGraphQLBatchRequest2=q;var r=new i(h.graphBatchURI).setMethod('POST').setData(babelHelpers['extends']({},k.getAuthenticationData(),{batch_name:this.$RelayGraphQLBatchRequest1,method:'GET',queries:JSON.stringify(this.$RelayGraphQLBatchRequest3),scheduler:'phased'})).setTransportBuilder(k.getTransportBuilder()).setRequestHeaders(k.getRequestHeaders()).setErrorHandler(function(s){this.$RelayGraphQLBatchRequest7(k.createErrorFromXHR(s,'Network request encountered error %s %s: %s',s.errorType,s.errorCode,s.errorMsg));}.bind(this)).setTimeoutHandler(function(){this.$RelayGraphQLBatchRequest7(j.createWarning('NetworkTimeoutError','Network request timed out.'));}.bind(this)).setResponseFilter(p).setResponseChunkHandler(this.$RelayGraphQLBatchRequest8.bind(this)).send();return {abort:function(){this.$RelayGraphQLBatchRequest6='TERMINATED';r.abort();}.bind(this)};};o.prototype.$RelayGraphQLBatchRequest8=function(q,r,s){var t=undefined;try{t=k.parsePayload(q);}catch(u){this.$RelayGraphQLBatchRequest7(u);return;}if(t.error){this.$RelayGraphQLBatchRequest7(k.createErrorFromPayload(t.error));}else if(s){this.$RelayGraphQLBatchRequest9('onCompleted');}else Object.keys(t).forEach(function(v){var w=t[v],x=w.error,y=w.exports,z=w.response,aa={error:x?k.createErrorFromPayload(x):null,exports:y,id:v,response:this.$RelayGraphQLBatchRequest5.formatResponse(this.$RelayGraphQLBatchRequest4[v],z)};this.$RelayGraphQLBatchRequest9('onNext',aa);}.bind(this));};o.prototype.$RelayGraphQLBatchRequest7=function(q){this.$RelayGraphQLBatchRequest9('onError',q);};o.prototype.$RelayGraphQLBatchRequest9=function(q){if(this.$RelayGraphQLBatchRequest6==='TERMINATED')return;if(q==='onCompleted'||q==='onError')this.$RelayGraphQLBatchRequest6='TERMINATED';if(this.$RelayGraphQLBatchRequest2){var r;for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];(r=this.$RelayGraphQLBatchRequest2)[q].apply(r,t);}};function p(q){return q.trim();}f.exports=o;},null);
__d('RelayGraphQLMutationRequest',['RelayAPIConfig','RelayGraphQLRequestUtils','XHRRequest','forEachObject','invariant','printRelayQuery'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();function n(o,p){this.$RelayGraphQLMutationRequest1=null;this.$RelayGraphQLMutationRequest2=p;this.$RelayGraphQLMutationRequest3=o;this.$RelayGraphQLMutationRequest4='UNSENT';}n.prototype.send=function(o){var p=this;!(this.$RelayGraphQLMutationRequest4==='UNSENT')?l(0):undefined;this.$RelayGraphQLMutationRequest4='SENT';this.$RelayGraphQLMutationRequest1=o;var q=m(this.$RelayGraphQLMutationRequest3),r=babelHelpers['extends']({},i.getAuthenticationData(),{q:q.text,query_params:JSON.stringify({input:JSON.stringify(q.variables.input)})}),s=new j(h.graphURI).setMethod('POST').setTransportBuilder(i.getTransportBuilder()).setErrorHandler(function(t){this.$RelayGraphQLMutationRequest5(i.createErrorFromXHR(t,'Mutation XHR error for `%s`, %s: %s %s',this.$RelayGraphQLMutationRequest3.getCall().name,t.errorType,t.errorCode,t.errorMsg));}.bind(this)).setResponseHandler(function(t){var u=undefined;try{u=i.parsePayload(t);}catch(v){this.$RelayGraphQLMutationRequest5(v);return;}if(u.error){this.$RelayGraphQLMutationRequest5(i.createErrorFromPayload(babelHelpers['extends']({},u.error,{mutation_name:this.$RelayGraphQLMutationRequest3.getName(),mutation_response_type:this.$RelayGraphQLMutationRequest3.getResponseType()})));}else this.$RelayGraphQLMutationRequest6({response:u});}.bind(this));if(this.$RelayGraphQLMutationRequest2){(function(){var t=new FormData();k(r,function(u,v){return t.append(v,u);});k(p.$RelayGraphQLMutationRequest2,function(u,v){return t.append(v,u);});s.setRawData(t);})();}else{s.setData(r);k(i.getRequestHeaders(),function(t,u){s.setRequestHeader(u,t);});}s.send();};n.prototype.$RelayGraphQLMutationRequest5=function(o){if(this.$RelayGraphQLMutationRequest4!=='TERMINATED'){this.$RelayGraphQLMutationRequest4='TERMINATED';if(this.$RelayGraphQLMutationRequest1)this.$RelayGraphQLMutationRequest1.onFailure(o);}};n.prototype.$RelayGraphQLMutationRequest6=function(o){if(this.$RelayGraphQLMutationRequest4!=='TERMINATED'){this.$RelayGraphQLMutationRequest4='TERMINATED';if(this.$RelayGraphQLMutationRequest1)this.$RelayGraphQLMutationRequest1.onSuccess(o);}};f.exports=n;},null);
__d('RelayGraphQLBatchNetworkLayer',['Map','RelayError','RelayGraphQLBatchRequest','RelayGraphQLMutationRequest'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){this.$RelayGraphQLBatchNetworkLayer1=m;}l.prototype.sendMutation=function(m){new k(m.getMutation(),m.getFiles()).send({onFailure:function(n){m.reject(n);},onSuccess:function(n){m.resolve(n);}});};l.prototype.sendQueries=function(m){var n=m.length?m[0].getDebugName():'undefined',o=new h(),p=new j(n,this.$RelayGraphQLBatchNetworkLayer1);m.forEach(function(q){p.add(q.getQuery(),{});var r=q.getID();if(o.has(r)){o.get(r).push(q);}else o.set(r,[q]);});p.send({onCompleted:function(){o.forEach(function(q){q.forEach(function(r){r.reject(i.create('RelayGraphQLBatchNetworkError','Missing a response for query labeled `%s`.',r.getID()));});});o.clear();},onError:function(q){o.forEach(function(r){r.forEach(function(s){s.reject(q);});});o.clear();},onNext:function(q){var r=q.error,s=q.id,t=q.response;if(o.has(s)){if(t){o.get(s).forEach(function(u){return (u.resolve({error:r,response:t}));});}else o.get(s).forEach(function(u){return (u.reject(r));});o['delete'](s);}}});};l.prototype.supports=function(){for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return n.every(function(p){return p==='defer';});};f.exports=l;},null);
__d('RelayRouteRegExps',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={PATH_COMPONENT:/^[^\/{}]+$/,COMPONENT_VALUE:{Float:'-?(?:\\.\\d+|\\d+(?:\\.\\d+)?)',Int:'-?\\d+',Path:'.+?',String:'[^/]+'}};f.exports=h;},null);
__d('compareRouteExpressions',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k,l){k=i(k);l=i(l);for(var m=0;m<Math.min(k.length,l.length);m++){var n=k[m],o=l[m],p=j(n)-j(o);if(p)return p;var q=n.toLowerCase(),r=o.toLowerCase();if(q!==r)return q<r?-1:1;if(n!==o)return n<o?-1:1;}return k.length-l.length;}function i(k){var l=[];for(var m=0,n=0,o=0;m<k.length;m++)switch(k.charAt(m)){case '/':if(!o){if(m-n>0)l.push(k.slice(n,m));if(k.charAt(m+1)==='?')m++;n=m+1;}break;case '(':if(!o++){if(m-n>0)l.push(k.slice(n,m));n=m;}break;case ')':if(!--o){if(k.charAt(m+1)==='?')m++;l.push(k.slice(n,m+1));n=m+1;}break;}return l;}function j(k){if(k=='<<vanity>>')return 3;k=k.replace(/\\\./,'x');if(/[.+*?\[\](){}=!|:]/.test(k)){if(k.indexOf('\\d')!==-1){return 1;}else return 2;}else return 0;}f.exports=h;},null);
__d('RelayRouter',['Map','RelayRouteRegExps','escapeRegex','compareRouteExpressions','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=[],o=new h(),p={addRoute:function(v){if(!o.has(v)){r(v);t(v);var w=q(v,0,n.length);if(n[w]!==v)n.splice(w,0,v);}},getRoute:function(v){var w=v.getDomain(),x=window.location&&window.location.hostname;if(w&&x&&w!==x)return null;for(var y=0;y<n.length;y++){var z=n[y],aa=s(t(z),v);if(aa)return new z(aa,v);}return null;},createRouteFromURI:function(v,w){p.addRoute(v);return new v(s(t(v),w),w);}};function q(v,w,x){var y=u(v),z=x-w;if(z===0)return w;var aa=w+z/2|0;if(k(y,u(n[aa]))<=0){return q(v,w,aa);}else return q(v,aa+1,x);}function r(v){var w=v.path;!(w!=null)?l(0):undefined;!(w.charAt(0)==='/')?l(0):undefined;!(w==='/'||w.charAt(w.length-1)!=='/')?l(0):undefined;}function s(v,w){var x=v.regex,y=v.captureNames,z=w.getPath(),aa=x.exec(z);if(!aa)return null;var ba=babelHelpers['extends']({},w.getQueryData());for(var ca=1;ca<aa.length;ca++)ba[y[ca-1]]=aa[ca];return ba;}function t(v){if(!o.has(v)){var w=[],x=v.path||'',y='';if(x==='/'){y='^/$';}else{var z=x.slice(1).split('/').map(function(aa){if(i.PATH_COMPONENT.test(aa))return '/'+j(aa);var ba=aa.charAt(1)=='?',ca=aa.slice(ba?2:1,-1),da=m(v.paramDefinitions)[ca],ea='('+i.COMPONENT_VALUE[da.type]+')';w.push(ca);return ba?'(?:/'+ea+')?':'/'+ea;});y='^'+z.join('')+'/?$';}o.set(v,{regex:new RegExp(y),regexString:y,captureNames:w});}return o.get(v);}function u(v){return t(v).regexString;}f.exports=p;},null);
__d('getURIBuilder',['RelayRouter','XControllerURIBuilder'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){h.addRoute(k);return new i(k.path||'',k.paramDefinitions);}f.exports=j;},null);
__d('createRelayRouteURI',['getURIBuilder','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){var m=h(k);if(k.paramDefinitions){var n=k.paramDefinitions;Object.keys(n).forEach(function(o){var p=l[o],q=n[o];if(q&&p!=null)switch(q.type){case 'Float':m.setFloat(o,p);break;case 'Int':m.setInt(o,p);break;case 'String':m.setString(o,p);break;case 'FBID':m.setFBID(o,p);break;case 'StringVector':m.setStringVector(o,p);break;case 'IntVector':m.setIntVector(o,p);break;case 'FBIDVector':m.setFBIDVector(o,p);break;case 'FloatVector':m.setFloatVector(o,p);break;case 'IntSet':m.setIntSet(o,p);break;case 'FBIDSet':m.setFBIDSet(o,p);break;case 'StringSet':m.setStringSet(o,p);break;case 'FloatSet':m.setFloatSet(o,p);break;default:i(0);}});}return m.getURI();}f.exports=j;},null);
__d('RelayContainerComparators',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(m,n,o,p){var q;for(q in n){if(p&&!p.hasOwnProperty(q))continue;if(n.hasOwnProperty(q)&&(!o.hasOwnProperty(q)||!m(n[q],o[q],q)))return false;}for(q in o){if(p&&!p.hasOwnProperty(q))continue;if(o.hasOwnProperty(q)&&!n.hasOwnProperty(q))return false;}return true;}function i(m,n){return m===n&&(m===null||typeof m!=='object');}function j(m,n,o,p){return (m[p]&&n===o||i(n,o));}function k(m,n,o,p){return (m.hasOwnProperty(p)||i(n,o));}var l={areQueryResultsEqual:function(m,n,o){return h(j.bind(null,m),n,o);},areNonQueryPropsEqual:function(m,n,o){return h(k.bind(null,m),n,o);},areQueryVariablesEqual:function(m,n){return h(i,m,n);}};f.exports=l;},null);
__d('RelayOSSContainerProxy',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={proxyMethods:function(i,j){}};f.exports=h;},null);
__d('RelayContainerProxy',['RelayOSSContainerProxy','RelayFBContainerProxy'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=b.__RELAYOSS__?c('RelayOSSContainerProxy'):c('RelayFBContainerProxy');},null);
__d('RelayRecord',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={DATA_ID:'__dataID__',FILTER_CALLS:'__filterCalls__',FORCE_INDEX:'__forceIndex__',MUTATION_IDS:'__mutationIDs__',PATH:'__path__',RANGE:'__range__',RESOLVED_DEFERRED_FRAGMENTS:'__resolvedDeferredFragments__',RESOLVED_FRAGMENT_MAP:'__resolvedFragmentMap__',RESOLVED_FRAGMENT_MAP_GENERATION:'__resolvedFragmentMapGeneration__',STATUS:'__status__'},i={};Object.keys(h).forEach(function(k){i[h[k]]=true;});var j={MetadataKey:h,create:function(k){return {__dataID__:k};},createWithFields:function(k,l){return babelHelpers['extends']({__dataID__:k},l);},isRecord:function(k){return (typeof k==='object'&&k!=null&&!Array.isArray(k)&&typeof k.__dataID__==='string');},getDataID:function(k){return k.__dataID__;},isClientID:function(k){return k.substring(0,7)==='client:';},isMetadataKey:function(k){return i.hasOwnProperty(k);}};f.exports=j;},null);
__d('RelayFragmentPointer',['RelayQuery','RelayRecord','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={addFragment:function(m,n,o){var p=m.__fragments__;if(p==null)p=m.__fragments__={};!(typeof p==='object'&&p!=null)?j(0):undefined;p[n.getConcreteFragmentID()]=o;},getDataID:function(m,n){var o=m.__fragments__;if(typeof o==='object'&&o!=null)return o[n.getConcreteFragmentID()];return null;},createForRoot:function(m,n){var o=l(n);if(!o)return null;var p=n.getStorageKey(),q=n.getIdentifyingArg(),r=q&&q.value||null;if(Array.isArray(r))return r.map(function(u){var v=m.getDataID(p,u);if(!v)return null;var w=i.create(v);k.addFragment(w,o,v);return w;});!(typeof r==='string'||r==null)?j(0):undefined;var s=m.getDataID(p,r);if(!s)return null;var t=i.create(s);k.addFragment(t,o,s);return t;}};function l(m){var n=m.getBatchCall();if(n)j(0);var o=undefined;m.getChildren().forEach(function(p){if(p instanceof h.Fragment){!!o?j(0):undefined;o=p;}else if(p instanceof h.Field)!p.isGenerated()?j(0):undefined;});return o;}f.exports=k;},null);
__d('RelayMutationTransactionStatus',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={UNCOMMITTED:'UNCOMMITTED',COMMIT_QUEUED:'COMMIT_QUEUED',COLLISION_COMMIT_FAILED:'COLLISION_COMMIT_FAILED',COMMITTING:'COMMITTING',COMMIT_FAILED:'COMMIT_FAILED'};f.exports=h;},null);
__d('RelayMutationTransaction',['RelayMutationTransactionStatus','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){this.$RelayMutationTransaction1=l;this.$RelayMutationTransaction2=k;}j.prototype.commit=function(){var k=this.getStatus();!(k===h.UNCOMMITTED)?i(0):undefined;this.$RelayMutationTransaction2.commit(this.$RelayMutationTransaction1);};j.prototype.recommit=function(){var k=this.getStatus();!(k===h.COMMIT_FAILED||k===h.COLLISION_COMMIT_FAILED)?i(0):undefined;this.$RelayMutationTransaction2.commit(this.$RelayMutationTransaction1);};j.prototype.rollback=function(){var k=this.getStatus();!(k===h.UNCOMMITTED||k===h.COMMIT_FAILED||k===h.COLLISION_COMMIT_FAILED)?i(0):undefined;this.$RelayMutationTransaction2.rollback(this.$RelayMutationTransaction1);};j.prototype.getError=function(){return this.$RelayMutationTransaction2.getError(this.$RelayMutationTransaction1);};j.prototype.getStatus=function(){return this.$RelayMutationTransaction2.getStatus(this.$RelayMutationTransaction1);};f.exports=j;},null);
__d('isRelayContainer',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return !!(i&&i.getFragmentNames&&i.getFragment&&i.hasFragment&&i.hasVariable);}f.exports=h;},null);
__d('isRelayContext',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return (typeof i==='object'&&i!==null&&typeof i.forceFetch==='function'&&typeof i.getFragmentResolver==='function'&&typeof i.getStoreData==='function'&&typeof i.primeCache==='function');}f.exports=h;},null);
__d('RelayPropTypes',['React','isRelayContainer','isRelayContext','sprintf'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m={Container:function(n,o,p){var q=n[o];if(q==null){return new Error(k('Required prop `%s` was not specified in `%s`.',o,p));}else if(!i(q))return new Error(k('Invalid prop `%s` supplied to `%s`, expected a RelayContainer.',o,p));return null;},Context:function(n,o,p){var q=n[o];if(!j(q))return new Error(k('Invalid prop/context `%s` supplied to `%s`, expected `%s` to be '+'an object conforming to the `RelayContext` interface.',o,p,q));return null;},QueryConfig:l.shape({name:l.string.isRequired,params:l.object.isRequired,queries:l.object.isRequired})};f.exports=m;},null);
__d('RelayRecordStatusMap',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1,i=2,j=4;function k(n,o,p){n=n||0;if(o){return n|p;}else return n&~p;}function l(n,o){return ((n||0)&o)!=0;}var m={setOptimisticStatus:function(n,o){return k(n,o,h);},isOptimisticStatus:function(n){return l(n,h);},setErrorStatus:function(n,o){return k(n,o,i);},isErrorStatus:function(n){return l(n,i);},setPartialStatus:function(n,o){return k(n,o,j);},isPartialStatus:function(n){return l(n,j);}};f.exports=m;},null);
__d('buildRQL',['Map','QueryBuilder','RelayProfiler','filterObject','invariant','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=new h(),o=new h();function p(s,t){var u=s.length;return u>t;}var q={Fragment:function(s,t){var u=n.get(s);if(!u){var v=r(t);!!p(s,1)?l(0):undefined;u=s(v);n.set(s,u);}if(u)return i.getFragment(u);},Query:function(s,t,u,v){var w=o.get(s),x=undefined;if(!w){w=new h();o.set(s,w);}else x=w.get(t);if(!x){var y=r(v);!!p(s,2)?l(0):undefined;if(p(s,0)){x=s(t,y);}else{x=s(t,y);var z=i.getQuery(x);if(z)(function(){var aa=false,ba=true;if(z.children)z.children.forEach(function(ea){if(ea){aa=aa||ea.kind==='Fragment';ba=ba&&ea.kind==='Field'&&(!ea.children||ea.children.length===0);}});if(!aa){var ca=z.children?[].concat(z.children):[];!ba?l(0):undefined;var da=k(y,function(ea,fa){return (t.hasVariable(fa));});ca.push(t.getFragment(u,da));x=babelHelpers['extends']({},z,{children:ca});}})();}w.set(t,x);}if(x)return i.getQuery(x)||undefined;return null;}};function r(s){return m(s,function(t,u){return i.createCallVariable(u);});}j.instrumentMethods(q,{Fragment:'buildRQL.Fragment',Query:'buildRQL.Query'});f.exports=q;},null);
__d('isReactComponent',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return !!(i&&i.prototype&&i.prototype.isReactComponent);}f.exports=h;},null);
__d('prepareRelayOSSContainerProps',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {relay:i};}f.exports=h;},null);
__d('prepareRelayContainerProps',['prepareRelayOSSContainerProps','prepareRelayFBContainerProps'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=b.__RELAYOSS__?c('prepareRelayOSSContainerProps'):c('prepareRelayFBContainerProps');},null);
__d('relayUnstableBatchedUpdates',['ReactDOM'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=h.unstable_batchedUpdates;},null);
__d('RelayContainer',['ErrorUtils','RelayFragmentPointer','React','RelayContainerComparators','RelayContainerProxy','RelayFragmentReference','RelayMetaRoute','RelayMutationTransaction','RelayPropTypes','RelayProfiler','RelayQuery','RelayRecord','RelayRecordStatusMap','buildRQL','forEachObject','invariant','isRelayContext','nullthrows','prepareRelayContainerProps','relayUnstableBatchedUpdates','shallowEqual','warning','isReactComponent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea={relay:p.Context,route:p.QueryConfig.isRequired};function fa(na,oa){var pa,qa,ra=na.displayName||na.name,sa='Relay('+ra+')',ta=oa.fragments,ua=Object.keys(ta),va=oa.initialVariables||{},wa=oa.prepareVariables;pa=babelHelpers.inherits(xa,j.Component);qa=pa&&pa.prototype;function xa(za,ab){'use strict';qa.constructor.call(this,za,ab);var bb=ab.relay,cb=ab.route;!x(bb)?w(0):undefined;!(cb&&typeof cb.name==='string')?w(0):undefined;var db=this;db.forceFetch=this.forceFetch.bind(this);db.getPendingTransactions=this.getPendingTransactions.bind(this);db.hasFragmentData=this.hasFragmentData.bind(this);db.hasOptimisticUpdate=this.hasOptimisticUpdate.bind(this);db.hasPartialData=this.hasPartialData.bind(this);db.setVariables=this.setVariables.bind(this);this.$RelayContainer1=false;this.$RelayContainer2={};this.$RelayContainer3=false;this.$RelayContainer4={};this.mounted=true;this.pending=null;this.state={variables:{},queryData:{}};}xa.prototype.setVariables=function(za,ab){'use strict';this.$RelayContainer5(za,ab,false);};xa.prototype.forceFetch=function(za,ab){'use strict';this.$RelayContainer5(za,ab,true);};xa.prototype.$RelayContainer6=function(za){'use strict';var ab={},bb={},cb=this.context.relay.getStoreData();ua.forEach(function(db){var eb=ya(db,this.context.route,za),fb=this.state.queryData[db];if(!eb||fb==null)return;var gb;if(eb.isPlural()){(function(){!Array.isArray(fb)?w(0):undefined;var ib=[];fb.forEach(function(jb,kb){var lb=s.getDataID(jb);if(lb){bb[db+kb]=cb.buildFragmentQueryForDataID(eb,lb);ib.push(lb);}});if(ib.length)gb={fragment:eb,dataIDs:ib};})();}else{var hb=s.getDataID(fb);if(hb){gb={fragment:eb,dataIDs:hb};bb[db]=cb.buildFragmentQueryForDataID(eb,hb);}}ab[db]=gb;}.bind(this));return {fragmentPointers:ab,querySet:bb};};xa.prototype.$RelayContainer5=function(za,ab,bb){'use strict';var cb=this.state.variables,db=this.pending?this.pending.variables:cb,eb=ja(db,za);this.pending&&this.pending.request.abort();var fb=q.profile('RelayContainer.setVariables',{containerName:sa,nextVariables:eb}),gb={},hb=null;if(bb||!ba(eb,cb)){var ib=this.$RelayContainer6(eb);gb=ib.querySet;hb=ib.fragmentPointers;}var jb=h.guard(function(lb){var mb=lb.aborted,nb=lb.done,ob=lb.error,pb=lb.ready,qb=mb||nb||ob;if(qb&&this.pending===kb)this.pending=null;var rb;if(pb&&hb){this.$RelayContainer2=hb;this.$RelayContainer7(this.context.relay);var sb=this.$RelayContainer8(this.props);rb={variables:eb,queryData:sb};}else rb={};var tb=this.mounted;if(tb){var ub=q.profile('RelayContainer.update');aa(function(){this.setState(rb,function(){ub.stop();if(qb)fb.stop();});if(ab)ab.call(this.refs.component||null,babelHelpers['extends']({},lb,{mounted:tb}));}.bind(this));}else{if(ab)ab(babelHelpers['extends']({},lb,{mounted:tb}));if(qb)fb.stop();}}.bind(this),'RelayContainer.onReadyStateChange'),kb={variables:eb,request:bb?this.context.relay.forceFetch(gb,jb):this.context.relay.primeCache(gb,jb)};this.pending=kb;};xa.prototype.hasOptimisticUpdate=function(za){'use strict';var ab=s.getDataID(za);!(ab!=null)?w(0):undefined;return this.context.relay.getStoreData().hasOptimisticUpdate(ab);};xa.prototype.getPendingTransactions=function(za){'use strict';var ab=s.getDataID(za);!(ab!=null)?w(0):undefined;var bb=this.context.relay.getStoreData(),cb=bb.getClientMutationIDs(ab);if(!cb)return null;var db=bb.getMutationQueue();return cb.map(function(eb){return db.getTransaction(eb);});};xa.prototype.hasFragmentData=function(za,ab){'use strict';var bb=this.context.relay.getStoreData();if(!bb.getPendingQueryTracker().hasPendingQueries())return true;var cb=s.getDataID(ab);!(cb!=null)?w(0):undefined;var db=la(za,this.context,this.state.variables);!(db instanceof r.Fragment)?w(0):undefined;return bb.getCachedStore().hasDeferredFragmentData(cb,db.getCompositeHash());};xa.prototype.hasPartialData=function(za){'use strict';return t.isPartialStatus(za[s.MetadataKey.STATUS]);};xa.prototype.componentWillMount=function(){'use strict';var za=this.context,ab=za.relay,bb=za.route;if(bb.useMockData)return;this.setState(this.$RelayContainer9(this.props,ab,bb,va));};xa.prototype.componentWillReceiveProps=function(za,ab){'use strict';var bb=y(ab),cb=bb.relay,db=bb.route;if(db.useMockData)return;this.setState(function(eb){if(this.context.relay!==cb)this.$RelayContainer10();return this.$RelayContainer9(za,cb,db,ha(oa,za,eb.variables));}.bind(this));};xa.prototype.componentWillUnmount=function(){'use strict';this.$RelayContainer10();this.mounted=false;};xa.prototype.$RelayContainer9=function(za,ab,bb,cb){'use strict';var db=ga(oa,za,cb);this.$RelayContainer11(za,bb,db);this.$RelayContainer7(ab);return {variables:db,queryData:this.$RelayContainer8(za)};};xa.prototype.$RelayContainer10=function(){'use strict';if(this.$RelayContainer4)v(this.$RelayContainer4,function(ab){return ab&&ab.dispose();});this.$RelayContainer2={};this.$RelayContainer4={};var za=this.pending;if(za){za.request.abort();this.pending=null;}};xa.prototype.$RelayContainer7=function(za){'use strict';var ab=this.$RelayContainer2,bb=this.$RelayContainer4;ua.forEach(function(cb){var db=ab[cb],eb=bb[cb];if(!db){if(eb){eb.dispose();bb[cb]=null;}}else if(!eb){eb=za.getFragmentResolver(db.fragment,this.$RelayContainer12.bind(this));bb[cb]=eb;}}.bind(this));};xa.prototype.$RelayContainer12=function(){'use strict';if(!this.mounted)return;var za=this.$RelayContainer8(this.props),ab=q.profile('RelayContainer.handleFragmentDataUpdate');this.setState({queryData:za},ab.stop);};xa.prototype.$RelayContainer11=function(za,ab,bb){'use strict';var cb=this.$RelayContainer2;ua.forEach(function(db){var eb=za[db];ca(eb!==undefined,'RelayContainer: Expected prop `%s` to be supplied to `%s`, but '+'got `undefined`. Pass an explicit `null` if this is intentional.',db,ra);if(eb==null){cb[db]=null;return;}if(typeof eb!=='object'){ca(false,'RelayContainer: Expected prop `%s` supplied to `%s` to be an '+'object, got `%s`.',db,ra,eb);cb[db]=null;return;}var fb=ya(db,ab,bb),gb=undefined;if(fb.isPlural()){(function(){!Array.isArray(eb)?w(0):undefined;var hb=null;eb.forEach(function(ib,jb){if(typeof ib==='object'&&ib!=null){var kb=i.getDataID(ib,fb);if(kb){hb=hb||[];hb.push(kb);}}});if(hb)!(hb.length===eb.length)?w(0):undefined;gb=hb;})();}else{!!Array.isArray(eb)?w(0):undefined;gb=i.getDataID(eb,fb);}gb==null;cb[db]=gb?{fragment:fb,dataIDs:gb}:null;}.bind(this));};xa.prototype.$RelayContainer8=function(za){'use strict';var ab={},bb=this.$RelayContainer2;v(this.$RelayContainer4,function(cb,db){var eb=za[db],fb=bb[db];if(!eb||!fb){cb&&cb.dispose();ab[db]=eb;}else ab[db]=cb.resolve(fb.fragment,fb.dataIDs);if(this.state.queryData.hasOwnProperty(db)&&ab[db]!==this.state.queryData[db])this.$RelayContainer3=true;}.bind(this));return ab;};xa.prototype.shouldComponentUpdate=function(za,ab,bb){'use strict';if(this.$RelayContainer3){this.$RelayContainer3=false;return true;}if(this.context.relay!==bb.relay||this.context.route!==bb.route)return true;var cb=this.$RelayContainer2;return (!k.areNonQueryPropsEqual(ta,this.props,za)||cb&&!k.areQueryResultsEqual(cb,this.state.queryData,ab.queryData)||!k.areQueryVariablesEqual(this.state.variables,ab.variables));};xa.prototype.render=function(){'use strict';var za={forceFetch:this.forceFetch,getPendingTransactions:this.getPendingTransactions,hasFragmentData:this.hasFragmentData,hasOptimisticUpdate:this.hasOptimisticUpdate,hasPartialData:this.hasPartialData,route:this.context.route,setVariables:this.setVariables,variables:this.state.variables};return (j.createElement(na,babelHelpers['extends']({},this.props,this.state.queryData,z(za,this),{ref:da(na)?'component':null})));};function ya(za,ab,bb){var cb=ta[za];!cb?w(0):undefined;var db=ka(sa,za,cb,va),eb=n.get(ab.name);if(wa)bb=wa(bb,eb);return r.Fragment.create(db,eb,bb);}ia(xa);xa.contextTypes=ea;xa.displayName=sa;l.proxyMethods(xa,na);return xa;}function ga(na,oa,pa){var qa=na.initialVariables;if(qa){var ra;for(var sa in qa)if(sa in oa){ra=ra||babelHelpers['extends']({},pa);ra[sa]=oa[sa];}pa=ra||pa;}return pa;}function ha(na,oa,pa){var qa=na.initialVariables;for(var ra in qa)if(ra in oa&&oa[ra]!=pa[ra])return qa;return pa;}function ia(na){q.instrumentMethods(na.prototype,{componentWillMount:'RelayContainer.prototype.componentWillMount',componentWillReceiveProps:'RelayContainer.prototype.componentWillReceiveProps',shouldComponentUpdate:'RelayContainer.prototype.shouldComponentUpdate'});}function ja(na,oa){if(oa)for(var pa in oa)if(na[pa]!==oa[pa])return babelHelpers['extends']({},na,oa);return na;}function ka(na,oa,pa,qa){var ra=u.Fragment(pa,qa);!ra?w(0):undefined;return ra;}function la(na,oa,pa){var qa=n.get(oa.route.name),ra=na.getFragment(pa),sa=na.getVariables(qa,pa);return r.Fragment.create(ra,qa,sa,{isDeferred:true,isContainerFragment:na.isContainerFragment()});}function ma(na,oa){var pa=na.displayName||na.name,qa='Relay('+pa+')',ra=oa.fragments;!(typeof ra==='object'&&ra)?w(0):undefined;var sa=Object.keys(ra),ta=oa.initialVariables||{},ua=oa.prepareVariables,va;function wa(xa,ya){if(!va)va=fa(na,oa);return new va(xa,ya);}wa.getFragmentNames=function(){return sa;};wa.hasFragment=function(xa){return !!ra[xa];};wa.hasVariable=function(xa){return (Object.prototype.hasOwnProperty.call(ta,xa));};wa.getFragment=function(xa,ya){var za=ra[xa];if(!za)w(0);!(typeof za==='function')?w(0):undefined;return m.createForContainer(function(){return ka(qa,xa,za,ta);},ta,ya,ua);};wa.contextTypes=ea;wa.displayName=qa;wa.moduleName=null;return wa;}f.exports={create:ma};},null);
__d('RelayNetworkLayer',['Promise','RelayProfiler','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k,l={injectNetworkLayer:function(n){k=n;},sendMutation:function(n){var o=m(),p=o.sendMutation(n);if(p)h.resolve(p).done();},sendQueries:function(n){var o=m(),p=o.sendQueries(n);if(p)h.resolve(p).done();},supports:function(){var n=m();return n.supports.apply(n,arguments);}};function m(){!k?j(0):undefined;return k;}i.instrumentMethods(l,{sendMutation:'RelayNetworkLayer.sendMutation',sendQueries:'RelayNetworkLayer.sendQueries'});f.exports=l;},null);
__d('RelayQueryVisitor',['RelayQuery'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();i.prototype.visit=function(j,k){if(j instanceof h.Field){return this.visitField(j,k);}else if(j instanceof h.Fragment){return this.visitFragment(j,k);}else if(j instanceof h.Root)return this.visitRoot(j,k);};i.prototype.traverse=function(j,k){if(j.canHaveSubselections())this.traverseChildren(j,k,function(l){this.visit(l,k);},this);return j;};i.prototype.traverseChildren=function(j,k,l,m){var n=j.getChildren();for(var o=0;o<n.length;o++)l.call(m,n[o],o,n);};i.prototype.visitField=function(j,k){return this.traverse(j,k);};i.prototype.visitFragment=function(j,k){return this.traverse(j,k);};i.prototype.visitRoot=function(j,k){return this.traverse(j,k);};function i(){}f.exports=i;},null);
__d('RelayRecordState',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={EXISTENT:'EXISTENT',NONEXISTENT:'NONEXISTENT',UNKNOWN:'UNKNOWN'};f.exports=h;},null);
__d('isCompatibleRelayFragmentType',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){return (j===i.getType()||!j||i.isAbstract());}f.exports=h;},null);
__d('validateRelayReadQuery',['RelayQueryVisitor','emptyFunction'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i;f.exports=j;},null);
__d('readRelayQueryData',['RelayFragmentPointer','RelayConnectionInterface','RelayProfiler','RelayQuery','RelayQueryVisitor','RelayRecord','RelayRecordState','RelayRecordStatusMap','callsFromGraphQL','callsToGraphQL','invariant','isCompatibleRelayFragmentType','validateRelayReadQuery'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';var u,v,w,x;if(c.__markCompiled)c.__markCompiled();var y=i.EDGES,z=i.PAGE_INFO,aa=['__status__','__resolvedFragmentMapGeneration__'];function ba(ja,ka,la,ma){var na=new ca(ja,ma),oa=na.retrieveData(ka,la);t(ka,ma);return oa;}u=babelHelpers.inherits(ca,l);v=u&&u.prototype;function ca(ja,ka){v.constructor.call(this);this.$RelayStoreReader1=ja.getRangeData();this.$RelayStoreReader2=ja.getQueuedStore();this.$RelayStoreReader4=ka&&ka.traverseFragmentReferences||false;this.$RelayStoreReader5=ka&&ka.traverseGeneratedFields||false;}ca.prototype.retrieveData=function(ja,ka){var la={data:undefined,dataIDs:{}},ma=this.$RelayStoreReader1.parseRangeClientID(ka),na=this.$RelayStoreReader2.getRecordState(ma?ma.dataID:ka);if(na===n.EXISTENT){var oa={componentDataID:null,data:undefined,isPartial:false,parent:null,rangeInfo:null,seenDataIDs:la.dataIDs,storeDataID:ka};this.visit(ja,oa);la.data=oa.data;}else if(na===n.NONEXISTENT)la.data=null;return la;};ca.prototype.visitField=function(ja,ka){this.$RelayStoreReader6(ja,ka);if(ja.canHaveSubselections()||ja.isGenerated())ha(ka);if(ja.isGenerated()&&!this.$RelayStoreReader5)return;var la=ka.rangeInfo;if(la&&ja.getSchemaName()===y){this.$RelayStoreReader7(ja,la,ka);}else if(la&&ja.getSchemaName()===z){this.$RelayStoreReader8(ja,la,ka);}else if(!ja.canHaveSubselections()){this.$RelayStoreReader9(ja,ka);}else if(ja.isPlural()){this.$RelayStoreReader10(ja,ka);}else if(ja.isConnection()){this.$RelayStoreReader11(ja,ka);}else this.$RelayStoreReader12(ja,ka);ka.seenDataIDs[ka.storeDataID]=true;};ca.prototype.visitFragment=function(ja,ka){var la=ga(ka);if(ja.isContainerFragment()&&!this.$RelayStoreReader4){ka.seenDataIDs[la]=true;var ma=ha(ka);h.addFragment(ma,ja,la);this.$RelayStoreReader13(ka);}else if(s(ja,this.$RelayStoreReader2.getType(la)))this.traverse(ja,ka);};ca.prototype.$RelayStoreReader9=function(ja,ka){var la=ja.getStorageKey(),ma=this.$RelayStoreReader2.getField(ka.storeDataID,la);if(ma===undefined){ka.isPartial=true;return;}else if(ma===null&&!ka.data){ka.data=null;}else this.$RelayStoreReader14(ka,ja.getApplicationName(),Array.isArray(ma)?ma.slice():ma);};ca.prototype.$RelayStoreReader10=function(ja,ka){var la=ja.getStorageKey(),ma=this.$RelayStoreReader2.getLinkedRecordIDs(ka.storeDataID,la);if(ma){var na=ja.getApplicationName(),oa=ia(ka,na),pa=ma.map(function(qa,ra){var sa;if(oa instanceof Object)sa=oa[ra];var ta={componentDataID:null,data:sa,isPartial:false,parent:ja,rangeInfo:null,seenDataIDs:ka.seenDataIDs,storeDataID:qa};ja.getChildren().forEach(function(ua){return this.visit(ua,ta);}.bind(this));if(ta.isPartial)ka.isPartial=true;return ta.data;}.bind(this));this.$RelayStoreReader14(ka,na,pa);}};ca.prototype.$RelayStoreReader11=function(ja,ka){var la=ja.getApplicationName(),ma=ja.getStorageKey(),na=ja.getCallsWithValues(),oa=this.$RelayStoreReader2.getLinkedRecordID(ka.storeDataID,ma);if(!oa){ka.isPartial=true;return;}da(ja);var pa=this.$RelayStoreReader2.getRangeMetadata(oa,na),qa={componentDataID:this.$RelayStoreReader15(ja,oa),data:ia(ka,la),isPartial:false,parent:ja,rangeInfo:pa&&na.length?pa:null,seenDataIDs:ka.seenDataIDs,storeDataID:oa};this.traverse(ja,qa);if(qa.isPartial)ka.isPartial=true;this.$RelayStoreReader14(ka,la,qa.data);};ca.prototype.$RelayStoreReader7=function(ja,ka,la){if(ka.diffCalls.length)la.isPartial=true;var ma=ia(la,y),na=ka.filteredEdges.map(function(oa,pa){var qa;if(ma instanceof Object)qa=ma[pa];var ra={componentDataID:null,data:qa,isPartial:false,parent:ja,rangeInfo:null,seenDataIDs:la.seenDataIDs,storeDataID:oa.edgeID};this.traverse(ja,ra);if(ra.isPartial)la.isPartial=true;return ra.data;}.bind(this));this.$RelayStoreReader14(la,y,na);};ca.prototype.$RelayStoreReader8=function(ja,ka,la){var ma=ka.pageInfo;!ma?r(0):undefined;if(ka.diffCalls.length)la.isPartial=true;var na=ma,oa,pa=function(qa){if(qa instanceof k.Fragment){if(qa.isContainerFragment()&&!this.$RelayStoreReader4){var ra=ga(la);oa=oa||{};h.addFragment(oa,qa,ra);}else qa.getChildren().forEach(pa);}else{var sa=qa;if(!sa.isGenerated()||this.$RelayStoreReader5){oa=oa||{};oa[sa.getApplicationName()]=na[sa.getStorageKey()];}}}.bind(this);ja.getChildren().forEach(pa);this.$RelayStoreReader14(la,z,oa);};ca.prototype.$RelayStoreReader12=function(ja,ka){var la=ja.getStorageKey(),ma=ja.getApplicationName(),na=this.$RelayStoreReader2.getLinkedRecordID(ka.storeDataID,la);if(na==null){if(na===undefined)ka.isPartial=true;this.$RelayStoreReader14(ka,ma,na);return;}var oa={componentDataID:null,data:ia(ka,ma),isPartial:false,parent:ja,rangeInfo:null,seenDataIDs:ka.seenDataIDs,storeDataID:na},pa=this.$RelayStoreReader2.getRecordState(na);if(pa===n.EXISTENT)ha(oa);this.traverse(ja,oa);if(oa.isPartial)ka.isPartial=true;this.$RelayStoreReader14(ka,ma,oa.data);};ca.prototype.$RelayStoreReader14=function(ja,ka,la){var ma=ha(ja);if(la===undefined)return;ma[ka]=la;this.$RelayStoreReader13(ja);};ca.prototype.$RelayStoreReader13=function(ja){var ka=ha(ja);aa.forEach(function(la){var ma=this.$RelayStoreReader2.getField(ja.storeDataID,la);if(ma!=null)ka[la]=ma;}.bind(this));if(ja.isPartial)ka.__status__=o.setPartialStatus(ka.__status__,true);};ca.prototype.$RelayStoreReader15=function(ja,ka){var la=ja.getCallsWithValues();if(!i.hasRangeCalls(la))return ka;return this.$RelayStoreReader1.getClientIDForRangeWithID(q(la),{},ka);};ca.prototype.$RelayStoreReader6=function(ja,ka){var la=this.$RelayStoreReader1.parseRangeClientID(ka.storeDataID);if(la!=null){ka.componentDataID=ka.storeDataID;ka.storeDataID=la.dataID;ka.rangeInfo=this.$RelayStoreReader2.getRangeMetadata(ka.storeDataID,p(la.calls,la.callValues));}};function da(ja){if(!ja.__hasValidatedConnectionCalls__){var ka=ja.getCallsWithValues();if(!i.hasRangeCalls(ka))fa.traverse(ja,ja);ja.__hasValidatedConnectionCalls__=true;}}w=babelHelpers.inherits(ea,l);x=w&&w.prototype;ea.prototype.visitField=function(ja,ka){var la=ja.getSchemaName();!(la!==y&&la!==z)?r(0):undefined;};function ea(){w.apply(this,arguments);}var fa=new ea();function ga(ja){if(ja.componentDataID!=null){return ja.componentDataID;}else return ja.storeDataID;}function ha(ja){var ka=ja.data;if(!ka)ka=ja.data=m.create(ga(ja));!(ka instanceof Object)?r(0):undefined;return ka;}function ia(ja,ka){var la=ha(ja);return la[ka];}f.exports=j.instrument('readRelayQueryData',ba);},null);
__d('recycleNodesInto',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){if(typeof i!=='object'||!i||typeof j!=='object'||!j)return j;var k=false,l=Array.isArray(i),m=Array.isArray(j);if(l&&m){var n=i,o=j;k=o.reduce(function(t,u,v){o[v]=h(n[v],u);return t&&o[v]===n[v];},true)&&n.length===o.length;}else if(!l&&!m){var p=i,q=j,r=Object.keys(p),s=Object.keys(q);k=s.reduce(function(t,u){var v=q[u];q[u]=h(p[u],v);return t&&q[u]===p[u];},true)&&r.length===s.length;}return k?i:j;}f.exports=h;},null);
__d('GraphQLStoreQueryResolver',['RelayProfiler','readRelayQueryData','recycleNodesInto','warning'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(o,p,q){this.dispose();this.$GraphQLStoreQueryResolver1=q;this.$GraphQLStoreQueryResolver2=p;this.$GraphQLStoreQueryResolver3=null;this.$GraphQLStoreQueryResolver4=o;}l.prototype.dispose=function(){if(this.$GraphQLStoreQueryResolver3)this.$GraphQLStoreQueryResolver3.dispose();};l.prototype.resolve=function(o,p){if(this.$GraphQLStoreQueryResolver2.getConcreteFragmentID()!==o.getConcreteFragmentID())k(false,'GraphQLStoreQueryResolver: Expected `resolve` to be called with the '+'same concrete fragment as the constructor. The resolver was created '+'with fragment `%s` but resolved with fragment `%s`.',this.$GraphQLStoreQueryResolver2.getDebugName(),o.getDebugName());if(Array.isArray(p)){k(o.isPlural(),'GraphQLStoreQueryResolver: Expected id/fragment plurality to be '+'consistent: got plural ids for singular fragment `%s`.',o.getDebugName());var q=this.$GraphQLStoreQueryResolver3;if(q instanceof n){q.dispose();q=null;}if(!q)q=new m(this.$GraphQLStoreQueryResolver4,this.$GraphQLStoreQueryResolver1);this.$GraphQLStoreQueryResolver3=q;return q.resolve(o,p);}else{k(!o.isPlural(),'GraphQLStoreQueryResolver: Expected id/fragment plurality to be '+'consistent: got a singular id for plural fragment `%s`.',o.getDebugName());var q=this.$GraphQLStoreQueryResolver3;if(q instanceof m){q.dispose();q=null;}if(!q)q=new n(this.$GraphQLStoreQueryResolver4,this.$GraphQLStoreQueryResolver1);this.$GraphQLStoreQueryResolver3=q;return q.resolve(o,p);}};function m(o,p){this.dispose();this.$GraphQLStorePluralQueryResolver1=p;this.$GraphQLStorePluralQueryResolver4=o;}m.prototype.dispose=function(){if(this.$GraphQLStorePluralQueryResolver2)this.$GraphQLStorePluralQueryResolver2.forEach(function(o){return o.dispose();});this.$GraphQLStorePluralQueryResolver2=[];this.$GraphQLStorePluralQueryResolver3=[];};m.prototype.resolve=function(o,p){var q=this.$GraphQLStorePluralQueryResolver3,r,s=q.length,t=p.length,u=this.$GraphQLStorePluralQueryResolver2;while(u.length<t)u.push(new n(this.$GraphQLStorePluralQueryResolver4,this.$GraphQLStorePluralQueryResolver1));while(u.length>t)u.pop().dispose();if(s!==t)r=[];for(var v=0;v<t;v++){var w=u[v].resolve(o,p[v]);if(r||v>=s||w!==q[v]){r=r||q.slice(0,v);r.push(w);}}if(r)this.$GraphQLStorePluralQueryResolver3=r;return this.$GraphQLStorePluralQueryResolver3;};function n(o,p){this.dispose();this.$GraphQLStoreSingleQueryResolver1=p;this.$GraphQLStoreSingleQueryResolver3=o.getGarbageCollector();this.$GraphQLStoreSingleQueryResolver7=o;this.$GraphQLStoreSingleQueryResolver8={};}n.prototype.dispose=function(){if(this.$GraphQLStoreSingleQueryResolver9)this.$GraphQLStoreSingleQueryResolver9.remove();this.$GraphQLStoreSingleQueryResolver4=false;this.$GraphQLStoreSingleQueryResolver2=null;this.$GraphQLStoreSingleQueryResolver5=null;this.$GraphQLStoreSingleQueryResolver6=null;this.$GraphQLStoreSingleQueryResolver9=null;this.$GraphQLStoreSingleQueryResolver10({});this.$GraphQLStoreSingleQueryResolver8={};};n.prototype.resolve=function(o,p){var q=this.$GraphQLStoreSingleQueryResolver2,r=this.$GraphQLStoreSingleQueryResolver6,s,t=this.$GraphQLStoreSingleQueryResolver5,u;if(q!=null&&r!=null&&this.$GraphQLStoreSingleQueryResolver11(r)===this.$GraphQLStoreSingleQueryResolver11(p)){if(r!==p||this.$GraphQLStoreSingleQueryResolver4||!o.isEquivalent(q)){var v=this.$GraphQLStoreSingleQueryResolver12(o,p);s=v[0];u=v[1];s=j(t,s);}else s=t;}else{var w=this.$GraphQLStoreSingleQueryResolver12(o,p);s=w[0];u=w[1];}if(t!==s){if(this.$GraphQLStoreSingleQueryResolver9){this.$GraphQLStoreSingleQueryResolver9.remove();this.$GraphQLStoreSingleQueryResolver9=null;}if(u){u[p]=true;var x=this.$GraphQLStoreSingleQueryResolver7.getChangeEmitter();this.$GraphQLStoreSingleQueryResolver9=x.addListenerForIDs(Object.keys(u),this.$GraphQLStoreSingleQueryResolver13.bind(this));this.$GraphQLStoreSingleQueryResolver10(u);this.$GraphQLStoreSingleQueryResolver8=u;}this.$GraphQLStoreSingleQueryResolver6=p;this.$GraphQLStoreSingleQueryResolver5=s;}this.$GraphQLStoreSingleQueryResolver4=false;this.$GraphQLStoreSingleQueryResolver2=o;return this.$GraphQLStoreSingleQueryResolver5;};n.prototype.$GraphQLStoreSingleQueryResolver11=function(o){return this.$GraphQLStoreSingleQueryResolver7.getRangeData().getCanonicalClientID(o);};n.prototype.$GraphQLStoreSingleQueryResolver13=function(){if(!this.$GraphQLStoreSingleQueryResolver4){this.$GraphQLStoreSingleQueryResolver4=true;this.$GraphQLStoreSingleQueryResolver1();}};n.prototype.$GraphQLStoreSingleQueryResolver12=function(o,p){var q=i(this.$GraphQLStoreSingleQueryResolver7,o,p),r=q.data,s=q.dataIDs;return [r,s];};n.prototype.$GraphQLStoreSingleQueryResolver10=function(o){var p=this;if(this.$GraphQLStoreSingleQueryResolver3)(function(){var q=p.$GraphQLStoreSingleQueryResolver3,r=p.$GraphQLStoreSingleQueryResolver7.getRangeData(),s=p.$GraphQLStoreSingleQueryResolver8;Object.keys(o).forEach(function(t){t=r.getCanonicalClientID(t);q.incrementReferenceCount(t);});Object.keys(s).forEach(function(t){t=r.getCanonicalClientID(t);q.decrementReferenceCount(t);});})();};h.instrumentMethods(l.prototype,{resolve:'GraphQLStoreQueryResolver.resolve'});f.exports=l;},null);
__d('RelayQueryResultObservable',['GraphQLStoreQueryResolver','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m){this.$RelayQueryResultObservable1=undefined;this.$RelayQueryResultObservable2=m;this.$RelayQueryResultObservable3=l;this.$RelayQueryResultObservable4=null;this.$RelayQueryResultObservable5=k;this.$RelayQueryResultObservable6=[];this.$RelayQueryResultObservable7=0;}j.prototype.subscribe=function(k){this.$RelayQueryResultObservable7++;var l=this.$RelayQueryResultObservable6.length,m={dispose:function(){!this.$RelayQueryResultObservable6[l]?i(0):undefined;delete this.$RelayQueryResultObservable6[l];this.$RelayQueryResultObservable7--;if(this.$RelayQueryResultObservable7===0)this.$RelayQueryResultObservable8();}.bind(this)};this.$RelayQueryResultObservable6.push(k);if(this.$RelayQueryResultObservable7===1)this.$RelayQueryResultObservable9(this.$RelayQueryResultObservable10());this.$RelayQueryResultObservable11(k);return m;};j.prototype.$RelayQueryResultObservable10=function(){!!this.$RelayQueryResultObservable4?i(0):undefined;var k=new h(this.$RelayQueryResultObservable5,this.$RelayQueryResultObservable3,function(){return this.$RelayQueryResultObservable12(k);}.bind(this));this.$RelayQueryResultObservable4=k;return k;};j.prototype.$RelayQueryResultObservable8=function(){if(this.$RelayQueryResultObservable4){this.$RelayQueryResultObservable1=undefined;this.$RelayQueryResultObservable4.dispose();this.$RelayQueryResultObservable4=null;}};j.prototype.$RelayQueryResultObservable12=function(k){this.$RelayQueryResultObservable9(k);this.$RelayQueryResultObservable6.forEach(function(l){return this.$RelayQueryResultObservable11(l);}.bind(this));};j.prototype.$RelayQueryResultObservable11=function(k){k.onNext&&k.onNext(this.$RelayQueryResultObservable1);};j.prototype.$RelayQueryResultObservable9=function(k){var l=k.resolve(this.$RelayQueryResultObservable3,this.$RelayQueryResultObservable2);!!Array.isArray(l)?i(0):undefined;this.$RelayQueryResultObservable1=l;};f.exports=j;},null);
__d('RelayFetchMode',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=Object.freeze({CLIENT:'CLIENT',PRELOAD:'PRELOAD',REFETCH:'REFETCH'});f.exports=h;},null);
__d('RelayReadyState',['resolveImmediate','warning'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){this.$RelayReadyState1=k;this.$RelayReadyState2={aborted:false,done:false,error:null,ready:false,stale:false};this.$RelayReadyState3=false;}j.prototype.update=function(k){var l=this.$RelayReadyState2;if(l.aborted)return;if(l.done||l.error){if(!k.aborted)i(false,'RelayReadyState: Invalid state change from `%s` to `%s`.',JSON.stringify(l),JSON.stringify(k));return;}this.$RelayReadyState2=babelHelpers['extends']({},l,k);if(this.$RelayReadyState3)return;this.$RelayReadyState3=true;h(function(){this.$RelayReadyState3=false;this.$RelayReadyState1(this.$RelayReadyState2);}.bind(this));};f.exports=j;},null);
__d('RelayTaskQueue',['Promise','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){this.$RelayTaskQueue1=[];this.$RelayTaskQueue2=false;this.$RelayTaskQueue3=k;}j.prototype.enqueue=function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];var n=new h(function(o,p){var q=0,r=null,s=function(t){if(r){p(r);return;}if(q>=l.length){o(t);}else this.$RelayTaskQueue1.push(function(){s(function(){var u=l[q++];try{t=u(t);}catch(v){r=v;t=undefined;}return t;}());});}.bind(this);s(undefined);}.bind(this));this.$RelayTaskQueue4();return n;};j.prototype.injectScheduler=function(k){this.$RelayTaskQueue3=k;};j.prototype.$RelayTaskQueue5=function(k){var l=false;return function(){!!l?i(0):undefined;l=true;this.$RelayTaskQueue6(k);this.$RelayTaskQueue2=false;this.$RelayTaskQueue4();}.bind(this);};j.prototype.$RelayTaskQueue6=function(k){var l=this.$RelayTaskQueue1;this.$RelayTaskQueue1=[];try{k();}finally{Array.prototype.unshift.apply(l,this.$RelayTaskQueue1);this.$RelayTaskQueue1=l;}};j.prototype.$RelayTaskQueue4=function(){if(this.$RelayTaskQueue2)return;if(this.$RelayTaskQueue1.length){this.$RelayTaskQueue2=true;var k=this.$RelayTaskQueue5(this.$RelayTaskQueue1.shift());if(this.$RelayTaskQueue3){this.$RelayTaskQueue3(k);}else k();}else this.$RelayTaskQueue2=false;};f.exports=j;},null);
__d('RelayTaskScheduler',['RelayTaskQueue'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=undefined,j=undefined,k={enqueue:function(){var l;if(!i)i=new h(j);return (l=i).enqueue.apply(l,arguments);},injectScheduler:function(l){j=l;if(i)i.injectScheduler(j);}};f.exports=k;},null);
__d('checkRelayQueryData',['RelayConnectionInterface','RelayProfiler','RelayQueryVisitor','RelayRecordState','forEachRootCallArg','isCompatibleRelayFragmentType'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o;if(c.__markCompiled)c.__markCompiled();var p=h.EDGES,q=h.PAGE_INFO;function r(t,u){var v=new s(t),w={dataID:undefined,rangeInfo:undefined,result:true};v.visit(u,w);return w.result;}n=babelHelpers.inherits(s,j);o=n&&n.prototype;function s(t){o.constructor.call(this);this.$RelayQueryChecker1=t;}s.prototype.traverse=function(t,u){var v=t.getChildren();for(var w=0;w<v.length;w++){if(!u.result)return;this.visit(v[w],u);}};s.prototype.visitRoot=function(t,u){var v,w=t.getStorageKey();l(t,function(x){var y=this.$RelayQueryChecker1.getDataID(w,x);if(y==null){u.result=false;}else{v={dataID:y,rangeInfo:undefined,result:true};this.traverse(t,v);u.result=u.result&&v.result;}}.bind(this));};s.prototype.visitFragment=function(t,u){var v=u.dataID;if(v&&m(t,this.$RelayQueryChecker1.getType(v)))this.traverse(t,u);};s.prototype.visitField=function(t,u){var v=u.dataID,w=v&&this.$RelayQueryChecker1.getRecordState(v);if(w===k.UNKNOWN){u.result=false;return;}else if(w===k.NONEXISTENT)return;var x=u.rangeInfo;if(x&&t.getSchemaName()===p){this.$RelayQueryChecker2(t,u);}else if(x&&t.getSchemaName()===q){this.$RelayQueryChecker3(t,u);}else if(!t.canHaveSubselections()){this.$RelayQueryChecker4(t,u);}else if(t.isPlural()){this.$RelayQueryChecker5(t,u);}else if(t.isConnection()){this.$RelayQueryChecker6(t,u);}else this.$RelayQueryChecker7(t,u);};s.prototype.$RelayQueryChecker4=function(t,u){var v=u.dataID&&this.$RelayQueryChecker1.getField(u.dataID,t.getStorageKey());if(v===undefined)u.result=false;};s.prototype.$RelayQueryChecker5=function(t,u){var v=u.dataID&&this.$RelayQueryChecker1.getLinkedRecordIDs(u.dataID,t.getStorageKey());if(v===undefined){u.result=false;return;}if(v)for(var w=0;w<v.length;w++){if(!u.result)break;var x={dataID:v[w],rangeInfo:undefined,result:true};this.traverse(t,x);u.result=x.result;}};s.prototype.$RelayQueryChecker6=function(t,u){var v=t.getCallsWithValues(),w=u.dataID&&this.$RelayQueryChecker1.getLinkedRecordID(u.dataID,t.getStorageKey());if(w===undefined){u.result=false;return;}var x={dataID:w,rangeInfo:null,result:true},y=this.$RelayQueryChecker1.getRangeMetadata(w,v);if(y)x.rangeInfo=y;this.traverse(t,x);u.result=u.result&&x.result;};s.prototype.$RelayQueryChecker2=function(t,u){var v=u.rangeInfo;if(!v){u.result=false;return;}if(v.diffCalls.length){u.result=false;return;}var w=v.filteredEdges;for(var x=0;x<w.length;x++){if(!u.result)break;var y={dataID:w[x].edgeID,rangeInfo:undefined,result:true};this.traverse(t,y);u.result=y.result;}};s.prototype.$RelayQueryChecker3=function(t,u){var v=u.rangeInfo;if(!v||!v.pageInfo){u.result=false;return;}};s.prototype.$RelayQueryChecker7=function(t,u){var v=u.dataID&&this.$RelayQueryChecker1.getLinkedRecordID(u.dataID,t.getStorageKey());if(v===undefined){u.result=false;return;}if(v){var w={dataID:v,rangeInfo:undefined,result:true};this.traverse(t,w);u.result=u.result&&w.result;}};f.exports=i.instrument('checkRelayQueryData',r);},null);
__d('RelayQueryPath',['RelayNodeInterface','RelayQuery','RelayRecord','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.ID,m=h.NODE_TYPE,n=h.TYPENAME,o=i.Field.build({fieldName:l,type:'String'}),p=i.Field.build({fieldName:n,type:'String'});function q(r,s){if(r instanceof i.Root){!!s?k(0):undefined;this.$RelayQueryPath1=r.getName();}else{!s?k(0):undefined;this.$RelayQueryPath1=s.getName();}this.$RelayQueryPath2=r;this.$RelayQueryPath3=s;}q.prototype.isRootPath=function(){return !this.$RelayQueryPath3;};q.prototype.getParent=function(){var r=this.$RelayQueryPath3;!r?k(0):undefined;return r;};q.prototype.getName=function(){return this.$RelayQueryPath1;};q.prototype.getPath=function(r,s){if(j.isClientID(s)){return new q(r,this);}else{var t=i.Root.build(this.getName(),h.NODE,s,[o,p],{identifyingArgName:h.ID,identifyingArgType:h.ID_TYPE,isAbstract:true,isDeferred:false,isPlural:false},m);return new q(t);}};q.prototype.getQuery=function(r){var s=this.$RelayQueryPath2,t=this,u=r;while(s instanceof i.Field||s instanceof i.Fragment){var v=s instanceof i.Field?s.getInferredPrimaryKey():l;if(v){u=s.clone([u,s.getFieldByStorageKey(v),s.getFieldByStorageKey(n)]);}else u=s.clone([u]);t=t.$RelayQueryPath3;!t?k(0):undefined;s=t.$RelayQueryPath2;}!u?k(0):undefined;!(s instanceof i.Root)?k(0):undefined;var w=babelHelpers['extends']({},s.getConcreteQueryNode().metadata),x=s.getIdentifyingArg();if(x&&x.name!=null)w.identifyingArgName=x.name;return i.Root.build(this.getName(),s.getFieldName(),x&&x.value||null,[u,s.getFieldByStorageKey(l),s.getFieldByStorageKey(n)],w,s.getType());};f.exports=q;},null);
__d('diffRelayQuery',['RelayConnectionInterface','RelayNodeInterface','RelayProfiler','RelayQuery','RelayQueryPath','RelayRecord','forEachRootCallArg','invariant','isCompatibleRelayFragmentType','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=i.ID,s=i.ID_TYPE,t=i.NODE_TYPE,u=i.TYPENAME,v=h.EDGES,w=h.NODE,x=h.PAGE_INFO,y=k.Field.build({fieldName:r,metadata:{isRequisite:true},type:'String'}),z=k.Field.build({fieldName:u,metadata:{isRequisite:true},type:'String'}),aa=k.Field.build({fieldName:i.NODE,children:[y,z],metadata:{canHaveSubselections:true},type:t});function ba(ga,ha,ia){var ja=new l(ga),ka=[],la=new ca(ha,ia),ma=ga.getIdentifyingArg(),na=ma&&ma.value||null,oa=Array.isArray(na)&&na.length>1,pa=undefined;if(ma!=null)pa={identifyingArgName:ma.name,identifyingArgType:ma.type!=null?ma.type:s,isAbstract:true,isDeferred:false,isPlural:false};var qa=ga.getFieldName(),ra=ga.getStorageKey();n(ga,function(sa){var ta;if(oa){!(sa!=null)?o(0):undefined;ta=k.Root.build(ga.getName(),qa,[sa],ga.getChildren(),pa,ga.getType());}else ta=ga;var ua=ha.getDataID(ra,sa);if(ua==null){ka.push(ta);return;}var va=da(ua),wa=la.visit(ta,ja,va),xa=wa?wa.diffNode:null;if(xa){!(xa instanceof k.Root)?o(0):undefined;ka.push(xa);}});return ka.concat(la.getSplitQueries());}function ca(ga,ha){this.$RelayDiffQueryBuilder1=ga;this.$RelayDiffQueryBuilder2=[];this.$RelayDiffQueryBuilder3=ha;}ca.prototype.splitQuery=function(ga){this.$RelayDiffQueryBuilder2.push(ga);};ca.prototype.getSplitQueries=function(){return this.$RelayDiffQueryBuilder2;};ca.prototype.visit=function(ga,ha,ia){if(ga instanceof k.Field){return this.visitField(ga,ha,ia);}else if(ga instanceof k.Fragment){return this.visitFragment(ga,ha,ia);}else if(ga instanceof k.Root)return this.visitRoot(ga,ha,ia);};ca.prototype.visitRoot=function(ga,ha,ia){return this.traverse(ga,ha,ia);};ca.prototype.visitFragment=function(ga,ha,ia){return this.traverse(ga,ha,ia);};ca.prototype.visitField=function(ga,ha,ia){var ja=ia.connectionField,ka=ia.dataID,la=ia.edgeID,ma=ia.rangeInfo;if(ja&&ma)if(la){if(ga.getSchemaName()===v){return this.diffConnectionEdge(ja,ga,ha.getPath(ga,la),la,ma);}else return null;}else if(ga.getSchemaName()===v||ga.getSchemaName()===x)return ma.diffCalls.length>0?{diffNode:ga,trackedNode:null}:null;if(!ga.canHaveSubselections()){return this.diffScalar(ga,ka);}else if(ga.isGenerated()){return {diffNode:ga,trackedNode:null};}else if(ga.isConnection()){return this.diffConnection(ga,ha,ka);}else if(ga.isPlural()){return this.diffPluralLink(ga,ha,ka);}else return this.diffLink(ga,ha,ka);};ca.prototype.traverse=function(ga,ha,ia){var ja=undefined,ka=undefined,la=undefined,ma=undefined,na=false,oa=false;ga.getChildren().forEach(function(pa){if(pa instanceof k.Field){var qa=this.visitField(pa,ha,ia),ra=qa?qa.diffNode:null,sa=qa?qa.trackedNode:null;if(ra){ka=ka||[];ka.push(ra);na=na||!ra.isGenerated();}else if(pa.isRequisite()&&!ia.rangeInfo){ka=ka||[];ka.push(pa);}if(sa){ma=ma||[];ma.push(sa);oa=oa||!sa.isGenerated();}else if(pa.isRequisite()){ma=ma||[];ma.push(pa);}}else if(pa instanceof k.Fragment){var ta=p(pa,this.$RelayDiffQueryBuilder1.getType(ia.dataID));if(ta){var qa=this.traverse(pa,ha,ia),ra=qa?qa.diffNode:null,sa=qa?qa.trackedNode:null;if(ra){ka=ka||[];ka.push(ra);na=true;}if(sa){ma=ma||[];ma.push(sa);oa=true;}}else{ka=ka||[];ka.push(pa);}}}.bind(this));if(ka&&na)ja=ga.clone(ka);if(ma&&oa)la=ga.clone(ma);if(la&&!(la instanceof k.Fragment))this.$RelayDiffQueryBuilder3.trackNodeForID(la,ia.dataID,ha);return {diffNode:ja,trackedNode:la};};ca.prototype.diffScalar=function(ga,ha){if(this.$RelayDiffQueryBuilder1.getField(ha,ga.getStorageKey())===undefined)return {diffNode:ga,trackedNode:null};return null;};ca.prototype.diffLink=function(ga,ha,ia){var ja=this.$RelayDiffQueryBuilder1.getLinkedRecordID(ia,ga.getStorageKey());if(ja===undefined)return {diffNode:ga,trackedNode:null};if(ja===null)return {diffNode:null,trackedNode:ga};return this.traverse(ga,ha.getPath(ga,ja),da(ja));};ca.prototype.diffPluralLink=function(ga,ha,ia){var ja=this.$RelayDiffQueryBuilder1.getLinkedRecordIDs(ia,ga.getStorageKey());if(ja===undefined){return {diffNode:ga,trackedNode:null};}else if(ja===null||ja.length===0){return {diffNode:null,trackedNode:ga};}else if(ga.getInferredRootCallName()===w){var ka=false;ja.forEach(function(ma){var na=this.traverse(ga,ha.getPath(ga,ma),da(ma));if(na){ka=ka||!!na.trackedNode||!!na.diffNode;if(na.diffNode)this.splitQuery(fa(ma,na.diffNode.getChildren(),ha.getName(),ga.getType()));}}.bind(this));if(ka)return {diffNode:null,trackedNode:ga};}else{var la=ja[0];return this.traverse(ga,ha.getPath(ga,la),da(la));}return null;};ca.prototype.diffConnection=function(ga,ha,ia){var ja=this.$RelayDiffQueryBuilder1,ka=ja.getLinkedRecordID(ia,ga.getStorageKey()),la=ja.getRangeMetadata(ka,ga.getCallsWithValues());if(ka===undefined)return {diffNode:ga,trackedNode:null};if(ka===null)return {diffNode:null,trackedNode:ga};if(la==null)return this.traverse(ga,ha.getPath(ga,ka),da(ka));var ma=la.diffCalls,na=la.filteredEdges,oa=false;na.forEach(function(ta){if(la&&ka){var ua={connectionField:ga,dataID:ka,edgeID:ta.edgeID,rangeInfo:la},va=this.traverse(ga,ha.getPath(ga,ta.edgeID),ua);if(va)oa=oa||!!va.trackedNode;}}.bind(this));var pa={connectionField:ga,dataID:ka,edgeID:null,rangeInfo:la},qa=this.traverse(ga,ha.getPath(ga,ka),pa),ra=qa?qa.diffNode:null,sa=qa?qa.trackedNode:null;if(ma.length&&ra instanceof k.Field)ra=ra.cloneFieldWithCalls(ra.getChildren(),ma);if(oa)sa=ga;return {diffNode:ra,trackedNode:sa};};ca.prototype.diffConnectionEdge=function(ga,ha,ia,ja,ka){var la=false,ma=this.traverse(ha,ia.getPath(ha,ja),da(ja)),na=ma?ma.diffNode:null,oa=ma?ma.trackedNode:null,pa=this.$RelayDiffQueryBuilder1.getLinkedRecordID(ja,w);if(na)if(!pa||m.isClientID(pa)){q(ga.isConnectionWithoutNodeID(),'RelayDiffQueryBuilder: Field `node` on connection `%s` cannot be '+'retrieved if it does not have an `id` field. If you expect fields '+'to be retrieved on this field, add an `id` field in the schema. '+'If you choose to ignore this warning, you can silence it by '+'adding `@relay(isConnectionWithoutNodeID: true)` to the '+'connection field.',ga.getStorageKey());}else{var qa=ea(na),ra=qa.edges,sa=qa.node;if(sa){la=true;var ta=ha.getFieldByStorageKey('node');!ta?o(0):undefined;this.splitQuery(fa(pa,sa.getChildren(),ia.getName(),ta.getType()));}if(ra)if(ga.isFindable()){ra=ra.clone(ra.getChildren().concat(aa));var ua=ga.cloneFieldWithCalls([ra],ka.filterCalls.concat({name:'find',value:pa}));if(ua){la=true;var va=ia.getParent().getParent();this.splitQuery(va.getQuery(ua));}}else q(false,'RelayDiffQueryBuilder: connection `edges{*}` fields can only '+'be refetched if the connection supports the `find` call. '+'Cannot refetch data for field `%s`.',ga.getStorageKey());}return {diffNode:null,trackedNode:la?ha:oa};};function da(ga){return {connectionField:null,dataID:ga,edgeID:null,rangeInfo:null};}function ea(ga){var ha=ga.getChildren(),ia=[],ja=false,ka=[],la=false;for(var ma=0;ma<ha.length;ma++){var na=ha[ma];if(na instanceof k.Field){if(na.getSchemaName()===w){var oa=na.getChildren();ka=ka.concat(oa);ja=ja||oa.length!==1||!(oa[0] instanceof k.Field)||oa[0].getSchemaName()!=='id';}else{ia.push(na);la=la||!na.isRequisite();}}else if(na instanceof k.Fragment){var pa=ea(na),qa=pa.edges,ra=pa.node;if(qa){ia.push(qa);la=true;}if(ra){ka.push(ra);ja=true;}}}return {edges:la?ga.clone(ia):null,node:ja?ga.clone(ka):null};}function fa(ga,ha,ia,ja){var ka=[y,z],la=[];ha.forEach(function(ma){if(ma instanceof k.Field){la.push(ma);}else ka.push(ma);});ka.push(k.Fragment.build('diffRelayQuery',ja,la));return k.Root.build(ia,w,ga,ka,{identifyingArgName:r,identifyingArgType:s,isAbstract:true,isDeferred:false,isPlural:false},t);}f.exports=j.instrument('diffRelayQuery',ba);},null);
__d('flattenSplitRelayQueries',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=[],k=[i];while(k.length){i=k.shift();var l=i,m=l.required,n=l.deferred;if(m)j.push(m);if(n.length)k.push.apply(k,n);}return j;}f.exports=h;},null);
__d('generateForceIndex',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1;function i(){return h++;}f.exports=i;},null);
__d('RelayQueryTransform',['RelayQueryVisitor'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.traverse=function(l,m){if(!l.canHaveSubselections())return l;var n=undefined;this.traverseChildren(l,m,function(o,p,q){var r=q[p],s=this.visit(r,m);if(s!==r)n=n||q.slice(0,p);if(n&&s)n.push(s);},this);if(n){if(!n.length)return null;return l.clone(n);}return l;};function k(){i.apply(this,arguments);}f.exports=k;},null);
__d('RelayRefQueryDescriptor',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){this.node=i;this.nodePath=j;}f.exports=h;},null);
__d('splitDeferredRelayQueries',['QueryBuilder','RelayNodeInterface','RelayProfiler','RelayQuery','RelayQueryTransform','RelayRefQueryDescriptor','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o,p;if(c.__markCompiled)c.__markCompiled();function q(x){var y=new w(),z={__nodePath__:[],__parent__:null,__refQuery__:null,deferred:[],required:null};y.visit(x,z);return u(z);}function r(x,y){var z=y.getChildren().filter(function(aa){return (aa!==x&&aa instanceof k.Field&&aa.isRequisite());});return z.map(function(aa){var ba=aa.getChildren().filter(function(da){return (da instanceof k.Field&&da.isRequisite());}),ca=aa.clone(ba);!ca?n(0):undefined;return ca;});}function s(x,y){for(var z=y.length-1;z>=0;z--){var aa=y[z];if(aa instanceof k.Field&&aa.getInferredRootCallName())return new m(x,y.slice(0,z+1));var ba=r(x,aa),ca=[x].concat(ba);x=aa.clone(ca);}!(x instanceof k.Root)?n(0):undefined;var da=x.getIdentifyingArg(),ea=da&&da.name||null,fa=da&&da.value||null,ga={identifyingArgName:ea,identifyingArgType:i.ID_TYPE,isAbstract:true,isDeferred:true,isPlural:false};return k.Root.build(x.getName(),x.getFieldName(),fa,x.getChildren(),ga,x.getType());}function t(x){if(!x.canHaveSubselections()){return x.isGenerated()&&!x.isRefQueryDependency();}else return x.getChildren().every(t);}function u(x){if(x.required&&t(x.required))x.required=null;x.deferred=x.deferred.map(function(y){var z=y.__refQuery__;if(z){var aa=x.required;if(!aa){var ba=x;while(ba.__parent__){aa=ba.__parent__.required;if(aa)break;ba=ba.__parent__;}}!aa?n(0):undefined;y.required=v(z,aa);}return u(y);});return x;}function v(x,y){var z=x.node;!(z instanceof k.Field||z instanceof k.Fragment)?n(0):undefined;var aa=['$','*'],ba=undefined;for(var ca=0;ca<x.nodePath.length;ca++){ba=x.nodePath[ca];if(ba instanceof k.Field){aa.push(ba.getSerializationKey());if(ba.isPlural())aa.push('*');}}!(aa.length>2)?n(0):undefined;var da=ba,ea=da.getInferredPrimaryKey();!ea?n(0):undefined;aa.push(ea);var fa=k.Root.build(y.getName(),i.NODES,h.createBatchCallVariable(y.getID(),aa.join('.')),[z],{identifyingArgName:i.ID,identifyingArgType:i.ID_TYPE,isAbstract:true,isDeferred:true,isPlural:false},i.NODE_TYPE),ga=fa;return ga;}o=babelHelpers.inherits(w,l);p=o&&o.prototype;w.prototype.visitField=function(x,y){if(!x.hasDeferredDescendant())return x;y.__nodePath__.push(x);var z=this.traverse(x,y);y.__nodePath__.pop();if(z&&x.getInferredRootCallName())(function(){var aa=x.getInferredPrimaryKey(),ba=z.getChildren().map(function(ca){if(ca instanceof k.Field&&ca.getSchemaName()===aa){return ca.cloneAsRefQueryDependency();}else return ca;});z=z.clone(ba);})();return z;};w.prototype.visitFragment=function(x,y){if(!x.getChildren().length)return null;if(x.isDeferred()){var z=y.__nodePath__,aa={__nodePath__:z,__parent__:y,__refQuery__:null,deferred:[],required:null},ba=this.traverse(x,aa);if(ba){var ca=s(ba,z);if(ca instanceof k.Root){aa.required=ca;}else if(ca instanceof m)aa.__refQuery__=ca;}if(ba||aa.deferred.length)y.deferred.push(aa);return null;}else if(x.hasDeferredDescendant()){return this.traverse(x,y);}else return x;};w.prototype.visitRoot=function(x,y){if(!x.hasDeferredDescendant()){y.required=x;return x;}else{y.__nodePath__.push(x);var z=this.traverse(x,y);y.__nodePath__.pop();y.required=z;return z;}};function w(){o.apply(this,arguments);}f.exports=j.instrument('splitDeferredRelayQueries',q);},null);
__d('GraphQLQueryRunner',['RelayFetchMode','RelayNetworkLayer','RelayProfiler','RelayReadyState','RelayTaskScheduler','checkRelayQueryData','diffRelayQuery','everyObject','flattenSplitRelayQueries','forEachObject','generateForceIndex','mapObject','resolveImmediate','someObject','splitDeferredRelayQueries','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();function x(ba){this.$GraphQLQueryRunner1=ba;}x.prototype.run=function(ba,ca,da){da=da||h.CLIENT;var ea=da===h.REFETCH?j.profile('GraphQLQueryRunner.forceFetch'):j.profile('GraphQLQueryRunner.primeCache'),fa=[];if(da===h.CLIENT){q(ba,function(ga){if(ga)fa.push.apply(fa,n(ga,this.$GraphQLQueryRunner1.getRecordStore(),this.$GraphQLQueryRunner1.getQueryTracker()));}.bind(this));}else q(ba,function(ga){if(ga)fa.push(ga);});return aa(this.$GraphQLQueryRunner1,fa,ca,da,ea);};x.prototype.forceFetch=function(ba,ca){var da=h.REFETCH,ea=j.profile('GraphQLQueryRunner.forceFetch'),fa=[];q(ba,function(ga){ga&&fa.push(ga);});return aa(this.$GraphQLQueryRunner1,fa,ca,da,ea);};function y(ba){return !!Object.keys(ba).length;}function z(ba){if(!i.supports('defer'))return ba;var ca=[];ba.forEach(function(da){return ca.push.apply(ca,p(v(da)));});return ca;}function aa(ba,ca,da,ea,fa){var ga=new k(da),ha={},ia={};function ja(ma){var na=ma.getQuery(),oa=na.getID();delete ha[oa];if(!na.isDeferred())delete ia[oa];if(y(ia))return;if(u(ha,function(pa){return pa.isResolvable();}))return;if(y(ha)){ga.update({done:false,ready:true,stale:false});}else ga.update({done:true,ready:true,stale:false});}function ka(ma,na){ga.update({error:na});var oa=ma.getQuery(),pa=oa.getID();delete ha[pa];if(!oa.isDeferred())delete ia[pa];}function la(ma){return m(ba.getQueuedStore(),ma.getQuery());}l.enqueue(function(){var ma=ea===h.REFETCH?r():null;z(ca).forEach(function(na){var oa=ba.getPendingQueryTracker().add({query:na,fetchMode:ea,forceIndex:ma,storeData:ba}),pa=na.getID();ha[pa]=oa;if(!na.isDeferred())ia[pa]=oa;oa.getResolvedPromise().then(ja.bind(null,oa),ka.bind(null,oa));});if(!y(ha)){ga.update({done:true,ready:true});}else if(!y(ia)){ga.update({ready:true});}else{ga.update({ready:false});t(function(){if(ba.hasCacheManager()){var na=s(ia,function(oa){return oa.getQuery();});ba.readFromDiskCache(na,{onSuccess:function(){if(y(ia))ga.update({ready:true,stale:true});}});}else if(o(ia,la))if(y(ia))ga.update({ready:true,stale:true});});}fa.stop();}).done();return {abort:function(){ga.update({aborted:true});}};}f.exports=x;},null);
__d('GraphQLStoreChangeEmitter',['ErrorUtils','resolveImmediate'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){this.$GraphQLStoreChangeEmitter1=function(l){return l();};this.$GraphQLStoreChangeEmitter2={};this.$GraphQLStoreChangeEmitter3=k;this.$GraphQLStoreChangeEmitter4=null;this.$GraphQLStoreChangeEmitter5=[];}j.prototype.addListenerForIDs=function(k,l){var m=k.map(function(o){return this.$GraphQLStoreChangeEmitter6(o);}.bind(this)),n=this.$GraphQLStoreChangeEmitter5.length;this.$GraphQLStoreChangeEmitter5.push({subscribedIDs:m,callback:l});return {remove:function(){delete this.$GraphQLStoreChangeEmitter5[n];}.bind(this)};};j.prototype.broadcastChangeForID=function(k){var l=this.$GraphQLStoreChangeEmitter4;if(l==null){i(function(){return this.$GraphQLStoreChangeEmitter7();}.bind(this));l=this.$GraphQLStoreChangeEmitter4={};}l[this.$GraphQLStoreChangeEmitter6(k)]=this.$GraphQLStoreChangeEmitter5.length-1;};j.prototype.injectBatchingStrategy=function(k){this.$GraphQLStoreChangeEmitter1=k;};j.prototype.$GraphQLStoreChangeEmitter7=function(){if(this.$GraphQLStoreChangeEmitter4){this.$GraphQLStoreChangeEmitter2=this.$GraphQLStoreChangeEmitter4;this.$GraphQLStoreChangeEmitter4=null;this.$GraphQLStoreChangeEmitter1(function(){return this.$GraphQLStoreChangeEmitter8();}.bind(this));}};j.prototype.$GraphQLStoreChangeEmitter8=function(){this.$GraphQLStoreChangeEmitter5.forEach(function(k,l){return (this.$GraphQLStoreChangeEmitter9(k,l));}.bind(this));};j.prototype.$GraphQLStoreChangeEmitter9=function(k,l){var m=k.subscribedIDs,n=k.callback;for(var o in this.$GraphQLStoreChangeEmitter2)if(this.$GraphQLStoreChangeEmitter2.hasOwnProperty(o)){var p=this.$GraphQLStoreChangeEmitter2[o];if(p<l)break;if(m.indexOf(o)>=0){h.applyWithGuard(n,null,null,null,'GraphQLStoreChangeEmitter');break;}}};j.prototype.$GraphQLStoreChangeEmitter6=function(k){return this.$GraphQLStoreChangeEmitter3.getCanonicalClientID(k);};f.exports=j;},null);
__d('GraphQLStoreRangeUtils',['callsFromGraphQL','serializeRelayQueryCall'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(){this.$GraphQLStoreRangeUtils1={};this.$GraphQLStoreRangeUtils2={};}j.prototype.getClientIDForRangeWithID=function(k,l,m){var n=h(k,l).map(function(r){return i(r).substring(1);}).join(','),o=m+'_'+n,p=this.$GraphQLStoreRangeUtils1[o];if(!p){this.$GraphQLStoreRangeUtils1[o]={dataID:m,calls:k,callValues:l};var q=this.$GraphQLStoreRangeUtils2[m];if(!q)this.$GraphQLStoreRangeUtils2[m]=q=[];q.push(o);}return o;};j.prototype.parseRangeClientID=function(k){return this.$GraphQLStoreRangeUtils1[k]||null;};j.prototype.getCanonicalClientID=function(k){return this.$GraphQLStoreRangeUtils1[k]?this.$GraphQLStoreRangeUtils1[k].dataID:k;};j.prototype.removeRecord=function(k){var l=this.$GraphQLStoreRangeUtils2[k];if(l){l.forEach(function(m){delete this.$GraphQLStoreRangeUtils1[m];}.bind(this));delete this.$GraphQLStoreRangeUtils2[k];}};f.exports=j;},null);
__d('RelayChangeTracker',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$RelayChangeTracker1={};this.$RelayChangeTracker2={};}h.prototype.createID=function(i){this.$RelayChangeTracker1[i]=true;};h.prototype.updateID=function(i){if(!this.$RelayChangeTracker1.hasOwnProperty(i))this.$RelayChangeTracker2[i]=true;};h.prototype.hasChange=function(i){return !!(this.$RelayChangeTracker2[i]||this.$RelayChangeTracker1[i]);};h.prototype.isNewRecord=function(i){return !!this.$RelayChangeTracker1[i];};h.prototype.getChangeSet=function(){return {created:this.$RelayChangeTracker1,updated:this.$RelayChangeTracker2};};f.exports=h;},null);
__d('findRelayQueryLeaves',['RelayConnectionInterface','RelayProfiler','RelayQueryVisitor','RelayRecordState','isCompatibleRelayFragmentType'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();var o=h.EDGES,p=h.PAGE_INFO;function q(s,t,u,v,w,x){var y=new r(s,t),z={dataID:v,missingData:false,path:w,rangeCalls:x,rangeInfo:undefined};y.visit(u,z);return {missingData:z.missingData,pendingNodes:y.getPendingNodes()};}m=babelHelpers.inherits(r,j);n=m&&m.prototype;function r(s){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];n.constructor.call(this);this.$RelayQueryLeavesFinder3=s;this.$RelayQueryLeavesFinder1=t;this.$RelayQueryLeavesFinder2={};}r.prototype.getPendingNodes=function(){return this.$RelayQueryLeavesFinder2;};r.prototype.traverse=function(s,t){var u=s.getChildren();for(var v=0;v<u.length;v++){if(t.missingData)return;this.visit(u[v],t);}};r.prototype.visitFragment=function(s,t){var u=t.dataID,v=this.$RelayQueryLeavesFinder3.getRecordState(u);if(v===k.UNKNOWN){this.$RelayQueryLeavesFinder4(s,t);return;}else if(v===k.NONEXISTENT)return;if(l(s,this.$RelayQueryLeavesFinder3.getType(u)))this.traverse(s,t);};r.prototype.visitField=function(s,t){var u=t.dataID,v=this.$RelayQueryLeavesFinder3.getRecordState(u);if(v===k.UNKNOWN){this.$RelayQueryLeavesFinder4(s,t);return;}else if(v===k.NONEXISTENT)return;if(t.rangeCalls&&!t.rangeInfo){var w=this.$RelayQueryLeavesFinder3.getRangeMetadata(u,t.rangeCalls);if(w)t.rangeInfo=w;}var x=t.rangeInfo;if(x&&s.getSchemaName()===o){this.$RelayQueryLeavesFinder5(s,t);}else if(x&&s.getSchemaName()===p){this.$RelayQueryLeavesFinder6(s,t);}else if(!s.canHaveSubselections()){this.$RelayQueryLeavesFinder7(s,t);}else if(s.isPlural()){this.$RelayQueryLeavesFinder8(s,t);}else if(s.isConnection()){this.$RelayQueryLeavesFinder9(s,t);}else this.$RelayQueryLeavesFinder10(s,t);};r.prototype.$RelayQueryLeavesFinder7=function(s,t){var u=this.$RelayQueryLeavesFinder3.getField(t.dataID,s.getStorageKey());if(u===undefined)this.$RelayQueryLeavesFinder4(s,t);};r.prototype.$RelayQueryLeavesFinder8=function(s,t){var u=this.$RelayQueryLeavesFinder3.getLinkedRecordIDs(t.dataID,s.getStorageKey());if(u===undefined){this.$RelayQueryLeavesFinder4(s,t);return;}if(u)for(var v=0;v<u.length;v++){if(t.missingData)break;var w={dataID:u[v],missingData:false,path:t.path.getPath(s,u[v]),rangeCalls:undefined,rangeInfo:undefined};this.traverse(s,w);t.missingData=w.missingData;}};r.prototype.$RelayQueryLeavesFinder9=function(s,t){var u=s.getCallsWithValues(),v=this.$RelayQueryLeavesFinder3.getLinkedRecordID(t.dataID,s.getStorageKey());if(v===undefined){this.$RelayQueryLeavesFinder4(s,t);return;}if(v){var w={dataID:v,missingData:false,path:t.path.getPath(s,v),rangeCalls:u,rangeInfo:null},x=this.$RelayQueryLeavesFinder3.getRangeMetadata(v,u);if(x)w.rangeInfo=x;this.traverse(s,w);t.missingData=t.missingData||w.missingData;}};r.prototype.$RelayQueryLeavesFinder5=function(s,t){var u=t.rangeInfo;if(!u){this.$RelayQueryLeavesFinder4(s,t);return;}if(u.diffCalls.length){t.missingData=true;return;}var v=u.requestedEdgeIDs;for(var w=0;w<v.length;w++){if(t.missingData)break;var x={dataID:v[w],missingData:false,path:t.path.getPath(s,v[w]),rangeCalls:undefined,rangeInfo:undefined};this.traverse(s,x);t.missingData=t.missingData||x.missingData;}};r.prototype.$RelayQueryLeavesFinder6=function(s,t){var u=t.rangeInfo;if(!u||!u.pageInfo){this.$RelayQueryLeavesFinder4(s,t);return;}};r.prototype.$RelayQueryLeavesFinder10=function(s,t){var u=this.$RelayQueryLeavesFinder3.getLinkedRecordID(t.dataID,s.getStorageKey());if(u===undefined){this.$RelayQueryLeavesFinder4(s,t);return;}if(u){var v={dataID:u,missingData:false,path:t.path.getPath(s,u),rangeCalls:undefined,rangeInfo:undefined};this.traverse(s,v);t.missingData=t.missingData||v.missingData;}};r.prototype.$RelayQueryLeavesFinder4=function(s,t){var u=t.dataID;if(this.$RelayQueryLeavesFinder1.hasOwnProperty(u)){t.missingData=true;}else{this.$RelayQueryLeavesFinder2[u]=this.$RelayQueryLeavesFinder2[u]||[];this.$RelayQueryLeavesFinder2[u].push({node:s,path:t.path,rangeCalls:t.rangeCalls});}};f.exports=i.instrument('findRelayQueryLeaves',q);},null);
__d('RelayDiskCacheReader',['RelayChangeTracker','RelayProfiler','RelayQuery','RelayQueryPath','RelayRecord','findRelayQueryLeaves','forEachObject','forEachRootCallArg','invariant','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r={readFragment:function(t,u,v,w,x,y,z,aa,ba,ca){var da=new s(w,x,y,z,aa,ba,ca);da.readFragment(t,u,v);return {abort:function(){da.abort();}};},readQueries:function(t,u,v,w,x,y,z,aa){var ba=new s(u,v,w,x,y,z,aa);ba.read(t);return {abort:function(){ba.abort();}};}};function s(t,u,v,w,x,y,z){this.$RelayCacheReader1=t;this.$RelayCacheReader2=u;this.$RelayCacheReader3=v;this.$RelayCacheReader4=x;this.$RelayCacheReader5=z;this.$RelayCacheReader6=y;this.$RelayCacheReader7=w;this.$RelayCacheReader8={};this.$RelayCacheReader9={};this.$RelayCacheReader10='PENDING';}s.prototype.abort=function(){!(this.$RelayCacheReader10==='LOADING')?p(0):undefined;this.$RelayCacheReader10='COMPLETED';};s.prototype.read=function(t){var u=this;!(this.$RelayCacheReader10==='PENDING')?p(0):undefined;this.$RelayCacheReader10='LOADING';n(t,function(v){if(this.$RelayCacheReader10==='COMPLETED')return;if(v)(function(){var w=v.getStorageKey();o(v,function(x){if(this.$RelayCacheReader10==='COMPLETED')return;x=x||'';this.visitRoot(w,x,v);}.bind(u));})();}.bind(this));if(this.$RelayCacheReader11())this.$RelayCacheReader12();};s.prototype.readFragment=function(t,u,v){!(this.$RelayCacheReader10==='PENDING')?p(0):undefined;this.$RelayCacheReader10='LOADING';this.visitNode(t,{node:u,path:v,rangeCalls:undefined});if(this.$RelayCacheReader11())this.$RelayCacheReader12();};s.prototype.visitRoot=function(t,u,v){var w=this.$RelayCacheReader1.getDataID(t,u);if(w==null){if(this.$RelayCacheReader3.hasOwnProperty(t)&&this.$RelayCacheReader3[t].hasOwnProperty(u)){this.$RelayCacheReader13();}else this.queueRoot(t,u,v);}else this.visitNode(w,{node:v,path:new k(v),rangeCalls:undefined});};s.prototype.queueRoot=function(t,u,v){var w=t+'*'+u;if(this.$RelayCacheReader9.hasOwnProperty(w)){this.$RelayCacheReader9[w].push(v);}else{var x=this;this.$RelayCacheReader9[w]=[v];this.$RelayCacheReader4.readRootCall(t,u,function(y,z){if(this.$RelayCacheReader10==='COMPLETED')return;if(y){this.$RelayCacheReader13();return;}var aa=this.$RelayCacheReader9[w];delete this.$RelayCacheReader9[w];this.$RelayCacheReader3[t]=this.$RelayCacheReader3[t]||{};this.$RelayCacheReader3[t][u]=z;if(this.$RelayCacheReader3[t][u]==null){this.$RelayCacheReader13();}else (function(){var ba=z;aa.forEach(function(ca){if(this.$RelayCacheReader10==='COMPLETED')return;this.visitNode(ba,{node:ca,path:new k(ca),rangeCalls:undefined});}.bind(x));})();if(this.$RelayCacheReader11())this.$RelayCacheReader12();}.bind(this));}};s.prototype.visitNode=function(t,u){var v=m(this.$RelayCacheReader1,this.$RelayCacheReader2,u.node,t,u.path,u.rangeCalls),w=v.missingData,x=v.pendingNodes;if(w){this.$RelayCacheReader13();return;}n(x,function(y,z){this.queueNode(z,y);}.bind(this));};s.prototype.queueNode=function(t,u){if(this.$RelayCacheReader8.hasOwnProperty(t)){var v;(v=this.$RelayCacheReader8[t]).push.apply(v,u);}else{this.$RelayCacheReader8[t]=u;this.$RelayCacheReader4.readNode(t,function(w,x){if(this.$RelayCacheReader10==='COMPLETED')return;if(w){this.$RelayCacheReader13();return;}if(x&&l.isClientID(t))x.__path__=u[0].path;var y=this.$RelayCacheReader1.getRecordState(t);if(y==='UNKNOWN'&&x!==undefined){if(this.$RelayCacheReader7)this.$RelayCacheReader7.register(t);this.$RelayCacheReader6.createID(t);}else if(y==='EXISTENT'&&x!=null)this.$RelayCacheReader6.updateID(t);this.$RelayCacheReader2[t]=x;var z=this.$RelayCacheReader8[t];delete this.$RelayCacheReader8[t];if(this.$RelayCacheReader2[t]===undefined){this.$RelayCacheReader13();}else z.forEach(function(aa){if(this.$RelayCacheReader10==='COMPLETED')return;this.visitNode(t,aa);}.bind(this));if(this.$RelayCacheReader11())this.$RelayCacheReader12();}.bind(this));}};s.prototype.$RelayCacheReader11=function(){return (q(this.$RelayCacheReader9)&&q(this.$RelayCacheReader8)&&this.$RelayCacheReader10==='LOADING');};s.prototype.$RelayCacheReader13=function(){!(this.$RelayCacheReader10!=='COMPLETED')?p(0):undefined;this.$RelayCacheReader10='COMPLETED';this.$RelayCacheReader5.onFailure&&this.$RelayCacheReader5.onFailure();};s.prototype.$RelayCacheReader12=function(){!(this.$RelayCacheReader10!=='COMPLETED')?p(0):undefined;this.$RelayCacheReader10='COMPLETED';this.$RelayCacheReader5.onSuccess&&this.$RelayCacheReader5.onSuccess();};i.instrumentMethods(s.prototype,{read:'RelayCacheReader.read',readFragment:'RelayCacheReader.readFragment',visitRoot:'RelayCacheReader.visitRoot',queueRoot:'RelayCacheReader.queueRoot',visitNode:'RelayCacheReader.visitNode',queueNode:'RelayCacheReader.queueNode'});f.exports=r;},null);
__d('GraphQLMutatorConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={APPEND:'append',PREPEND:'prepend',REMOVE:'remove',NODE_DELETE_HANDLER:'node_delete',RANGE_ADD_HANDLER:'range_add',RANGE_DELETE_HANDLER:'range_delete',HANDLER_TYPES:{},OPTIMISTIC_UPDATE:'optimistic',SERVER_UPDATE:'server',POLLER_UPDATE:'poller',UPDATE_TYPES:{},RANGE_OPERATIONS:{}};h.HANDLER_TYPES[h.NODE_DELETE_HANDLER]=true;h.HANDLER_TYPES[h.RANGE_ADD_HANDLER]=true;h.HANDLER_TYPES[h.RANGE_DELETE_HANDLER]=true;h.UPDATE_TYPES[h.OPTIMISTIC_UPDATE]=true;h.UPDATE_TYPES[h.SERVER_UPDATE]=true;h.UPDATE_TYPES[h.POLLER_UPDATE]=true;h.RANGE_OPERATIONS[h.APPEND]=true;h.RANGE_OPERATIONS[h.PREPEND]=true;h.RANGE_OPERATIONS[h.REMOVE]=true;f.exports=h;},null);
__d('GraphQLSegment',['RelayRecord'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(){this.$GraphQLSegment1={};this.$GraphQLSegment2={};this.$GraphQLSegment3={};this.$GraphQLSegment4=0;this.$GraphQLSegment5=null;this.$GraphQLSegment6=null;}i.prototype.$GraphQLSegment7=function(j){return this.$GraphQLSegment3[j];};i.prototype.$GraphQLSegment8=function(j){var k=this.$GraphQLSegment2[j];return k&&k[0];};i.prototype.getFirstCursor=function(){if(this.getLength())for(var j=this.$GraphQLSegment5;j<=this.$GraphQLSegment6;j++){var k=this.$GraphQLSegment1[j];if(!k.deleted)return k.cursor;}};i.prototype.getLastCursor=function(){if(this.getLength())for(var j=this.$GraphQLSegment6;j>=this.$GraphQLSegment5;j--){var k=this.$GraphQLSegment1[j];if(!k.deleted)return k.cursor;}};i.prototype.getFirstID=function(){if(this.getLength())for(var j=this.$GraphQLSegment5;j<=this.$GraphQLSegment6;j++){var k=this.$GraphQLSegment1[j];if(!k.deleted)return k.edgeID;}};i.prototype.getLastID=function(){if(this.getLength())for(var j=this.$GraphQLSegment6;j>=this.$GraphQLSegment5;j--){var k=this.$GraphQLSegment1[j];if(!k.deleted)return k.edgeID;}};i.prototype.$GraphQLSegment9=function(j){var k=this.$GraphQLSegment1[j];return k&&!k.deleted?k:null;};i.prototype.containsEdgeWithID=function(j){var k=this.$GraphQLSegment8(j);if(k===undefined)return false;return !!this.$GraphQLSegment9(k);};i.prototype.containsEdgeWithCursor=function(j){var k=this.$GraphQLSegment7(j);if(k===undefined)return false;return !!this.$GraphQLSegment9(k);};i.prototype.getMetadataAfterCursor=function(j,k){if(!this.getLength())return {edgeIDs:[],cursors:[]};var l=this.$GraphQLSegment5;if(k){var m=this.$GraphQLSegment7(k);if(m===undefined)return {edgeIDs:[],cursors:[]};l=m+1;}var n=0,o=[],p=[];while(l<=this.$GraphQLSegment6&&n<j){var q=this.$GraphQLSegment1[l];if(!q.deleted){o.push(q.edgeID);p.push(q.cursor);n++;}l++;}return {edgeIDs:o,cursors:p};};i.prototype.getMetadataBeforeCursor=function(j,k){if(!this.getLength())return {edgeIDs:[],cursors:[]};var l=this.$GraphQLSegment6;if(k){var m=this.$GraphQLSegment7(k);if(m===undefined)return {edgeIDs:[],cursors:[]};l=m-1;}var n=0,o=[],p=[];while(l>=this.$GraphQLSegment5&&n<j){var q=this.$GraphQLSegment1[l];if(!q.deleted){o.push(q.edgeID);p.push(q.cursor);n++;}l--;}return {edgeIDs:o.reverse(),cursors:p.reverse()};};i.prototype.$GraphQLSegment10=function(j,k){var l=h.getDataID(j),m=j.cursor,n=this.$GraphQLSegment8(l);if(n!==undefined&&this.$GraphQLSegment9(n))return;if(this.getLength()===0){this.$GraphQLSegment5=k;this.$GraphQLSegment6=k;}else if(this.$GraphQLSegment5==k+1){this.$GraphQLSegment5=k;}else if(this.$GraphQLSegment6==k-1){this.$GraphQLSegment6=k;}else return;this.$GraphQLSegment1[k]={edgeID:l,cursor:m,deleted:false};this.$GraphQLSegment2[l]=this.$GraphQLSegment2[l]||[];this.$GraphQLSegment2[l].unshift(k);this.$GraphQLSegment4++;if(m)this.$GraphQLSegment3[m]=k;};i.prototype.prependEdge=function(j){this.$GraphQLSegment10(j,this.$GraphQLSegment5!==null?this.$GraphQLSegment5-1:0);};i.prototype.appendEdge=function(j){this.$GraphQLSegment10(j,this.$GraphQLSegment6!==null?this.$GraphQLSegment6+1:0);};i.prototype.removeEdge=function(j){var k=this.$GraphQLSegment8(j);if(k===undefined)return;var l=this.$GraphQLSegment1[k];if(l.deleted)return;l.deleted=true;this.$GraphQLSegment4--;};i.prototype.removeAllEdges=function(j){var k=this.$GraphQLSegment2[j];if(!k)return;for(var l=0;l<k.length;l++){var m=this.$GraphQLSegment1[k[l]];if(!m.deleted){m.deleted=true;this.$GraphQLSegment4--;}}};i.prototype.addEdgesAfterCursor=function(j,k){if(!j.length)return;var l=-1;if(k){l=this.$GraphQLSegment7(k);if(l===undefined)return;}while(this.$GraphQLSegment6!==null&&l<this.$GraphQLSegment6){var m=this.$GraphQLSegment1[l+1];if(m.deleted){l++;}else return;}var n=l+1;for(var o=0;o<j.length;o++){var p=j[o];this.$GraphQLSegment10(p,n+o);}};i.prototype.addEdgesBeforeCursor=function(j,k){if(!j.length)return;var l=1;if(k){l=this.$GraphQLSegment7(k);if(l===undefined)return;}while(this.$GraphQLSegment5!==null&&l>this.$GraphQLSegment5){var m=this.$GraphQLSegment1[l-1];if(m.deleted){l--;}else return;}var n=l-1;for(var o=0;o<j.length;o++){var p=j[j.length-o-1];this.$GraphQLSegment10(p,n-o);}};i.prototype.getLength=function(){if(this.$GraphQLSegment5===null&&this.$GraphQLSegment6===null)return 0;return this.$GraphQLSegment6-this.$GraphQLSegment5+1;};i.prototype.getCount=function(){return this.$GraphQLSegment4;};i.prototype.$GraphQLSegment11=function(j,k,l){Object.assign(this.$GraphQLSegment3,j);Object.assign(this.$GraphQLSegment2,k);this.$GraphQLSegment4=l.count;this.$GraphQLSegment6=l.maxIndex;this.$GraphQLSegment5=l.minIndex;};i.prototype.$GraphQLSegment12=function(){return {count:this.$GraphQLSegment4,maxIndex:this.$GraphQLSegment6,minIndex:this.$GraphQLSegment5};};i.prototype.concatSegment=function(j){if(!j.getLength())return true;var k={},l={},m=this.$GraphQLSegment12(),n=j.$GraphQLSegment1;for(var o=j.$GraphQLSegment5;o<=j.$GraphQLSegment6;o++){var p;if(this.getLength()){p=this.$GraphQLSegment6+1;}else{p=0;this.$GraphQLSegment5=0;}this.$GraphQLSegment6=p;var q=n[o],r=this.$GraphQLSegment8(q.edgeID);if(!k.hasOwnProperty(q.edgeID))if(this.$GraphQLSegment2[q.edgeID]){k[q.edgeID]=this.$GraphQLSegment2[q.edgeID].slice();}else k[q.edgeID]=undefined;if(r!==undefined){var s=this.$GraphQLSegment1[r];if(s.deleted&&!q.deleted){this.$GraphQLSegment2[q.edgeID].unshift(p);}else if(!q.deleted){this.$GraphQLSegment11(l,k,m);return false;}else{this.$GraphQLSegment2[q.edgeID]=this.$GraphQLSegment2[q.edgeID]||[];this.$GraphQLSegment2[q.edgeID].push(p);}}else{this.$GraphQLSegment2[q.edgeID]=this.$GraphQLSegment2[q.edgeID]||[];this.$GraphQLSegment2[q.edgeID].unshift(p);}var t=this.$GraphQLSegment7(q.cursor);if(t!==undefined){var u=this.$GraphQLSegment1[t];if(u.deleted&&!q.deleted){l[q.cursor]=this.$GraphQLSegment3[q.cursor];this.$GraphQLSegment3[q.cursor]=p;}else if(!q.deleted){this.$GraphQLSegment11(l,k,m);return false;}}else if(q.cursor){l[q.cursor]=this.$GraphQLSegment3[q.cursor];this.$GraphQLSegment3[q.cursor]=p;}if(!q.deleted)this.$GraphQLSegment4++;this.$GraphQLSegment1[p]=Object.assign({},q);}return true;};i.prototype.toJSON=function(){return [this.$GraphQLSegment1,this.$GraphQLSegment2,this.$GraphQLSegment3,this.$GraphQLSegment5,this.$GraphQLSegment6,this.$GraphQLSegment4];};i.fromJSON=function(j){var k=j[0],l=j[1],m=j[2],n=j[3],o=j[4],p=j[5],q=new i();q.$GraphQLSegment1=k;q.$GraphQLSegment2=l;q.$GraphQLSegment3=m;q.$GraphQLSegment5=n;q.$GraphQLSegment6=o;q.$GraphQLSegment4=p;return q;};i.prototype.__debug=function(){return {metadata:this.$GraphQLSegment1,idToIndices:this.$GraphQLSegment2,cursorToIndex:this.$GraphQLSegment3};};i.prototype.getEdgeIDs=function(){return Object.keys(this.$GraphQLSegment2);};f.exports=i;},null);
__d('rangeOperationToMetadataKey',['GraphQLMutatorConstants','mapObject'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j='__rangeOperation',k='__',l=i(h.RANGE_OPERATIONS,function(m,n,o){var p=n[0].toUpperCase()+n.slice(1);return (j+p+k);});f.exports=Object.freeze(l);},null);
__d('GraphQLRange',['GraphQLMutatorConstants','GraphQLSegment','RelayConnectionInterface','RelayRecord','forEachObject','invariant','rangeOperationToMetadataKey','serializeRelayQueryCall','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=j.END_CURSOR,r=j.HAS_NEXT_PAGE,s=j.HAS_PREV_PAGE,t=j.START_CURSOR;function u(ca){var da={};for(var ea=0;ea<ca.length;ea++)if(j.isConnectionCall(ca[ea])){var fa=ca[ea],ga=fa.name,ha=fa.value;if(Array.isArray(ha)&&ha.length)ha=ha[0];if(ha===null)continue;da[ga]=ha;}if(da.first){!!isNaN(da.first)?m(0):undefined;da.first=+da.first;}else if(da.last){!!isNaN(da.last)?m(0):undefined;da.last=+da.last;}return da;}function v(ca){return ca.hasOwnProperty('surrounds')||ca.hasOwnProperty('find');}function w(ca){var da=ca.hasOwnProperty('first'),ea=ca.hasOwnProperty('last');return (da||ea)&&!(da&&ea);}function x(ca){return ca.hasOwnProperty('first')&&ca.first>0||ca.hasOwnProperty('last')&&ca.last>0;}function y(ca){!(k.getDataID(ca)!==undefined)?m(0):undefined;!(ca.node!==undefined)?m(0):undefined;}function z(ca){ca.forEach(y);}function aa(){this.reset();}aa.prototype.reset=function(){this.$GraphQLRange1=[new i(),new i()];this.$GraphQLRange2={};this.$GraphQLRange3=false;this.$GraphQLRange4=false;};aa.prototype.$GraphQLRange5=function(ca){!(ca>=0&&ca<this.$GraphQLRange1.length)?m(0):undefined;this.$GraphQLRange1[ca]=new i();};aa.prototype.$GraphQLRange6=function(ca){for(var da=0;da<this.$GraphQLRange1.length;da++)if(this.$GraphQLRange1[da].containsEdgeWithCursor(ca))return da;return null;};aa.prototype.$GraphQLRange7=function(ca){for(var da=0;da<this.$GraphQLRange1.length;da++)if(this.$GraphQLRange1[da].containsEdgeWithID(ca))return da;return null;};aa.prototype.$GraphQLRange8=function(ca,da){var ea=ba(ca),fa=[],ga=[];for(var ha=0;ha<da.length;ha++){var ia=da[ha];fa.push(k.getDataID(ia));ga.push(ia.cursor);}this.$GraphQLRange2[ea]={edgeIDs:fa,cursors:ga};};aa.prototype.addItems=function(ca,da,ea){z(da);var fa=u(ca),ga,ha;if(v(fa)){this.$GraphQLRange8(ca,da);return;}if(!w(fa))return;if(fa.before===null||fa.after===null)return;if(fa.first){if(fa.before&&!fa.after){if(ea[r]===true){if(this.$GraphQLRange6(fa.before)===0)this.$GraphQLRange1.unshift(new i());this.$GraphQLRange9(da,ea[r],undefined,fa.before);}else this.$GraphQLRange10(da,ea[s],fa.before);}else{if(!fa.after){ha=0;ga=this.getFirstSegment().getCount();if(ga&&(fa.first>ga||da.length>ga)&&!this.getFirstSegment().getFirstCursor())this.$GraphQLRange5(ha);}this.$GraphQLRange9(da,ea[r],fa.after,fa.before);}}else if(fa.last)if(fa.after&&!fa.before){if(ea[s]===true){if(this.$GraphQLRange6(fa.after)===this.$GraphQLRange1.length-1)this.$GraphQLRange1.push(new i());this.$GraphQLRange10(da,ea[s],undefined,fa.after);}else this.$GraphQLRange9(da,ea[r],fa.after);}else{if(!fa.before){ha=this.$GraphQLRange1.length-1;ga=this.getLastSegment().getCount();if(ga&&(fa.last>ga||da.length>ga)&&!this.getLastSegment().getLastCursor())this.$GraphQLRange5(ha);}this.$GraphQLRange10(da,ea[s],fa.before,fa.after);}};aa.prototype.getFirstSegment=function(){return this.$GraphQLRange1[0];};aa.prototype.getLastSegment=function(){return this.$GraphQLRange1[this.$GraphQLRange1.length-1];};aa.prototype.$GraphQLRange11=function(ca){!(ca+1<this.$GraphQLRange1.length&&ca>=0)?m(0):undefined;var da=this.$GraphQLRange1[ca],ea=this.$GraphQLRange1[ca+1];if(da.concatSegment(ea))this.$GraphQLRange1.splice(ca+1,1);};aa.prototype.prependEdge=function(ca){y(ca);this.$GraphQLRange3=true;this.$GraphQLRange12(ca);var da=this.getFirstSegment();da.prependEdge(ca);};aa.prototype.appendEdge=function(ca){y(ca);this.$GraphQLRange4=true;this.$GraphQLRange12(ca);var da=this.getLastSegment();da.appendEdge(ca);};aa.prototype.$GraphQLRange12=function(ca){var da=k.getDataID(ca),ea=this.$GraphQLRange7(da);if(ea!=null)this.$GraphQLRange1[ea].removeEdge(da);};aa.prototype.$GraphQLRange13=function(ca){for(var da=0;da<ca.length;da++)this.$GraphQLRange12(ca[da]);};aa.prototype.$GraphQLRange9=function(ca,da,ea,fa){var ga,ha,ia;if(ea!==undefined){ha=this.$GraphQLRange6(ea);if(ha==null){p(false,'GraphQLRange cannot find a segment that has the cursor: %s',ea);return;}ga=this.$GraphQLRange1[ha];ia=ga.getLastCursor();if(ia!==ea){ca=this.$GraphQLRange14(ga,ca,ea);ea=ia;if(!ca)return;}}else{ha=0;ga=this.$GraphQLRange1[ha];ia=ga.getLastCursor();if(ia!==undefined){ca=this.$GraphQLRange14(ga,ca);ea=ia;if(!ca)return;}}if(fa!==undefined)if(ha===this.$GraphQLRange1.length-1){return;}else if(this.$GraphQLRange1[ha+1].getFirstCursor()!==fa){p(false,'GraphQLRange cannot add because beforeCursor does not match first '+'cursor of the next segment');return;}if(ea===undefined)this.$GraphQLRange3=true;this.$GraphQLRange13(ca);ga.addEdgesAfterCursor(ca,ea);if(!da)if(fa!==undefined){this.$GraphQLRange11(ha);}else{this.$GraphQLRange4=true;this.$GraphQLRange1.splice(ha+1,this.$GraphQLRange1.length-1-ha);}};aa.prototype.$GraphQLRange14=function(ca,da,ea){var fa=ca.getMetadataAfterCursor(da.length+1,ea),ga=fa.edgeIDs;if(ga.length>da.length)return undefined;for(var ha=0;ha<ga.length;ha++)if(ga[ha]!==k.getDataID(da[ha])){p(false,'Relay was unable to reconcile edges on a connection. This most '+'likely occurred while trying to handle a server response that '+'includes connection edges with nodes that lack an `id` field.');return undefined;}return da.slice(ga.length);};aa.prototype.$GraphQLRange10=function(ca,da,ea,fa){var ga,ha,ia;if(ea!==undefined){ha=this.$GraphQLRange6(ea);if(ha==null){p(false,'GraphQLRange cannot find a segment that has the cursor: %s',ea);return;}ga=this.$GraphQLRange1[ha];ia=ga.getFirstCursor();if(ia!==ea){ca=this.$GraphQLRange15(ga,ca,ea);ea=ia;if(!ca)return;}}else{ha=this.$GraphQLRange1.length-1;ga=this.$GraphQLRange1[ha];ia=ga.getFirstCursor();if(ia!==undefined){ca=this.$GraphQLRange15(ga,ca,ea);ea=ia;if(!ca)return;}}if(fa!==undefined)if(ha===0){return;}else if(this.$GraphQLRange1[ha-1].getLastCursor()!==fa){p(false,'GraphQLRange cannot add because afterCursor does not match last '+'cursor of the previous segment');return;}if(ea===undefined)this.$GraphQLRange4=true;this.$GraphQLRange13(ca);ga.addEdgesBeforeCursor(ca,ea);if(!da)if(fa!==undefined){this.$GraphQLRange11(ha-1);}else{this.$GraphQLRange3=true;this.$GraphQLRange1.splice(0,ha);}};aa.prototype.$GraphQLRange15=function(ca,da,ea){var fa=ca.getMetadataBeforeCursor(da.length+1,ea),ga=fa.edgeIDs;if(ga.length>da.length)return undefined;for(var ha=1;ha<=ga.length;ha++)if(ga[ga.length-ha]!==k.getDataID(da[da.length-ha])){p(false,'Relay was unable to reconcile edges on a connection. This most '+'likely occurred while trying to handle a server response that '+'includes connection edges with nodes that lack an `id` field.');return undefined;}return da.slice(0,da.length-ga.length);};aa.prototype.removeEdgeWithID=function(ca){for(var da=0;da<this.$GraphQLRange1.length;da++)this.$GraphQLRange1[da].removeAllEdges(ca);};aa.prototype.retrieveRangeInfoForQuery=function(ca,da){var ea=u(ca);if(v(ea))return this.$GraphQLRange16(ca);if(!w(ea))return {requestedEdgeIDs:[],diffCalls:[],pageInfo:j.getDefaultPageInfo()};if(ea.first&&ea.before||ea.last&&ea.after)return {requestedEdgeIDs:[],diffCalls:[],pageInfo:j.getDefaultPageInfo()};if(!x(ea))return {requestedEdgeIDs:[],diffCalls:[],pageInfo:j.getDefaultPageInfo()};if(ea.first){return this.$GraphQLRange17(ca,da);}else if(ea.last)return this.$GraphQLRange18(ca,da);};aa.prototype.$GraphQLRange16=function(ca){var da=ba(ca),ea=this.$GraphQLRange2[da];if(ea){var fa;return {requestedEdgeIDs:ea.edgeIDs,diffCalls:[],pageInfo:(fa={},fa[t]=ea.cursors[0],fa[q]=ea.cursors[ea.cursors.length-1],fa[r]=true,fa[s]=true,fa)};}return {requestedEdgeIDs:[],diffCalls:ca,pageInfo:j.getDefaultPageInfo()};};aa.prototype.$GraphQLRange19=function(ca){return ca[n[h.APPEND]];};aa.prototype.$GraphQLRange20=function(ca){return ca[n[h.REMOVE]];};aa.prototype.$GraphQLRange21=function(ca){return ca[n[h.PREPEND]];};aa.prototype.$GraphQLRange17=function(ca,da){var ea=undefined,fa=undefined,ga=undefined;if(da){ea=this.$GraphQLRange19(da);fa=this.$GraphQLRange21(da);ga=this.$GraphQLRange20(da);}var ha=u(ca),ia=ha.first+(ga?ga.length:0),ja,ka,la=babelHelpers['extends']({},j.getDefaultPageInfo()),ma=ha.after;if(ma!==undefined){ka=this.$GraphQLRange6(ma);if(ka==null)return {requestedEdgeIDs:[],diffCalls:[],pageInfo:la};ja=this.$GraphQLRange1[ka];}else{var na=fa?fa.length:0;ia-=na;ka=0;ja=this.$GraphQLRange1[ka];}var oa=ja.getMetadataAfterCursor(ia,ma),pa=oa.edgeIDs,qa=oa.cursors,ra=[];if(qa.length){la[t]=qa[0];la[q]=qa[qa.length-1];}var sa=pa[pa.length-1];if(!this.$GraphQLRange4||ka!==this.$GraphQLRange1.length-1||sa&&sa!==ja.getLastID()){la[r]=true;if(pa.length<ia){ia-=pa.length;var ta=ja.getLastCursor();if(ta===null){ra.push({name:'first',value:ha.first});}else{if(ta!==undefined)ra.push({name:'after',value:ta});if(ka!==this.$GraphQLRange1.length-1){var ua=this.$GraphQLRange1[ka+1],va=ua.getFirstCursor();if(va!==undefined)ra.push({name:'before',value:va});}ra.push({name:'first',value:ia});}}}if(da){if(fa&&fa.length&&!ha.after)pa=fa.concat(pa);if(ea&&ea.length&&!la[r])pa=pa.concat(ea);if(ga&&ga.length)pa=pa.filter(function(wa){return ga.indexOf(wa)==-1;});if(pa.length>ha.first)pa=pa.slice(0,ha.first);}return {requestedEdgeIDs:pa,diffCalls:ra,pageInfo:la};};aa.prototype.$GraphQLRange18=function(ca,da){var ea=undefined,fa=undefined,ga=undefined;if(da){ea=this.$GraphQLRange19(da);fa=this.$GraphQLRange21(da);ga=this.$GraphQLRange20(da);}var ha=u(ca),ia=ha.last+(ga?ga.length:0),ja,ka,la=babelHelpers['extends']({},j.getDefaultPageInfo()),ma=ha.before;if(ma!==undefined){ka=this.$GraphQLRange6(ma);if(ka==null)return {requestedEdgeIDs:[],diffCalls:[],pageInfo:la};ja=this.$GraphQLRange1[ka];}else{var na=ea?ea.length:0;ia-=na;ka=this.$GraphQLRange1.length-1;ja=this.$GraphQLRange1[ka];}var oa=ja.getMetadataBeforeCursor(ia,ma),pa=oa.edgeIDs,qa=oa.cursors,ra=[];if(qa.length){la[t]=qa[0];la[q]=qa[qa.length-1];}var sa=pa[0];if(!this.$GraphQLRange3||ka!==0||sa&&sa!==ja.getFirstID()){la[s]=true;if(pa.length<ia){ia-=pa.length;var ta=ja.getFirstCursor();if(ta===null){ra.push({name:'last',value:ha.last});}else{if(ta!==undefined)ra.push({name:'before',value:ta});if(ka!==0){var ua=this.$GraphQLRange1[ka-1],va=ua.getLastCursor();if(va!==undefined)ra.push({name:'after',value:va});}ra.push({name:'last',value:ia});}}}if(da){if(ea&&ea.length&&!ha.before)pa=pa.concat(ea);if(fa&&fa.length&&!la[s])pa=fa.concat(pa);if(ga&&ga.length)pa=pa.filter(function(xa){return ga.indexOf(xa)==-1;});if(pa.length>ha.last){var wa=pa.length;pa=pa.slice(wa-ha.last,wa);}}return {requestedEdgeIDs:pa,diffCalls:ra,pageInfo:la};};aa.fromJSON=function(ca){var da=ca[0],ea=ca[1],fa=ca[2],ga=ca[3],ha=new aa();ha.$GraphQLRange3=da;ha.$GraphQLRange4=ea;ha.$GraphQLRange2=fa;ha.$GraphQLRange1=ga.map(function(ia){return i.fromJSON(ia);});return ha;};aa.prototype.toJSON=function(){return [this.$GraphQLRange3,this.$GraphQLRange4,this.$GraphQLRange2,this.$GraphQLRange1];};aa.prototype.__debug=function(){return {orderedSegments:this.$GraphQLRange1};};aa.prototype.getEdgeIDs=function(){var ca=[];this.$GraphQLRange1.forEach(function(da){ca.push.apply(ca,da.getEdgeIDs());});l(this.$GraphQLRange2,function(da){ca.push.apply(ca,da.edgeIDs);});return ca;};function ba(ca){return ca.map(function(da){return o(da).substring(1);}).join(',');}f.exports=aa;},null);
__d('RelayGarbageCollector',['GraphQLRange','RelayQueryPath','RelayRecord','forEachObject','invariant','resolveImmediate','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();function o(p,q){this.$RelayGarbageCollector1=0;this.$RelayGarbageCollector2=[];this.$RelayGarbageCollector3=false;this.$RelayGarbageCollector4=false;this.$RelayGarbageCollector5={};this.$RelayGarbageCollector6=q;this.$RelayGarbageCollector7=p;}o.prototype.register=function(p){if(!this.$RelayGarbageCollector5.hasOwnProperty(p))this.$RelayGarbageCollector5[p]=0;};o.prototype.incrementReferenceCount=function(p){if(!this.$RelayGarbageCollector5.hasOwnProperty(p))this.$RelayGarbageCollector5[p]=0;this.$RelayGarbageCollector5[p]++;};o.prototype.decrementReferenceCount=function(p){if(!this.$RelayGarbageCollector5.hasOwnProperty(p)||this.$RelayGarbageCollector5[p]<=0){n(false,'RelayGarbageCollector: Expected id `%s` be referenced before being '+'unreferenced.',p);this.$RelayGarbageCollector5[p]=0;return;}this.$RelayGarbageCollector5[p]--;};o.prototype.acquireHold=function(){var p=false;this.$RelayGarbageCollector1++;return {release:function(){!!p?l(0):undefined;!(this.$RelayGarbageCollector1>0)?l(0):undefined;p=true;this.$RelayGarbageCollector1--;if(this.$RelayGarbageCollector1===0)this.$RelayGarbageCollector8();}.bind(this)};};o.prototype.collectFromNode=function(p){if(this.$RelayGarbageCollector5[p]===0){this.$RelayGarbageCollector2.push(p);this.$RelayGarbageCollector8();}};o.prototype.collect=function(){k(this.$RelayGarbageCollector5,function(p,q){if(p===0)this.$RelayGarbageCollector2.push(q);}.bind(this));this.$RelayGarbageCollector8();};o.prototype.$RelayGarbageCollector8=function(){if(this.$RelayGarbageCollector4)return;this.$RelayGarbageCollector4=true;m(function(){this.$RelayGarbageCollector4=false;this.$RelayGarbageCollector9();}.bind(this));};o.prototype.$RelayGarbageCollector9=function(){if(this.$RelayGarbageCollector3||this.$RelayGarbageCollector1||!this.$RelayGarbageCollector2.length)return;this.$RelayGarbageCollector3=true;var p=this.$RelayGarbageCollector7.getCachedData(),q=this.$RelayGarbageCollector7.getNodeData();this.$RelayGarbageCollector6(function(){if(this.$RelayGarbageCollector1){this.$RelayGarbageCollector3=false;return false;}var r=this.$RelayGarbageCollector10();if(r){var s=p[r];if(s)this.$RelayGarbageCollector11(s);var t=q[r];if(t)this.$RelayGarbageCollector11(t);this.$RelayGarbageCollector12(r);}this.$RelayGarbageCollector3=!!this.$RelayGarbageCollector2.length;return this.$RelayGarbageCollector3;}.bind(this));};o.prototype.$RelayGarbageCollector10=function(){while(this.$RelayGarbageCollector2.length){var p=this.$RelayGarbageCollector2.shift();if(this.$RelayGarbageCollector5.hasOwnProperty(p)&&this.$RelayGarbageCollector5[p]===0)return p;}return null;};o.prototype.$RelayGarbageCollector11=function(p){k(p,function(q,r){if(q instanceof i){return;}else if(q instanceof h){q.getEdgeIDs().forEach(function(t){if(t!=null)this.$RelayGarbageCollector2.push(t);}.bind(this));}else if(Array.isArray(q)){q.forEach(function(t){if(typeof t==='object'&&t!==null){var u=j.getDataID(t);if(u!=null)this.$RelayGarbageCollector2.push(u);}}.bind(this));}else if(typeof q==='object'&&q!==null){var s=j.getDataID(q);if(s!=null)this.$RelayGarbageCollector2.push(s);}}.bind(this));};o.prototype.$RelayGarbageCollector12=function(p){this.$RelayGarbageCollector7.getQueryTracker().untrackNodesForID(p);this.$RelayGarbageCollector7.getQueuedStore().removeRecord(p);this.$RelayGarbageCollector7.getRangeData().removeRecord(p);delete this.$RelayGarbageCollector5[p];};f.exports=o;},null);
__d('RelayMutationType',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={FIELDS_CHANGE:'FIELDS_CHANGE',NODE_DELETE:'NODE_DELETE',RANGE_ADD:'RANGE_ADD',RANGE_DELETE:'RANGE_DELETE',REQUIRED_CHILDREN:'REQUIRED_CHILDREN'};f.exports=h;},null);
__d('sortTypeFirst',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='__type__';function i(j,k){if(j===k)return 0;if(j===h)return -1;if(k===h)return 1;return 0;}f.exports=i;},null);
__d('flattenRelayQuery',['Map','RelayProfiler','RelayQuery','RelayQueryVisitor','sortTypeFirst'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();function o(r,s){var t=new q(s&&s.shouldRemoveFragments),u={node:r,type:r.getType(),flattenedFieldMap:new h(),flattenedFragmentMap:new h()};t.traverse(r,u);return p(r,u,!!(s&&s.preserveEmptyNodes));}function p(r,s,t){var u=s.flattenedFieldMap,v=s.flattenedFragmentMap,w=[],x=Array.from(u.keys()).sort(l);x.forEach(function(y){var z=u.get(y);if(z)w.push(p(z.node,z,t));});Array.from(v.keys()).forEach(function(y){var z=v.get(y);if(z)w.push(p(z.node,z,t));});if(t&&r.canHaveSubselections()&&!w.length)return r;return r.clone(w);}m=babelHelpers.inherits(q,k);n=m&&m.prototype;function q(r){n.constructor.call(this);this.$RelayQueryFlattener1=!!r;}q.prototype.visitFragment=function(r,s){var t=r.getType();if(this.$RelayQueryFlattener1||t===s.type){this.traverse(r,s);return;}var u=s.flattenedFragmentMap.get(t);if(!u){u={node:r,type:t,flattenedFieldMap:new h(),flattenedFragmentMap:new h()};s.flattenedFragmentMap.set(t,u);}this.traverse(r,u);};q.prototype.visitField=function(r,s){var t=r.getShallowHash(),u=s.flattenedFieldMap.get(t);if(!u){u={node:r,type:r.getType(),flattenedFieldMap:new h(),flattenedFragmentMap:new h()};s.flattenedFieldMap.set(t,u);}this.traverse(r,u);};f.exports=i.instrument('flattenRelayQuery',o);},null);
__d('inferRelayFieldsFromData',['RelayConnectionInterface','RelayNodeInterface','RelayQuery','RelayRecord','forEachObject','invariant','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=/^(\w+)(?:\((.+?)\))?$/,p=/(\w+)(?=\s*:)/,q=/^\w+(?:\.\w+\(.*?\))+$/,r=/^(\w+)\((.*?)\)$/,s=h.NODE,t=h.EDGES,u=i.ANY_TYPE,v=i.ID,w=j.Field.build({fieldName:v,type:'String'}),x=j.Field.build({fieldName:'cursor',type:'String'});function y(ba){var ca=[];l(ba,function(da,ea){if(!k.isMetadataKey(ea))ca.push(z(da,ea));});return ca;}function z(ba,ca){var da={canHaveSubselections:true,isPlural:false},ea=undefined;if(Array.isArray(ba)){var fa=ba[0];if(fa&&typeof fa==='object'){ea=y(fa);}else{da.canHaveSubselections=false;ea=[];}da.isPlural=true;}else if(typeof ba==='object'&&ba!==null){ea=y(ba);}else{da.canHaveSubselections=false;ea=[];}if(ca===s){ea.push(w);}else if(ca===t)ea.push(x);return aa(ca,ea,da);}function aa(ba,ca,da){var ea=ba,fa=null;if(q.test(ba)){n(false,'inferRelayFieldsFromData(): Encountered an optimistic payload with '+'a deprecated field call string, `%s`. Use valid GraphQL OSS syntax.',ba);var ga=ba.split('.');if(ga.length>1){ea=ga.shift();fa=ga.map(function(ja){var ka=ja.match(r);!ka?m(0):undefined;var la=ka[2].split(',');return {name:ka[1],value:la.length===1?la[0]:la};});}}else{var ha=ba.match(o);!ha?m(0):undefined;ea=ha[1];if(ha[2])try{(function(){var ja=JSON.parse('{'+ha[2].replace(p,'"$1"')+'}');fa=Object.keys(ja).map(function(ka){return {name:ka,value:ja[ka]};});})();}catch(ia){m(0);}}return j.Field.build({calls:fa,children:ca,fieldName:ea,metadata:da,type:u});}f.exports=y;},null);
__d('intersectRelayQuery',['RelayConnectionInterface','RelayQuery','RelayQueryTransform','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n,o;if(c.__markCompiled)c.__markCompiled();function p(x,y,z){z=z||u;var aa=new q(z);return aa.traverse(x,y);}l=babelHelpers.inherits(q,j);m=l&&l.prototype;function q(x){m.constructor.call(this);this.$RelayQueryIntersector1=x;}q.prototype.traverse=function(x,y){if(!x.canHaveSubselections())return x;if(!v(y)){if(x instanceof i.Field&&x.isConnection()&&this.$RelayQueryIntersector1(x))return t(x);return x;}return x.clone(x.getChildren().map(function(z){if(z instanceof i.Fragment)return this.visit(z,y);if(z instanceof i.Field){var aa=z.getSchemaName(),ba,ca=y.getChildren();for(var da=0;da<ca.length;da++){var ea=ca[da];!(ea instanceof i.Field)?k(0):undefined;if(ea.getSchemaName()===aa){ba=ea;break;}}if(ba)return this.visit(z,ba);}return null;}.bind(this)));};n=babelHelpers.inherits(r,j);o=n&&n.prototype;r.prototype.visitField=function(x){var y=x.getSchemaName();if(y===h.EDGES||y===h.PAGE_INFO){return null;}else return x;};function r(){n.apply(this,arguments);}var s=new r();function t(x){return s.traverse(x,undefined);}function u(){return false;}function v(x){return !x.getChildren().every(w);}function w(x){return x.isGenerated();}f.exports=p;},null);
__d('RelayMutationQuery',['RelayConnectionInterface','RelayMetaRoute','RelayMutationType','RelayNodeInterface','RelayQuery','RelayRecord','flattenRelayQuery','forEachObject','nullthrows','inferRelayFieldsFromData','intersectRelayQuery','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=h.CLIENT_MUTATION_ID,u=k.ANY_TYPE,v=k.ID,w=k.TYPENAME,x={buildFragmentForFields:function(ea){var fa=ea.fatQuery,ga=ea.fieldIDs,ha=ea.tracker,ia=[];o(ga,function(ja,ka){var la=y(fa,ka),ma=[].concat(ja),na=[];ma.forEach(function(qa){na.push.apply(na,ha.getTrackedChildrenForID(qa));});var oa=la.clone(na);if(oa){var pa=r(oa,la);if(pa)ia.push(pa);}});return z(fa,ia);},buildFragmentForEdgeDeletion:function(ea){var fa=ea.fatQuery,ga=ea.connectionName,ha=ea.parentID,ia=ea.parentName,ja=ea.tracker,ka=y(fa,ia),la=[],ma=ka.clone(ja.getTrackedChildrenForID(ha));if(ma){var na=function(pa){return (pa.getSchemaName()===ga);},oa=r(ma,ka,na);if(oa)la.push(oa);}return z(fa,la);},buildFragmentForEdgeInsertion:function(ea){var fa=ea.fatQuery,ga=ea.connectionName,ha=ea.parentID,ia=ea.edgeName,ja=ea.parentName,ka=ea.rangeBehaviors,la=ea.tracker,ma=la.getTrackedChildrenForID(ha),na=[],oa=[];ma.forEach(function(va){oa.push.apply(oa,da(va,ga));});if(oa.length){var pa={},qa=[];oa.forEach(function(va){var wa=da(va,'edges');if(!wa.length)return;if(va.getRangeBehaviorKey() in ka){wa.forEach(function(xa){qa.push.apply(qa,xa.getChildren());});}else pa[va.getShallowHash()]=true;});if(qa.length)na.push(ba(ha,ia,qa));if(ja!=null){var ra=y(fa,ja),sa=ra.clone(ma);if(sa){var ta=function(va){return (!pa.hasOwnProperty(va.getShallowHash()));},ua=r(sa,ra,ta);if(ua)na.push(ua);}}}return z(fa,na);},buildFragmentForOptimisticUpdate:function(ea){var fa=ea.response,ga=ea.fatQuery,ha=q(fa);return z(ga,ha);},buildQueryForOptimisticUpdate:function(ea){var fa=ea.fatQuery,ga=ea.mutation,ha=ea.response,ia=ea.tracker,ja=[p(x.buildFragmentForOptimisticUpdate({response:ha,fatQuery:fa,tracker:ia}))];return l.Mutation.build('OptimisticQuery',fa.getType(),ga.calls[0].name,null,ja,ga.metadata);},buildQuery:function(ea){var fa=ea.configs,ga=ea.fatQuery,ha=ea.input,ia=ea.mutationName,ja=ea.mutation,ka=ea.tracker,la=[l.Field.build({fieldName:t,type:'String',metadata:{isRequisite:true}})];fa.forEach(function(ma){switch(ma.type){case j.REQUIRED_CHILDREN:la=la.concat(ma.children.map(function(na){return (l.Fragment.create(na,i.get('$buildQuery'),{}));}));break;case j.RANGE_ADD:la.push(x.buildFragmentForEdgeInsertion({connectionName:ma.connectionName,edgeName:ma.edgeName,fatQuery:ga,parentID:ma.parentID,parentName:ma.parentName,rangeBehaviors:ca(ma.rangeBehaviors),tracker:ka}));break;case j.RANGE_DELETE:case j.NODE_DELETE:la.push(x.buildFragmentForEdgeDeletion({connectionName:ma.connectionName,fatQuery:ga,parentID:ma.parentID,parentName:ma.parentName,tracker:ka}));la.push(Array.isArray(ma.deletedIDFieldName)?aa(ma.deletedIDFieldName):l.Field.build({fieldName:ma.deletedIDFieldName,type:'String'}));break;case j.FIELDS_CHANGE:la.push(x.buildFragmentForFields({fatQuery:ga,fieldIDs:ma.fieldIDs,tracker:ka}));break;default:s(0);}});return l.Mutation.build(ia,ga.getType(),ja.calls[0].name,ha,la.filter(function(ma){return ma!=null;}),ja.metadata);}};function y(ea,fa){var ga=ea.getFieldByStorageKey(fa);!ga?s(0):undefined;return ga;}function z(ea,fa){var ga=l.Fragment.build('MutationQuery',ea.getType(),fa);if(ga){!(ga instanceof l.Fragment)?s(0):undefined;return ga;}return null;}function aa(ea){var fa=l.Field.build({fieldName:v,type:'String'});for(var ga=ea.length-1;ga>=0;ga--)fa=l.Field.build({fieldName:ea[ga],type:u,children:[fa],metadata:{canHaveSubselections:true}});return fa;}function ba(ea,fa,ga){var ha=[l.Field.build({fieldName:'cursor',type:'String'}),l.Field.build({fieldName:w,type:'String'})];if(h.EDGES_HAVE_SOURCE_FIELD&&!m.isClientID(ea))ha.push(l.Field.build({children:[l.Field.build({fieldName:v,type:'String'}),l.Field.build({fieldName:w,type:'String'})],fieldName:'source',metadata:{canHaveSubselections:true},type:u}));ha.push.apply(ha,ga);var ia=n(l.Field.build({children:ha,fieldName:fa,metadata:{canHaveSubselections:true},type:u}));!(ia instanceof l.Field)?s(0):undefined;return ia;}function ca(ea){var fa=undefined;o(ea,function(ga,ha){if(ha!==''){var ia=ha.slice(0,-1).split(/\)\./),ja=ia.sort().join(').')+(ia.length?')':'');if(ja!==ha){fa=fa||[];fa.push(ha);}}});if(fa)s(0);return ea;}function da(ea,fa){var ga=[];function ha(ia){if(ia instanceof l.Field)if(ia.getSchemaName()===fa){ga.push(ia);return;}if(ia===ea||ia instanceof l.Fragment)ia.getChildren().forEach(function(ja){return ha(ja);});}ha(ea);return ga;}f.exports=x;},null);
__d('RelayMutationRequest',['Deferred','printRelayQuery'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(m,n){k.constructor.call(this);this.$RelayMutationRequest1=m;this.$RelayMutationRequest2=null;this.$RelayMutationRequest3=n;}l.prototype.getDebugName=function(){return this.$RelayMutationRequest1.getName();};l.prototype.getFiles=function(){return this.$RelayMutationRequest3;};l.prototype.getVariables=function(){var m=this.$RelayMutationRequest2;if(!m){m=i(this.$RelayMutationRequest1);this.$RelayMutationRequest2=m;}return m.variables;};l.prototype.getQueryString=function(){var m=this.$RelayMutationRequest2;if(!m){m=i(this.$RelayMutationRequest1);this.$RelayMutationRequest2=m;}return m.text;};l.prototype.getMutation=function(){return this.$RelayMutationRequest1;};f.exports=l;},null);
__d('fromGraphQL',['RelayQuery','RelayMetaRoute','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={Field:function(m){var n=l(m,h.Field);!(n instanceof h.Field)?j(0):undefined;return n;},Fragment:function(m){var n=l(m,h.Fragment);!(n instanceof h.Fragment)?j(0):undefined;return n;},Query:function(m){var n=l(m,h.Root);!(n instanceof h.Root)?j(0):undefined;return n;},Operation:function(m){var n=l(m,h.Operation);!(n instanceof h.Operation)?j(0):undefined;return n;}};function l(m,n){var o={},p=i.get('$fromGraphQL');return n.create(m,p,o);}f.exports=k;},null);
__d('RelayMutationQueue',['ErrorUtils','QueryBuilder','RelayConnectionInterface','RelayMutationQuery','RelayMutationRequest','RelayMutationTransaction','RelayMutationTransactionStatus','RelayNetworkLayer','RelayQuery','base62','flattenRelayQuery','fromGraphQL','invariant','nullthrows','resolveImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=j.CLIENT_MUTATION_ID,x=0;function y(aa){this.$RelayMutationQueue1={};this.$RelayMutationQueue2={};this.$RelayMutationQueue3=[];this.$RelayMutationQueue4=aa;this.$RelayMutationQueue5=false;}y.prototype.createTransaction=function(aa,ba){var ca=q(x++),da=new m(this,ca),ea=new z({id:ca,mutation:aa,mutationTransaction:da,onFailure:ba&&ba.onFailure,onSuccess:ba&&ba.onSuccess});this.$RelayMutationQueue2[ca]=ea;this.$RelayMutationQueue3.push(ea);this.$RelayMutationQueue6(ea);return da;};y.prototype.getTransaction=function(aa){return this.$RelayMutationQueue7(aa).mutationTransaction;};y.prototype.getError=function(aa){return this.$RelayMutationQueue7(aa).error;};y.prototype.getStatus=function(aa){return this.$RelayMutationQueue7(aa).status;};y.prototype.commit=function(aa){var ba=this.$RelayMutationQueue7(aa),ca=ba.getCollisionKey(),da=ca&&this.$RelayMutationQueue1[ca];if(da){da.push(ba);ba.status=n.COMMIT_QUEUED;ba.error=null;return;}if(ca)this.$RelayMutationQueue1[ca]=[ba];this.$RelayMutationQueue8(ba);};y.prototype.rollback=function(aa){var ba=this.$RelayMutationQueue7(aa);this.$RelayMutationQueue9(ba);};y.prototype.$RelayMutationQueue7=function(aa){var ba=this.$RelayMutationQueue2[aa];!ba?t(0):undefined;return ba;};y.prototype.$RelayMutationQueue6=function(aa){var ba=aa.getOptimisticResponse(),ca=aa.getOptimisticQuery(this.$RelayMutationQueue4);if(ba&&ca){var da=aa.getOptimisticConfigs()||aa.getConfigs();this.$RelayMutationQueue4.handleUpdatePayload(ca,ba,{configs:da,isOptimisticUpdate:true});}};y.prototype.$RelayMutationQueue10=function(aa,ba){var ca=ba?n.COMMIT_FAILED:n.COLLISION_COMMIT_FAILED;aa.status=ca;aa.error=ba;var da=true,ea=aa.onFailure;if(ea){var fa=function(){da=false;};h.applyWithGuard(ea,null,[aa.mutationTransaction,fa],null,'RelayMutationTransaction:onCommitFailure');}if(ba)this.$RelayMutationQueue11(aa);if(da&&this.$RelayMutationQueue2.hasOwnProperty(aa.id))this.$RelayMutationQueue9(aa);this.$RelayMutationQueue12();};y.prototype.$RelayMutationQueue13=function(aa,ba){this.$RelayMutationQueue14(aa);this.$RelayMutationQueue15(aa);this.$RelayMutationQueue16();this.$RelayMutationQueue4.handleUpdatePayload(aa.getQuery(this.$RelayMutationQueue4),ba[aa.getCallName()],{configs:aa.getConfigs(),isOptimisticUpdate:false});var ca=aa.onSuccess;if(ca)h.applyWithGuard(ca,null,[ba],null,'RelayMutationTransaction:onCommitSuccess');};y.prototype.$RelayMutationQueue8=function(aa){aa.status=n.COMMITTING;aa.error=null;var ba=new l(aa.getQuery(this.$RelayMutationQueue4),aa.getFiles());o.sendMutation(ba);ba.getPromise().done(function(ca){return this.$RelayMutationQueue13(aa,ca.response);}.bind(this),function(ca){return this.$RelayMutationQueue10(aa,ca);}.bind(this));};y.prototype.$RelayMutationQueue9=function(aa){this.$RelayMutationQueue15(aa);this.$RelayMutationQueue12();};y.prototype.$RelayMutationQueue15=function(aa){delete this.$RelayMutationQueue2[aa.id];this.$RelayMutationQueue3=this.$RelayMutationQueue3.filter(function(ba){return ba!==aa;});};y.prototype.$RelayMutationQueue14=function(aa){var ba=aa.getCollisionKey();if(ba){var ca=u(this.$RelayMutationQueue1[ba]);ca.shift();if(ca.length){this.$RelayMutationQueue8(ca[0]);}else delete this.$RelayMutationQueue1[ba];}};y.prototype.$RelayMutationQueue11=function(aa){var ba=aa.getCollisionKey();if(ba){var ca=u(this.$RelayMutationQueue1[ba]);ca.shift();ca.forEach(function(da){return this.$RelayMutationQueue10(da,null);}.bind(this));delete this.$RelayMutationQueue1[ba];}};y.prototype.$RelayMutationQueue12=function(){if(!this.$RelayMutationQueue5){this.$RelayMutationQueue5=true;v(function(){this.$RelayMutationQueue5=false;this.$RelayMutationQueue16();}.bind(this));}};y.prototype.$RelayMutationQueue16=function(){this.$RelayMutationQueue4.clearQueuedData();this.$RelayMutationQueue3.forEach(function(aa){return this.$RelayMutationQueue6(aa);}.bind(this));};function z(aa){this.error=null;this.id=aa.id;this.mutation=aa.mutation;this.mutationTransaction=aa.mutationTransaction;this.onFailure=aa.onFailure;this.onSuccess=aa.onSuccess;this.status=n.UNCOMMITTED;}z.prototype.getCallName=function(){if(!this.$PendingTransaction1)this.$PendingTransaction1=this.getMutationNode().calls[0].name;return this.$PendingTransaction1;};z.prototype.getCollisionKey=function(){if(this.$PendingTransaction2===undefined)this.$PendingTransaction2=this.mutation.getCollisionKey()||null;return this.$PendingTransaction2;};z.prototype.getConfigs=function(){if(!this.$PendingTransaction3)this.$PendingTransaction3=this.mutation.getConfigs();return this.$PendingTransaction3;};z.prototype.getFatQuery=function(){if(!this.$PendingTransaction5){var aa=s.Fragment(this.mutation.getFatQuery());!(aa instanceof p.Fragment)?t(0):undefined;this.$PendingTransaction5=u(r(aa,{preserveEmptyNodes:aa.isPattern(),shouldRemoveFragments:true}));}return this.$PendingTransaction5;};z.prototype.getFiles=function(){if(this.$PendingTransaction6===undefined)this.$PendingTransaction6=this.mutation.getFiles()||null;return this.$PendingTransaction6;};z.prototype.getInputVariable=function(){if(!this.$PendingTransaction7){var aa,ba=babelHelpers['extends']({},this.mutation.getVariables(),(aa={},aa[w]=this.id,aa));this.$PendingTransaction7=ba;}return this.$PendingTransaction7;};z.prototype.getMutationNode=function(){if(!this.$PendingTransaction8){var aa=i.getMutation(this.mutation.getMutation());!aa?t(0):undefined;this.$PendingTransaction8=aa;}return this.$PendingTransaction8;};z.prototype.getOptimisticConfigs=function(){if(this.$PendingTransaction11===undefined)this.$PendingTransaction11=this.mutation.getOptimisticConfigs()||null;return this.$PendingTransaction11;};z.prototype.getOptimisticQuery=function(aa){if(this.$PendingTransaction12===undefined){var ba=this.getOptimisticResponse();if(ba){var ca=this.getOptimisticConfigs();if(ca){this.$PendingTransaction12=k.buildQuery({configs:ca,fatQuery:this.getFatQuery(),input:this.getInputVariable(),mutationName:this.mutation.constructor.name,mutation:this.getMutationNode(),tracker:aa.getQueryTracker()});}else this.$PendingTransaction12=k.buildQueryForOptimisticUpdate({response:ba,fatQuery:this.getFatQuery(),mutation:this.getMutationNode(),tracker:aa.getQueryTracker()});}else this.$PendingTransaction12=null;}return this.$PendingTransaction12;};z.prototype.getOptimisticResponse=function(){if(this.$PendingTransaction13===undefined){var aa=this.mutation.getOptimisticResponse()||null;if(aa)aa[w]=this.id;this.$PendingTransaction13=aa;}return this.$PendingTransaction13;};z.prototype.getQuery=function(aa){if(!this.$PendingTransaction14)this.$PendingTransaction14=k.buildQuery({configs:this.getConfigs(),fatQuery:this.getFatQuery(),input:this.getInputVariable(),mutationName:this.getMutationNode().name,mutation:this.getMutationNode(),tracker:aa.getQueryTracker()});return this.$PendingTransaction14;};f.exports=y;},null);
__d('containsRelayQueryRootCall',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k,l){if(k===l)return true;if(j(k.getFieldName())!==j(l.getFieldName()))return false;var m=k.getIdentifyingArg(),n=l.getIdentifyingArg(),o=m&&m.value||null,p=n&&n.value||null;if(o==null&&p==null)return true;if(o==null||p==null)return false;if(Array.isArray(o)){var q=o;if(Array.isArray(p)){return p.every(function(r){return q.indexOf(r)>=0;});}else return o.indexOf(p)>=0;}else if(Array.isArray(p)){return p.every(function(r){return r===o;});}else return p===o;}var i={nodes:'node',usernames:'username'};function j(k){if(i.hasOwnProperty(k))return i[k];return k;}f.exports=h;},null);
__d('fetchRelayQuery',['RelayNetworkLayer','RelayProfiler','RelayQueryRequest','resolveImmediate'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=null;function m(p){if(!l)(function(){l=[];var r=l;k(function(){l=null;o(r);n(r);});})();var q=new j(p);l.push(q);return q.getPromise();}function n(p){h.sendQueries(p);}function o(p){var q=i.profile('fetchRelayQuery');p.forEach(function(r){var s=i.profile('fetchRelayQuery.query'),t=function(){s.stop();if(q){q.stop();q=null;}};r.getPromise().done(t,t);});}f.exports=m;},null);
__d('subtractRelayQuery',['RelayProfiler','RelayQuery','RelayQueryTransform','areEqual','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();function o(u,v){var w=new p(),x={isEmpty:true,subtrahend:v},y=w.visit(u,x);if(!x.isEmpty){!(y instanceof i.Root)?l(0):undefined;return y;}return null;}m=babelHelpers.inherits(p,j);n=m&&m.prototype;p.prototype.visitRoot=function(u,v){var w=v.subtrahend;!(w instanceof i.Root)?l(0):undefined;if(!r(u,w)){v.isEmpty=false;return u;}return this.$RelayQuerySubtractor1(u,v);};p.prototype.visitFragment=function(u,v){return this.$RelayQuerySubtractor1(u,v);};p.prototype.visitField=function(u,v){var w;if(!u.canHaveSubselections()){w=this.$RelayQuerySubtractor2(u,v);}else if(u.isConnection()){w=this.$RelayQuerySubtractor3(u,v);}else w=this.$RelayQuerySubtractor4(u,v);if(w&&(w.isRequisite()||!v.isEmpty))return w;return null;};p.prototype.$RelayQuerySubtractor2=function(u,v){var w=v.subtrahend.getField(u);if(w&&!u.isRequisite())return null;v.isEmpty=q(u);return u;};p.prototype.$RelayQuerySubtractor3=function(u,v){var w=s(u,v.subtrahend);if(!w.length){v.isEmpty=q(u);return u;}var x=u,y;for(var z=0;z<w.length;z++){y={isEmpty:true,subtrahend:w[z]};x=this.$RelayQuerySubtractor1(x,y);v.isEmpty=y.isEmpty;if(!x)break;}return x;};p.prototype.$RelayQuerySubtractor4=function(u,v){var w=v.subtrahend.getField(u);if(!w){v.isEmpty=q(u);return u;}var x={isEmpty:true,subtrahend:w},y=this.$RelayQuerySubtractor1(u,x);v.isEmpty=x.isEmpty;return y;};p.prototype.$RelayQuerySubtractor1=function(u,v){return u.clone(u.getChildren().map(function(w){var x={isEmpty:true,subtrahend:v.subtrahend},y=this.visit(w,x);v.isEmpty=v.isEmpty&&x.isEmpty;return y;}.bind(this)));};function p(){m.apply(this,arguments);}function q(u){if(u instanceof i.Field&&!u.canHaveSubselections()){return (u.isRequisite()&&!u.isRefQueryDependency()&&u.getApplicationName()===u.getSchemaName());}else return u.getChildren().every(q);}function r(u,v){var w=u.getIdentifyingArg(),x=v.getIdentifyingArg();return (u.getFieldName()===v.getFieldName()&&k(w,x));}function s(u,v){return v.getChildren().filter(function(w){return w instanceof i.Field&&t(u,w);});}function t(u,v){if(u.getSchemaName()!==v.getSchemaName())return false;var w=u.getCallsWithValues(),x=v.getCallsWithValues();if(w.length!==x.length)return false;return w.every(function(y,z){var aa=x[z];if(aa==null)return false;if(y.name!==aa.name)return false;if(y.name==='first'||y.name==='last')return parseInt(''+y.value,10)<=parseInt(''+aa.value,10);return k(y.value,aa.value);});}f.exports=h.instrument('subtractRelayQuery',o);},null);
__d('RelayPendingQueryTracker',['Promise','Deferred','PromiseMap','RelayFetchMode','RelayTaskScheduler','containsRelayQueryRootCall','everyObject','fetchRelayQuery','invariant','subtractRelayQuery'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();function r(u){this.$RelayPendingQueryTracker1={};this.$RelayPendingQueryTracker2=new j();this.$RelayPendingQueryTracker3=u;}r.prototype.add=function(u){return new s(u,{pendingFetchMap:this.$RelayPendingQueryTracker1,preloadQueryMap:this.$RelayPendingQueryTracker2,storeData:this.$RelayPendingQueryTracker3});};r.prototype.hasPendingQueries=function(){return t(this.$RelayPendingQueryTracker1);};r.prototype.resetPending=function(){this.$RelayPendingQueryTracker1={};};r.prototype.resolvePreloadQuery=function(u,v){this.$RelayPendingQueryTracker2.resolveKey(u,v);};r.prototype.rejectPreloadQuery=function(u,v){this.$RelayPendingQueryTracker2.rejectKey(u,v);};function s(u,v){var w=u.fetchMode,x=u.forceIndex,y=u.query,z=v.pendingFetchMap,aa=v.preloadQueryMap,ba=v.storeData,ca=y.getID();this.$PendingFetch5=[];this.$PendingFetch4=x;this.$PendingFetch6={};this.$PendingFetch1=z;this.$PendingFetch2=aa;this.$PendingFetch3=y;this.$PendingFetch10=new i();this.$PendingFetch9=false;this.$PendingFetch11=ba;var da;if(w===k.PRELOAD){da=y;this.$PendingFetch8=this.$PendingFetch2.get(ca);}else{da=this.$PendingFetch13(y);this.$PendingFetch8=da?o(da):h.resolve();}this.$PendingFetch7=!da;this.$PendingFetch12=[];if(da){this.$PendingFetch1[ca]={fetch:this,query:da};this.$PendingFetch8.done(this.$PendingFetch14.bind(this,da),this.$PendingFetch15.bind(this,da));}else this.$PendingFetch16();}s.prototype.isResolvable=function(){if(this.$PendingFetch7)return n(this.$PendingFetch6,function(u){return u.$PendingFetch7;});return false;};s.prototype.getQuery=function(){return this.$PendingFetch3;};s.prototype.getResolvedPromise=function(){return this.$PendingFetch10.getPromise();};s.prototype.$PendingFetch13=function(u){n(this.$PendingFetch1,function(v){if(!u)return false;if(m(v.query,u)){var w=q(u,v.query);if(w!==u){u=w;this.$PendingFetch17(v.fetch);}}return true;}.bind(this));return u;};s.prototype.$PendingFetch17=function(u){var v=u.getQuery().getID();this.$PendingFetch6[v]=u;u.$PendingFetch18(this);};s.prototype.$PendingFetch18=function(u){this.$PendingFetch5.push(u);};s.prototype.$PendingFetch14=function(u,v){this.$PendingFetch7=true;l.enqueue(function(){var w=v.response;!(w&&typeof w==='object')?p(0):undefined;this.$PendingFetch11.handleQueryPayload(u,w,this.$PendingFetch4);}.bind(this)).done(this.$PendingFetch16.bind(this),this.$PendingFetch19.bind(this));};s.prototype.$PendingFetch15=function(u,v){this.$PendingFetch19(v);};s.prototype.$PendingFetch16=function(){var u=this.getQuery().getID();delete this.$PendingFetch1[u];this.$PendingFetch9=true;this.$PendingFetch20();this.$PendingFetch5.forEach(function(v){return (v.$PendingFetch21(u));});};s.prototype.$PendingFetch19=function(u){var v=this.getQuery().getID();delete this.$PendingFetch1[v];this.$PendingFetch12.push(u);this.$PendingFetch20();this.$PendingFetch5.forEach(function(w){return (w.$PendingFetch22(v,u));});};s.prototype.$PendingFetch21=function(u){delete this.$PendingFetch6[u];this.$PendingFetch20();};s.prototype.$PendingFetch22=function(u,v){delete this.$PendingFetch6[u];this.$PendingFetch12.push(v);this.$PendingFetch20();};s.prototype.$PendingFetch20=function(){if(this.$PendingFetch23()&&!this.$PendingFetch10.isSettled())if(this.$PendingFetch12.length){this.$PendingFetch10.reject(this.$PendingFetch12[0]);}else this.$PendingFetch10.resolve(undefined);};s.prototype.$PendingFetch23=function(){return this.$PendingFetch12.length>0||this.$PendingFetch9&&!t(this.$PendingFetch6);};function t(u){return !!Object.keys(u).length;}f.exports=r;},null);
__d('RelayQueryTracker',['RelayNodeInterface','RelayQuery','RelayRecord','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l='__type__';function m(){this.$RelayQueryTracker1={};}m.prototype.trackNodeForID=function(n,o,p){if(j.isClientID(o)){!p?k(0):undefined;if(!p.isRootPath())return;}if(n instanceof i.Field&&n.getSchemaName()===l)return;this.$RelayQueryTracker1[o]=this.$RelayQueryTracker1[o]||{trackedNodes:[],isMerged:false};this.$RelayQueryTracker1[o].trackedNodes.push(n);this.$RelayQueryTracker1[o].isMerged=false;};m.prototype.getTrackedChildrenForID=function(n){var o=this.$RelayQueryTracker1[n];if(!o)return [];var p=o.isMerged,q=o.trackedNodes;if(!p)(function(){var s=[];q.forEach(function(u){s.push.apply(s,u.getChildren());});q.length=0;o.isMerged=true;var t=i.Fragment.build('RelayQueryTracker',h.NODE_TYPE,s);if(t)q.push(t);})();var r=q[0];if(r)return r.getChildren();return [];};m.prototype.untrackNodesForID=function(n){delete this.$RelayQueryTracker1[n];};f.exports=m;},null);
__d('generateClientEdgeID',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){return 'client:'+i+':'+j;}f.exports=h;},null);
__d('RelayQueryWriter',['RelayQuery','RelayConnectionInterface','RelayNodeInterface','RelayQueryVisitor','RelayRecordState','generateClientEdgeID','generateClientID','invariant','isCompatibleRelayFragmentType','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';var r,s;if(c.__markCompiled)c.__markCompiled();var t=j.ANY_TYPE,u=j.ID,v=j.TYPENAME,w=i.EDGES,x=i.NODE,y=i.PAGE_INFO;r=babelHelpers.inherits(z,k);s=r&&r.prototype;function z(aa,ba,ca,da,ea){s.constructor.call(this);this.$RelayQueryWriter1=da;this.$RelayQueryWriter2=ea&&ea.forceIndex?ea.forceIndex:0;this.$RelayQueryWriter3=!!(ea&&ea.isOptimisticUpdate);this.$RelayQueryWriter4=aa;this.$RelayQueryWriter5=ca;this.$RelayQueryWriter6=!!(ea&&ea.updateTrackedQueries);this.$RelayQueryWriter7=ba;}z.prototype.getRecordStore=function(){return this.$RelayQueryWriter4;};z.prototype.getRecordWriter=function(){return this.$RelayQueryWriter7;};z.prototype.getRecordTypeName=function(aa,ba,ca){if(this.$RelayQueryWriter3)return null;var da=ca[v];if(da==null&&!aa.isAbstract())da=aa.getType();q(da&&da!==t,'RelayQueryWriter: Could not find a type name for record `%s`.',ba);return da||null;};z.prototype.writePayload=function(aa,ba,ca,da){var ea={nodeID:null,path:da,recordID:ba,responseData:ca};if(aa instanceof h.Field&&aa.canHaveSubselections()){aa.getChildren().forEach(function(fa){this.visit(fa,ea);}.bind(this));return;}this.visit(aa,ea);};z.prototype.recordCreate=function(aa){this.$RelayQueryWriter1.createID(aa);};z.prototype.recordUpdate=function(aa){this.$RelayQueryWriter1.updateID(aa);};z.prototype.hasChangeToRecord=function(aa){return this.$RelayQueryWriter1.hasChange(aa);};z.prototype.isNewRecord=function(aa){return this.$RelayQueryWriter1.isNewRecord(aa);};z.prototype.createRecordIfMissing=function(aa,ba,ca,da){var ea=this.$RelayQueryWriter4.getRecordState(ba);this.$RelayQueryWriter7.putRecord(ba,ca,da);if(ea!==l.EXISTENT)this.recordCreate(ba);if(this.isNewRecord(ba)||this.$RelayQueryWriter6)this.$RelayQueryWriter5.trackNodeForID(aa,ba,da);};z.prototype.visitRoot=function(aa,ba){var ca=ba.path,da=ba.recordID,ea=ba.responseData,fa=this.$RelayQueryWriter4.getRecordState(da);if(ea==null){!(ea!==undefined)?o(0):undefined;this.$RelayQueryWriter7.deleteRecord(da);if(fa===l.EXISTENT)this.recordUpdate(da);return;}!(typeof ea==='object'&&ea!==null)?o(0):undefined;var ga=this.getRecordTypeName(aa,da,ea);this.createRecordIfMissing(aa,da,ga,ca);this.traverse(aa,ba);};z.prototype.visitFragment=function(aa,ba){var ca=ba.recordID;if(aa.isDeferred()){this.$RelayQueryWriter7.setHasDeferredFragmentData(ca,aa.getCompositeHash());this.recordUpdate(ca);}if(this.$RelayQueryWriter3||p(aa,this.$RelayQueryWriter4.getType(ca))){var da=ba.path.getPath(aa,ca);this.traverse(aa,babelHelpers['extends']({},ba,{path:da}));}};z.prototype.visitField=function(aa,ba){var ca=ba.recordID,da=ba.responseData;!(this.$RelayQueryWriter7.getRecordState(ca)===l.EXISTENT)?o(0):undefined;!(typeof da==='object'&&da!==null)?o(0):undefined;var ea=da[aa.getSerializationKey()];if(ea===undefined)return;if(ea===null){this.$RelayQueryWriter7.deleteField(ca,aa.getStorageKey());this.recordUpdate(ca);return;}if(!aa.canHaveSubselections()){this.$RelayQueryWriter8(aa,ba,ca,ea);}else if(aa.isConnection()){this.$RelayQueryWriter9(aa,ba,ca,ea);}else if(aa.isPlural()){this.$RelayQueryWriter10(aa,ba,ca,ea);}else this.$RelayQueryWriter11(aa,ba,ca,ea);};z.prototype.$RelayQueryWriter8=function(aa,ba,ca,da){var ea=aa.getStorageKey(),fa=this.$RelayQueryWriter4.getField(ca,ea);this.$RelayQueryWriter7.putField(ca,ea,da);if(Array.isArray(fa)&&Array.isArray(da)&&fa.length===da.length&&fa.every(function(ga,ha){return ga===da[ha];})){return;}else if(fa===da)return;this.recordUpdate(ca);};z.prototype.$RelayQueryWriter9=function(aa,ba,ca,da){var ea=aa.getStorageKey(),fa=this.$RelayQueryWriter4.getLinkedRecordID(ca,ea)||n(),ga=this.$RelayQueryWriter4.getRecordState(fa),ha=!!(aa.getFieldByStorageKey(w)||da!=null&&typeof da==='object'&&da[w]),ia=ba.path.getPath(aa,fa);this.$RelayQueryWriter7.putRecord(fa,null,ia);this.$RelayQueryWriter7.putLinkedRecordID(ca,ea,fa);if(ga!==l.EXISTENT){this.recordUpdate(ca);this.recordCreate(fa);}if(this.isNewRecord(fa)||this.$RelayQueryWriter6)this.$RelayQueryWriter5.trackNodeForID(aa,fa,ia);if(ha&&(!this.$RelayQueryWriter4.hasRange(fa)||this.$RelayQueryWriter2&&this.$RelayQueryWriter2>this.$RelayQueryWriter4.getRangeForceIndex(fa))){this.$RelayQueryWriter7.putRange(fa,aa.getCallsWithValues(),this.$RelayQueryWriter2);this.recordUpdate(fa);}var ja={nodeID:null,path:ia,recordID:fa,responseData:da};this.$RelayQueryWriter12(aa,aa,ja);};z.prototype.$RelayQueryWriter12=function(aa,ba,ca){ba.getChildren().forEach(function(da){if(da instanceof h.Field){if(da.getSchemaName()===w){this.$RelayQueryWriter13(aa,da,ca);}else if(da.getSchemaName()!==y)this.visit(da,ca);}else this.$RelayQueryWriter12(aa,da,ca);}.bind(this));};z.prototype.$RelayQueryWriter13=function(aa,ba,ca){var da=ca.recordID,ea=ca.responseData;!(typeof ea==='object'&&ea!==null)?o(0):undefined;var fa=ea[w];if(fa==null){q(false,'RelayQueryWriter: Cannot write edges for connection `%s` on record '+'`%s`, expected a response for field `edges`.',aa.getDebugName(),da);return;}!Array.isArray(fa)?o(0):undefined;var ga=aa.getCallsWithValues();!i.hasRangeCalls(ga)?o(0):undefined;var ha=this.$RelayQueryWriter4.getRangeMetadata(da,ga);!ha?o(0):undefined;var ia=[],ja=ha.filteredEdges,ka=false,la=0;fa.forEach(function(na){if(na==null)return;!(typeof na==='object'&&na)?o(0):undefined;var oa=na[x];if(oa==null)return;!(typeof oa==='object')?o(0):undefined;var pa=ja[la++],qa=oa&&oa[u]||pa&&this.$RelayQueryWriter4.getLinkedRecordID(pa.edgeID,x)||n(),ra=m(da,qa),sa=ca.path.getPath(ba,ra);this.createRecordIfMissing(ba,ra,null,sa);ia.push(ra);this.traverse(ba,{nodeID:qa,path:sa,recordID:ra,responseData:na});ka=ka||this.hasChangeToRecord(ra);}.bind(this));var ma=ea[y]||i.getDefaultPageInfo();this.$RelayQueryWriter7.putRangeEdges(da,ga,ma,ia);if(ka)this.recordUpdate(da);};z.prototype.$RelayQueryWriter10=function(aa,ba,ca,da){var ea=aa.getStorageKey();!Array.isArray(da)?o(0):undefined;var fa=this.$RelayQueryWriter4.getLinkedRecordIDs(ca,ea),ga=[],ha=!fa,ia=0;da.forEach(function(ja){if(ja==null)return;!(typeof ja==='object'&&ja)?o(0):undefined;var ka=fa&&fa[ia],la=ja[u]||ka||n();ga.push(la);var ma=ba.path.getPath(aa,la),na=this.getRecordTypeName(aa,la,ja);this.createRecordIfMissing(aa,la,na,ma);ha=ha||la!==ka||this.isNewRecord(la);this.traverse(aa,{nodeID:null,path:ma,recordID:la,responseData:ja});ha=ha||this.hasChangeToRecord(la);ia++;}.bind(this));this.$RelayQueryWriter7.putLinkedRecordIDs(ca,ea,ga);ha=ha||!fa||fa.length!==ga.length;if(ha)this.recordUpdate(ca);};z.prototype.$RelayQueryWriter11=function(aa,ba,ca,da){var ea=ba.nodeID,fa=aa.getStorageKey();!(typeof da==='object'&&da!==null)?o(0):undefined;var ga=this.$RelayQueryWriter4.getLinkedRecordID(ca,fa),ha=aa.getSchemaName()===x&&ea||da[u]||ga||n(),ia=ba.path.getPath(aa,ha),ja=this.getRecordTypeName(aa,ha,da);this.createRecordIfMissing(aa,ha,ja,ia);this.$RelayQueryWriter7.putLinkedRecordID(ca,fa,ha);if(ga!==ha||this.isNewRecord(ha))this.recordUpdate(ca);this.traverse(aa,{nodeID:null,path:ia,recordID:ha,responseData:da});};f.exports=z;},null);
__d('RelayRecordStore',['GraphQLRange','RelayConnectionInterface','RelayNodeInterface','forEachObject','invariant','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.NODE,o='',p='__filterCalls__',q='__forceIndex__',r='__range__',s='__resolvedFragmentMap__',t='__path__';function u(x,y,z){this.$RelayRecordStore1=x.cachedRecords;this.$RelayRecordStore2=y&&y.cachedRootCallMap||{};this.$RelayRecordStore3=x.queuedRecords;this.$RelayRecordStore5=z||{};this.$RelayRecordStore4=x.records;this.$RelayRecordStore6=y&&y.rootCallMap||{};this.$RelayRecordStore7=[];if(this.$RelayRecordStore3)this.$RelayRecordStore7.push(this.$RelayRecordStore3);if(this.$RelayRecordStore4)this.$RelayRecordStore7.push(this.$RelayRecordStore4);if(this.$RelayRecordStore1)this.$RelayRecordStore7.push(this.$RelayRecordStore1);}u.prototype.getDataID=function(x,y){if(j.isNodeRootCall(x)){!(y!=null)?l(0):undefined;return y;}if(y==null)y=o;if(this.$RelayRecordStore6.hasOwnProperty(x)&&this.$RelayRecordStore6[x].hasOwnProperty(y)){return this.$RelayRecordStore6[x][y];}else if(this.$RelayRecordStore2.hasOwnProperty(x))return this.$RelayRecordStore2[x][y];};u.prototype.getRecordState=function(x){var y=this.$RelayRecordStore8(x);if(y===null){return 'NONEXISTENT';}else if(y===undefined)return 'UNKNOWN';return 'EXISTENT';};u.prototype.getPathToRecord=function(x){var y=this.$RelayRecordStore9(x,t);return y;};u.prototype.hasOptimisticUpdate=function(x){!this.$RelayRecordStore3?l(0):undefined;return this.$RelayRecordStore3.hasOwnProperty(x);};u.prototype.getClientMutationIDs=function(x){!this.$RelayRecordStore3?l(0):undefined;var y=this.$RelayRecordStore3[x];return y?y.__mutationIDs__:null;};u.prototype.hasDeferredFragmentData=function(x,y){var z=this.$RelayRecordStore9(x,s);!(typeof z==='object'||z==null)?l(0):undefined;return !!(z&&z[y]);};u.prototype.getType=function(x){return this.$RelayRecordStore9(x,'__typename');};u.prototype.getField=function(x,y){return this.$RelayRecordStore9(x,y);};u.prototype.getLinkedRecordID=function(x,y){var z=this.$RelayRecordStore9(x,y);if(z==null)return z;!(typeof z==='object'&&z!==null&&!Array.isArray(z))?l(0):undefined;return z.__dataID__;};u.prototype.getLinkedRecordIDs=function(x,y){var z=this.$RelayRecordStore9(x,y);if(z==null)return z;!Array.isArray(z)?l(0):undefined;return z.map(function(aa,ba){!(typeof aa==='object'&&aa.__dataID__)?l(0):undefined;return aa.__dataID__;});};u.prototype.getConnectionIDsForRecord=function(x){var y=this.$RelayRecordStore5[x];if(y)return Object.keys(y);return null;};u.prototype.getConnectionIDsForField=function(x,y){var z=this.$RelayRecordStore4[x];if(z==null)return z;var aa;k(z,function(ba,ca){if(ba&&w(ca)===y){var da=ba.__dataID__;if(da){aa=aa||[];aa.push(da);}}});return aa;};u.prototype.getRangeForceIndex=function(x){var y=this.$RelayRecordStore9(x,q);if(y===null)return -1;return y||0;};u.prototype.getRangeFilterCalls=function(x){return this.$RelayRecordStore9(x,p);};u.prototype.getRangeMetadata=function(x,y){if(x==null)return x;var z=this.$RelayRecordStore9(x,r);if(z==null){if(z===null)m(false,'RelayRecordStore.getRangeMetadata(): Expected range to exist if '+'`edges` has been fetched.');return undefined;}var aa=v(y);if(y.length===aa.length)return {diffCalls:y,filterCalls:aa,pageInfo:undefined,requestedEdgeIDs:[],filteredEdges:[]};var ba=this.$RelayRecordStore3?this.$RelayRecordStore3[x]:null,ca=z.retrieveRangeInfoForQuery(y,ba),da=ca.diffCalls,ea=ca.pageInfo,fa=ca.requestedEdgeIDs;if(da&&da.length){da=aa.concat(da);}else da=[];var ga;if(fa){ga=fa.map(function(ha){return {edgeID:ha,nodeID:this.getLinkedRecordID(ha,n)};}.bind(this)).filter(function(ha){return this.$RelayRecordStore8(ha.nodeID);}.bind(this));}else ga=[];return {diffCalls:da,filterCalls:aa,pageInfo:ea,requestedEdgeIDs:fa,filteredEdges:ga};};u.prototype.hasRange=function(x){return !!this.$RelayRecordStore9(x,r);};u.prototype.removeRecord=function(x){delete this.$RelayRecordStore4[x];if(this.$RelayRecordStore3)delete this.$RelayRecordStore3[x];if(this.$RelayRecordStore1)delete this.$RelayRecordStore1[x];delete this.$RelayRecordStore5[x];};u.prototype.$RelayRecordStore8=function(x){if(this.$RelayRecordStore3&&this.$RelayRecordStore3.hasOwnProperty(x)){return this.$RelayRecordStore3[x];}else if(this.$RelayRecordStore4.hasOwnProperty(x)){return this.$RelayRecordStore4[x];}else if(this.$RelayRecordStore1)return this.$RelayRecordStore1[x];};u.prototype.$RelayRecordStore9=function(x,y){var z=this.$RelayRecordStore7;for(var aa=0;aa<z.length;aa++){var ba=z[aa][x];if(ba===null){return null;}else if(ba&&ba.hasOwnProperty(y))return ba[y];}return undefined;};function v(x){return x.filter(function(y){return !i.isConnectionCall(y);});}function w(x){return x.split(/(?![_A-Za-z][_0-9A-Za-z]*)/,1)[0];}f.exports=u;},null);
__d('RelayRecordWriter',['GraphQLMutatorConstants','GraphQLRange','RelayConnectionInterface','RelayNodeInterface','RelayRecord','RelayRecordStatusMap','invariant','rangeOperationToMetadataKey'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=j.CURSOR,q=j.NODE,r='',s='__filterCalls__',t='__forceIndex__',u='__range__',v='__resolvedFragmentMap__',w='__resolvedFragmentMapGeneration__',x='__path__',y=h.APPEND,z=h.PREPEND,aa=h.REMOVE;function ba(da,ea,fa,ga,ha,ia){this.$RelayRecordWriter1=ha;this.$RelayRecordWriter2=ia;this.$RelayRecordWriter3=fa;this.$RelayRecordWriter5=ga||{};this.$RelayRecordWriter4=da;this.$RelayRecordWriter6=ea;}ba.prototype.getDataID=function(da,ea){if(k.isNodeRootCall(da)){!(ea!=null)?n(0):undefined;return ea;}if(ea==null)ea=r;if(this.$RelayRecordWriter6.hasOwnProperty(da)&&this.$RelayRecordWriter6[da].hasOwnProperty(ea))return this.$RelayRecordWriter6[da][ea];};ba.prototype.putDataID=function(da,ea,fa){if(k.isNodeRootCall(da)){!(ea!=null)?n(0):undefined;return;}if(ea==null)ea=r;this.$RelayRecordWriter6[da]=this.$RelayRecordWriter6[da]||{};this.$RelayRecordWriter6[da][ea]=fa;if(this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeRootCall(da,ea,fa);};ba.prototype.getRecordState=function(da){var ea=this.$RelayRecordWriter4[da];if(ea===null){return 'NONEXISTENT';}else if(ea===undefined)return 'UNKNOWN';return 'EXISTENT';};ba.prototype.putRecord=function(da,ea,fa){var ga=this.$RelayRecordWriter7(da);if(ga)return;var ha=l.createWithFields(da,{__typename:ea});if(this.$RelayRecordWriter3)this.$RelayRecordWriter8(ha);if(l.isClientID(da)){!fa?n(0):undefined;ha[x]=fa;}this.$RelayRecordWriter4[da]=ha;var ia=this.$RelayRecordWriter1;if(!this.$RelayRecordWriter3&&ia)ia.writeField(da,'__dataID__',da,ea);};ba.prototype.getPathToRecord=function(da){return this.$RelayRecordWriter9(da,x);};ba.prototype.hasDeferredFragmentData=function(da,ea){var fa=this.$RelayRecordWriter9(da,v);!(typeof fa==='object'||fa==null)?n(0):undefined;return !!(fa&&fa[ea]);};ba.prototype.setHasDeferredFragmentData=function(da,ea){var fa=this.$RelayRecordWriter7(da);!fa?n(0):undefined;var ga=fa[v];if(typeof ga!=='object'||!ga)ga={};ga[ea]=true;fa[v]=ga;if(typeof fa[w]==='number'){fa[w]++;}else fa[w]=0;};ba.prototype.deleteRecord=function(da){this.$RelayRecordWriter4[da]=null;if(!this.$RelayRecordWriter3){delete this.$RelayRecordWriter5[da];if(this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeNode(da,null);}};ba.prototype.getType=function(da){return this.$RelayRecordWriter9(da,'__typename');};ba.prototype.getField=function(da,ea){return this.$RelayRecordWriter9(da,ea);};ba.prototype.putField=function(da,ea,fa){var ga=this.$RelayRecordWriter7(da);!ga?n(0):undefined;ga[ea]=fa;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1){var ha=ga.__typename;this.$RelayRecordWriter1.writeField(da,ea,fa,ha);}};ba.prototype.deleteField=function(da,ea){var fa=this.$RelayRecordWriter7(da);!fa?n(0):undefined;fa[ea]=null;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(da,ea,null);};ba.prototype.getLinkedRecordID=function(da,ea){var fa=this.$RelayRecordWriter9(da,ea);if(fa==null)return fa;!(typeof fa==='object'&&fa!==null&&!Array.isArray(fa))?n(0):undefined;return fa.__dataID__;};ba.prototype.putLinkedRecordID=function(da,ea,fa){var ga=this.$RelayRecordWriter7(da);!ga?n(0):undefined;var ha=this.$RelayRecordWriter4[fa];!ha?n(0):undefined;var ia=l.create(fa);ga[ea]=ia;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(da,ea,ia);};ba.prototype.getLinkedRecordIDs=function(da,ea){var fa=this.$RelayRecordWriter9(da,ea);if(fa==null)return fa;!Array.isArray(fa)?n(0):undefined;return fa.map(function(ga,ha){!(typeof ga==='object'&&ga.__dataID__)?n(0):undefined;return ga.__dataID__;});};ba.prototype.putLinkedRecordIDs=function(da,ea,fa){var ga=this.$RelayRecordWriter7(da);!ga?n(0):undefined;var ha=fa.map(function(ia){var ja=this.$RelayRecordWriter4[ia];!ja?n(0):undefined;return l.create(ia);}.bind(this));ga[ea]=ha;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(da,ea,ha);};ba.prototype.getRangeForceIndex=function(da){var ea=this.$RelayRecordWriter9(da,t);if(ea===null)return -1;return ea||0;};ba.prototype.getRangeFilterCalls=function(da){return this.$RelayRecordWriter9(da,s);};ba.prototype.putRange=function(da,ea,fa){!!this.$RelayRecordWriter3?n(0):undefined;var ga=this.$RelayRecordWriter7(da);!ga?n(0):undefined;var ha=new i(),ia=ca(ea);fa=fa||0;ga.__filterCalls__=ia;ga.__forceIndex__=fa;ga.__range__=ha;var ja=this.$RelayRecordWriter1;if(!this.$RelayRecordWriter3&&ja){ja.writeField(da,s,ia);ja.writeField(da,t,fa);ja.writeField(da,u,ha);}};ba.prototype.hasRange=function(da){return !!this.$RelayRecordWriter9(da,u);};ba.prototype.putRangeEdges=function(da,ea,fa,ga){var ha=this.$RelayRecordWriter9(da,u);!ha?n(0):undefined;var ia=[];ga.forEach(function(ja){var ka=this.$RelayRecordWriter10(ja);ia.push(ka);this.$RelayRecordWriter11(da,ka.node.__dataID__);}.bind(this));ha.addItems(ea,ia,fa);if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(da,u,ha);};ba.prototype.applyRangeUpdate=function(da,ea,fa){if(this.$RelayRecordWriter3){this.$RelayRecordWriter12(da,ea,fa);}else this.$RelayRecordWriter13(da,ea,fa);};ba.prototype.$RelayRecordWriter10=function(da){var ea=this.getLinkedRecordID(da,q);!ea?n(0):undefined;return l.createWithFields(da,{cursor:this.getField(da,p),node:l.create(ea)});};ba.prototype.$RelayRecordWriter12=function(da,ea,fa){var ga=this.$RelayRecordWriter7(da);if(!ga){ga=l.create(da);this.$RelayRecordWriter4[da]=ga;}this.$RelayRecordWriter8(ga);var ha=o[fa],ia=ga[ha];if(!ia){ia=[];ga[ha]=ia;}if(fa===z){ia.unshift(ea);}else ia.push(ea);};ba.prototype.$RelayRecordWriter13=function(da,ea,fa){var ga=this.$RelayRecordWriter9(da,u);!ga?n(0):undefined;if(fa===aa){ga.removeEdgeWithID(ea);var ha=this.getLinkedRecordID(ea,'node');if(ha)this.$RelayRecordWriter14(da,ha);}else{var ia=this.$RelayRecordWriter10(ea);this.$RelayRecordWriter11(da,ia.node.__dataID__);if(fa===y){ga.appendEdge(this.$RelayRecordWriter10(ea));}else ga.prependEdge(this.$RelayRecordWriter10(ea));}if(this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(da,u,ga);};ba.prototype.$RelayRecordWriter11=function(da,ea){var fa=this.$RelayRecordWriter5[ea];if(!fa){fa={};this.$RelayRecordWriter5[ea]=fa;}fa[da]=true;};ba.prototype.$RelayRecordWriter14=function(da,ea){var fa=this.$RelayRecordWriter5[ea];if(fa){delete fa[da];if(Object.keys(fa).length===0)delete this.$RelayRecordWriter5[ea];}};ba.prototype.$RelayRecordWriter7=function(da){var ea=this.$RelayRecordWriter4[da];if(!ea)return ea;if(this.$RelayRecordWriter3)this.$RelayRecordWriter8(ea);return ea;};ba.prototype.$RelayRecordWriter9=function(da,ea){var fa=this.$RelayRecordWriter4[da];if(fa===null){return null;}else if(fa&&fa.hasOwnProperty(ea)){return fa[ea];}else return undefined;};ba.prototype.$RelayRecordWriter8=function(da){var ea=this.$RelayRecordWriter2;!ea?n(0):undefined;var fa=da.__mutationIDs__||[];if(fa.indexOf(ea)===-1){fa.push(ea);da.__mutationIDs__=fa;}da.__status__=m.setOptimisticStatus(0,true);};function ca(da){return da.filter(function(ea){return !j.isConnectionCall(ea);});}f.exports=ba;},null);
__d('writeRelayQueryPayload',['RelayNodeInterface','RelayProfiler','RelayQueryPath'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l,m,n){var o=l.getRecordStore(),p=l.getRecordWriter(),q=new j(m);h.getResultsFromPayload(o,m,n).forEach(function(r){var s=r.dataID,t=r.result,u=r.rootCallInfo;if(u)p.putDataID(u.storageKey,u.identifyingArgValue,s);l.writePayload(m,s,t,q);});}f.exports=i.instrument('writeRelayQueryPayload',k);},null);
__d('RelayMutationTracker',['RelayRecord'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={},j={},k={},l={},m={isClientOnlyID:function(n){return (h.isClientID(n)&&!i[n]);},updateClientServerIDMap:function(n,o){i[n]=o;},getServerIDForClientID:function(n){return i[n]||null;},putClientIDForMutation:function(n,o){j[o]=n;var p=m.getErrorNodeForMutation(o);if(p){m.deleteMutationForErrorNode(p);m.putErrorNodeForMutation(n,o);}},getClientIDForMutation:function(n){return j[n];},deleteClientIDForMutation:function(n){delete j[n];},putErrorNodeForMutation:function(n,o){l[n]=o;k[o]=n;},getMutationForErrorNode:function(n){return l[n];},getErrorNodeForMutation:function(n){return k[n];},deleteMutationForErrorNode:function(n){delete l[n];},deleteErrorNodeForMutation:function(n){delete k[n];}};f.exports=m;},null);
__d('writeRelayUpdatePayload',['GraphQLMutatorConstants','RelayConnectionInterface','RelayMutationTracker','RelayMutationType','RelayNodeInterface','RelayQuery','RelayQueryPath','RelayProfiler','RelayRecordState','generateClientEdgeID','generateClientID','invariant','serializeRelayQueryCall','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';var v;if(c.__markCompiled)c.__markCompiled();var w=i.CLIENT_MUTATION_ID,x=i.EDGES,y=l.ANY_TYPE,z=l.ID,aa=l.ID_TYPE,ba=l.NODE,ca=l.NODE_TYPE,da=h.APPEND,ea=h.PREPEND,fa=h.REMOVE,ga=m.Field.build({fieldName:x,type:y,metadata:{canHaveSubselections:true,isPlural:true}}),ha=(v={error:true},v[w]=true,v),ia='client:cursor';function ja(wa,xa,ya,za){var ab=za.configs,bb=za.isOptimisticUpdate;ab.forEach(function(cb){switch(cb.type){case k.NODE_DELETE:ka(wa,ya,cb);break;case k.RANGE_ADD:oa(wa,ya,xa,cb,bb);break;case k.RANGE_DELETE:qa(wa,ya,cb);break;case k.FIELDS_CHANGE:case k.REQUIRED_CHILDREN:break;default:}});ma(wa,ya,xa);}function ka(wa,xa,ya){var za=xa[ya.deletedIDFieldName];if(!za)return;if(Array.isArray(za)){za.forEach(function(ab){la(wa,ab);});}else la(wa,za);}function la(wa,xa){var ya=wa.getRecordStore(),za=wa.getRecordWriter(),ab=ya.getRecordState(xa);if(ab===p.NONEXISTENT)return;var bb=ya.getConnectionIDsForRecord(xa);if(bb)bb.forEach(function(cb){var db=q(cb,xa);za.applyRangeUpdate(cb,db,fa);wa.recordUpdate(db);wa.recordUpdate(cb);la(wa,db);});za.deleteRecord(xa);wa.recordUpdate(xa);}function ma(wa,xa,ya){var za=wa.getRecordStore();for(var ab in xa){if(!xa.hasOwnProperty(ab))continue;var bb=xa[ab];if(typeof bb!=='object'||bb==null)continue;var cb=za.getDataID(ab);if(z in bb||cb||Array.isArray(bb))na(wa,ab,bb,ya);}}function na(wa,xa,ya,za){if(xa in ha)return;if(Array.isArray(ya)){ya.forEach(function(fb){if(typeof fb==='object'&&fb!=null&&!Array.isArray(fb))if(ua(fb,z))na(wa,xa,fb,za);});return;}var ab=ya,bb=wa.getRecordStore(),cb=ua(ab,z),db=undefined;if(cb!=null){db=new n(m.Root.build('writeRelayUpdatePayload',ba,cb,null,{identifyingArgName:z,identifyingArgType:aa,isAbstract:true,isDeferred:false,isPlural:false},ca));}else{cb=bb.getDataID(xa);db=new n(m.Root.build('writeRelayUpdatePayload',xa,null,null,{identifyingArgName:null,identifyingArgType:null,isAbstract:true,isDeferred:false,isPlural:false},y));}!cb?s(0):undefined;var eb=function(fb){fb.getChildren().forEach(function(gb){if(gb instanceof m.Fragment){eb(gb);}else if(gb instanceof m.Field&&gb.getSerializationKey()===xa)if(db&&cb){var hb=wa.getRecordTypeName(gb,cb,ab);wa.createRecordIfMissing(gb,cb,hb,db);wa.writePayload(gb,cb,ab,db);}});};eb(za);}function oa(wa,xa,ya,za,ab){var bb=ua(xa,w);!bb?s(0):undefined;var cb=wa.getRecordStore(),db=va(xa,za.edgeName),eb=db&&va(db,ba);if(!db||!eb){u(false,'writeRelayUpdatePayload(): Expected response payload to include the '+'newly created edge `%s` and its `node` field. Did you forget to '+'update the `RANGE_ADD` mutation config?',za.edgeName);return;}var fb=za.parentID;if(!fb){var gb=va(db,'source');if(gb)fb=ua(gb,z);}!fb?s(0):undefined;var hb=ua(eb,z)||r(),ib=db.cursor||ia,jb=babelHelpers['extends']({},db,{cursor:ib,node:babelHelpers['extends']({},eb,{id:hb})}),kb=cb.getConnectionIDsForField(fb,za.connectionName);if(kb)kb.forEach(function(mb){return pa(wa,ya,za,mb,hb,jb);});if(ab){j.putClientIDForMutation(hb,bb);}else{var lb=j.getClientIDForMutation(bb);if(lb){j.updateClientServerIDMap(lb,hb);j.deleteClientIDForMutation(bb);}}}function pa(wa,xa,ya,za,ab,bb){var cb=wa.getRecordStore(),db=wa.getRecordWriter(),eb=cb.getRangeFilterCalls(za),fb=eb?sa(ya.rangeBehaviors,eb):null;if(!fb)return;var gb=q(za,ab),hb=cb.getPathToRecord(za);!hb?s(0):undefined;hb=hb.getPath(ga,gb);var ib=wa.getRecordTypeName(ga,gb,bb);wa.createRecordIfMissing(ga,gb,ib,hb);var jb=false,kb=function(lb){lb.getChildren().forEach(function(mb){if(mb instanceof m.Fragment){kb(mb);}else if(mb instanceof m.Field&&mb.getSchemaName()===ya.edgeName){jb=true;if(hb)wa.writePayload(mb,gb,bb,hb);}});};kb(xa);!jb?s(0):undefined;if(fb in h.RANGE_OPERATIONS){db.applyRangeUpdate(za,gb,fb);if(wa.hasChangeToRecord(gb))wa.recordUpdate(za);}}function qa(wa,xa,ya){var za=wa.getRecordStore(),ab=Array.isArray(ya.deletedIDFieldName)?ta(za,ya.deletedIDFieldName,xa):ua(xa,ya.deletedIDFieldName);!(ab!=null)?s(0):undefined;var bb=ya.pathToConnection.pop(),cb=ta(za,ya.pathToConnection,xa);ya.pathToConnection.push(bb);if(!cb)return;var db=za.getConnectionIDsForField(cb,bb);if(db)db.forEach(function(eb){ra(wa,eb,ab);});}function ra(wa,xa,ya){var za=wa.getRecordWriter(),ab=q(xa,ya);za.applyRangeUpdate(xa,ab,fa);la(wa,ab);if(wa.hasChangeToRecord(ab))wa.recordUpdate(xa);}function sa(wa,xa){var ya=xa.map(t).sort().join('').slice(1);return wa[ya]||null;}function ta(wa,xa,ya){if(xa.length===1){var za=wa.getDataID(xa[0]);if(za)return za;}var ab=xa.reduce(function(cb,db){return cb?va(cb,db):null;},ya);if(ab){var bb=ua(ab,z);!(bb!=null)?s(0):undefined;return bb;}return null;}function ua(wa,xa){var ya=wa[xa];if(typeof ya==='number'){u(false,'writeRelayUpdatePayload(): Expected `%s` to be a string, got the '+'number `%s`.',xa,ya);ya=''+ya;}!(ya==null||typeof ya==='string')?s(0):undefined;return ya;}function va(wa,xa){var ya=wa[xa];!(ya==null||typeof ya==='object'&&!Array.isArray(ya))?s(0):undefined;return ya;}f.exports=o.instrument('writeRelayUpdatePayload',ja);},null);
__d('RelayStoreData',['GraphQLQueryRunner','GraphQLStoreChangeEmitter','GraphQLStoreRangeUtils','RelayChangeTracker','RelayConnectionInterface','RelayDiskCacheReader','RelayGarbageCollector','RelayMutationQueue','RelayNodeInterface','RelayPendingQueryTracker','RelayProfiler','RelayQuery','RelayQueryTracker','RelayQueryWriter','RelayRecord','RelayRecordStore','RelayRecordWriter','forEachObject','invariant','generateForceIndex','warning','writeRelayQueryPayload','writeRelayUpdatePayload'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=l.CLIENT_MUTATION_ID,fa=p.ID,ga=p.ID_TYPE,ha=p.NODE,ia=p.NODE_TYPE,ja=p.TYPENAME,ka=s.Field.build({fieldName:fa,type:'String'}),la=s.Field.build({fieldName:ja,type:'String'});function ma(){var oa={},pa={},qa={},ra={},sa={},ta={},ua=na({cachedRecords:oa,cachedRootCallMap:pa,cacheWriter:null,queuedRecords:qa,nodeRangeMap:ta,records:ra,rootCallMap:sa}),va=ua.cachedStore,wa=ua.queuedStore,xa=ua.recordStore,ya=new j();this.$RelayStoreData1=null;this.$RelayStoreData2=oa;this.$RelayStoreData3=pa;this.$RelayStoreData4=va;this.$RelayStoreData5=new i(ya);this.$RelayStoreData7=new o(this);this.$RelayStoreData8=ta;this.$RelayStoreData9=new q(this);this.$RelayStoreData15=new h(this);this.$RelayStoreData14=new t();this.$RelayStoreData11=qa;this.$RelayStoreData12=wa;this.$RelayStoreData10=ra;this.$RelayStoreData13=xa;this.$RelayStoreData16=ya;this.$RelayStoreData17=sa;}ma.prototype.initializeGarbageCollector=function(oa){!!this.$RelayStoreData6?z(0):undefined;var pa=this.$RelayStoreData18();ba(pa,'RelayStoreData: Garbage collection can only be initialized when no '+'data is present.');if(pa)this.$RelayStoreData6=new n(this,oa);};ma.prototype.injectCacheManager=function(oa){var pa=na({cachedRecords:this.$RelayStoreData2,cachedRootCallMap:this.$RelayStoreData3,cacheWriter:oa?oa.getQueryWriter():null,queuedRecords:this.$RelayStoreData11,nodeRangeMap:this.$RelayStoreData8,records:this.$RelayStoreData10,rootCallMap:this.$RelayStoreData17}),qa=pa.cachedStore,ra=pa.queuedStore,sa=pa.recordStore;this.$RelayStoreData1=oa;this.$RelayStoreData4=qa;this.$RelayStoreData12=ra;this.$RelayStoreData13=sa;};ma.prototype.clearCacheManager=function(){var oa=na({cachedRecords:this.$RelayStoreData2,cachedRootCallMap:this.$RelayStoreData3,cacheWriter:null,queuedRecords:this.$RelayStoreData11,nodeRangeMap:this.$RelayStoreData8,records:this.$RelayStoreData10,rootCallMap:this.$RelayStoreData17}),pa=oa.cachedStore,qa=oa.queuedStore,ra=oa.recordStore;this.$RelayStoreData1=null;this.$RelayStoreData4=pa;this.$RelayStoreData12=qa;this.$RelayStoreData13=ra;};ma.prototype.hasCacheManager=function(){return !!this.$RelayStoreData1;};ma.prototype.hasOptimisticUpdate=function(oa){oa=this.getRangeData().getCanonicalClientID(oa);return this.getQueuedStore().hasOptimisticUpdate(oa);};ma.prototype.getClientMutationIDs=function(oa){oa=this.getRangeData().getCanonicalClientID(oa);return this.getQueuedStore().getClientMutationIDs(oa);};ma.prototype.readFromDiskCache=function(oa,pa){var qa=this.$RelayStoreData1;!qa?z(0):undefined;var ra=new k(),sa=r.profile('RelayStoreData.readFromDiskCache');m.readQueries(oa,this.$RelayStoreData12,this.$RelayStoreData2,this.$RelayStoreData3,this.$RelayStoreData6,qa,ra,{onSuccess:function(){this.$RelayStoreData19(ra.getChangeSet());sa.stop();pa.onSuccess&&pa.onSuccess();}.bind(this),onFailure:function(){this.$RelayStoreData19(ra.getChangeSet());sa.stop();pa.onFailure&&pa.onFailure();}.bind(this)});};ma.prototype.readFragmentFromDiskCache=function(oa,pa,qa,ra){var sa=this.$RelayStoreData1;!sa?z(0):undefined;var ta=new k(),ua=r.profile('RelayStoreData.readFragmentFromDiskCache');m.readFragment(oa,pa,qa,this.$RelayStoreData12,this.$RelayStoreData2,this.$RelayStoreData3,this.$RelayStoreData6,sa,ta,{onSuccess:function(){this.$RelayStoreData19(ta.getChangeSet());ua.stop();ra.onSuccess&&ra.onSuccess();}.bind(this),onFailure:function(){this.$RelayStoreData19(ta.getChangeSet());ua.stop();ra.onFailure&&ra.onFailure();}.bind(this)});};ma.prototype.handleQueryPayload=function(oa,pa,qa){var ra=r.profile('RelayStoreData.handleQueryPayload'),sa=new k(),ta=new u(this.$RelayStoreData13,this.getRecordWriter(),this.$RelayStoreData14,sa,{forceIndex:qa,updateTrackedQueries:true});ca(ta,oa,pa);this.$RelayStoreData19(sa.getChangeSet());ra.stop();};ma.prototype.handleUpdatePayload=function(oa,pa,qa){var ra=qa.configs,sa=qa.isOptimisticUpdate,ta=r.profile('RelayStoreData.handleUpdatePayload'),ua=new k(),va,wa;if(sa){var xa=pa[ea];!(typeof xa==='string')?z(0):undefined;va=this.getRecordStoreForOptimisticMutation(xa);wa=this.getRecordWriterForOptimisticMutation(xa);}else{va=this.$RelayStoreData20();wa=this.$RelayStoreData21();}var ya=new u(va,wa,this.$RelayStoreData14,ua,{forceIndex:aa(),isOptimisticUpdate:sa,updateTrackedQueries:false});da(ya,oa,pa,{configs:ra,isOptimisticUpdate:sa});this.$RelayStoreData19(ua.getChangeSet());ta.stop();};ma.prototype.buildFragmentQueryForDataID=function(oa,pa){if(v.isClientID(pa)){var qa=this.$RelayStoreData12.getPathToRecord(this.$RelayStoreData16.getCanonicalClientID(pa));!qa?z(0):undefined;return qa.getQuery(oa);}return s.Root.build(oa.getDebugName()||'UnknownQuery',ha,pa,[ka,la,oa],{identifyingArgName:fa,identifyingArgType:ga,isAbstract:true,isDeferred:false,isPlural:false},ia);};ma.prototype.getNodeData=function(){return this.$RelayStoreData10;};ma.prototype.getQueuedData=function(){return this.$RelayStoreData11;};ma.prototype.clearQueuedData=function(){y(this.$RelayStoreData11,function(oa,pa){delete this.$RelayStoreData11[pa];this.$RelayStoreData5.broadcastChangeForID(pa);}.bind(this));};ma.prototype.getCachedData=function(){return this.$RelayStoreData2;};ma.prototype.getGarbageCollector=function(){return this.$RelayStoreData6;};ma.prototype.getMutationQueue=function(){return this.$RelayStoreData7;};ma.prototype.getCachedStore=function(){return this.$RelayStoreData4;};ma.prototype.getQueuedStore=function(){return this.$RelayStoreData12;};ma.prototype.getRecordStore=function(){return this.$RelayStoreData13;};ma.prototype.getRecordWriter=function(){return new x(this.$RelayStoreData10,this.$RelayStoreData17,false,this.$RelayStoreData8,this.$RelayStoreData1?this.$RelayStoreData1.getQueryWriter():null);};ma.prototype.getQueryTracker=function(){return this.$RelayStoreData14;};ma.prototype.getQueryRunner=function(){return this.$RelayStoreData15;};ma.prototype.getChangeEmitter=function(){return this.$RelayStoreData5;};ma.prototype.getRangeData=function(){return this.$RelayStoreData16;};ma.prototype.getPendingQueryTracker=function(){return this.$RelayStoreData9;};ma.prototype.getRootCallData=function(){return this.$RelayStoreData17;};ma.prototype.$RelayStoreData18=function(){return (Object.keys(this.$RelayStoreData10).length===0&&Object.keys(this.$RelayStoreData11).length===0&&Object.keys(this.$RelayStoreData2).length===0);};ma.prototype.$RelayStoreData19=function(oa){var pa=Object.keys(oa.updated);pa.forEach(function(sa){return this.$RelayStoreData5.broadcastChangeForID(sa);}.bind(this));if(this.$RelayStoreData6){var qa=Object.keys(oa.created),ra=this.$RelayStoreData6;qa.forEach(function(sa){return ra.register(sa);});}};ma.prototype.$RelayStoreData20=function(){var oa=this.$RelayStoreData10,pa=this.$RelayStoreData17;return new w({records:oa},{rootCallMap:pa},this.$RelayStoreData8);};ma.prototype.$RelayStoreData21=function(){return new x(this.$RelayStoreData10,this.$RelayStoreData17,false,this.$RelayStoreData8,this.$RelayStoreData1?this.$RelayStoreData1.getMutationWriter():null);};ma.prototype.getRecordStoreForOptimisticMutation=function(oa){var pa=this.$RelayStoreData2,qa=this.$RelayStoreData3,ra=this.$RelayStoreData17,sa=this.$RelayStoreData11,ta=this.$RelayStoreData10;return new w({cachedRecords:pa,queuedRecords:sa,records:ta},{cachedRootCallMap:qa,rootCallMap:ra},this.$RelayStoreData8);};ma.prototype.getRecordWriterForOptimisticMutation=function(oa){return new x(this.$RelayStoreData11,this.$RelayStoreData17,true,this.$RelayStoreData8,null,oa);};function na(oa){var pa=oa.cachedRecords,qa=oa.cachedRootCallMap,ra=oa.cacheWriter,sa=oa.queuedRecords,ta=oa.nodeRangeMap,ua=oa.records,va=oa.rootCallMap;return {queuedStore:new w({cachedRecords:pa,queuedRecords:sa,records:ua},{cachedRootCallMap:qa,rootCallMap:va},ta),cachedStore:new w({cachedRecords:pa,records:ua},{cachedRootCallMap:qa,rootCallMap:va},ta),recordStore:new w({records:ua},{rootCallMap:va},ta)};}r.instrumentMethods(ma.prototype,{handleQueryPayload:'RelayStoreData.prototype.handleQueryPayload',handleUpdatePayload:'RelayStoreData.prototype.handleUpdatePayload'});f.exports=ma;},null);
__d('RelayContext',['GraphQLStoreQueryResolver','RelayQueryResultObservable','RelayStoreData','forEachRootCallArg','readRelayQueryData','relayUnstableBatchedUpdates','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();function o(){this.$RelayContext1=new j();this.$RelayContext1.getChangeEmitter().injectBatchingStrategy(m);}o.prototype.getStoreData=function(){return this.$RelayContext1;};o.prototype.primeCache=function(p,q){return this.$RelayContext1.getQueryRunner().run(p,q);};o.prototype.forceFetch=function(p,q){return this.$RelayContext1.getQueryRunner().forceFetch(p,q);};o.prototype.read=function(p,q,r){return l(this.$RelayContext1,p,q,r).data;};o.prototype.readAll=function(p,q,r){return q.map(function(s){return l(this.$RelayContext1,p,s,r).data;}.bind(this));};o.prototype.readQuery=function(p,q){var r=this.$RelayContext1.getQueuedStore(),s=p.getStorageKey(),t=[];k(p,function(u){var v=undefined,w=r.getDataID(s,u);if(w!=null)v=this.read(p,w,q);t.push(v);}.bind(this));return t;};o.prototype.observe=function(p,q){return new i(this.$RelayContext1,p,q);};o.prototype.getFragmentResolver=function(p,q){return new h(this.$RelayContext1,p,q);};o.prototype.applyUpdate=function(p,q){return this.$RelayContext1.getMutationQueue().createTransaction(p,q);};o.prototype.commitUpdate=function(p,q){var r=this.applyUpdate(p,q);r.commit();return r;};o.prototype.update=function(p,q){n(false,'`Relay.Store.update` is deprecated. Please use'+' `Relay.Store.commitUpdate` or `Relay.Store.applyUpdate` instead.');this.commitUpdate(p,q);};f.exports=o;},null);
__d('RelayStore',['RelayContext'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('RelayInternals',['RelayNetworkLayer','RelayStore','flattenRelayQuery','printRelayQuery'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={NetworkLayer:h,DefaultStoreData:i.getStoreData(),flattenRelayQuery:j,printRelayQuery:k};f.exports=l;},null);
__d('RelayMutation',['RelayFragmentPointer','RelayFragmentReference','RelayMetaRoute','RelayQuery','RelayStore','buildRQL','forEachObject','invariant','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();function q(s){this.$RelayMutation1=false;this.$RelayMutation2(s);}q.prototype.getMutation=function(){o(0);};q.prototype.getFatQuery=function(){o(0);};q.prototype.getConfigs=function(){o(0);};q.prototype.getVariables=function(){o(0);};q.prototype.getFiles=function(){return null;};q.prototype.getOptimisticResponse=function(){return null;};q.prototype.getOptimisticConfigs=function(){return null;};q.prototype.getCollisionKey=function(){return null;};q.prototype.$RelayMutation2=function(s){var t=this.constructor.fragments,u=this.constructor.initialVariables||{},v=babelHelpers['extends']({},s);n(t,function(w,x){var y=s[x];p(y!==undefined,'RelayMutation: Expected data for fragment `%s` to be supplied to '+'`%s` as a prop. Pass an explicit `null` if this is intentional.',x,this.constructor.name);if(y==null)return;if(typeof y!=='object'){p(false,'RelayMutation: Expected data for fragment `%s` supplied to `%s` '+'to be an object.',x,this.constructor.name);return;}var z=k.Fragment.create(r(this.constructor.name,x,w,u),j.get('$RelayMutation_'+this.constructor.name),u);if(z.isPlural()){!Array.isArray(y)?o(0):undefined;var aa=y.map(function(ca,da){!(typeof ca==='object'&&ca!=null)?o(0):undefined;var ea=h.getDataID(ca,z);!ea?o(0):undefined;return ea;}.bind(this));v[x]=l.readAll(z,aa);}else{!!Array.isArray(y)?o(0):undefined;var ba=h.getDataID(y,z);if(ba)v[x]=l.read(z,ba);}}.bind(this));this.props=v;};q.getFragment=function(s,t){var u=this.fragments,v=u[s];if(!v)o(0);var w=this.initialVariables||{},x=this.prepareVariables;return i.createForContainer(function(){return r(this.name,s,v,w);}.bind(this),w,t,x);};function r(s,t,u,v){var w=m.Fragment(u,v);!w?o(0):undefined;return w;}f.exports=q;},null);
__d('RelayQL',['QueryBuilder','RelayFragmentReference','RelayRouteFragment','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(n){k(0);}function m(n){!(n instanceof i||h.getFragment(n)||h.getFragmentReference(n))?k(0):undefined;}Object.assign(l,{__frag:function(n){if(typeof n==='function')return new j(n);if(n!=null)if(Array.isArray(n)){n.forEach(m);}else m(n);return n;},__var:function(n){var o=h.getCallVariable(n);if(o)k(0);return h.createCallValue(n);}});f.exports=l;},null);
__d('getRelayQueries',['Map','RelayMetaRoute','RelayProfiler','RelayQuery','buildRQL','invariant','stableStringify','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=new h();function q(r,s){if(!p.has(r))p.set(r,{});var t=s.name+':'+n(s.params),u=p.get(r);if(u.hasOwnProperty(t))return u[t];var v={};r.getFragmentNames().forEach(function(w){v[w]=null;});Object.keys(s.queries).forEach(function(w){if(!r.hasFragment(w)){o(false,'Relay.QL: query `%s.queries.%s` is invalid, expected fragment '+'`%s.fragments.%s` to be defined.',s.name,w,r.displayName,w);return;}var x=s.queries[w];if(x){var y=l.Query(x,r,w,s.params);!(y!==undefined)?m(0):undefined;if(y){var z=k.Root.create(y,i.get(s.name),s.params),aa=z.getIdentifyingArg();if(!aa||aa.value!==undefined){v[w]=z;return;}}}v[w]=null;});u[t]=v;return v;}f.exports=j.instrument('Relay.getQueries',q);},null);
__d('RelayRenderer',['RelayFragmentPointer','React','RelayPropTypes','RelayStore','StaticContainer.react','getRelayQueries','invariant','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q;if(c.__markCompiled)c.__markCompiled();var r=i.PropTypes;p=babelHelpers.inherits(s,i.Component);q=p&&p.prototype;function s(u,v){q.constructor.call(this,u,v);var w=k.getStoreData().getGarbageCollector();this.gcHold=w&&w.acquireHold();this.mounted=true;this.pendingRequest=null;this.state=this.$RelayRenderer1(null,null,null,null);}s.prototype.$RelayRenderer1=function(u,v,w,x){return {activeContainer:u,activeQueryConfig:v,readyState:w&&babelHelpers['extends']({},w,{mounted:true}),renderArgs:{done:!!w&&w.done,error:w&&w.error,props:x,retry:function(){return this.$RelayRenderer2();}.bind(this),stale:!!w&&w.stale}};};s.prototype.getChildContext=function(){return {relay:k,route:this.props.queryConfig};};s.prototype.componentDidMount=function(){this.$RelayRenderer3(this.props);};s.prototype.$RelayRenderer3=function(u){var v=u.Container,w=u.forceFetch,x=u.onForceFetch,y=u.onPrimeCache,z=u.queryConfig,aa=m(v,z),ba=function(da){if(!this.mounted){this.$RelayRenderer4(babelHelpers['extends']({},da,{mounted:false}));return;}if(ca!==this.pendingRequest)return;if(da.aborted||da.done||da.error)this.pendingRequest=null;var ea=this.state.renderArgs.props;if(da.ready&&!ea)ea=babelHelpers['extends']({},z.params,o(aa,t));this.setState(this.$RelayRenderer1(v,z,da,ea));}.bind(this);if(this.pendingRequest)this.pendingRequest.abort();var ca=this.pendingRequest=w?x?x(aa,ba):k.forceFetch(aa,ba):y?y(aa,ba):k.primeCache(aa,ba);};s.prototype.$RelayRenderer5=function(){var u=this.state,v=u.activeContainer,w=u.activeQueryConfig,x=this.props.Container;return ((!v||x===v)&&(!w||this.props.queryConfig===w));};s.prototype.$RelayRenderer6=function(u){this.$RelayRenderer3(u);this.setState(this.$RelayRenderer1(this.state.activeContainer,this.state.activeQueryConfig,null,null));};s.prototype.$RelayRenderer2=function(){var u=this.state.readyState;!(u&&u.error)?n(0):undefined;this.$RelayRenderer6(this.props);};s.prototype.componentWillReceiveProps=function(u){if(u.Container!==this.props.Container||u.queryConfig!==this.props.queryConfig||u.forceFetch&&!this.props.forceFetch)this.$RelayRenderer6(u);};s.prototype.componentDidUpdate=function(u,v){var w=this.state.readyState;if(w)if(!v||w!==v.readyState)this.$RelayRenderer4(w);};s.prototype.$RelayRenderer4=function(u){var v=this.props.onReadyStateChange;if(v)v(u);};s.prototype.componentWillUnmount=function(){if(this.pendingRequest)this.pendingRequest.abort();if(this.gcHold)this.gcHold.release();this.gcHold=null;this.mounted=false;};s.prototype.render=function(){var u=undefined,v=this.$RelayRenderer5();if(v){var w=this.props,x=w.Container,y=w.render,z=this.state.renderArgs;if(y){u=y(z);}else if(z.props)u=i.createElement(x,z.props);}if(u===undefined){u=null;v=false;}return (i.createElement(l,{shouldUpdate:v},u));};function t(u){return u?h.createForRoot(k.getStoreData().getQueuedStore(),u):null;}s.propTypes={Container:j.Container,forceFetch:r.bool,onReadyStateChange:r.func,queryConfig:j.QueryConfig.isRequired,render:r.func};s.childContextTypes={relay:j.Context,route:j.QueryConfig.isRequired};f.exports=s;},null);
__d('RelayRootContainer',['React','RelayPropTypes','RelayRenderer'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes;function l(m){var n=m.Component,o=m.forceFetch,p=m.onReadyStateChange,q=m.renderFailure,r=m.renderFetched,s=m.renderLoading,t=m.route;return (h.createElement(j,{Container:n,forceFetch:o,onReadyStateChange:p,queryConfig:t,render:function(u){var v=u.done,w=u.error,x=u.props,y=u.retry,z=u.stale;if(w){if(q)return q(w,y);}else if(x){if(r){return r(x,{done:v,stale:z});}else return h.createElement(n,x);}else if(s)return s();return undefined;}}));}l.propTypes={Component:i.Container,forceFetch:k.bool,onReadyStateChange:k.func,renderFailure:k.func,renderFetched:k.func,renderLoading:k.func,route:i.QueryConfig.isRequired};l.childContextTypes={route:i.QueryConfig.isRequired};f.exports=l;},null);
__d('RelayQueryConfig',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){!(this.constructor!==i)?h(0):undefined;Object.defineProperty(this,'name',{enumerable:true,value:this.constructor.routeName});Object.defineProperty(this,'params',{enumerable:true,value:this.prepareVariables(babelHelpers['extends']({},j))||{}});Object.defineProperty(this,'queries',{enumerable:true,value:babelHelpers['extends']({},this.constructor.queries)});}i.prototype.prepareVariables=function(j){return j;};f.exports=i;},null);
__d('RelayRoute',['RelayQueryConfig','forEachObject','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=function(){return null;};k=babelHelpers.inherits(n,h);l=k&&k.prototype;function n(o,p){l.constructor.call(this,o);var q=this.constructor,r=q.routeName,s=q.path;!(q!==n)?j(0):undefined;!r?j(0):undefined;Object.defineProperty(this,'uri',{enumerable:true,get:function(){if(!p&&s)p=m(q,this.params);return p;}});}n.prototype.prepareVariables=function(o){var p=this.constructor,q=p.paramDefinitions,r=p.prepareParams,s=p.routeName,t=o;if(r)t=r(t);i(q,function(u,v){if(t)if(t.hasOwnProperty(v)){return;}else t[v]=undefined;!!u.required?j(0):undefined;});return t;};n.injectURICreator=function(o){m=o;};f.exports=n;},null);
__d('createRelayQuery',['RelayMetaRoute','RelayQuery','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l,m){!(typeof m==='object'&&m!=null&&!Array.isArray(m))?j(0):undefined;return i.Root.create(l,h.get('$createRelayQuery'),m);}f.exports=k;},null);
__d('RelayPublic',['RelayContainer','RelayMutation','RelayNetworkLayer','RelayPropTypes','RelayQL','RelayRootContainer','RelayRoute','RelayStore','RelayTaskScheduler','RelayInternals','createRelayQuery','getRelayQueries','isRelayContainer'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();if(typeof b.__REACT_DEVTOOLS_GLOBAL_HOOK__!=='undefined')b.__REACT_DEVTOOLS_GLOBAL_HOOK__._relayInternals=q;var u={Mutation:i,PropTypes:k,QL:l,RootContainer:m,Route:n,Store:o,createContainer:h.create,createQuery:r,getQueries:s,injectNetworkLayer:j.injectNetworkLayer,injectTaskScheduler:p.injectScheduler,isContainer:t};f.exports=u;},null);
__d('DefaultDraftInlineStyle',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={BOLD:{fontWeight:'bold'},CODE:{fontFamily:'monospace',wordWrap:'break-word'},ITALIC:{fontStyle:'italic'},STRIKETHROUGH:{textDecoration:'line-through'},UNDERLINE:{textDecoration:'underline'}};},null);
__d('CharacterMetadata',['immutable'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=h.Map,l=h.OrderedSet,m=h.Record,n=l(),o={style:n,entity:null},p=m(o);i=babelHelpers.inherits(q,p);j=i&&i.prototype;q.prototype.getStyle=function(){return this.get('style');};q.prototype.getEntity=function(){return this.get('entity');};q.prototype.hasStyle=function(t){return this.getStyle().has(t);};q.applyStyle=function(t,u){var v=t.set('style',t.getStyle().add(u));return q.create(v);};q.removeStyle=function(t,u){var v=t.set('style',t.getStyle().remove(u));return q.create(v);};q.applyEntity=function(t,u){var v=t.getEntity()===u?t:t.set('entity',u);return q.create(v);};q.create=function(t){if(!t)return r;var u=k({style:n,entity:null}).merge(t),v=s.get(u);if(v)return v;var w=new q(u);s=s.set(u,w);return w;};function q(){i.apply(this,arguments);}var r=new q(),s=k([[k(o),r]]);q.EMPTY=r;f.exports=q;},null);
__d('ContentStateInlineStyle',['CharacterMetadata','immutable'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.Map,k={add:function(m,n,o){return l(m,n,o,true);},remove:function(m,n,o){return l(m,n,o,false);}};function l(m,n,o,p){var q=m.getBlockMap(),r=n.getStartKey(),s=n.getStartOffset(),t=n.getEndKey(),u=n.getEndOffset(),v=q.skipUntil(function(w,x){return x===r;}).takeUntil(function(w,x){return x===t;}).concat(j([[t,q.get(t)]])).map(function(w,x){var y,z;if(r===t){y=s;z=u;}else{y=x===r?s:0;z=x===t?u:w.getLength();}var aa=w.getCharacterList(),ba;while(y<z){ba=aa.get(y);aa=aa.set(y,p?h.applyStyle(ba,o):h.removeStyle(ba,o));y++;}return w.set('characterList',aa);});return m.merge({blockMap:q.merge(v),selectionBefore:n,selectionAfter:n});}f.exports=k;},null);
__d('applyEntityToContentBlock',['CharacterMetadata'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){var n=j.getCharacterList();while(k<l){n=n.set(k,h.applyEntity(n.get(k),m));k++;}return j.set('characterList',n);}f.exports=i;},null);
__d('applyEntityToContentState',['immutable','applyEntityToContentBlock'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m){var n=k.getBlockMap(),o=l.getStartKey(),p=l.getStartOffset(),q=l.getEndKey(),r=l.getEndOffset(),s=n.skipUntil(function(t,u){return u===o;}).takeUntil(function(t,u){return u===q;}).toOrderedMap().merge(h.OrderedMap([[q,n.get(q)]])).map(function(t,u){var v,w;if(o===q){v=p;w=r;}else{v=u===o?p:0;w=u===q?0:t.getLength();}return i(t,v,w,m);});return k.merge({blockMap:n.merge(s),selectionBefore:l,selectionAfter:l});}f.exports=j;},null);
__d('DraftEntityInstance',['immutable'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=h.Record,l=k({type:'TOKEN',mutability:'IMMUTABLE',data:Object});i=babelHelpers.inherits(m,l);j=i&&i.prototype;m.prototype.getType=function(){return this.get('type');};m.prototype.getMutability=function(){return this.get('mutability');};m.prototype.getData=function(){return this.get('data');};function m(){i.apply(this,arguments);}f.exports=m;},null);
__d('DraftEntity',['DraftEntityInstance','immutable','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.Map,l=k(),m=0,n={create:function(o,p,q){return n.add(new h({type:o,mutability:p,data:q||{}}));},add:function(o){var p=''+ ++m;l=l.set(p,o);return p;},get:function(o){var p=l.get(o);!!!p?j(0):undefined;return p;},mergeData:function(o,p){var q=n.get(o),r=babelHelpers['extends']({},q.getData(),p),s=q.set('data',r);l=l.set(o,s);return s;},replaceData:function(o,p){var q=n.get(o),r=q.set('data',p);l=l.set(o,r);return r;}};f.exports=n;},null);
__d('DraftEntitySegments',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getRemovalRange:function(i,j,k,l,m){var n=k.split(' ');n=n.map(function(x,y){if(m==='forward'){if(y>0)return ' '+x;}else if(y<n.length-1)return x+' ';return x;});var o=l,p,q,r=null,s=null;for(var t=0;t<n.length;t++){q=n[t];p=o+q.length;if(i<p&&o<j){if(r!==null){s=p;}else{r=o;s=p;}}else if(r!==null)break;o=p;}var u=l+k.length,v=r===l,w=s===u;if(!v&&w||v&&!w)if(m==='forward'){if(s!==u)s++;}else if(r!==l)r--;return {start:r,end:s};}};f.exports=h;},null);
__d('getRangesForDraftEntity',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=[];j.findEntityRanges(function(m){return m.getEntity()===k;},function(m,n){l.push({start:m,end:n});});!!!l.length?h(0):undefined;return l;}f.exports=i;},null);
__d('getCharacterRemovalRange',['DraftEntity','DraftEntitySegments','getRangesForDraftEntity','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m,n,o){var p=n.getStartOffset(),q=n.getEndOffset(),r=m.getEntityAt(p);if(!r)return n;var s=h.get(r),t=s.getMutability();if(t==='MUTABLE')return n;var u=j(m,r).filter(function(x){return p<x.end&&q>x.start;});!(u.length==1)?k(0):undefined;var v=u[0];if(t==='IMMUTABLE')return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:false});var w=i.getRemovalRange(p,q,m.getText().slice(v.start,v.end),v.start,o);return n.merge({anchorOffset:w.start,focusOffset:w.end,isBackward:false});}f.exports=l;},null);
__d('generateBlockKey',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={},i=Math.pow(2,24);function j(){var k;while(k===undefined||h.hasOwnProperty(k)||!isNaN(+k))k=Math.floor(Math.random()*i).toString(32);h[k]=true;return k;}f.exports=j;},null);
__d('findRangesImmutable',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){if(!i.size)return;var m=0;i.reduce(function(n,o,p){if(!j(n,o)){if(k(n))l(m,p);m=p;}return o;});k(i.last())&&l(m,i.count());}f.exports=h;},null);
__d('removeEntitiesAtEdges',['CharacterMetadata','DraftEntity','findRangesImmutable','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(o,p){var q=o.getBlockMap(),r={},s=p.getStartKey(),t=p.getStartOffset(),u=q.get(s),v=n(u,t);if(v!==u)r[s]=v;var w=p.getEndKey(),x=p.getEndOffset(),y=q.get(w);if(s===w)y=v;var z=n(y,x);if(z!==y)r[w]=z;if(!Object.keys(r).length)return o.set('selectionAfter',p);return o.merge({blockMap:q.merge(r),selectionAfter:p});}function m(o,p,q){var r;j(o,function(s,t){return s.getEntity()===t.getEntity();},function(s){return s.getEntity()===p;},function(s,t){if(s<=q&&t>=q)r={start:s,end:t};});!(typeof r==='object')?k(0):undefined;return r;}function n(o,p){var q=o.getCharacterList(),r=p>0?q.get(p-1):undefined,s=p<q.count()?q.get(p):undefined,t=r?r.getEntity():undefined,u=s?s.getEntity():undefined;if(u&&u===t){var v=i.get(u);if(v.getMutability()!=='MUTABLE'){var w=m(q,u,p),x=w.start,y=w.end,z;while(x<y){z=q.get(x);q=q.set(x,h.applyEntity(z,null));x++;}return o.set('characterList',q);}}return o;}f.exports=l;},null);
__d('getContentStateFragment',['generateBlockKey','removeEntitiesAtEdges'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){var m=l.getStartKey(),n=l.getStartOffset(),o=l.getEndKey(),p=l.getEndOffset(),q=i(k,l),r=q.getBlockMap(),s=r.keySeq(),t=s.indexOf(m),u=s.indexOf(o)+1,v=r.slice(t,u).map(function(w,x){var y=h(),z=w.getText(),aa=w.getCharacterList();if(m===o)return w.merge({key:y,text:z.slice(n,p),characterList:aa.slice(n,p)});if(x===m)return w.merge({key:y,text:z.slice(n),characterList:aa.slice(n)});if(x===o)return w.merge({key:y,text:z.slice(0,p),characterList:aa.slice(0,p)});return w.set('key',y);});return v.toOrderedMap();}f.exports=j;},null);
__d('BlockMapBuilder',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.OrderedMap,j={createFromArray:function(k){return i(k.map(function(l){return [l.getKey(),l];}));}};f.exports=j;},null);
__d('insertIntoList',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k){if(k===i.count()){j.forEach(function(n){i=i.push(n);});}else if(k===0){j.reverse().forEach(function(n){i=i.unshift(n);});}else{var l=i.slice(0,k),m=i.slice(k);i=l.concat(j,m).toList();}return i;}f.exports=h;},null);
__d('insertFragmentIntoContentState',['BlockMapBuilder','generateBlockKey','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m,n,o){!n.isCollapsed()?k(0):undefined;var p=n.getStartKey(),q=n.getStartOffset(),r=m.getBlockMap(),s=o.size,t,u;if(s===1){var v=r.get(p),w=o.first(),x=v.getText(),y=v.getCharacterList(),z=v.merge({text:x.slice(0,q)+w.getText()+x.slice(q),characterList:j(y,w.getCharacterList(),q)});r=r.set(p,z);t=p;u=q+w.getText().length;return m.merge({blockMap:r.set(p,z),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}var aa=[];m.getBlockMap().forEach(function(ba,ca){if(ca!==p){aa.push(ba);return;}var da=ba.getText(),ea=ba.getCharacterList(),fa=da.length,ga=da.slice(0,q),ha=ea.slice(0,q),ia=o.first(),ja=ba.merge({text:ga+ia.getText(),characterList:ha.concat(ia.getCharacterList())});aa.push(ja);o.slice(1,s-1).forEach(function(oa){aa.push(oa.set('key',i()));});var ka=da.slice(q,fa),la=ea.slice(q,fa),ma=o.last();t=i();var na=ma.merge({key:t,text:ma.getText()+ka,characterList:ma.getCharacterList().concat(la)});aa.push(na);});u=o.last().getLength();return m.merge({blockMap:h.createFromArray(aa),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}f.exports=l;},null);
__d('insertTextIntoContentState',['immutable','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.Repeat;function l(m,n,o,p){!n.isCollapsed()?j(0):undefined;var q=o.length;if(!q)return m;var r=m.getBlockMap(),s=n.getStartKey(),t=n.getStartOffset(),u=r.get(s),v=u.getText(),w=u.merge({text:v.slice(0,t)+o+v.slice(t,u.getLength()),characterList:i(u.getCharacterList(),k(p,q).toList(),t)}),x=t+q;return m.merge({blockMap:r.set(s,w),selectionAfter:n.merge({anchorOffset:x,focusOffset:x})});}f.exports=l;},null);
__d('removeRangeFromContentState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k,l){if(l.isCollapsed())return k;var m=k.getBlockMap(),n=l.getStartKey(),o=l.getStartOffset(),p=l.getEndKey(),q=l.getEndOffset(),r=m.get(n),s=m.get(p),t;if(r===s){t=j(r.getCharacterList(),o,q);}else t=r.getCharacterList().slice(0,o).concat(s.getCharacterList().slice(q));var u=r.merge({text:r.getText().slice(0,o)+s.getText().slice(q),characterList:t}),v=m.toSeq().skipUntil(function(w,x){return x===n;}).takeUntil(function(w,x){return x===p;}).concat(h.Map([[p,null]])).map(function(w,x){return x===n?u:null;});m=m.merge(v).filter(function(w){return !!w;});return k.merge({blockMap:m,selectionBefore:l,selectionAfter:l.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:false})});}function j(k,l,m){if(l===0){while(l<m){k=k.shift();l++;}}else if(m===k.count()){while(m>l){k=k.pop();m--;}}else{var n=k.slice(0,l),o=k.slice(m);k=n.concat(o).toList();}return k;}f.exports=i;},null);
__d('setBlockTypeForContentState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=k.getStartKey(),n=k.getEndKey(),o=j.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m;}).takeUntil(function(q,r){return r===n;}).concat(h.Map([[n,o.get(n)]])).map(function(q){return q.merge({type:l,depth:0});});return j.merge({blockMap:o.merge(p),selectionBefore:k,selectionAfter:k});}f.exports=i;},null);
__d('splitBlockInContentState',['generateBlockKey','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){!l.isCollapsed()?i(0):undefined;var m=l.getAnchorKey(),n=l.getAnchorOffset(),o=k.getBlockMap(),p=o.get(m),q=p.getText(),r=p.getCharacterList(),s=p.merge({text:q.slice(0,n),characterList:r.slice(0,n)}),t=h(),u=s.merge({key:t,text:q.slice(n),characterList:r.slice(n)}),v=o.toSeq().takeUntil(function(y){return y===p;}),w=o.toSeq().skipUntil(function(y){return y===p;}).rest(),x=v.concat([[s.getKey(),s],[u.getKey(),u]],w).toOrderedMap();return k.merge({blockMap:x,selectionBefore:l,selectionAfter:l.merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:false})});}f.exports=j;},null);
__d('DraftModifier',['CharacterMetadata','ContentStateInlineStyle','immutable','applyEntityToContentState','getCharacterRemovalRange','getContentStateFragment','insertFragmentIntoContentState','insertTextIntoContentState','invariant','removeEntitiesAtEdges','removeRangeFromContentState','setBlockTypeForContentState','splitBlockInContentState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=j.OrderedSet,v={replaceText:function(w,x,y,z,aa){var ba=q(w,x),ca=r(ba,x),da=h.create({style:z||u(),entity:aa||null});return o(ca,ca.getSelectionAfter(),y,da);},insertText:function(w,x,y,z,aa){!x.isCollapsed()?p(0):undefined;return v.replaceText(w,x,y,z,aa);},moveText:function(w,x,y){var z=m(w,x),aa=v.removeRange(w,x,'backward');return v.replaceWithFragment(aa,y,z);},replaceWithFragment:function(w,x,y){var z=q(w,x),aa=r(z,x);return n(aa,aa.getSelectionAfter(),y);},removeRange:function(w,x,y){if(x.getAnchorKey()===x.getFocusKey()){var z=x.getAnchorKey(),aa=x.getStartOffset(),ba=x.getEndOffset(),ca=w.getBlockForKey(z),da=ca.getEntityAt(aa),ea=ca.getEntityAt(ba-1);if(da&&da===ea){var fa=l(ca,x,y);return r(w,fa);}}var ga=q(w,x);return r(ga,x);},splitBlock:function(w,x){var y=q(w,x),z=r(y,x);return t(z,z.getSelectionAfter());},applyInlineStyle:function(w,x,y){return i.add(w,x,y);},removeInlineStyle:function(w,x,y){return i.remove(w,x,y);},setBlockType:function(w,x,y){return s(w,x,y);},applyEntity:function(w,x,y){var z=q(w,x);return k(z,x,y);}};f.exports=v;},null);
__d('BlockTree',['immutable','emptyFunction','findRangesImmutable'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.List,l=h.Repeat,m=h.Record,n=i.thatReturnsTrue,o='-',p={start:null,end:null},q=m(p),r={start:null,end:null,decoratorKey:null,leaves:null},s=m(r),t={generate:function(w,x){var y=w.getLength();if(!y)return k.of(new s({start:0,end:0,decoratorKey:null,leaves:k.of(new q({start:0,end:0}))}));var z=[],aa=x?x.getDecorations(w):k(l(null,y)),ba=w.getCharacterList();j(aa,v,n,function(ca,da){z.push(new s({start:ca,end:da,decoratorKey:aa.get(ca),leaves:u(ba.slice(ca,da).toList(),ca)}));});return k(z);},getFingerprint:function(w){return w.map(function(x){var y=x.get('decoratorKey'),z=y!==null?y+'.'+(x.get('end')-x.get('start')):'';return ''+z+'.'+x.get('leaves').size;}).join(o);}};function u(w,x){var y=[],z=w.map(function(aa){return aa.getStyle();}).toList();j(z,v,n,function(aa,ba){y.push(new q({start:aa+x,end:ba+x}));});return k(y);}function v(w,x){return w===x;}f.exports=t;},null);
__d('ContentBlock',['immutable','findRangesImmutable'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=h.List,m=h.OrderedSet,n=h.Record,o=m(),p={key:'',type:'unstyled',text:'',characterList:l(),depth:0},q=n(p);j=babelHelpers.inherits(r,q);k=j&&j.prototype;r.prototype.getKey=function(){return this.get('key');};r.prototype.getType=function(){return this.get('type');};r.prototype.getText=function(){return this.get('text');};r.prototype.getCharacterList=function(){return this.get('characterList');};r.prototype.getLength=function(){return this.getText().length;};r.prototype.getDepth=function(){return this.get('depth');};r.prototype.getInlineStyleAt=function(u){var v=this.getCharacterList().get(u);return v?v.getStyle():o;};r.prototype.getEntityAt=function(u){var v=this.getCharacterList().get(u);return v?v.getEntity():null;};r.prototype.findStyleRanges=function(u,v){i(this.getCharacterList(),s,u,v);};r.prototype.findEntityRanges=function(u,v){i(this.getCharacterList(),t,u,v);};function r(){j.apply(this,arguments);}function s(u,v){return u.getStyle()===v.getStyle();}function t(u,v){return u.getEntity()===v.getEntity();}f.exports=r;},null);
__d('SelectionState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=h.Record,l={anchorKey:'',anchorOffset:0,focusKey:'',focusOffset:0,isBackward:false,hasFocus:false},m=k(l);i=babelHelpers.inherits(n,m);j=i&&i.prototype;n.prototype.serialize=function(){return ('Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+String(this.getIsBackward())+', '+'Has Focus: '+String(this.getHasFocus()));};n.prototype.getAnchorKey=function(){return this.get('anchorKey');};n.prototype.getAnchorOffset=function(){return this.get('anchorOffset');};n.prototype.getFocusKey=function(){return this.get('focusKey');};n.prototype.getFocusOffset=function(){return this.get('focusOffset');};n.prototype.getIsBackward=function(){return this.get('isBackward');};n.prototype.getHasFocus=function(){return this.get('hasFocus');};n.prototype.hasEdgeWithin=function(o,p,q){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===o){var t=this.getStartOffset(),u=this.getEndOffset();return p<=u&&t<=q;}if(o!==r&&o!==s)return false;var v=o===r?this.getAnchorOffset():this.getFocusOffset();return p<=v&&q>=v;};n.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};n.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey();};n.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset();};n.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey();};n.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset();};n.createEmpty=function(o){return new n({anchorKey:o,anchorOffset:0,focusKey:o,focusOffset:0,isBackward:false,hasFocus:false});};function n(){i.apply(this,arguments);}f.exports=n;},null);
__d('sanitizeDraftText',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new RegExp('\r','g');function i(j){return j.replace(h,'');}f.exports=i;},null);
__d('ContentState',['BlockMapBuilder','CharacterMetadata','ContentBlock','immutable','SelectionState','generateBlockKey','sanitizeDraftText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o,p;if(c.__markCompiled)c.__markCompiled();var q=k.List,r=k.Record,s=k.Repeat,t={blockMap:null,selectionBefore:null,selectionAfter:null},u=r(t);o=babelHelpers.inherits(v,u);p=o&&o.prototype;v.prototype.getBlockMap=function(){return this.get('blockMap');};v.prototype.getSelectionBefore=function(){return this.get('selectionBefore');};v.prototype.getSelectionAfter=function(){return this.get('selectionAfter');};v.prototype.getBlockForKey=function(w){var x=this.getBlockMap().get(w);return x;};v.prototype.getKeyBefore=function(w){return this.getBlockMap().reverse().keySeq().skipUntil(function(x){return x===w;}).skip(1).first();};v.prototype.getKeyAfter=function(w){return this.getBlockMap().keySeq().skipUntil(function(x){return x===w;}).skip(1).first();};v.prototype.getBlockAfter=function(w){return this.getBlockMap().skipUntil(function(x,y){return y===w;}).skip(1).first();};v.prototype.getBlockBefore=function(w){return this.getBlockMap().reverse().skipUntil(function(x,y){return y===w;}).skip(1).first();};v.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray();};v.prototype.getLastBlock=function(){return this.getBlockMap().last();};v.prototype.getPlainText=function(w){return this.getBlockMap().map(function(x){return x?x.getText():'';}).join(w||'\n');};v.prototype.hasText=function(){var w=this.getBlockMap();return (w.size>1||w.first().getLength()>0);};v.createFromBlockArray=function(w){var x=h.createFromArray(w),y=l.createEmpty(x.first().getKey());return new v({blockMap:x,selectionBefore:y,selectionAfter:y});};v.createFromText=function(w){var x=arguments.length<=1||arguments[1]===undefined?/\r\n?|\n/g:arguments[1],y=w.split(x),z=y.map(function(aa){aa=n(aa);return new j({key:m(),text:aa,type:'unstyled',characterList:q(s(i.EMPTY,aa.length))});});return v.createFromBlockArray(z);};function v(){o.apply(this,arguments);}f.exports=v;},null);
__d('UnicodeBidiDirection-upstream',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='NEUTRAL',j='LTR',k='RTL',l=null;function m(t){return t===j||t===k;}function n(t){!m(t)?h(0):undefined;return t===j?'ltr':'rtl';}function o(t,u){!m(t)?h(0):undefined;!m(u)?h(0):undefined;return t===u?null:n(t);}function p(t){l=t;}function q(){p(j);}function r(){if(!l)this.initGlobalDir();!l?h(0):undefined;return l;}var s={NEUTRAL:i,LTR:j,RTL:k,isStrong:m,getHTMLDir:n,getHTMLDirIfDifferent:o,setGlobalDir:p,initGlobalDir:q,getGlobalDir:r};f.exports=s;},null);
__d('UnicodeBidiDirection',['Locale','UnicodeBidiDirection-upstream'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();i.initGlobalDir=function(){i.setGlobalDir(h.isRTL()?i.RTL:i.LTR);};f.exports=i;},null);
__d('UnicodeBidi',['UnicodeBidiDirection','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={L:'A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u01BA\u01BB'+'\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0293\u0294\u0295-\u02AF\u02B0-\u02B8'+'\u02BB-\u02C1\u02D0-\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376-\u0377'+'\u037A\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1'+'\u03A3-\u03F5\u03F7-\u0481\u0482\u048A-\u052F\u0531-\u0556\u0559'+'\u055A-\u055F\u0561-\u0587\u0589\u0903\u0904-\u0939\u093B\u093D'+'\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0950\u0958-\u0961\u0964-\u0965'+'\u0966-\u096F\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098C'+'\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD'+'\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09CE\u09D7\u09DC-\u09DD'+'\u09DF-\u09E1\u09E6-\u09EF\u09F0-\u09F1\u09F4-\u09F9\u09FA\u0A03'+'\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33'+'\u0A35-\u0A36\u0A38-\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F'+'\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0'+'\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0AD0'+'\u0AE0-\u0AE1\u0AE6-\u0AEF\u0AF0\u0B02-\u0B03\u0B05-\u0B0C\u0B0F-\u0B10'+'\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40'+'\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0B5C-\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F'+'\u0B70\u0B71\u0B72-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95'+'\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9'+'\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7'+'\u0BE6-\u0BEF\u0BF0-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10'+'\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C59\u0C60-\u0C61'+'\u0C66-\u0C6F\u0C7F\u0C82-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8'+'\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CBE\u0CBF\u0CC0-\u0CC4\u0CC6'+'\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0CDE\u0CE0-\u0CE1\u0CE6-\u0CEF'+'\u0CF1-\u0CF2\u0D02-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D'+'\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D57\u0D60-\u0D61'+'\u0D66-\u0D6F\u0D70-\u0D75\u0D79\u0D7A-\u0D7F\u0D82-\u0D83\u0D85-\u0D96'+'\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF'+'\u0DE6-\u0DEF\u0DF2-\u0DF3\u0DF4\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45'+'\u0E46\u0E4F\u0E50-\u0E59\u0E5A-\u0E5B\u0E81-\u0E82\u0E84\u0E87-\u0E88'+'\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7'+'\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6'+'\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F01-\u0F03\u0F04-\u0F12\u0F13\u0F14'+'\u0F15-\u0F17\u0F1A-\u0F1F\u0F20-\u0F29\u0F2A-\u0F33\u0F34\u0F36\u0F38'+'\u0F3E-\u0F3F\u0F40-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C'+'\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FCF\u0FD0-\u0FD4\u0FD5-\u0FD8'+'\u0FD9-\u0FDA\u1000-\u102A\u102B-\u102C\u1031\u1038\u103B-\u103C\u103F'+'\u1040-\u1049\u104A-\u104F\u1050-\u1055\u1056-\u1057\u105A-\u105D\u1061'+'\u1062-\u1064\u1065-\u1066\u1067-\u106D\u106E-\u1070\u1075-\u1081'+'\u1083-\u1084\u1087-\u108C\u108E\u108F\u1090-\u1099\u109A-\u109C'+'\u109E-\u109F\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FB\u10FC'+'\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288'+'\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5'+'\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u1368'+'\u1369-\u137C\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166D-\u166E'+'\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EB-\u16ED\u16EE-\u16F0'+'\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735-\u1736'+'\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5'+'\u17C7-\u17C8\u17D4-\u17D6\u17D7\u17D8-\u17DA\u17DC\u17E0-\u17E9'+'\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18A8\u18AA'+'\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930-\u1931'+'\u1933-\u1938\u1946-\u194F\u1950-\u196D\u1970-\u1974\u1980-\u19AB'+'\u19B0-\u19C0\u19C1-\u19C7\u19C8-\u19C9\u19D0-\u19D9\u19DA\u1A00-\u1A16'+'\u1A19-\u1A1A\u1A1E-\u1A1F\u1A20-\u1A54\u1A55\u1A57\u1A61\u1A63-\u1A64'+'\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AA6\u1AA7\u1AA8-\u1AAD'+'\u1B04\u1B05-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B45-\u1B4B'+'\u1B50-\u1B59\u1B5A-\u1B60\u1B61-\u1B6A\u1B74-\u1B7C\u1B82\u1B83-\u1BA0'+'\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAE-\u1BAF\u1BB0-\u1BB9\u1BBA-\u1BE5\u1BE7'+'\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1BFC-\u1BFF\u1C00-\u1C23\u1C24-\u1C2B'+'\u1C34-\u1C35\u1C3B-\u1C3F\u1C40-\u1C49\u1C4D-\u1C4F\u1C50-\u1C59'+'\u1C5A-\u1C77\u1C78-\u1C7D\u1C7E-\u1C7F\u1CC0-\u1CC7\u1CD3\u1CE1'+'\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF2-\u1CF3\u1CF5-\u1CF6\u1D00-\u1D2B'+'\u1D2C-\u1D6A\u1D6B-\u1D77\u1D78\u1D79-\u1D9A\u1D9B-\u1DBF\u1E00-\u1F15'+'\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D'+'\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC'+'\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E'+'\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D'+'\u2124\u2126\u2128\u212A-\u212D\u212F-\u2134\u2135-\u2138\u2139'+'\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2182\u2183-\u2184'+'\u2185-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF'+'\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C7B\u2C7C-\u2C7D\u2C7E-\u2CE4'+'\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F'+'\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE'+'\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005\u3006\u3007'+'\u3021-\u3029\u302E-\u302F\u3031-\u3035\u3038-\u303A\u303B\u303C'+'\u3041-\u3096\u309D-\u309E\u309F\u30A1-\u30FA\u30FC-\u30FE\u30FF'+'\u3105-\u312D\u3131-\u318E\u3190-\u3191\u3192-\u3195\u3196-\u319F'+'\u31A0-\u31BA\u31F0-\u31FF\u3200-\u321C\u3220-\u3229\u322A-\u3247'+'\u3248-\u324F\u3260-\u327B\u327F\u3280-\u3289\u328A-\u32B0\u32C0-\u32CB'+'\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5'+'\u4E00-\u9FCC\uA000-\uA014\uA015\uA016-\uA48C\uA4D0-\uA4F7\uA4F8-\uA4FD'+'\uA4FE-\uA4FF\uA500-\uA60B\uA60C\uA610-\uA61F\uA620-\uA629\uA62A-\uA62B'+'\uA640-\uA66D\uA66E\uA680-\uA69B\uA69C-\uA69D\uA6A0-\uA6E5\uA6E6-\uA6EF'+'\uA6F2-\uA6F7\uA722-\uA76F\uA770\uA771-\uA787\uA789-\uA78A\uA78B-\uA78E'+'\uA790-\uA7AD\uA7B0-\uA7B1\uA7F7\uA7F8-\uA7F9\uA7FA\uA7FB-\uA801'+'\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA823-\uA824\uA827\uA830-\uA835'+'\uA836-\uA837\uA840-\uA873\uA880-\uA881\uA882-\uA8B3\uA8B4-\uA8C3'+'\uA8CE-\uA8CF\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8F8-\uA8FA\uA8FB\uA900-\uA909'+'\uA90A-\uA925\uA92E-\uA92F\uA930-\uA946\uA952-\uA953\uA95F\uA960-\uA97C'+'\uA983\uA984-\uA9B2\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uA9C1-\uA9CD'+'\uA9CF\uA9D0-\uA9D9\uA9DE-\uA9DF\uA9E0-\uA9E4\uA9E6\uA9E7-\uA9EF'+'\uA9F0-\uA9F9\uA9FA-\uA9FE\uAA00-\uAA28\uAA2F-\uAA30\uAA33-\uAA34'+'\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA5F\uAA60-\uAA6F'+'\uAA70\uAA71-\uAA76\uAA77-\uAA79\uAA7A\uAA7B\uAA7D\uAA7E-\uAAAF\uAAB1'+'\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAADD\uAADE-\uAADF'+'\uAAE0-\uAAEA\uAAEB\uAAEE-\uAAEF\uAAF0-\uAAF1\uAAF2\uAAF3-\uAAF4\uAAF5'+'\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E'+'\uAB30-\uAB5A\uAB5B\uAB5C-\uAB5F\uAB64-\uAB65\uABC0-\uABE2\uABE3-\uABE4'+'\uABE6-\uABE7\uABE9-\uABEA\uABEB\uABEC\uABF0-\uABF9\uAC00-\uD7A3'+'\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uF8FF\uF900-\uFA6D\uFA70-\uFAD9'+'\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF6F\uFF70'+'\uFF71-\uFF9D\uFF9E-\uFF9F\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF'+'\uFFD2-\uFFD7\uFFDA-\uFFDC',R:'\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05D0-\u05EA\u05EB-\u05EF'+'\u05F0-\u05F2\u05F3-\u05F4\u05F5-\u05FF\u07C0-\u07C9\u07CA-\u07EA'+'\u07F4-\u07F5\u07FA\u07FB-\u07FF\u0800-\u0815\u081A\u0824\u0828'+'\u082E-\u082F\u0830-\u083E\u083F\u0840-\u0858\u085C-\u085D\u085E'+'\u085F-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB37\uFB38-\uFB3C'+'\uFB3D\uFB3E\uFB3F\uFB40-\uFB41\uFB42\uFB43-\uFB44\uFB45\uFB46-\uFB4F',AL:'\u0608\u060B\u060D\u061B\u061C\u061D\u061E-\u061F\u0620-\u063F\u0640'+'\u0641-\u064A\u066D\u066E-\u066F\u0671-\u06D3\u06D4\u06D5\u06E5-\u06E6'+'\u06EE-\u06EF\u06FA-\u06FC\u06FD-\u06FE\u06FF\u0700-\u070D\u070E\u070F'+'\u0710\u0712-\u072F\u074B-\u074C\u074D-\u07A5\u07B1\u07B2-\u07BF'+'\u08A0-\u08B2\u08B3-\u08E3\uFB50-\uFBB1\uFBB2-\uFBC1\uFBC2-\uFBD2'+'\uFBD3-\uFD3D\uFD40-\uFD4F\uFD50-\uFD8F\uFD90-\uFD91\uFD92-\uFDC7'+'\uFDC8-\uFDCF\uFDF0-\uFDFB\uFDFC\uFDFE-\uFDFF\uFE70-\uFE74\uFE75'+'\uFE76-\uFEFC\uFEFD-\uFEFE'},k=new RegExp('['+j.L+j.R+j.AL+']'),l=new RegExp('['+j.R+j.AL+']');function m(t){var u=k.exec(t);return u==null?null:u[0];}function n(t){var u=m(t);if(u==null)return h.NEUTRAL;return l.exec(u)?h.RTL:h.LTR;}function o(t,u){u=u||h.NEUTRAL;if(!t.length)return u;var v=n(t);return v===h.NEUTRAL?u:v;}function p(t,u){if(!u)u=h.getGlobalDir();!h.isStrong(u)?i(0):undefined;return o(t,u);}function q(t,u){return p(t,u)===h.LTR;}function r(t,u){return p(t,u)===h.RTL;}var s={firstStrongChar:m,firstStrongCharDir:n,resolveBlockDir:o,getDirection:p,isDirectionLTR:q,isDirectionRTL:r};f.exports=s;},null);
__d('UnicodeBidiService',['UnicodeBidi','UnicodeBidiDirection','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){if(!l){l=i.getGlobalDir();}else !i.isStrong(l)?j(0):undefined;this.$UnicodeBidiService1=l;this.reset();}k.prototype.reset=function(){this.$UnicodeBidiService2=this.$UnicodeBidiService1;};k.prototype.getDirection=function(l){this.$UnicodeBidiService2=h.getDirection(l,this.$UnicodeBidiService2);return this.$UnicodeBidiService2;};f.exports=k;},null);
__d('EditorBidiService',['immutable','UnicodeBidiService','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.OrderedMap,l,m={getDirectionMap:function(n,o){if(!l){l=new i();}else l.reset();var p=n.getBlockMap(),q=p.valueSeq().map(function(s){return j(l).getDirection(s.getText());}),r=k(p.keySeq().zip(q));if(o!=null&&h.is(o,r))return o;return r;}};f.exports=m;},null);
__d('EditorState',['BlockTree','ContentState','EditorBidiService','immutable','SelectionState'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.OrderedSet,n=k.Record,o=k.Stack,p={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:o(),selection:null,treeMap:null,undoStack:o()},q=n(p);r.createEmpty=function(aa){return r.createWithContent(i.createFromText(''),aa);};r.createWithContent=function(aa,ba){var ca=aa.getBlockMap().first().getKey();return r.create({currentContent:aa,undoStack:o(),redoStack:o(),decorator:ba||null,selection:l.createEmpty(ca)});};r.create=function(aa){var ba=aa.currentContent,ca=aa.decorator,da=babelHelpers['extends']({},aa,{treeMap:t(ba,ca),directionMap:j.getDirectionMap(ba)});return new r(new q(da));};r.set=function(aa,ba){var ca=aa.getImmutable().withMutations(function(da){var ea=da.get('decorator'),fa=ea;if(ba.decorator===null){fa=null;}else if(ba.decorator)fa=ba.decorator;var ga=ba.currentContent||aa.getCurrentContent();if(fa!==ea){var ha=da.get('treeMap'),ia;if(fa&&ea){ia=v(ga.getBlockMap(),ha,fa,ea);}else ia=t(ga,fa);da.merge({decorator:fa,treeMap:ia,nativelyRenderedContent:null});return;}var ja=aa.getCurrentContent();if(ga!==ja)da.set('treeMap',u(aa,ga.getBlockMap(),fa));da.merge(ba);});return new r(ca);};r.prototype.toJS=function(){return this.getImmutable().toJS();};r.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo');};r.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent');};r.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack');};r.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack');};r.prototype.getSelection=function(){return this.getImmutable().get('selection');};r.prototype.getDecorator=function(){return this.getImmutable().get('decorator');};r.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode');};r.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection');};r.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent');};r.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType');};r.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride');};r.prototype.getCurrentInlineStyle=function(){var aa=this.getInlineStyleOverride();if(aa!=null)return aa;var ba=this.getCurrentContent(),ca=this.getSelection();if(ca.isCollapsed())return x(ba,ca);return y(ba,ca);};r.prototype.getBlockTree=function(aa){return this.getImmutable().getIn(['treeMap',aa]);};r.prototype.isSelectionAtStartOfContent=function(){var aa=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(aa,0,0);};r.prototype.isSelectionAtEndOfContent=function(){var aa=this.getCurrentContent(),ba=aa.getBlockMap(),ca=ba.last(),da=ca.getLength();return this.getSelection().hasEdgeWithin(ca.getKey(),da,da);};r.prototype.getDirectionMap=function(){return this.getImmutable().get('directionMap');};r.acceptSelection=function(aa,ba){return s(aa,ba,false);};r.forceSelection=function(aa,ba){if(!ba.getHasFocus())ba=ba.set('hasFocus',true);return s(aa,ba,true);};r.moveSelectionToEnd=function(aa){var ba=aa.getCurrentContent(),ca=ba.getLastBlock(),da=ca.getKey(),ea=ca.getLength();return r.acceptSelection(aa,new l({anchorKey:da,anchorOffset:ea,focusKey:da,focusOffset:ea,isBackward:false}));};r.moveFocusToEnd=function(aa){var ba=r.moveSelectionToEnd(aa);return r.forceSelection(ba,ba.getSelection());};r.push=function(aa,ba,ca){if(aa.getCurrentContent()===ba)return aa;var da=ca!=='insert-characters',ea=j.getDirectionMap(ba,aa.getDirectionMap());if(!aa.getAllowUndo())return r.set(aa,{currentContent:ba,directionMap:ea,lastChangeType:ca,selection:ba.getSelectionAfter(),forceSelection:da,inlineStyleOverride:null});var fa=aa.getSelection(),ga=aa.getCurrentContent(),ha=aa.getUndoStack(),ia=ba;if(fa!==ga.getSelectionAfter()||w(aa,ca)){ha=ha.push(ga);ia=ia.set('selectionBefore',fa);}else if(ca==='insert-characters'||ca==='backspace-character'||ca==='delete-character')ia=ia.set('selectionBefore',ga.getSelectionBefore());return r.set(aa,{currentContent:ia,directionMap:ea,undoStack:ha,redoStack:o(),lastChangeType:ca,selection:ba.getSelectionAfter(),forceSelection:da,inlineStyleOverride:null});};r.undo=function(aa){if(!aa.getAllowUndo())return aa;var ba=aa.getUndoStack(),ca=ba.peek();if(!ca)return aa;var da=aa.getCurrentContent(),ea=j.getDirectionMap(ca,aa.getDirectionMap());return r.set(aa,{currentContent:ca,directionMap:ea,undoStack:ba.shift(),redoStack:aa.getRedoStack().push(da),forceSelection:true,inlineStyleOverride:null,lastChangeType:'undo',nativelyRenderedContent:null,selection:da.getSelectionBefore()});};r.redo=function(aa){if(!aa.getAllowUndo())return aa;var ba=aa.getRedoStack(),ca=ba.peek();if(!ca)return aa;var da=aa.getCurrentContent(),ea=j.getDirectionMap(ca,aa.getDirectionMap());return r.set(aa,{currentContent:ca,directionMap:ea,undoStack:aa.getUndoStack().push(da),redoStack:ba.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:'redo',nativelyRenderedContent:null,selection:ca.getSelectionAfter()});};function r(aa){this.$EditorState1=aa;}r.prototype.getImmutable=function(){return this.$EditorState1;};function s(aa,ba,ca){return r.set(aa,{selection:ba,forceSelection:ca,nativelyRenderedContent:null,inlineStyleOverride:null});}function t(aa,ba){return aa.getBlockMap().map(function(ca){return h.generate(ca,ba);}).toOrderedMap();}function u(aa,ba,ca){var da=aa.getCurrentContent().getBlockMap(),ea=aa.getImmutable().get('treeMap');return ea.merge(ba.toSeq().filter(function(fa,ga){return fa!==da.get(ga);}).map(function(fa){return h.generate(fa,ca);}));}function v(aa,ba,ca,da){return ba.merge(aa.toSeq().filter(function(ea){return (ca.getDecorations(ea)!==da.getDecorations(ea));}).map(function(ea){return h.generate(ea,ca);}));}function w(aa,ba){var ca=aa.getLastChangeType();return (ba!==ca||ba!=='insert-characters'&&ba!=='backspace-character'&&ba!=='delete-character');}function x(aa,ba){var ca=ba.getStartKey(),da=ba.getStartOffset(),ea=aa.getBlockForKey(ca);if(da>0)return ea.getInlineStyleAt(da-1);if(ea.getLength())return ea.getInlineStyleAt(0);return z(aa,ca);}function y(aa,ba){var ca=ba.getStartKey(),da=ba.getStartOffset(),ea=aa.getBlockForKey(ca);if(da<ea.getLength())return ea.getInlineStyleAt(da);if(da>0)return ea.getInlineStyleAt(da-1);return z(aa,ca);}function z(aa,ba){var ca=aa.getBlockBefore(ba),da;while(ca){da=ca.getLength();if(da)return ca.getInlineStyleAt(da-1);ca=aa.getBlockBefore(ca.getKey());}return m();}f.exports=r;},null);
__d('getEntityKeyForSelection',['DraftEntity'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k,l){var m;if(l.isCollapsed()){var n=l.getAnchorKey(),o=l.getAnchorOffset();if(o>0){m=k.getBlockForKey(n).getEntityAt(o-1);return j(m);}return null;}var p=l.getStartKey(),q=l.getStartOffset(),r=k.getBlockForKey(p);m=q===r.getLength()?null:r.getEntityAt(q);return j(m);}function j(k){if(k){var l=h.get(k);return l.getMutability()==='MUTABLE'?k:null;}return null;}f.exports=i;},null);
__d('isSelectionAtLeafStart',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=i.getSelection(),k=j.getAnchorKey(),l=i.getBlockTree(k),m=j.getStartOffset(),n=false;l.some(function(o){if(m===o.get('start')){n=true;return true;}if(m<o.get('end'))return o.get('leaves').some(function(p){var q=p.get('start');if(m===q){n=true;return true;}if(m<q)return false;});return false;});return n;}f.exports=h;},null);
__d('DraftEditorCompositionHandler',['DraftModifier','EditorState','Keys','getEntityKeyForSelection','isSelectionAtLeafStart'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=20,n=false,o=false,p='',q={onBeforeInput:function(r){p=(p||'')+r.data;},onCompositionStart:function(){o=true;},onCompositionEnd:function(){n=false;o=false;setTimeout(function(){if(!n)q.resolveComposition.call(this);}.bind(this),m);},onKeyDown:function(r){if(r.which===j.RIGHT||r.which===j.LEFT)r.preventDefault();},onKeyPress:function(r){if(r.which===j.RETURN)r.preventDefault();},resolveComposition:function(){if(o)return;n=true;var r=p;p='';var s=i.set(this.props.editorState,{inCompositionMode:false}),t=s.getCurrentInlineStyle(),u=k(s.getCurrentContent(),s.getSelection()),v=!r||l(s)||t.size>0||u!==null;if(v)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(r){var w=h.replaceText(s.getCurrentContent(),s.getSelection(),r,t,u);this.update(i.push(s,w,'insert-characters'));return;}if(v)this.update(i.set(s,{nativelyRenderedContent:null,forceSelection:true}));}};f.exports=q;},null);
__d('DraftEditorTextNode.react',['React','ReactDOM','UserAgent'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=j.isBrowser('IE <= 11');function n(r){return m?r.textContent==='\n':r.tagName==='BR';}var o=m?h.createElement('span',{key:'A','data-text':'true'},'\n'):h.createElement('br',{key:'A','data-text':'true'}),p=m?h.createElement('span',{key:'B','data-text':'true'},'\n'):h.createElement('br',{key:'B','data-text':'true'});k=babelHelpers.inherits(q,h.Component);l=k&&k.prototype;function q(r){l.constructor.call(this,r);this.$DraftEditorTextNode1=false;}q.prototype.shouldComponentUpdate=function(r){var s=i.findDOMNode(this),t=r.children==='';if(t)return !n(s);return s.textContent!==r.children;};q.prototype.componentWillUpdate=function(){this.$DraftEditorTextNode1=!this.$DraftEditorTextNode1;};q.prototype.render=function(){if(this.props.children==='')return this.$DraftEditorTextNode1?o:p;return (h.createElement('span',{key:this.$DraftEditorTextNode1?'A':'B','data-text':'true'},this.props.children));};f.exports=q;},null);
__d('setDraftEditorSelection',['containsNode','getActiveElement'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(m,n,o,p,q){if(!h(document.documentElement,n))return;var r=b.getSelection(),s=m.getAnchorKey(),t=m.getAnchorOffset(),u=m.getFocusKey(),v=m.getFocusOffset(),w=m.getIsBackward();if(!r.extend&&w){var x=s,y=t;s=u;t=v;u=x;v=y;w=false;}var z=s===o&&p<=t&&q>=t,aa=u===o&&p<=v&&q>=v;if(z&&aa){r.removeAllRanges();l(r,n,t-p);k(r,n,v-p);return;}if(!w){if(z){r.removeAllRanges();l(r,n,t-p);}if(aa)k(r,n,v-p);}else{if(aa){r.removeAllRanges();l(r,n,v-p);}if(z){var ba=r.focusNode,ca=r.focusOffset;r.removeAllRanges();l(r,n,t-p);k(r,ba,ca);}}}function k(m,n,o){if(m.extend&&h(i(),n)){m.extend(n,o);}else{var p=m.getRangeAt(0);p.setEnd(n,o);m.addRange(p.cloneRange());}}function l(m,n,o){var p=document.createRange();p.setStart(n,o);m.addRange(p);}f.exports=j;},null);
__d('DraftEditorLeaf.react',['DraftEditorTextNode.react','React','ReactDOM','SelectionState','setDraftEditorSelection'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,i.Component);n=m&&m.prototype;o.prototype.$DraftEditorLeaf1=function(){var p=this.props.selection;if(p==null||!p.getHasFocus())return;var q=this.props,r=q.blockKey,s=q.start,t=q.text,u=s+t.length;if(!p.hasEdgeWithin(r,s,u))return;var v=j.findDOMNode(this),w=v.firstChild,x=undefined;if(w.nodeType===Node.TEXT_NODE){x=w;}else if(w.tagName==='BR'){x=v;}else x=w.firstChild;l(p,x,r,s,u);};o.prototype.shouldComponentUpdate=function(p){return (j.findDOMNode(this.refs.leaf).textContent!==p.text||p.forceSelection);};o.prototype.componentDidUpdate=function(){this.$DraftEditorLeaf1();};o.prototype.componentDidMount=function(){this.$DraftEditorLeaf1();};o.prototype.render=function(){var p=this.props.text;if(p.endsWith('\n')&&this.props.isLast)p+='\n';var q=this.props,r=q.customStyleMap,s=q.offsetKey,t=q.styleSet,u=t.reduce(function(v,w){var x={},y=r[w];if(y!==undefined&&v.textDecoration!==y.textDecoration)x.textDecoration=[v.textDecoration,y.textDecoration].join(' ');return Object.assign(v,y,x);},{});return (i.createElement('span',{'data-offset-key':s,ref:'leaf',style:u},i.createElement(h,null,p)));};function o(){m.apply(this,arguments);}f.exports=o;},null);
__d('DraftOffsetKey',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='-',i={encode:function(j,k,l){return j+h+k+h+l;},decode:function(j){var k=j.split(h),l=k[0],m=k[1],n=k[2];return {blockKey:l,decoratorKey:parseInt(m,10),leafKey:parseInt(n,10)};}};f.exports=i;},null);
__d('DraftEditorBlock.react',['ContentBlock','DraftEditorLeaf.react','DraftOffsetKey','React','ReactDOM','Scroll','SelectionState','Style','UnicodeBidi','UnicodeBidiDirection','cx','getElementPosition','getScrollPosition','getViewportDimensions','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';var w,x;if(c.__markCompiled)c.__markCompiled();var y=10;w=babelHelpers.inherits(z,k.Component);x=w&&w.prototype;z.prototype.shouldComponentUpdate=function(ba){return (this.props.block!==ba.block||this.props.tree!==ba.tree||this.props.direction!==ba.direction||aa(ba.selection,ba.block.getKey())&&ba.forceSelection);};z.prototype.componentDidMount=function(){var ba=this.props.selection,ca=ba.getEndKey();if(!ba.getHasFocus()||ca!==this.props.block.getKey())return;var da=l.findDOMNode(this),ea=o.getScrollParent(da),fa=t(ea),ga;if(ea===window){var ha=s(da),ia=ha.y+ha.height,ja=u().height;ga=ia-ja;if(ga>0)window.scrollTo(fa.x,fa.y+ga+y);}else{var ka=da.offsetHeight+da.offsetTop,la=ea.offsetHeight+fa.y;ga=ka-la;if(ga>0)m.setTop(ea,m.getTop(ea)+ga+y);}};z.prototype.$DraftEditorBlock1=function(){var ba=this.props.block,ca=ba.getKey(),da=ba.getText(),ea=this.props.tree.size-1,fa=aa(this.props.selection,ca);return this.props.tree.map(function(ga,ha){var ia=ga.get('leaves'),ja=ia.size-1,ka=ia.map(function(sa,ta){var ua=j.encode(ca,ha,ta),va=sa.get('start'),wa=sa.get('end');return (k.createElement(i,{key:ua,offsetKey:ua,blockKey:ca,start:va,selection:fa?this.props.selection:undefined,forceSelection:this.props.forceSelection,text:da.slice(va,wa),styleSet:ba.getInlineStyleAt(va),customStyleMap:this.props.customStyleMap,isLast:ha===ea&&ta===ja}));}.bind(this)).toArray(),la=ga.get('decoratorKey');if(la==null)return ka;if(!this.props.decorator)return ka;var ma=v(this.props.decorator),na=ma.getComponentForKey(la);if(!na)return ka;var oa=ma.getPropsForKey(la),pa=j.encode(ca,ha,0),qa=da.slice(ia.first().get('start'),ia.last().get('end')),ra=q.getHTMLDirIfDifferent(p.getDirection(qa),this.props.direction);return (k.createElement(na,babelHelpers['extends']({},oa,{dir:ra,key:pa,entityKey:ba.getEntityAt(ga.get('start')),offsetKey:pa}),ka));}.bind(this)).toArray();};z.prototype.render=function(){var ba=this.props,ca=ba.direction,da=ba.offsetKey,ea="_1mf"+(ca==='LTR'?' '+"_1mj":'')+(ca==='RTL'?' '+"_1mk":'');return (k.createElement('div',{'data-offset-key':da,className:ea},this.$DraftEditorBlock1()));};function z(){w.apply(this,arguments);}function aa(ba,ca){return (ba.getAnchorKey()===ca||ba.getFocusKey()===ca);}f.exports=z;},null);
__d('getElementForBlockType',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){switch(i){case 'header-one':return 'h2';case 'header-two':return 'h3';case 'unordered-list-item':case 'ordered-list-item':return 'li';case 'blockquote':return 'blockquote';case 'media':return 'figure';default:return 'div';}}f.exports=h;},null);
__d('getWrapperTemplateForBlockType',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.createElement('ul',{className:"_1bv0"}),k=h.createElement('ol',{className:"_1bv1"}),l=h.createElement('pre',{className:"_1bv2"});function m(n){switch(n){case 'unordered-list-item':return j;case 'ordered-list-item':return k;case 'code-block':return l;default:return null;}}f.exports=m;},null);
__d('DraftEditorContents.react',['DraftEditorBlock.react','DraftOffsetKey','EditorState','React','cx','getElementForBlockType','getWrapperTemplateForBlockType','joinClasses','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q,r;if(c.__markCompiled)c.__markCompiled();q=babelHelpers.inherits(s,k.Component);r=q&&q.prototype;s.prototype.shouldComponentUpdate=function(u){var v=this.props.editorState,w=u.editorState,x=v.getDirectionMap(),y=w.getDirectionMap();if(x!==y)return true;var z=v.getSelection().getHasFocus(),aa=w.getSelection().getHasFocus();if(z!==aa)return true;var ba=w.getNativelyRenderedContent(),ca=v.isInCompositionMode(),da=w.isInCompositionMode();if(v===w||ba!==null&&w.getCurrentContent()===ba||ca&&da)return false;var ea=v.getCurrentContent(),fa=w.getCurrentContent(),ga=v.getDecorator(),ha=w.getDecorator();return (ca!==da||ea!==fa||ga!==ha||w.mustForceSelection());};s.prototype.render=function(){var u=this.props,v=u.blockRendererFn,w=u.customStyleMap,x=u.editorState,y=x.getCurrentContent(),z=x.getSelection(),aa=x.mustForceSelection(),ba=x.getDecorator(),ca=p(x.getDirectionMap()),da=y.getBlocksAsArray(),ea=[],fa=null,ga=null,ha=null,ia=undefined,ja=undefined,ka=undefined,la=undefined,ma=undefined,na=undefined;for(var oa=0;oa<da.length;oa++){ja=da[oa];ka=ja.getKey();la=ja.getType();var pa=v(ja),qa=undefined,ra=undefined;if(pa){qa=pa.component;ra=pa.props;}var sa=ca.get(ka),ta=i.encode(ka,0,0),ua={block:ja,blockProps:ra,customStyleMap:w,decorator:ba,direction:sa,forceSelection:aa,key:ka,offsetKey:ta,selection:z,tree:x.getBlockTree(ka)};na=n(la);var va=na!==ga;if(qa){ma=k.createElement(qa,ua);}else{var wa=m(la),xa=ja.getDepth(),ya=this.props.blockStyleFn(ja);if(wa==='li'){var za=va||ha===null||xa>ha;ya=o(ya,t(la,xa,za,sa));}ma=k.createElement(wa,{className:ya,'data-block':true,'data-offset-key':ta,key:ka},k.createElement(h,ua));}if(na){if(va){ia=[];fa=k.cloneElement(na,{key:ka+'-wrap','data-offset-key':ta},ia);ga=na;ea.push(fa);}ha=ja.getDepth();p(ia).push(ma);}else{ia=null;fa=null;ga=null;ha=null;ea.push(ma);}}return k.createElement('div',{'data-contents':'true'},ea);};function s(){q.apply(this,arguments);}function t(u,v,w,x){return (u==='unordered-list-item'?"_3kpz":'')+(u==='ordered-list-item'?' '+"_3kp_":'')+(w?' '+"_3kq0":'')+(v===0?' '+"_3kq1":'')+(v===1?' '+"_3kq2":'')+(v===2?' '+"_3kq3":'')+(v===3?' '+"_3kq4":'')+(v===4?' '+"_3kq5":'')+(x==='LTR'?' '+"_3kq6":'')+(x==='RTL'?' '+"_3kq7":'');}f.exports=s;},null);
__d('getSelectionOffsetKeyForNode',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return i instanceof Element?i.getAttribute('data-offset-key'):null;}f.exports=h;},null);
__d('findAncestorOffsetKey',['getSelectionOffsetKeyForNode'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){while(j&&j!==document.documentElement){var k=h(j);if(k!=null)return k;j=j.parentNode;}return null;}f.exports=i;},null);
__d('getTextContentFromFiles',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=/\.textClipping$/,i={'text/plain':true,'text/html':true,'text/rtf':true},j=5000;function k(m,n){var o=0,p=[];m.forEach(function(q){l(q,function(r){o++;r&&p.push(r.slice(0,j));if(o==m.length)n(p.join('\r'));});});}function l(m,n){if(!b.FileReader||m.type&&!(m.type in i)){n('');return;}if(m.type===''){var o='';if(h.test(m.name))o=m.name.replace(h,'');n(o);return;}var p=new FileReader();p.onload=function(){n(p.result);};p.onerror=function(){n('');};p.readAsText(m);}f.exports=k;},null);
__d('getUpdatedSelectionState',['DraftOffsetKey','nullthrows'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n,o){var p=i(k.getSelection()),q=h.decode(l),r=q.blockKey,s=k.getBlockTree(r).getIn([q.decoratorKey,'leaves',q.leafKey]),t=h.decode(n),u=t.blockKey,v=k.getBlockTree(u).getIn([t.decoratorKey,'leaves',t.leafKey]),w=s.get('start'),x=v.get('start'),y=s?w+m:null,z=v?x+o:null,aa=p.getAnchorKey()===r&&p.getAnchorOffset()===y&&p.getFocusKey()===u&&p.getFocusOffset()===z;if(aa)return p;var ba=false;if(r===u){var ca=s.get('end'),da=v.get('end');if(x===w&&da===ca){ba=o<m;}else ba=x<w;}else{var ea=k.getCurrentContent().getBlockMap().keySeq().skipUntil(function(fa){return fa===r||fa===u;}).first();ba=ea===u;}return p.merge({anchorKey:r,anchorOffset:y,focusKey:u,focusOffset:z,isBackward:ba});}f.exports=j;},null);
__d('DraftEditorDragHandler',['DataTransfer','DraftModifier','EditorState','findAncestorOffsetKey','getTextContentFromFiles','getUpdatedSelectionState','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();function o(event,s){var t=null,u=null;if(document.caretRangeFromPoint){var v=document.caretRangeFromPoint(event.x,event.y);t=v.startContainer;u=v.startOffset;}else if(event.rangeParent){t=event.rangeParent;u=event.rangeOffset;}else return null;t=n(t);u=n(u);var w=n(k(t));return m(s,w,u,w,u);}var p={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(s){var t=new h(s.nativeEvent.dataTransfer),u=this.props.editorState,v=o(s.nativeEvent,u);s.preventDefault();this.exitCurrentMode();if(v==null)return;var w=t.getFiles();if(w.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(v,w))return;l(w,function(x){x&&this.update(r(u,n(v),x));}.bind(this));return;}if(this._internalDrag){this.update(q(u,v));return;}this.update(r(u,v,t.getText()));}};function q(s,t){var u=i.moveText(s.getCurrentContent(),s.getSelection(),t);return j.push(s,u,'insert-fragment');}function r(s,t,u){var v=i.insertText(s.getCurrentContent(),t,u,s.getCurrentInlineStyle());return j.push(s,v,'insert-fragment');}f.exports=p;},null);
__d('editOnBeforeInput',['BlockTree','DraftModifier','EditorState','UserAgent','getEntityKeyForSelection','isSelectionAtLeafStart','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o='\'',p='\/',q=k.isBrowser('Firefox');function r(u){return (q&&(u==o||u==p));}function s(u,v,w,x){var y=i.replaceText(u.getCurrentContent(),u.getSelection(),v,w,x);return j.push(u,y,'insert-characters');}function t(u){var v=u.data;if(!v)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(v)){u.preventDefault();return;}var w=this.props.editorState,x=w.getSelection();if(!x.isCollapsed()){u.preventDefault();this.update(s(w,v,w.getCurrentInlineStyle(),l(w.getCurrentContent(),w.getSelection())));return;}var y=!m(w),z=s(w,v,w.getCurrentInlineStyle(),l(w.getCurrentContent(),w.getSelection()));if(!y){u.preventDefault();this.update(z);return;}var aa=x.getAnchorKey(),ba=w.getBlockTree(aa),ca=h.getFingerprint(ba),da=h.getFingerprint(z.getBlockTree(aa));if(r(v)||ca!==da||n(z.getDirectionMap()).get(aa)!==n(w.getDirectionMap()).get(aa)){u.preventDefault();}else z=j.set(z,{nativelyRenderedContent:z.getCurrentContent()});this.update(z);}f.exports=t;},null);
__d('editOnBlur',['EditorState','UserAgent','getActiveElement'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.isEngine('WebKit');function l(m){if(k&&j()===document.body)b.getSelection().removeAllRanges();var n=this.props.editorState,o=n.getSelection();if(!o.getHasFocus())return;var p=o.set('hasFocus',false);this.props.onBlur&&this.props.onBlur(m);this.update(h.acceptSelection(n,p));}f.exports=l;},null);
__d('editOnCompositionStart',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(){this.setRenderGuard();this.setMode('composite');this.update(h.set(this.props.editorState,{inCompositionMode:true}));}f.exports=i;},null);
__d('getFragmentFromSelection',['getContentStateFragment'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection();if(!k.isCollapsed())return h(j.getCurrentContent(),k);}f.exports=i;},null);
__d('editOnCopy',['getFragmentFromSelection'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=this.props.editorState,l=k.getSelection();if(l.isCollapsed()){j.preventDefault();return;}this.setClipboard(h(this.props.editorState));}f.exports=i;},null);
__d('editOnCut',['DraftModifier','EditorState','Style','getFragmentFromSelection','getScrollPosition'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(o){var p=this.props.editorState,q=p.getSelection();if(q.isCollapsed()){o.preventDefault();return;}var r=j.getScrollParent(o.target),s=l(r),t=s.x,u=s.y,v=k(p);this.setClipboard(v);this.setRenderGuard();this.setMode('cut');setTimeout(function(){this.restoreEditorDOM({x:t,y:u});this.removeRenderGuard();this.exitCurrentMode();this.update(n(p));}.bind(this),0);}function n(o){var p=h.removeRange(o.getCurrentContent(),o.getSelection(),'forward');return i.push(o,p,'remove-range');}f.exports=m;},null);
__d('editOnDragOver',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this._internalDrag=false;this.setMode('drag');i.preventDefault();}f.exports=h;},null);
__d('editOnDragStart',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this._internalDrag=true;this.setMode('drag');}f.exports=h;},null);
__d('editOnFocus',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=this.props.editorState,l=k.getSelection();if(l.getHasFocus())return;var m=l.set('hasFocus',true);this.props.onFocus&&this.props.onFocus(j);this.update(h.forceSelection(k,m));}f.exports=i;},null);
__d('editOnInput',['DraftModifier','DraftOffsetKey','EditorState','UserAgent','findAncestorOffsetKey','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.isEngine('Gecko'),o='\n\n';function p(){var q=b.getSelection(),r=q.anchorNode,s=q.isCollapsed;if(r.nodeType!==Node.TEXT_NODE)return;var t=r.textContent,u=this.props.editorState,v=m(l(r)),w=i.decode(v),x=w.blockKey,y=w.decoratorKey,z=w.leafKey,aa=u.getBlockTree(x).getIn([y,'leaves',z]),ba=aa.start,ca=aa.end,da=u.getCurrentContent(),ea=da.getBlockForKey(x),fa=ea.getText().slice(ba,ca);if(t.endsWith(o))t=t.slice(0,-1);if(t===fa)return;var ga=u.getSelection(),ha=ga.merge({anchorOffset:ba,focusOffset:ca,isBackward:false}),ia=h.replaceText(da,ha,t,ea.getInlineStyleAt(ba)),ja,ka,la,ma;if(n){ja=q.anchorOffset;ka=q.focusOffset;la=ba+Math.min(ja,ka);ma=la+Math.abs(ja-ka);ja=la;ka=ma;}else{var na=t.length-fa.length;la=ga.getStartOffset();ma=ga.getEndOffset();ja=s?ma+na:la;ka=ma+na;}var oa=ia.merge({selectionBefore:da.getSelectionAfter(),selectionAfter:ga.merge({anchorOffset:ja,focusOffset:ka})});this.update(j.push(u,oa,'spellcheck-change'));}f.exports=p;},null);
__d('SecondaryClipboard',['DraftModifier','EditorState','getContentStateFragment','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=null,m={cut:function(n){var o=n.getCurrentContent(),p=n.getSelection(),q=null;if(p.isCollapsed()){var r=p.getAnchorKey(),s=o.getBlockForKey(r).getLength();if(s===p.getAnchorOffset())return n;q=p.set('focusOffset',s);}else q=p;q=k(q);l=j(o,q);var t=h.removeRange(o,q,'forward');if(t===o)return n;return i.push(n,t,'remove-range');},paste:function(n){if(!l)return n;var o=h.replaceWithFragment(n.getCurrentContent(),n.getSelection(),l);return i.push(n,o,'insert-fragment');}};f.exports=m;},null);
__d('getRangeClientRects',['UserAgent','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.isBrowser('Chrome');function k(m){var n=m.cloneRange(),o=[];for(var p=m.endContainer;p!=null;p=p.parentNode){var q=p===m.commonAncestorContainer;if(q){n.setStart(m.startContainer,m.startOffset);}else n.setStart(n.endContainer,0);var r=Array.from(n.getClientRects());o.push(r);if(q){var s;o.reverse();return (s=[]).concat.apply(s,o);}n.setEndBefore(p);}i(0);}var l=j?k:function(m){return Array.from(m.getClientRects());};f.exports=l;},null);
__d('expandRangeToStartOfLine',['UnicodeUtils','getRangeClientRects','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(o){var p=getComputedStyle(o),q=document.createElement('div');q.style.fontFamily=p.fontFamily;q.style.fontSize=p.fontSize;q.style.fontStyle=p.fontStyle;q.style.fontWeight=p.fontWeight;q.style.lineHeight=p.lineHeight;q.style.position='absolute';q.textContent='M';document.body.appendChild(q);var r=q.getBoundingClientRect();document.body.removeChild(q);return r.height;}function l(o,p){var q=Infinity,r=Infinity,s=-Infinity,t=-Infinity;for(var u=0;u<o.length;u++){var v=o[u];if(v.width===0||v.width===1)continue;q=Math.min(q,v.top);r=Math.min(r,v.bottom);s=Math.max(s,v.top);t=Math.max(t,v.bottom);}return (s<=r&&s-q<p&&t-r<p);}function m(o){switch(o.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return o.length;default:return o.childNodes.length;}}function n(o){!o.collapsed?j(0):undefined;o=o.cloneRange();var p=o.startContainer;if(p.nodeType!==1)p=p.parentNode;var q=k(p),r=o.endContainer,s=o.endOffset;o.setStart(o.startContainer,0);while(l(i(o),q)){r=o.startContainer;s=o.startOffset;!r.parentNode?j(0):undefined;o.setStartBefore(r);if(r.nodeType===1&&getComputedStyle(r).display!=='inline')break;}var t=r,u=s-1;do{var v=t.nodeValue;for(var w=u;w>=0;w--){if(v!=null&&w>0&&h.isSurrogatePair(v,w-1))continue;o.setStart(t,w);if(l(i(o),q)){r=t;s=w;}else break;}if(w===-1||t.childNodes.length===0)break;t=t.childNodes[w];u=m(t);}while(true);o.setStart(r,s);return o;}f.exports=n;},null);
__d('getDraftEditorSelectionWithNodes',['findAncestorOffsetKey','getSelectionOffsetKeyForNode','getUpdatedSelectionState','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(r,s,t,u,v,w){var x=t.nodeType===Node.TEXT_NODE,y=v.nodeType===Node.TEXT_NODE;if(x&&y)return {selectionState:j(r,l(h(t)),u,l(h(v)),w),needsRecovery:false};var z=null,aa=null,ba=true;if(x){z={key:l(h(t)),offset:u};aa=p(s,v,w);}else if(y){aa={key:l(h(v)),offset:w};z=p(s,t,u);}else{z=p(s,t,u);aa=p(s,v,w);if(t===v&&u===w)ba=t.firstChild.nodeName!=='BR';}return {selectionState:j(r,z.key,z.offset,aa.key,aa.offset),needsRecovery:ba};}function n(r){while(r.firstChild&&i(r.firstChild))r=r.firstChild;return r;}function o(r){while(r.lastChild&&i(r.lastChild))r=r.lastChild;return r;}function p(r,s,t){var u=h(s);!(u!=null||r&&(r===s||r.firstChild===s))?k(0):undefined;if(r===s){s=s.firstChild;!(s instanceof Element&&s.getAttribute('data-contents')==='true')?k(0):undefined;if(t>0)t=s.childNodes.length;}if(t===0){var v=null;if(u!=null){v=u;}else{var w=n(s);v=l(i(w));}return {key:v,offset:0};}var x=s.childNodes[t-1],y=null,z=null;if(!i(x)){y=l(u);z=q(x);}else{var aa=o(x);y=l(i(aa));z=q(aa);}return {key:y,offset:z};}function q(r){var s=r.textContent;return s==='\n'?0:s.length;}f.exports=m;},null);
__d('removeTextWithStrategy',['DraftModifier'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=j.getSelection(),n=j.getCurrentContent(),o=m;if(m.isCollapsed()){if(l==='forward'){if(j.isSelectionAtEndOfContent())return n;}else if(j.isSelectionAtStartOfContent())return n;o=k(j);if(o===m)return n;}return h.removeRange(n,o,l);}f.exports=i;},null);
__d('keyCommandBackspaceToStartOfLine',['EditorState','expandRangeToStartOfLine','getDraftEditorSelectionWithNodes','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=b.getSelection(),q=p.getRangeAt(0);q=i(q);var r=j(o,null,q.endContainer,q.endOffset,q.startContainer,q.startOffset).selectionState;return r;},'backward');if(n===m.getCurrentContent())return m;return h.push(m,n,'remove-range');}f.exports=l;},null);
__d('DraftRemovableWord',['TokenizeUtil'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.getPunctuation(),j='[\'\u2018\u2019]',k='\\s|(?![_])'+i,l='^'+'(?:'+k+')*'+'(?:'+j+'|(?!'+k+').)*'+'(?:(?!'+k+').)',m=new RegExp(l),n='(?:(?!'+k+').)'+'(?:'+j+'|(?!'+k+').)*'+'(?:'+k+')*'+'$',o=new RegExp(n);function p(r,s){var t=s?o.exec(r):m.exec(r);return t?t[0]:r;}var q={getBackward:function(r){return p(r,true);},getForward:function(r){return p(r,false);}};f.exports=q;},null);
__d('moveSelectionBackward',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.getSelection(),l=i.getCurrentContent(),m=k.getStartKey(),n=k.getStartOffset(),o=m,p=0;if(j>n){var q=l.getKeyBefore(m);if(q==null){o=m;}else{o=q;var r=l.getBlockForKey(q);p=r.getText().length;}}else p=n-j;return k.merge({focusKey:o,focusOffset:p,isBackward:true});}f.exports=h;},null);
__d('keyCommandBackspaceWord',['DraftRemovableWord','EditorState','moveSelectionBackward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=o.getSelection(),q=p.getStartOffset();if(q===0)return j(o,1);var r=p.getStartKey(),s=o.getCurrentContent(),t=s.getBlockForKey(r).getText().slice(0,q),u=h.getBackward(t);return j(o,u.length||1);},'backward');if(n===m.getCurrentContent())return m;return i.push(m,n,'remove-range');}f.exports=l;},null);
__d('moveSelectionForward',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.getSelection(),l=k.getStartKey(),m=k.getStartOffset(),n=i.getCurrentContent(),o=l,p,q=n.getBlockForKey(l);if(j>q.getText().length-m){o=n.getKeyAfter(l);p=0;}else p=m+j;return k.merge({focusKey:o,focusOffset:p});}f.exports=h;},null);
__d('keyCommandDeleteWord',['DraftRemovableWord','EditorState','moveSelectionForward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=o.getSelection(),q=p.getStartOffset(),r=p.getStartKey(),s=o.getCurrentContent(),t=s.getBlockForKey(r).getText().slice(q),u=h.getForward(t);return j(o,u.length||1);},'forward');if(n===m.getCurrentContent())return m;return i.push(m,n,'remove-range');}f.exports=l;},null);
__d('keyCommandInsertNewline',['DraftModifier','EditorState'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){var l=h.splitBlock(k.getCurrentContent(),k.getSelection());return i.push(k,l,'split-block');}f.exports=j;},null);
__d('keyCommandMoveSelectionToEndOfBlock',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection(),l=k.getEndKey(),m=j.getCurrentContent(),n=m.getBlockForKey(l).getLength();return h.set(j,{selection:k.merge({anchorKey:l,anchorOffset:n,focusKey:l,focusOffset:n,isBackward:false}),forceSelection:true});}f.exports=i;},null);
__d('keyCommandMoveSelectionToStartOfBlock',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection(),l=k.getStartKey();return h.set(j,{selection:k.merge({anchorKey:l,anchorOffset:0,focusKey:l,focusOffset:0,isBackward:false}),forceSelection:true});}f.exports=i;},null);
__d('keyCommandPlainBackspace',['EditorState','UnicodeUtils','moveSelectionBackward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(p){var q=p.getSelection(),r=p.getCurrentContent(),s=q.getAnchorKey(),t=q.getAnchorOffset(),u=r.getBlockForKey(s).getText()[t-1];return j(p,u?i.getUTF16Length(u,0):1);},'backward');if(n===m.getCurrentContent())return m;var o=m.getSelection();return h.push(m,n.set('selectionBefore',o),o.isCollapsed()?'backspace-character':'remove-range');}f.exports=l;},null);
__d('keyCommandPlainDelete',['EditorState','UnicodeUtils','moveSelectionForward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(p){var q=p.getSelection(),r=p.getCurrentContent(),s=q.getAnchorKey(),t=q.getAnchorOffset(),u=r.getBlockForKey(s).getText()[t];return j(p,u?i.getUTF16Length(u,0):1);},'forward');if(n===m.getCurrentContent())return m;var o=m.getSelection();return h.push(m,n.set('selectionBefore',o),o.isCollapsed()?'delete-character':'remove-range');}f.exports=l;},null);
__d('keyCommandTransposeCharacters',['DraftModifier','EditorState','getContentStateFragment'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){var m=l.getSelection();if(!m.isCollapsed())return l;var n=m.getAnchorOffset();if(n===0)return l;var o=m.getAnchorKey(),p=l.getCurrentContent(),q=p.getBlockForKey(o),r=q.getLength();if(r<=1)return l;var s,t;if(n===r){s=m.set('anchorOffset',n-1);t=m;}else{s=m.set('focusOffset',n+1);t=s.set('anchorOffset',n+1);}var u=j(p,s),v=h.removeRange(p,s,'backward'),w=v.getSelectionAfter(),x=w.getAnchorOffset()-1,y=w.merge({anchorOffset:x,focusOffset:x}),z=h.replaceWithFragment(v,y,u),aa=i.push(l,z,'insert-fragment');return i.acceptSelection(aa,t);}f.exports=k;},null);
__d('keyCommandUndo',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=h.undo(k);if(k.getLastChangeType()==='spellcheck-change'){var n=m.getCurrentContent();l(h.set(m,{nativelyRenderedContent:n}));return;}j.preventDefault();if(!k.getNativelyRenderedContent()){l(m);return;}l(h.set(k,{nativelyRenderedContent:null}));setTimeout(function(){l(m);},0);}f.exports=i;},null);
__d('editOnKeyDown',['EditorState','Keys','SecondaryClipboard','keyCommandBackspaceToStartOfLine','keyCommandBackspaceWord','keyCommandDeleteWord','keyCommandInsertNewline','keyCommandPlainBackspace','keyCommandPlainDelete','keyCommandMoveSelectionToEndOfBlock','keyCommandMoveSelectionToStartOfBlock','keyCommandTransposeCharacters','keyCommandUndo'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();function u(w,x){switch(w){case 'redo':return h.redo(x);case 'delete':return p(x);case 'delete-word':return m(x);case 'backspace':return o(x);case 'backspace-word':return l(x);case 'backspace-to-start-of-line':return k(x);case 'split-block':return n(x);case 'transpose-characters':return s(x);case 'move-selection-to-start-of-block':return r(x);case 'move-selection-to-end-of-block':return q(x);case 'secondary-cut':return j.cut(x);case 'secondary-paste':return j.paste(x);default:return x;}}function v(w){var x=w.which,y=this.props.editorState;switch(x){case i.RETURN:w.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(w))this.update(n(y));return;case i.ESC:w.preventDefault();this.props.onEscape&&this.props.onEscape(w);return;case i.TAB:this.props.onTab&&this.props.onTab(w);return;case i.UP:this.props.onUpArrow&&this.props.onUpArrow(w);return;case i.DOWN:this.props.onDownArrow&&this.props.onDownArrow(w);return;}var z=this.props.keyBindingFn(w);if(!z)return;if(z==='undo'){t(w,y,this.update);return;}w.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(z))return;var aa=u(z,y);if(aa!==y)this.update(aa);}f.exports=v;},null);
__d('getSafeBodyFromHTML',['UserAgent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.isBrowser('IE <= 9');function j(k){var l,m=null;if(!i&&document.implementation&&document.implementation.createHTMLDocument){l=document.implementation.createHTMLDocument('foo');l.documentElement.innerHTML=k;m=l.getElementsByTagName('body')[0];}return m;}f.exports=j;},null);
__d('DraftPasteProcessor',['CharacterMetadata','ContentBlock','DraftEntity','immutable','URI','generateBlockKey','getSafeBodyFromHTML','invariant','nullthrows','sanitizeDraftText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=k.List,s=k.OrderedSet,t=k.Repeat,u='&nbsp;',v=' ',w=4,x=new RegExp('\r','g'),y=new RegExp('\n','g'),z=new RegExp(u,'g'),aa=['p','h1','h2','h3','li','blockquote','pre'],ba={b:'BOLD',code:'CODE',del:'STRIKETHROUGH',em:'ITALIC',i:'ITALIC',s:'STRIKETHROUGH',strike:'STRIKETHROUGH',strong:'BOLD',u:'UNDERLINE'},ca;function da(){return {text:'',inlines:[],entities:[],blocks:[]};}function ea(pa){var qa=new Array(1);if(pa)qa[0]=pa;return {text:v,inlines:[s()],entities:qa,blocks:[]};}function fa(){return {text:'\n',inlines:[s()],entities:new Array(1),blocks:[]};}function ga(pa,qa){return {text:'\r',inlines:[s()],entities:new Array(1),blocks:[{type:pa,depth:Math.max(0,Math.min(w,qa))}]};}function ha(pa,qa){switch(pa){case 'h1':return 'header-one';case 'h2':return 'header-two';case 'li':if(qa==='ol')return 'ordered-list-item';return 'unordered-list-item';case 'blockquote':return 'blockquote';case 'pre':return 'code-block';default:return 'unstyled';}}function ia(pa,qa,ra){var sa=ba[pa];if(sa){ra=ra.add(sa).toOrderedSet();}else if(qa instanceof HTMLElement)(function(){var ta=qa;ra=ra.withMutations(function(ua){if(ta.style.fontWeight==='bold')ua.add('BOLD');if(ta.style.fontStyle==='italic')ua.add('ITALIC');if(ta.style.textDecoration==='underline')ua.add('UNDERLINE');if(ta.style.textDecoration==='line-through')ua.add('STRIKETHROUGH');}).toOrderedSet();})();return ra;}function ja(pa,qa){var ra=qa.text.slice(0,1);if(pa.text.slice(-1)==='\r'&&ra==='\r'){pa.text=pa.text.slice(0,-1);pa.inlines.pop();pa.entities.pop();pa.blocks.pop();}if(pa.text.slice(-1)==='\r')if(qa.text===v||qa.text==='\n'){return pa;}else if(ra===v||ra==='\n'){qa.text=qa.text.slice(1);qa.inlines.shift();qa.entities.shift();}return {text:pa.text+qa.text,inlines:pa.inlines.concat(qa.inlines),entities:pa.entities.concat(qa.entities),blocks:pa.blocks.concat(qa.blocks)};}function ka(pa){return aa.some(function(qa){return pa.indexOf('<'+qa)!==-1;});}function la(pa){!(pa instanceof HTMLAnchorElement)?o(0):undefined;var qa=pa.protocol;return qa==='http:'||qa==='https:';}function ma(pa,qa,ra,sa,ta,ua,va){var wa=pa.nodeName.toLowerCase(),xa=false,ya='unstyled',za=ca;if(wa==='#text'){var ab=pa.textContent;if(ab.trim()===''&&sa!=='pre')return ea(va);if(sa!=='pre')ab=ab.replace(y,v);ca=wa;return {text:ab,inlines:Array(ab.length).fill(qa),entities:Array(ab.length).fill(va),blocks:[]};}ca=wa;if(wa==='br'){if(za==='br'&&(!sa||ha(sa,ra)==='unstyled'))return ga('unstyled',ua);return fa();}var bb=da(),cb=null;qa=ia(wa,pa,qa);if(wa==='ul'||wa==='ol'){if(ra)ua+=1;ra=wa;}if(!sa&&ta.indexOf(wa)!==-1){bb=ga(ha(wa,ra),ua);sa=wa;xa=true;}else if(ra&&sa==='li'&&wa==='li'){bb=ga(ha(wa,ra),ua);sa=wa;xa=true;ya=ra==='ul'?'unordered-list-item':'ordered-list-item';}var db=pa.firstChild;if(db!=null)wa=db.nodeName.toLowerCase();var eb=null,fb=null;while(db){if(wa==='a'&&db.href&&la(db)){fb=new l(db.href).toString();eb=j.create('LINK','MUTABLE',{url:fb});}else eb=undefined;cb=ma(db,qa,ra,sa,ta,ua,eb||va);bb=ja(bb,cb);var gb=db.nextSibling;if(gb&&ta.indexOf(wa)>=0&&sa)bb=ja(bb,fa());if(gb)wa=gb.nodeName.toLowerCase();db=gb;}if(xa)bb=ja(bb,ga(ya,ua));return bb;}function na(pa){pa=pa.trim().replace(x,'').replace(z,v);var qa=n(pa);if(!qa)return null;ca=null;var ra=ka(pa)?aa:['div'],sa=ma(qa,s(),'ul',null,ra,-1);if(sa.text.indexOf('\r')===0)sa={text:sa.text.slice(1),inlines:sa.inlines.slice(1),entities:sa.entities.slice(1),blocks:sa.blocks};if(sa.text.slice(-1)==='\r'){sa.text=sa.text.slice(0,-1);sa.inlines=sa.inlines.slice(0,-1);sa.entities=sa.entities.slice(0,-1);sa.blocks.pop();}if(sa.blocks.length===0)sa.blocks.push({type:'unstyled',depth:0});if(sa.text.split('\r').length===sa.blocks.length+1)sa.blocks.unshift({type:'unstyled',depth:0});return sa;}var oa={processHTML:function(pa){var qa=na(pa);if(qa==null)return null;var ra=0;return qa.text.split('\r').map(function(sa,ta){sa=q(sa);var ua=ra+sa.length,va=p(qa).inlines.slice(ra,ua),wa=p(qa).entities.slice(ra,ua),xa=r(va.map(function(ya,za){var ab={style:ya,entity:null};if(wa[za])ab.entity=wa[za];return h.create(ab);}));ra=ua+1;return new i({key:m(),type:p(qa).blocks[ta].type,depth:p(qa).blocks[ta].depth,text:sa,characterList:xa});});},processText:function(pa,qa){return pa.map(function(ra){ra=q(ra);return new i({key:m(),type:'unstyled',text:ra,characterList:r(t(qa,ra.length))});});}};f.exports=oa;},null);
__d('splitTextIntoTextBlocks',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=/\r\n?|\n/g;function i(j){return j.split(h);}f.exports=i;},null);
__d('editOnPaste',['BlockMapBuilder','CharacterMetadata','DataTransfer','DraftModifier','DraftPasteProcessor','EditorState','getEntityKeyForSelection','getTextContentFromFiles','nullthrows','splitTextIntoTextBlocks'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();function r(u){u.preventDefault();var v=new j(u.clipboardData);if(!v.isRichText()){var w=v.getFiles(),x=v.getText();if(w.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(w))return;o(w,function(la){la=la||x;if(!la)return;var ma=this.props.editorState,na=q(la),oa=i.create({style:ma.getCurrentInlineStyle(),entity:n(ma.getCurrentContent(),ma.getSelection())}),pa=l.processText(na,oa),qa=h.createFromArray(pa),ra=k.replaceWithFragment(ma.getCurrentContent(),ma.getSelection(),qa);this.update(m.push(ma,ra,'insert-fragment'));}.bind(this));return;}}var y=null,z=v.getText();this.props.onPasteRawText&&this.props.onPasteRawText(z);if(z)y=q(z);if(!this.props.stripPastedStyles){if(v.isRichText()&&this.getClipboard()){y=p(y);var aa=y.filter(s),ba=this.getClipboard(),ca=ba.toSeq().map(function(la){return la.getText();}).filter(s).toArray(),da=aa.every(function(la,ma){return la===ca[ma];});if(da){this.update(t(this.props.editorState,ba));return;}}var ea=v.getHTML();if(ea){var fa=l.processHTML(ea);if(fa){var ga=h.createFromArray(fa);this.update(t(this.props.editorState,ga));return;}}this.setClipboard(null);}if(y){var ha=this.props.editorState,ia=i.create({style:ha.getCurrentInlineStyle(),entity:n(ha.getCurrentContent(),ha.getSelection())}),ja=l.processText(y,ia),ka=h.createFromArray(ja);this.update(t(this.props.editorState,ka));}}function s(u){return u.length>0;}function t(u,v){var w=k.replaceWithFragment(u.getCurrentContent(),u.getSelection(),v);return m.push(u,w,'insert-fragment');}f.exports=r;},null);
__d('getDraftEditorSelection',['getDraftEditorSelectionWithNodes'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=b.getSelection();if(l.rangeCount===0)return {selectionState:j.getSelection().set('hasFocus',false),needsRecovery:false};return h(j,k,l.anchorNode,l.anchorOffset,l.focusNode,l.focusOffset);}f.exports=i;},null);
__d('editOnSelect',['EditorState','ReactDOM','getDraftEditorSelection'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){if(this._blockSelectEvents)return;var l=this.props.editorState,m=j(l,i.findDOMNode(this.refs.editorContainer).firstChild),n=m.selectionState;if(n!==l.getSelection()){if(m.needsRecovery){l=h.forceSelection(l,n);}else l=h.acceptSelection(l,n);this.update(l);}}f.exports=k;},null);
__d('DraftEditorEditHandler',['editOnBeforeInput','editOnBlur','editOnCompositionStart','editOnCopy','editOnCut','editOnDragOver','editOnDragStart','editOnFocus','editOnInput','editOnKeyDown','editOnPaste','editOnSelect'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t={onBeforeInput:h,onBlur:i,onCompositionStart:j,onCopy:k,onCut:l,onDragOver:m,onDragStart:n,onFocus:o,onInput:p,onKeyDown:q,onPaste:r,onSelect:s};f.exports=t;},null);
__d('DraftEditorPlaceholder.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,h.Component);k=j&&j.prototype;l.prototype.shouldComponentUpdate=function(m){return (this.props.text!==m.text||this.props.editorState.getSelection().getHasFocus()!==m.editorState.getSelection().getHasFocus());};l.prototype.render=function(){var m=this.props.editorState.getSelection().getHasFocus(),n="_1p1t"+(m?' '+"_1p1u":'');return (h.createElement('div',{className:n},h.createElement('div',{className:"_1p1v"},this.props.text)));};function l(){j.apply(this,arguments);}f.exports=l;},null);
__d('KeyBindingUtil',['UserAgent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.isPlatform('Mac OS X'),j={isCtrlKeyCommand:function(k){return !!k.ctrlKey&&!k.altKey;},hasCommandModifier:function(k){return i?!!k.metaKey&&!k.altKey:j.isCtrlKeyCommand(k);}};f.exports=j;},null);
__d('getDefaultKeyBinding',['KeyBindingUtil','Keys','UserAgent'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.isPlatform('Mac OS X'),l=j.isPlatform('Windows'),m=k&&j.isBrowser('Firefox < 29'),n=h.hasCommandModifier,o=h.isCtrlKeyCommand;function p(u){return k&&u.altKey||o(u);}function q(u){if(n(u))return u.shiftKey?'redo':'undo';}function r(u){if(l&&u.shiftKey)return null;return p(u)?'delete-word':'delete';}function s(u){if(n(u)&&k)return 'backspace-to-start-of-line';return p(u)?'backspace-word':'backspace';}function t(u){switch(u.keyCode){case 66:return n(u)?'bold':null;case 68:return o(u)?'delete':null;case 72:return o(u)?'backspace':null;case 73:return n(u)?'italic':null;case 74:return n(u)?'code':null;case 75:return !l&&o(u)?'secondary-cut':null;case 79:return o(u)?'split-block':null;case 84:return k&&o(u)?'transpose-characters':null;case 85:return n(u)?'underline':null;case 87:return k&&o(u)?'backspace-word':null;case 89:if(o(u))return l?'redo':'secondary-paste';return null;case 90:return q(u)||null;case i.DELETE:return r(u);case i.BACKSPACE:return s(u);case i.LEFT:return (m&&n(u)?'move-selection-to-start-of-block':null);case i.RIGHT:return (m&&n(u)?'move-selection-to-end-of-block':null);default:return null;}}f.exports=t;},null);
__d('DraftEditor.react',['DefaultDraftInlineStyle','DraftEditorCompositionHandler','DraftEditorContents.react','DraftEditorDragHandler','DraftEditorEditHandler','DraftEditorPlaceholder.react','EditorState','React','ReactDOM','Scroll','Style','UserAgent','cx','emptyFunction','getDefaultKeyBinding','nullthrows','getScrollPosition'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';var y,z;if(c.__markCompiled)c.__markCompiled();var aa=s.isBrowser('IE'),ba=!aa,ca={edit:l,composite:i,drag:k,cut:null,render:null};y=babelHelpers.inherits(da,o.Component);z=y&&y.prototype;da.defaultProps={blockRendererFn:u.thatReturnsNull,blockStyleFn:u.thatReturns(''),keyBindingFn:v,readOnly:false,spellCheck:false,stripPastedStyles:false};function da(ea){z.constructor.call(this,ea);this.$DraftEditor1=false;this.$DraftEditor2=null;this.$DraftEditor3=false;this.$DraftEditor4=null;this.$DraftEditor5=0;this.$DraftEditor6=this.$DraftEditor26('onBeforeInput');this.$DraftEditor7=this.$DraftEditor26('onBlur');this.$DraftEditor8=this.$DraftEditor26('onCharacterData');this.$DraftEditor9=this.$DraftEditor26('onCompositionEnd');this.$DraftEditor10=this.$DraftEditor26('onCompositionStart');this.$DraftEditor11=this.$DraftEditor26('onCopy');this.$DraftEditor12=this.$DraftEditor26('onCut');this.$DraftEditor13=this.$DraftEditor26('onDragEnd');this.$DraftEditor14=this.$DraftEditor26('onDragOver');this.$DraftEditor15=this.$DraftEditor26('onDragStart');this.$DraftEditor16=this.$DraftEditor26('onDrop');this.$DraftEditor17=this.$DraftEditor26('onInput');this.$DraftEditor18=this.$DraftEditor26('onFocus');this.$DraftEditor19=this.$DraftEditor26('onKeyDown');this.$DraftEditor20=this.$DraftEditor26('onKeyPress');this.$DraftEditor21=this.$DraftEditor26('onKeyUp');this.$DraftEditor22=this.$DraftEditor26('onMouseDown');this.$DraftEditor23=this.$DraftEditor26('onMouseUp');this.$DraftEditor24=this.$DraftEditor26('onPaste');this.$DraftEditor25=this.$DraftEditor26('onSelect');this.focus=this.$DraftEditor27.bind(this);this.blur=this.$DraftEditor28.bind(this);this.setMode=this.$DraftEditor29.bind(this);this.exitCurrentMode=this.$DraftEditor30.bind(this);this.restoreEditorDOM=this.$DraftEditor31.bind(this);this.setRenderGuard=this.$DraftEditor32.bind(this);this.removeRenderGuard=this.$DraftEditor33.bind(this);this.setClipboard=this.$DraftEditor34.bind(this);this.getClipboard=this.$DraftEditor35.bind(this);this.update=this.$DraftEditor36.bind(this);this.onDragEnter=this.$DraftEditor37.bind(this);this.onDragLeave=this.$DraftEditor38.bind(this);this.state={containerKey:0};}da.prototype.$DraftEditor26=function(ea){return function(fa){if(!this.props.readOnly){var ga=this.$DraftEditor4&&this.$DraftEditor4[ea];ga&&ga.call(this,fa);}}.bind(this);};da.prototype.$DraftEditor39=function(){var ea=this.props.editorState.getCurrentContent(),fa=this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!ea.hasText();if(fa)return (o.createElement(m,{text:w(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment}));};da.prototype.render=function(){var ea=this.props,fa=ea.readOnly,ga=ea.textAlignment,ha="_5rp7"+(ga==='left'?' '+"_5rp8":'')+(ga==='right'?' '+"_5rp9":'')+(ga==='center'?' '+"_5rpa":''),ia=this.props.editorState.getCurrentContent().hasText();return (o.createElement('div',{className:ha},this.$DraftEditor39(),o.createElement('div',{className:"_5rpb",key:'editor'+this.state.containerKey,ref:'editorContainer'},o.createElement('div',{'aria-activedescendant':fa?null:this.props.ariaActiveDescendantID,'aria-autocomplete':fa?null:this.props.ariaAutoComplete,'aria-describedby':this.props.ariaDescribedBy,'aria-expanded':fa?null:this.props.ariaExpanded,'aria-haspopup':fa?null:this.props.ariaHasPopup,'aria-label':this.props.ariaLabel,'aria-owns':fa?null:this.props.ariaOwneeID,className:"_5rpu",contentEditable:!fa,'data-testid':this.props.webDriverTestID,onBeforeInput:this.$DraftEditor6,onBlur:this.$DraftEditor7,onCompositionEnd:this.$DraftEditor9,onCompositionStart:this.$DraftEditor10,onCopy:this.$DraftEditor11,onCut:this.$DraftEditor12,onDragEnd:this.$DraftEditor13,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.$DraftEditor14,onDragStart:this.$DraftEditor15,onDrop:this.$DraftEditor16,onFocus:this.$DraftEditor18,onInput:this.$DraftEditor17,onKeyDown:this.$DraftEditor19,onKeyPress:this.$DraftEditor20,onKeyUp:this.$DraftEditor21,onMouseUp:this.$DraftEditor23,onPaste:this.$DraftEditor24,onSelect:this.$DraftEditor25,ref:'editor',role:fa?null:this.props.role||'textbox',spellCheck:ba&&this.props.spellCheck,tabIndex:this.props.tabIndex,title:ia?null:this.props.placeholder},o.createElement(j,{blockRendererFn:w(this.props.blockRendererFn),blockStyleFn:w(this.props.blockStyleFn),customStyleMap:babelHelpers['extends']({},h,this.props.customStyleMap),editorState:this.props.editorState})))));};da.prototype.componentDidMount=function(){this.setMode('edit');if(aa)document.execCommand('AutoUrlDetect',false,false);};da.prototype.componentWillUpdate=function(){this.$DraftEditor1=true;};da.prototype.componentDidUpdate=function(){this.$DraftEditor1=false;};da.prototype.$DraftEditor27=function(ea){var fa=this.props.editorState,ga=fa.getSelection().getHasFocus(),ha=p.findDOMNode(this.refs.editor),ia=r.getScrollParent(ha),ja=ea||x(ia),ka=ja.x,la=ja.y;ha.focus();if(ia===window){window.scrollTo(ka,la);}else q.setTop(ia,la);if(!ga)this.update(n.forceSelection(fa,fa.getSelection()));};da.prototype.$DraftEditor28=function(){p.findDOMNode(this.refs.editor).blur();};da.prototype.$DraftEditor29=function(ea){this.$DraftEditor4=ca[ea];};da.prototype.$DraftEditor30=function(){this.setMode('edit');};da.prototype.$DraftEditor31=function(ea){this.setState({containerKey:this.state.containerKey+1},function(){this.$DraftEditor27(ea);}.bind(this));};da.prototype.$DraftEditor32=function(){this.$DraftEditor3=true;};da.prototype.$DraftEditor33=function(){this.$DraftEditor3=false;};da.prototype.$DraftEditor34=function(ea){this.$DraftEditor2=ea;};da.prototype.$DraftEditor35=function(){return this.$DraftEditor2;};da.prototype.$DraftEditor36=function(ea){this.props.onChange(ea);};da.prototype.$DraftEditor37=function(){this.$DraftEditor5++;};da.prototype.$DraftEditor38=function(){this.$DraftEditor5--;if(this.$DraftEditor5===0)this.exitCurrentMode();};f.exports=da;},null);
__d('isSoftNewlineEvent',['Keys'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){return j.which===h.RETURN&&(j.getModifierState('Shift')||j.getModifierState('Alt')||j.getModifierState('Control'));}f.exports=i;},null);
__d('EmoticonSpan.react',['DraftEntity','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'EmoticonSpan',render:function(){var m=h.get(this.props.entityKey),n=m.getData(),o=n.type,p=k("_1ty6",'emoticon_'+o);return (i.createElement('span',{className:p,title:o,'data-offset-key':this.props.offsetKey},i.createElement('span',{className:"_5ukz"},this.props.children)));}});f.exports=l;},null);
__d('applyEmoticonToContentBlock',['CharacterMetadata','DraftEntity','EmoticonsList','immutable'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.List,m='\u3000';function n(o,p,q){if(!j.emotes[p])return o;var r=i.create('EMOTICON','IMMUTABLE',{type:j.emotes[p],originalEmoticon:p}),s=o.getText(),t=o.getCharacterList(),u=p.length,v=t.get(q);return o.merge({text:s.slice(0,q)+m+s.slice(q+u),characterList:t.slice(0,q).concat(l.of(h.applyEntity(v,r)),t.slice(q+u))});}f.exports=n;},null);
__d('getTextAfterNearestEntity',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=j;while(k>0&&i.getEntityAt(k-1)===null)k--;return i.getText().slice(k,j);}f.exports=h;},null);
__d('applyEmoticonToContentState',['EmoticonsList','applyEmoticonToContentBlock','getTextAfterNearestEntity'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=new RegExp(h.regexp.source,'g');function l(m,n){var o=n.getAnchorKey(),p=n.getAnchorOffset(),q=m.getBlockForKey(o),r=j(q,p),s,t;while(t!==null){t=k.exec(r);if(t!==null)s=t;}if(!s)return m;var u=s[1];if(!u&&p!==r.length)return m;var v=s[2],w=p-r.length,x=w+s.index+s[1].length,y=m.getBlockMap().set(o,i(q,v,x));p-=v.length-1;return m.merge({blockMap:y,selectionBefore:n,selectionAfter:n.merge({anchorOffset:p,focusOffset:p})});}f.exports=l;},null);
__d('handleBeforeInputForEmoticon',['DraftModifier','EditorState','applyEmoticonToContentState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new RegExp(/[\s'".,!?]/);function l(m,n){var o=m.getSelection();if(!o.isCollapsed()||!n||!k.test(n))return m;var p=m.getCurrentContent(),q=j(p,o);if(q===p)return m;var r=h.insertText(q,q.getSelectionAfter(),n);return i.push(m,r,'insert-characters');}f.exports=l;},null);
__d('handleSoftNewlineForEmoticon',['DraftModifier','EditorState','applyEmoticonToContentState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l){var m=l.getCurrentContent(),n=l.getSelection(),o=j(m,n);if(o===m)return l;var p=h.splitBlock(o,o.getSelectionAfter());return i.push(l,p,'split-block');}f.exports=k;},null);
__d('createCharacterList',['CharacterMetadata','immutable'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.List;function k(l,m){var n=l.map(function(o,p){var q=m[p];return h.create({style:o,entity:q});});return j(n);}f.exports=k;},null);
__d('decodeEntityRanges',['UnicodeUtils'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.substr;function j(k,l){var m=Array(k.length).fill(null);if(l)l.forEach(function(n){var o=i(k,0,n.offset).length,p=o+i(k,n.offset,n.length).length;for(var q=o;q<p;q++)m[q]=n.key;});return m;}f.exports=j;},null);
__d('decodeInlineStyleRanges',['UnicodeUtils','immutable'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.OrderedSet,k=h.substr,l=j();function m(n,o){var p=Array(n.length).fill(l);if(o)o.forEach(function(q){var r=k(n,0,q.offset).length,s=r+k(n,q.offset,q.length).length;while(r<s){p[r]=p[r].add(q.style);r++;}});return p;}f.exports=m;},null);
__d('convertFromRawToDraftState',['ContentBlock','DraftEntity','createCharacterList','decodeEntityRanges','decodeInlineStyleRanges','generateBlockKey'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();function n(o){var p=o.blocks,q=o.entityMap,r={};Object.keys(q).forEach(function(s){var t=q[s],u=t.type,v=t.mutability,w=t.data,x=i.create(u,v,w||{});r[s]=x;});return p.map(function(s){var t=s.key,u=s.type,v=s.text,w=s.depth,x=s.inlineStyleRanges,y=s.entityRanges;t=t||m();w=w||0;x=x||[];y=y||[];var z=l(v,x),aa=y.filter(function(da){return r.hasOwnProperty(da.key);}).map(function(da){return babelHelpers['extends']({},da,{key:r[da.key]});}),ba=k(v,aa),ca=j(z,ba);return new h({key:t,type:u,text:v,depth:w,characterList:ca});});}f.exports=n;},null);
__d('decodeBlocks',['ComposedBlockType','ComposedInlineStyle','convertFromRawToDraftState','mapObject'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(o,p){var q=o.map(function(s){var t=s.type,u=s.inlineStyleRanges,v=babelHelpers.objectWithoutProperties(s,['type','inlineStyleRanges']);return babelHelpers['extends']({type:m[t],inlineStyleRanges:(u||[]).map(function(w){return babelHelpers['extends']({},w,{style:n[w.style]});})},v);}),r=k(p,function(s){return {type:s.getType(),mutability:s.getMutability(),data:s.getData()};});return j({blocks:q,entityMap:r});}var m={};m[h.UNSTYLED]='unstyled';m[h.PARAGRAPH]='paragraph';m[h.BLOCKQUOTE]='blockquote';m[h.ORDERED_LIST_ITEM]='ordered-list-item';m[h.UNORDERED_LIST_ITEM]='unordered-list-item';m[h.CODE]='code-block';m[h.HEADER_ONE]='header-one';m[h.HEADER_TWO]='header-two';m[h.MEDIA]='media';m[h.PULLQUOTE]='pullquote';var n={};n[i.BOLD]='BOLD';n[i.CODE]='CODE';n[i.ITALIC]='ITALIC';n[i.STRIKETHROUGH]='STRIKETHROUGH';n[i.UNDERLINE]='UNDERLINE';f.exports=l;},null);
__d('DraftStringKey',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={stringify:function(i){return '_'+String(i);},unstringify:function(i){return i.slice(1);}};f.exports=h;},null);
__d('encodeEntityRanges',['DraftStringKey','UnicodeUtils'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.strlen;function k(l,m){var n=[];l.findEntityRanges(function(o){return !!o.getEntity();},function(o,p){var q=l.getText(),r=l.getEntityAt(o);n.push({offset:j(q.slice(0,o)),length:j(q.slice(o,p)),key:Number(m[h.stringify(r)])});});return n;}f.exports=k;},null);
__d('encodeInlineStyleRanges',['DefaultDraftInlineStyle','UnicodeUtils','findRangesImmutable'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=function(p,q){return p===q;},l=function(p){return !!p;},m=[];function n(p,q,r){var s=[],t=q.map(function(u){return u.has(r);}).toList();j(t,k,l,function(u,v){var w=p.getText();s.push({offset:i.strlen(w.slice(0,u)),length:i.strlen(w.slice(u,v)),style:r});});return s;}function o(p){var q=p.getCharacterList().map(function(t){return t.getStyle();}).toList(),r=Object.keys(h),s=r.map(function(t){return n(p,q,t);});return Array.prototype.concat.apply(m,s);}f.exports=o;},null);
__d('convertFromDraftStateToRaw',['DraftEntity','DraftStringKey','encodeEntityRanges','encodeInlineStyleRanges'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(n){var o=0,p={},q=[];n.getBlockMap().forEach(function(t,u){t.findEntityRanges(function(v){return v.getEntity()!==null;},function(v){var w=i.stringify(t.getEntityAt(v));if(!p.hasOwnProperty(w))p[w]=''+o++;});q.push({key:u,text:t.getText(),type:t.getType(),depth:m(t)?t.getDepth():0,inlineStyleRanges:k(t),entityRanges:j(t,p)});});var r=Object.keys(p),s={};r.forEach(function(t,u){var v=h.get(i.unstringify(t));s[u]={type:v.getType(),mutability:v.getMutability(),data:v.getData()};});return {entityMap:s,blocks:q};}function m(n){var o=n.getType();return o==='ordered-list-item'||o==='unordered-list-item';}f.exports=l;},null);
__d('encodeBlocks',['ComposedBlockType','ComposedEntityType','ComposedInlineStyle','convertFromDraftStateToRaw','mapObject','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();function n(q){var r=k(q),s=r.blocks,t=r.entityMap,u=s.map(function(w){var x=w.key,y=w.type,z=w.text,aa=w.depth,ba=w.inlineStyleRanges,ca=w.entityRanges;return {key:m(x),type:o[y],text:z,depth:m(aa),inlineStyleRanges:m(ba).map(function(da){return babelHelpers['extends']({},da,{style:p[da.style]});}),entityRanges:m(ca)};}),v=l(t,function(w){var x=w.data,y=null,z=undefined;if(typeof x==='object'){y=x.id;z=babelHelpers.objectWithoutProperties(x,['id']);if(Object.keys(z).length===0){z=undefined;}else z=l(z,function(aa){return aa==null?'':String(aa);});}return {id:y||null,type:i[w.type],data:z};});return {blocks:u,entityMap:v};}var o={unstyled:h.UNSTYLED,paragraph:h.PARAGRAPH,blockquote:h.BLOCKQUOTE,'ordered-list-item':h.ORDERED_LIST_ITEM,'unordered-list-item':h.UNORDERED_LIST_ITEM,'code-block':h.CODE,'header-one':h.HEADER_ONE,'header-two':h.HEADER_TWO,media:h.MEDIA,pullquote:h.PULLQUOTE},p={BOLD:j.BOLD,CODE:j.CODE,ITALIC:j.ITALIC,STRIKETHROUGH:j.STRIKETHROUGH,UNDERLINE:j.UNDERLINE};f.exports=n;},null);
__d('getVisibleValueForContentState',['DraftEntity','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){var l=k.getBlockMap().map(function(m){var n=m.getText(),o='';m.findEntityRanges(i.thatReturnsTrue,function(p,q){var r=m.getEntityAt(p);if(r===null){o+=n.slice(p,q);}else{var s=h.get(r);if(s.getType()==='EMOTICON'){o+=s.getData().originalEmoticon;}else o+=n.slice(p,q);}});return o;});return l.join('\n');}f.exports=j;},null);
__d('getEntityMatcher',['DraftEntity'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.get;function j(k,l){var m=l||i;return function(n,o){n.findEntityRanges(function(p){var q=p.getEntity();return typeof q==='string'&&k(m(q));},o);};}f.exports=j;},null);
__d('insertEmoticonIntoContentState',['DraftModifier','applyEmoticonToContentBlock'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m){var n=h.replaceText(l,m,k),o=m.getAnchorKey(),p=m.getAnchorOffset(),q=n.getBlockForKey(o),r=n.getBlockMap().set(o,i(q,k,p));p++;return l.merge({blockMap:r,selectionBefore:m,selectionAfter:m.merge({anchorOffset:p,focusOffset:p})});}f.exports=j;},null);
__d('insertEmoticonIntoEditorState',['DraftModifier','EditorState','insertEmoticonIntoContentState'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=' ';function l(m,n){var o=n.getSelection(),p=n.getCurrentContent(),q=o.getStartOffset(),r=o.getEndOffset(),s=p.getBlockForKey(o.getStartKey()).getText(),t=p.getBlockForKey(o.getEndKey()).getText(),u='';if(r<=t.length&&t[r]!==k)u=k;if(q>0&&s[q-1]!==k){p=h.insertText(p,o,k);o=p.getSelectionAfter();}var v=j(m,p,o);p=h.insertText(v,v.getSelectionAfter(),u);return i.push(n,p,'insert-characters');}f.exports=l;},null);
__d('CompositeDraftDecorator',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.List,j='.';function k(n){this.$CompositeDraftDecorator1=n.slice();}k.prototype.getDecorations=function(n){var o=Array(n.getText().length).fill(null);this.$CompositeDraftDecorator1.forEach(function(p,q){var r=0,s=p.strategy;s(n,function(t,u){if(l(o,t,u)){m(o,t,u,q+j+r);r++;}});});return i(o);};k.prototype.getComponentForKey=function(n){var o=parseInt(n.split(j)[0],10);return this.$CompositeDraftDecorator1[o].component;};k.prototype.getPropsForKey=function(n){var o=parseInt(n.split(j)[0],10);return this.$CompositeDraftDecorator1[o].props;};function l(n,o,p){for(var q=o;q<p;q++)if(n[q]!=null)return false;return true;}function m(n,o,p,q){for(var r=o;r<p;r++)n[r]=q;}f.exports=k;},null);
__d('AbstractTokenizer.react',['AbstractTypeahead.react','React','ReactDOM','TokenizerToken.react','cx','ex','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=i.PropTypes,q=i.createClass({displayName:'AbstractTokenizer',propTypes:{alwaysShowPlaceholder:p.bool,className:p.string,excludeTokenEntries:p.bool,extraTokenRendererProps:p.object,inputClassName:p.string,tokenClassName:p.string,placeholder:p.string,queryString:p.string,searchSource:p.object.isRequired,searchSourceOptions:p.object,shouldClearQueryStringAfterSelect:p.bool,presenter:p.object.isRequired,entries:p.array,onAddEntryAttempt:p.func.isRequired,onEntriesFound:p.func,onPaste:p.func,onRemoveEntryAttempt:p.func.isRequired,onReorderEntryAttempt:p.func,onQueryStringChange:p.func,onInputFocus:p.func,onInputBlur:p.func,onTypeaheadMouseDown:p.func,excludedEntries:p.object,inputID:p.string,entriesWidthMatchContext:p.bool,hideViewWithEntries:p.bool,disabled:p.bool,typeaheadInputStyle:p.object,limit:function(r,s,t){var u=r[s],v=u==null||typeof u==='number'&&u>0;if(!v)return new Error(m('Invalid entries limit `%s` provided, must be a positive '+'number if set.',u));},selectOnBlur:p.bool,selectOnTab:p.bool,tokenizeQueryString:p.func,tokenizeQueryStringOnBlur:p.func},getDefaultProps:function(){return {autoHighlight:true,excludeTokenEntries:true,hideViewWithEntries:true,onInputBlur:n,selectOnBlur:false,selectOnTab:true,shouldClearQueryStringAfterSelect:true,tokenizeQueryString:n.thatReturnsNull,tokenizeQueryStringOnBlur:n.thatReturnsNull,entriesWidthMatchContext:true};},getInitialState:function(){return {queryString:''};},_getQueryString:function(){return this.props.queryString||this.state.queryString;},_hasReachedEntriesLimit:function(){if(this.props.limit&&this.props.entries)return this.props.entries.length>=this.props.limit;return false;},componentWillReceiveProps:function(r){if(r.queryString==null&&this.props.queryString!=null)this.setState({queryString:this.props.queryString});},render:function(){var r=!!this.props.onReorderEntryAttempt,s=o("_58-2"+(r?' '+"_5ph3":''),'clearfix',this.props.className),t,u=this.props.entries,v={},w=u&&u.length>0,x;if(w){t=[];for(var y=0,z=u.length;y<z;y++){var aa=u[y];x=aa.getUniqueID();t[y]=this._renderToken(aa,y);if(this.props.excludeTokenEntries)v[x]=true;}}if(this.props.excludedEntries)for(x in this.props.excludedEntries)v[x]=this.props.excludedEntries[x];var ba=null;if(!w||this.props.alwaysShowPlaceholder)ba=this.props.placeholder;return (i.createElement('div',babelHelpers['extends']({},this.props,{className:o(this.props.className,s),placeholder:null,onClick:this._focusTypeahead,onMouseDown:this._onTypeaheadMouseDown,onDragOver:this.onBackgroundDragOver,onDrop:this.onBackgroundDrop,tabIndex:null,'data-testid':this.props['data-testid']}),t,i.createElement(h,{ref:'typeahead',selectedEntry:null,className:"_58-0",ariaLabel:this.props.placeholder,'data-testid':this.props['data-testid'],inputClassName:this.props.inputClassName,showEntriesOnFocus:this.props.showEntriesOnFocus,queryString:this._getQueryString(),placeholder:ba,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,excludedEntries:v,onSelectAttempt:this._onSelectAttempt,onEntriesFound:this.props.onEntriesFound,onEnterWithoutSelection:this.props.onEnterWithoutSelection,onChange:this._onInputChange,onFocus:this.props.onInputFocus,onBlur:this._onInputBlur,onBackspace:this._onBackspace,onPaste:this.props.onPaste,tabIndex:this.props.tabIndex,autoHighlight:this.props.autoHighlight,selectOnBlur:this.props.selectOnBlur,selectOnTab:this.props.selectOnTab,context:this.props.context,focusedOnInit:this.props.focusedOnInit,inputID:this.props.inputID,entriesWidthMatchContext:this.props.entriesWidthMatchContext,hideViewWithEntries:this.props.hideViewWithEntries,disabled:this.props.disabled,inputStyle:this.props.typeaheadInputStyle}),i.createElement('span',{ref:'textSizeProxy',className:"_58-3",'aria-hidden':'true'},this._getQueryString()||ba)));},componentDidMount:function(){this._syncTimer=setTimeout(this._syncInputWidth,0);},componentDidUpdate:function(){clearTimeout(this._syncTimer);this._syncTimer=setTimeout(this._syncInputWidth,0);},componentWillUnmount:function(){clearTimeout(this._syncTimer);},clearActiveEntries:function(){this.refs.typeahead&&this.refs.typeahead.clearActiveEntries();},focusInput:function(){if(this.refs&&this.refs.typeahead)this.refs.typeahead.focusInput();},_focusTypeahead:function(r){r.preventDefault();this.focusInput();},_onTypeaheadMouseDown:function(){this.props.onTypeaheadMouseDown&&this.props.onTypeaheadMouseDown();},_onInputChange:function(event){if(this._hasReachedEntriesLimit())return;var r=event.target.value,s=this.props.tokenizeQueryString(r);if(s){this._onSelectAttempt(s);}else if(this.props.queryString==null)this.setState({queryString:r});if(this.props.onQueryStringChange)this.props.onQueryStringChange(event);},_onInputBlur:function(){var r=this._getQueryString(),s=this.props.tokenizeQueryStringOnBlur(r);if(s)this._onBlurringSelectAttempt(s);this.props.onInputBlur();},_onSelectAttempt:function(r){this._onAddEntryAttempt(r);setTimeout(this.focusInput,0);},_onBlurringSelectAttempt:function(r){this._onAddEntryAttempt(r);},_onAddEntryAttempt:function(r){if(r){this.props.onAddEntryAttempt(r);if(this.props.queryString==null&&this.props.shouldClearQueryStringAfterSelect)this.setState({queryString:''});}},_onRemove:function(r){this.props.onRemoveEntryAttempt(r);},_onBackspace:function(event){var r=this.props.entries;if(r&&!this._getQueryString()&&r.length){var s=r[r.length-1];this.props.onRemoveEntryAttempt(s);event.preventDefault();setTimeout(this.focusInput,0);}},_syncInputWidth:function(){var r=j.findDOMNode(this.refs.textSizeProxy).offsetWidth;if(r===0)return;this.refs.typeahead.getTextFieldDOM().style.width=r+'px';},onBackgroundDragOver:function(event){event.preventDefault();var r=event.nativeEvent.dataTransfer;if(r)r.dropEffect='move';var s=this.props.entries;this.onTokenDragOver(s[s.length-1],s.length-1,false);},onBackgroundDrop:function(event){this.onTokenDrop(null,this.props.entries.length);},onTokenDragStart:function(r,s){this.setState({draggingIndex:s});},onTokenDragEnd:function(r,s){this.setState({draggingIndex:null});},onTokenDragLeave:function(r,s){if(this.leaveTimer)return;this.leaveTimer=setTimeout(function(){this.leaveTimer=null;if(this.state.dragTargetIndex===null)return;this.setState({dragTargetIndex:null});}.bind(this),100);},onTokenDragOver:function(r,s,t){if(this.leaveTimer){clearTimeout(this.leaveTimer);this.leaveTimer=null;}if(this.state.draggingIndex!==null&&this.state.draggingIndex!==s&&this.props.onReorderEntryAttempt){if(this.state.dragTargetIndex===s&&this.state.draggedOverLeftSideOfElement===t)return;this.setState({dragTargetIndex:s,draggedOverLeftSideOfElement:t});}},onTokenDrop:function(r,s){if(this.state.draggingIndex!==null&&this.props.onReorderEntryAttempt){if(!this.state.draggedOverLeftSideOfElement)s++;if(this.state.draggingIndex!==s)this.props.onReorderEntryAttempt(this.state.draggingIndex,s);}this.setState({draggingIndex:null,dragTargetIndex:null,draggedOverLeftSideOfElement:null});},_renderToken:function(r,s){var t=this.props.presenter.TokenRenderer||k,u=this.state.draggingIndex===s,v=!!this.props.onReorderEntryAttempt,w=this.state.dragTargetIndex===s,x=o("_2ei6"+(u?' '+"_5ph4":'')+(w?' '+"_5o8i":'')+(w&&this.state.draggedOverLeftSideOfElement?' '+"_5o8j":'')+(w&&!this.state.draggedOverLeftSideOfElement?' '+"_5o8k":''),this.props.tokenClassName);return (i.createElement(t,babelHelpers['extends']({},this.props.extraTokenRendererProps,{className:x,key:r.getUniqueID(),label:r.getTitle(),entry:r,index:s,onRemove:this._onRemove,isDragDropEnabled:v,onTokenDragStart:this.onTokenDragStart,onTokenDragEnd:this.onTokenDragEnd,onTokenDragOver:this.onTokenDragOver,onTokenDragLeave:this.onTokenDragLeave,onTokenDrop:this.onTokenDrop})));}});f.exports=q;},null);
__d('FBPaymentsErrorNotice.react',['React','XUINotice.react','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'FBPaymentsErrorNotice',propTypes:{error:k.object},getDefaultProps:function(){return {error:null};},renderErrorContent:function(){var m=this.props.error;if(m.message.__html){return h.createElement('span',{dangerouslySetInnerHTML:m.message});}else return h.createElement('span',null,m.message);},render:function(){return (h.createElement(i,{className:"_3-8n",use:'warn'},this.renderErrorContent()));}});f.exports=l;},null);
__d('isRTL',['UnicodeBidi','UnicodeBidiDirection'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){return h.getDirection(k)===i.RTL;}f.exports=j;},null);
__d('MercurySyncHolesTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:MercurySyncHolesLoggerConfig',this.$MercurySyncHolesTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:MercurySyncHolesLoggerConfig',this.$MercurySyncHolesTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$MercurySyncHolesTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$MercurySyncHolesTypedLogger1=babelHelpers['extends']({},this.$MercurySyncHolesTypedLogger1,m);return this;};k.prototype.setDifference=function(m){this.$MercurySyncHolesTypedLogger1.difference=m;return this;};k.prototype.setSeqID=function(m){this.$MercurySyncHolesTypedLogger1.seq_id=m;return this;};k.prototype.setTopicType=function(m){this.$MercurySyncHolesTypedLogger1.topic_type=m;return this;};k.prototype.setVC=function(m){this.$MercurySyncHolesTypedLogger1.vc=m;return this;};var l={difference:true,seq_id:true,topic_type:true,vc:true};f.exports=k;},null);
__d('MercuryLoggingHelper',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={obfuscateThread:function(i){var j=babelHelpers['extends']({},i);if(i&&i.snippet&&i.snippet.length>5)j.snippet=i.snippet.substr(0,5)+'...';return j;},obfuscateMessage:function(i){var j=babelHelpers['extends']({},i);if(i&&i.body&&i.body.length>5)j.body=i.body.substr(0,5)+'...';return j;}};f.exports=h;},null);
__d('MercuryAssert',['MercuryIDs'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={isParticipantID:function(i){if(!h.isValid(i))throw 'bad_participant_id '+i;},allParticipantIDs:function(i){i.forEach(this.isParticipantID);},isUserParticipantID:function(i){var j=h.tokenize(i);if(j.type!='fbid')throw 'bad_user_id '+i;},isEmailParticipantID:function(i){var j=h.tokenize(i);if(j.type!='email')throw 'bad_email_id '+i;},allThreadID:function(i){i.forEach(this.isThreadID);},isThreadID:function(i){if(!h.isValid(i))throw 'bad_thread_id '+i;}};},null);
__d('MercurySingletonMixin',['CurrentUser'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_getInstances:function(){if(!this._instances)this._instances={};return this._instances;},get:function(){return this.getForFBID(h.getID());},getForFBID:function(j){var k=this._getInstances();if(!k[j])k[j]=new this(j);return k[j];}};f.exports=i;},null);
__d('MercuryThreadInformer',['ArbiterMixin','LogHistory','MercuryAssert','MercurySingletonMixin','mapObject','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o;if(c.__markCompiled)c.__markCompiled();var p=i.getInstance('mercury_informer');n=babelHelpers.inherits(q,m(h));o=n&&n.prototype;function q(r){o.constructor.call(this);this.$MercuryThreadInformer1=r;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5=false;this.$MercuryThreadInformer6=false;this.$MercuryThreadInformer7=false;this.$MercuryThreadInformer8={};this.$MercuryThreadInformer9={};this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11=0;}q.prototype.updatedThread=function(r){this.$MercuryThreadInformer3[r]=true;this.$MercuryThreadInformer12();};q.prototype.deletedThread=function(r){this.$MercuryThreadInformer2[r]=true;this.$MercuryThreadInformer12();};q.prototype.updatedThreadlist=function(){this.$MercuryThreadInformer5=true;this.$MercuryThreadInformer12();};q.prototype.updatedUnseenState=function(){this.$MercuryThreadInformer6=true;this.$MercuryThreadInformer12();};q.prototype.updatedUnreadState=function(){this.$MercuryThreadInformer7=true;this.$MercuryThreadInformer12();};q.prototype.changedThreadReadState=function(r,s,t){if(!this.$MercuryThreadInformer4[r]||this.$MercuryThreadInformer4[r].timestamp<t)this.$MercuryThreadInformer4[r]={mark_as_read:s,timestamp:t};this.$MercuryThreadInformer12();};q.prototype.receivedMessage=function(r){j.isThreadID(r.thread_id);var s=r.thread_id;if(!this.$MercuryThreadInformer8[s])this.$MercuryThreadInformer8[s]=[];this.$MercuryThreadInformer8[s].push(r);this.updatedThread(s);};q.prototype.reorderedMessages=function(r,s){this.$MercuryThreadInformer9[r]={source:s};this.$MercuryThreadInformer12();};q.prototype.updatedMessage=function(r,s,t){if(!this.$MercuryThreadInformer10[r])this.$MercuryThreadInformer10[r]={};this.$MercuryThreadInformer10[r][s]={source:t};this.updatedThread(r);};q.prototype.synchronizeInforms=function(r){this.$MercuryThreadInformer11++;try{r();}catch(s){throw s;}finally{this.$MercuryThreadInformer11--;this.$MercuryThreadInformer12();}};q.prototype.listen=function(r,s){return this.subscribe('threads-updated',function(t,u){if(u[r])s(r);});};q.prototype.$MercuryThreadInformer12=function(){if(!this.$MercuryThreadInformer11){var r=this.$MercuryThreadInformer2,s=this.$MercuryThreadInformer3,t=this.$MercuryThreadInformer4,u=this.$MercuryThreadInformer5,v=this.$MercuryThreadInformer6,w=this.$MercuryThreadInformer7,x=this.$MercuryThreadInformer8,y=this.$MercuryThreadInformer9,z=this.$MercuryThreadInformer10;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5=false;this.$MercuryThreadInformer6=false;this.$MercuryThreadInformer7=false;this.$MercuryThreadInformer8={};this.$MercuryThreadInformer9={};this.$MercuryThreadInformer10={};var aa=Object.keys(s);if(aa.length||u)this.inform('threadlist-updated',aa);if(aa.length)this.$MercuryThreadInformer13('threads-updated',s);for(var ba in t){this.$MercuryThreadInformer13('thread-read-changed',t);break;}for(ba in r){this.$MercuryThreadInformer13('threads-deleted',r);break;}if(v)this.$MercuryThreadInformer13('unseen-updated',null);if(w)this.$MercuryThreadInformer13('unread-updated',null);for(ba in x){this.$MercuryThreadInformer13('messages-received',x);break;}for(ba in y){this.$MercuryThreadInformer13('messages-reordered',y);break;}for(ba in z){this.$MercuryThreadInformer13('messages-updated',z);break;}}};q.prototype.$MercuryThreadInformer13=function(r,s){p.debug(r,'{}');this.inform(r,s);};Object.assign(q,k);f.exports=q;},null);
__d('MercuryDispatcher',['ArbiterMixin','LogHistory','MercuryLoggingHelper','MercuryPayloadSource','MercurySingletonProvider','MercuryThreadInformer','invariant','isEmpty','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q,r;if(c.__markCompiled)c.__markCompiled();var s=i.getInstance('mercury_dispatcher');q=babelHelpers.inherits(t,p(h));r=q&&q.prototype;t.getForFBID=function(v){return u.getForFBID(v);};t.get=function(){return u.get();};function t(v){r.constructor.call(this);this.$MercuryDispatcher1=v;}t.prototype.handleUpdate=function(v){this.$MercuryDispatcher2(v);!(!!v.from_client!==!!v.preprocessed)?n(0):undefined;delete v.preprocessed;if(!o(v))m.getForFBID(this.$MercuryDispatcher1).synchronizeInforms(function(){if(v.payload_source===k.SERVER_INVALIDATE_GLOBAL_STATE)this.inform('invalidate-global-state',{});if(v.payload_source===k.SERVER_INVALIDATE_THREAD_STATE){var w=v.threads&&v.threads.length>0&&v.threads[0]&&v.threads[0].thread_id;if(w)this.inform('invalidate-thread-state',w);}if(!v.from_client)this.inform('payload-preprocessed',v);this.inform('update-thread-ids',v.newlyAddedClientIDs||{});this.inform('update-participants',v);this.inform('update-threads',v);this.inform('update-unread',v);this.inform('update-threadlist',v);this.inform('update-pinned-threads',v);this.inform('update-messages',v);this.inform('update-unseen',v);this.inform('update-typing-state',v);this.inform('update-delivery',v);this.inform('update-roger',v.roger);this.inform('update-blocked-users',v);this.inform('model-update-completed',null);}.bind(this));};t.prototype.$MercuryDispatcher2=function(v){var w={actions:[],threads:[]};if(v){if(v.actions)w.actions=v.actions.map(function(z){return j.obfuscateMessage(z);});if(v.threads)w.threads=v.threads.map(function(z){return j.obfuscateThread(z);});}var x=Object.assign({},v,w),y=v.payload_source;if(y!==k.CLIENT_CHANGE_READ_STATUS&&y!==k.CLIENT_MARK_THREAD_SEEN)s.debug('update:'+y,JSON.stringify({from_client:v.from_client}));};var u=new l(t);f.exports=t;},null);
__d('MercuryLocalIDs',['PresenceUtil','randomInt'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={generateMessageID:function(l){var m=l||Date.now(),n=i(0,4294967295),o=h.getSessionID();return '<'+m+':'+n+'-'+o+'@mail.projektitan.com>';},generateThreadID:function(l){return 'root:'+j.generateOfflineThreadingID(l);},generateOfflineThreadingID:function(l){var m=l||Date.now(),n=i(0,4294967295),o=('0000000000000000000000'+n.toString(2)).slice(-22),p=m.toString(2)+o;return k(p.slice(-63));}};function k(l){var m='';while(l!='0'){var n=0,o='';for(var p=0;p<l.length;p++){n=2*n+parseInt(l[p],10);if(n>=10){o+='1';n-=10;}else o+='0';}m=n.toString()+m;l=o.slice(o.indexOf('1'));}return m;}f.exports=j;},null);
__d('MercuryMessageClientState',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DO_NOT_SEND_TO_SERVER:'do_not_send_to_server',SEND_TO_SERVER:'send_to_server'};f.exports=h;},null);
__d('EmojiLikeConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SMALL:'small',MEDIUM:'medium',LARGE:'large'},i='hot_emoji_size',j='emoji_like',k='\uD83D\uDC4D';f.exports={size:h,TAG_PREFIX_NEW:i,TAG_PREFIX_OLD:j,THUMBS_UP_EMOJI:k};},null);
__d('MercuryTagHelper',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={get:function(i,j){var k=i.find(function(l){return l.startsWith(j);});return k&&k.substr(k.indexOf(':')+1);}};f.exports=h;},null);
__d('EmojiLikeUtils',['EmoticonsList','EmojiLikeConstants','MercuryConfig','MercuryTagHelper','SupportedEmoji','Utf16'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o;if(c.__markCompiled)c.__markCompiled();var p=i.size,q='/images/emoji/unicode/emoji_',r='/images/emoticons/',s=(n={},n[p.SMALL]='_16-2x',n[p.MEDIUM]='_64',n[p.LARGE]='_64',n),t=(o={},o[p.MEDIUM]='-2x',o),u='.png',v='emoji',w='emoticon',x=new RegExp('([\u203C\u2049\u2100-\u21FF\u2300-\u27FF'+'\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|'+'\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?'),y=function(fa){if(!j.BubblelessEmojiRenderingGK)return false;var ga=fa||'',ha=[],ia=null;while(ga.length>0){ga=ga.trim();if(h.noncapturingRegexp.test(ga)){ia=h.noncapturingRegexp.exec(ga);ha.push({type:w,title:ia[1],id:h.emotes[ia[1]]});ga=ga.replace(h.noncapturingRegexp,'');}else if(x.test(ga)){var ja=x.exec(ga);if(!ja||!ja.length)return false;ia=ja[1];var ka=m.decode(ia),la=l.emoji[ka];if(!la)return false;ha.push({type:v,id:ka.toString(16)});ga=ga.replace(x,'');}else return false;}return ha;};function z(fa,ga){fa.tags=[aa(ga)];return fa;}function aa(fa){var ga=j.WWWMessengerNewEmojiSizeTagGK?i.TAG_PREFIX_NEW:i.TAG_PREFIX_OLD;return ga+':'+fa;}function ba(fa){return ca(fa)!=null;}function ca(fa){if(!fa.tags)return null;var ga=k.get(fa.tags,i.TAG_PREFIX_NEW);if(ga)return ga;return k.get(fa.tags,i.TAG_PREFIX_OLD);}function da(fa,ga){if(!l.findEmoji(fa))return null;return (q+m.decode(fa).toString(16)+s[ga]+u);}function ea(fa){var ga=p.LARGE,ha=p.MEDIUM,ia=[];if(fa)fa.forEach(function(ja){if(ja.type===v){ia.push({type:ja.type,title:undefined,url:q+ja.id+s[ga]+u});}else ia.push({type:ja.type,title:ja.title,url:r+ja.id+t[ha]+u});});return ia;}f.exports={getEmojiSize:ca,getURI:da,getSourceURIs:ea,isEmojiLike:ba,richContent:y,setEmojiSize:z,EMOJI_TYPE:v,EMOTE_TYPE:w};},null);
__d('MercuryAttachment',['EmojiLikeUtils','MercuryAttachmentContentType','MercuryAttachmentType','MercuryAudioType','MercuryTagHelper','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={getAttachIconClass:function(o){switch(o){case i.PHOTO:return "_y2-";case i.VIDEO:return "_y2_";case i.MUSIC:return "_y30";case i.VOICE:return "_y31";case i.TEXT:return "_y32";case i.MSWORD:return "_y33";case i.MSXLS:return "_y34";case i.MSPPT:return "_y35";}return "_y36";},getAttachIconClassByMime:function(o){if(o.startsWith('image')){return "_y2-";}else if(o.startsWith('video')){return "_y2_";}else if(o.startsWith('audio')){return "_y30";}else if(o.startsWith('text/plain')){return "_y32";}else return "_y36";},getAttachTypeByMime:function(o){if(o.startsWith('image')){return i.PHOTO;}else if(o.startsWith('video')){return i.VIDEO;}else if(o.startsWith('audio')){return i.MUSIC;}else if(o.startsWith('text/plain')){return i.TEXT;}else return i.UNKNOWN;},convertRaw:function(o){var p=[];for(var q=0;q<o.length;q++){var r=o[q];if(r.attach_type===j.PHOTO){p.push(r);}else if(r.filename){var s=n.getAttachTypeByMime(r.filetype),t={};t.attach_type=j.FILE;t.name=r.filename;t.icon_type=s;t.url='';p.push(t);}}return p;},get:function(o){var p=[];if(o.attachments){p=o.attachments;}else if(o.raw_attachments)p=this.convertRaw(o.raw_attachments);var q=h.getEmojiSize(o);if(q)p=p.concat([{attach_type:j.EMOJI_LIKE,size:q}]);if(!(o.attachments&&o.attachments.length>0)){if(o.sticker_id)return p.concat([{attach_type:j.STICKER}]);if(o.preview_attachments&&o.preview_attachments.length>0)return p.concat(o.preview_attachments);}return p;},resizeContain:function(o,p){var q=o.width/o.height,r=p.width/p.height;if(r<q){return {width:Math.ceil(Math.min(o.height*r,p.width)),height:Math.ceil(Math.min(o.height,p.height))};}else return {width:Math.ceil(Math.min(o.width,p.width)),height:Math.ceil(Math.min(o.width/r,p.height))};},isBubblePreferred:function(o){return !(this.isPhotoAttachment(o)||this.isStickerAttachment(o)||this.isVideoAttachment(o)||this.isVoiceAttachment(o));},isEphemeralAttachmentStyle:function(o){return (this.isPhotoAttachment(o)||this.isVideoAttachment(o));},isEphemeralTextStyle:function(o){return (this.isErrorAttachment(o)||this.isShareAttachment(o)||this.isFileAttachment(o));},isPhotoAttachment:function(o){return !!(o.attach_type==j.PHOTO||o.attach_type==j.ANIMATED_IMAGE||o.attach_type==j.FILE&&o.preview_url);},isVideoAttachment:function(o){return o.attach_type==j.VIDEO;},isShareAttachment:function(o){return o.attach_type==j.SHARE;},isFileAttachment:function(o){return o.attach_type==j.FILE;},isErrorAttachment:function(o){return o.attach_type==j.ERROR;},isStickerAttachment:function(o){return o.attach_type==j.STICKER;},isEmojiLikeAttachment:function(o){return o.attach_type===j.EMOJI_LIKE;},isVoiceAttachment:function(o){if(!o.metadata)return false;return (o.metadata.type===k.AudioClip||o.metadata.type===k.VoiceMessageWithTranscript);},hasAttribution:function(o){return !!o.app_attribution;}};f.exports=n;},null);
__d('MercuryDisplayTimeFilterMessageRenderer',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={renderFilteredContent:function(j){if(j.is_filtered_content_bh)return h._("This message was removed because it contains blocked or harmful links.");if(j.is_filtered_content_account)return h._("This message has been temporarily removed because the sender's account requires verification.");if(j.is_filtered_content_quasar)return h._("This message was removed because it contains blocked or harmful content.");if(j.is_filtered_content_invalid_app)return h._("This message was removed because the app it's being sent from is blocked from sending messages.");return h._("This message has been temporarily removed because the sender's account requires verification, or it was identified as abusive.");}};f.exports=i;},null);
__d('MercuryFolders',['MessagingTag'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=[h.INBOX,h.PENDING,h.OTHER,h.ACTION_ARCHIVED],j={getSupportedFolders:function(){return i.concat();},getFromMeta:function(k){var l=k.folder;if(k.is_archived)l=h.ACTION_ARCHIVED;return l;}};f.exports=j;},null);
__d('ImageSourceType',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={PROFILE_PICTURE:'profile_picture',IMAGE:'image'};f.exports=h;},null);
__d('MercuryServerDispatcher',['AsyncRequest','BanzaiLogger','ChatPerfEvent','CurrentUser','LogHistory','MercuryLoggingHelper','areJSONRepresentationsEqual','debounceAcrossTransitions','performanceAbsoluteNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q={},r=l.getInstance('mercury_server_dispatcher'),s=false,t={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',DEFAULT_ENDPOINT_ID:'mercuryServerDispatcherDefaultEndpointID',registerEndpoints:function(w){for(var x in w){var y=w[x],z=y.request_user_id||k.getID(),aa=y.endpoint_id||t.DEFAULT_ENDPOINT_ID;if(!q[x])q[x]={};if(!q[x][z])q[x][z]={};q[x][z][aa]=new u(x,y);}},trySend:function(w,x,y,z,aa){z=z||k.getID();aa=aa||t.DEFAULT_ENDPOINT_ID;q[w][z][aa].trySend(x,y);}};function u(w,x){var y=x.mode||t.IMMEDIATE;switch(y){case t.IMMEDIATE:case t.IDEMPOTENT:case t.BATCH_SUCCESSIVE:case t.BATCH_SUCCESSIVE_UNIQUE:case t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case t.BATCH_DEFERRED_MULTI:case t.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+y);}this._endpoint=w;this._mode=y;this._customHeader=x.customHeader;this._requestUserID=x.request_user_id;this._combineData=x.batch_function;this._combineDataIf=x.batch_if;this._batchSizeLimit=x.batch_size_limit;this._batches=[];this._handler=x.handler;this._errorHandler=x.error_handler;this._transportErrorHandler=x.transport_error_handler||x.error_handler;this._connectionRetries=x.connection_retries||0;this._timeoutHandler=x.timeout_handler;this._timeout=x.timeout;this._serverDialogCancelHandler=x.server_dialog_cancel_handler||x.error_handler;this._deferredSend=o(this._batchSend,0,this);}Object.assign(u.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(w,x){if(s)return;if(w===undefined)w=null;var y=x||this._mode;if(y==t.IMMEDIATE){this._send(w);}else if(y==t.IDEMPOTENT){if(!this._inFlight)this._send(w);}else if(y==t.BATCH_SUCCESSIVE||y==t.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(w);}else this._batchData(w);}else if(y==t.BATCH_CONDITIONAL){var z=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,w)||this._combineDataIf(z,w))){this._batchData(w);}else this._send(w);}else if(y==t.BATCH_DEFERRED_MULTI){this._batchData(w);this._deferredSend();}else if(y==t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(w);if(!this._inFlight)this._batchSend();}},_send:function(w){this._inFlight++;this._pendingRequestData=babelHelpers['extends']({},w);if(this._requestUserID!=k.getID())w.request_user_id=this._requestUserID;r.log('send',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var x=p(),y=new h(this._endpoint).setData(w).setOption('retries',this._connectionRetries).setHandler(function(z){i.log('ChatPerfLoggerConfig',{event:j.ASYNC_REQUEST,duration:p()-x,endpoint:this._endpoint});this._handleResponse(z);}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._customHeader)y.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._timeout&&this._timeoutHandler)y.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));y.send();},_batchData:function(w,x){if(this._mode==t.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==undefined&&n(w,this._pendingRequestData)){return;}else{var y=this._batches.length-1;if(y>=0&&!this._hasReachedBatchLimit(this._batches[y])){x?this._batches[y].combineWithOlder(w,this._combineData):this._batches[y].combineWith(w,this._combineData);}else this._batches.push(new v(w));r.debug('batch',JSON.stringify({endpoint:this._endpoint,batch_limit:this._batchSizeLimit}));}},_hasReachedBatchLimit:function(w){return this._batchSizeLimit&&w.getSize()>=this._batchSizeLimit;},_batchSend:function(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function(w){this._inFlight--;r.log('response',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var x=w.getPayload();s=x&&x.kill_chat;if(s)r.log('killswitch_enabled',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));if(x&&x.error_payload){if(this._errorHandler)this._errorHandler(w);}else this._handler&&this._handler(x,w.getRequest());if(this._mode==t.BATCH_SUCCESSIVE||this._mode==t.BATCH_SUCCESSIVE_UNIQUE||this._mode==t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==t.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function(){this._inFlight--;r.error('error',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var w=this._mode;if(w==t.BATCH_SUCCESSIVE||w==t.BATCH_SUCCESSIVE_UNIQUE||w==t.BATCH_CONDITIONAL){this._batchSend();}else if(w==t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function(w){this._errorHandler&&this._errorHandler(w);this._postErrorHandler();},_handleTransportError:function(w){this._transportErrorHandler&&this._transportErrorHandler(w);this._postErrorHandler();},_handleTimeout:function(w){this._timeoutHandler&&this._timeoutHandler(w);this._postErrorHandler();},_handleServerDialogCancel:function(w){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(w);this._postErrorHandler();}});function v(w){this._data=w;this._size=1;}Object.assign(v.prototype,{getData:function(){return this._data;},getSize:function(){return this._size;},combineWith:function(w,x){this._data=x(this._data,w);this._size++;},combineWithOlder:function(w,x){this._data=x(w,this._data);this._size++;}});f.exports=t;},null);
__d('ImageSourceRequest',['CurrentUser','ImageSourceType','KeyedCallbackManager','PhotoResizeModeConst','MercuryServerDispatcher','arrayContains'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();function n(){'use strict';this._request={fbid:null,type:null,width:null,height:null,resize_mode:null};this._callback=null;}n.prototype.setFBID=function(r){'use strict';this._request.fbid=r;return this;};n.prototype.setType=function(r){'use strict';if(!m([i.PROFILE_PICTURE,i.IMAGE],r))throw new TypeError('ImageSourceRequest.setType: invalid type '+r);this._request.type=r;return this;};n.prototype.setDimensions=function(r,s){'use strict';this._request.width=r;this._request.height=s;return this;};n.prototype.setResizeMode=function(r){'use strict';if(!m([k.COVER,k.CONTAIN],r))throw new TypeError('ImageSourceRequest.setResizeMode: invalid resize mode '+r);this._request.resize_mode=r;return this;};n.prototype.setCallback=function(r){'use strict';this._callback=r;return this;};n.prototype.send=function(){'use strict';if(!this._request.fbid||!this._request.width||!this._request.height||!this._request.type||!this._request.resize_mode||!this._callback)throw new Error('ImageSourceRequest: You must set all the fields');var r=p(),s=q(this._request);r.executeOrEnqueue(s,this._callback);if(r.getUnavailableResourcesFromRequest(s).length===1){l.trySend('/ajax/image_source.php',{requests:[this._request]});return true;}return false;};var o=null;function p(){if(o)return o;var r=new j();o=r;l.registerEndpoints({'/ajax/image_source.php':{request_user_id:h.getID(),mode:l.BATCH_DEFERRED_MULTI,batch_function:function(s,t){var u;(u=s.requests).push.apply(u,t.requests);return s;},handler:function(s,t){var u=t.getData().requests;for(var v=0;v<u.length;++v)r.setResource(q(u[v]),s[v]);}}});return r;}function q(r){return [r.fbid,r.type,r.width,r.height,r.resize_mode].join('|');}f.exports=n;},null);
__d('MercuryServerRequestSingletonMixin',['CurrentUser','FBID'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={_getInstances:function(){if(!this._instances)this._instances={};return this._instances;},get:function(){return this.getForFBID(h.getID());},getForFBID:function(k){var l=this._getInstances();if(!l[k])if(i.isUser(k)){l[k]=new this(k);}else{var m;e(['MercuryPageServerRequests'],function(n){m=new n(k);});l[k]=m;}return l[k];}};f.exports=j;},null);
__d('MercuryPageServerRequests',['MercuryAPIArgsSource','MercuryAssert','MercuryServerRequests','PageMessageEnumTag','PagesMessengerThreadUtils','MercuryServerDispatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();var p=h.MERCURY;n=babelHelpers.inherits(q,j);o=n&&n.prototype;function q(r){'use strict';o.constructor.call(this,r);var s={'/pages/messaging/thread_tag/add/':{request_user_id:r,mode:m.BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(t,u){return this.__handleUpdate(t,u);}.bind(this)},'/pages/messaging/thread_tag/remove/':{request_user_id:r,mode:m.BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(t,u){return this.__handleUpdate(t,u);}.bind(this)},'/pages/messaging/thread_tag/list/':{request_user_id:r,mode:m.IMMEDIATE,handler:function(t,u){return this.__handleUpdate(t,u);}.bind(this)},'/pages/messaging/thread_custom_tags/list/':{request_user_id:r,mode:m.IMMEDIATE,handler:function(t,u){return this.__handleUpdate(t,u);}.bind(this)},'/pages/messaging/create_note/':{request_user_id:r,mode:m.IMMEDIATE,handler:function(t,u){return this.__handleUpdate(t,u);}.bind(this)}};m.registerEndpoints(s);}q.prototype.$MercuryPageServerRequests1=function(r,s){'use strict';var t=r?r.tag_name:s.tag_name,u=r?r.thread_ids:[],v=s?s.thread_ids:[],w=u.concat(v),x={tag_name:t,thread_ids:w};return x;};q.prototype.addThreadFlag=function(r,s){'use strict';i.isThreadID(r);this.__threadIDMap.getServerIDFromClientID(r,function(t){var u={thread_ids:[t],tag_name:k.FLAG};this.__sendRequest('/pages/messaging/thread_tag/add/',u);}.bind(this));};q.prototype.createNote=function(r,s,t){'use strict';i.isThreadID(t);this.__threadIDMap.getServerIDFromClientID(t,function(u){var v={body:r,message_id:s,other_user_fbid:u};this.__sendRequest('/pages/messaging/create_note/',v);}.bind(this));};q.prototype.fetchThreadlistInfo=function(r,s,t,u,v){'use strict';var w={folder:t,offset:r,limit:s};if(l.isPageSpecficEnumFilter(u)){v=v||p;w.tag_name=u;this.__sendRequest('/pages/messaging/thread_tag/list/',w);return;}if(u&&l.isCustomTagsFilter(u)){w.custom_tags_filter=u;w.custom_tags=l.parseCustomTagsFilter(u);this.__sendRequest('/pages/messaging/thread_custom_tags/list/',w);return;}o.fetchThreadlistInfo.call(this,r,s,t,u,v);};q.prototype.removeThreadFlag=function(r,s){'use strict';i.isThreadID(r);this.__threadIDMap.getServerIDFromClientID(r,function(t){var u={thread_ids:[t],tag_name:k.FLAG};this.__sendRequest('/pages/messaging/thread_tag/remove/',u);}.bind(this));};q.prototype.toString=function(){'use strict';return 'MercuryPageServerRequests';};f.exports=q;},null);
__d('MercurySendErrorLogger',['Banzai','BanzaiLogger'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i.create({retry:true}),k=h.isEnabled('mercury_send_error_logging'),l={log:function(m){if(!k)return;var n={message_id:m.message_id,timestamp_client:Date.now(),error_type:m.error_data.type,error_code:m.error_data.code,error_description:m.error_data.description,is_transient:m.error_data.is_transient};j.log('MercurySendErrorLoggerConfig',n);}};f.exports=l;},null);
__d('MercuryServerPayloadPreprocessor',['CurrentEnvironment','MercuryIDs','MercuryConfig','MercuryActionStatus','MercuryActionType','MercuryAttachment','MercuryDispatcher','MercurySendErrorLogger','MercurySingletonMixin','MercuryThreadIDMap','StoryAttachmentStyle','invariant','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();function u(v){this.$MercuryServerPayloadPreprocessor1=v;this.$MercuryServerPayloadPreprocessor2=q.getForFBID(this.$MercuryServerPayloadPreprocessor1);this.$MercuryServerPayloadPreprocessor3=n.getForFBID(this.$MercuryServerPayloadPreprocessor1);}u.prototype.handleUpdate=function(v){var w={};!!v.from_client?s(0):undefined;(v.threads||[]).forEach(function(oa){this.$MercuryServerPayloadPreprocessor4(oa,w);var pa=this.$MercuryServerPayloadPreprocessor2.getServerIDFromClientIDNow(oa.thread_id);e(['MercuryServerRequests'],function(qa){var ra=qa.getForFBID(this.$MercuryServerPayloadPreprocessor1);ra.markThreadFetched(oa.thread_id);ra.markThreadFetched(pa);ra.updateLastActionTimestamp(oa.timestamp);}.bind(this));}.bind(this));(v.ordered_threadlists||[]).forEach(function(oa){var pa=oa.thread_fbids||[];pa=pa.concat(oa.other_user_fbids||[]);oa.thread_ids=pa.map(function(qa){return this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(qa.toString());}.bind(this));}.bind(this));if(v.pinned_threads&&v.pinned_threads.thread_fbids)v.pinned_threads.thread_fbids=v.pinned_threads.thread_fbids.map(function(oa){return this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(oa);}.bind(this));if(v.delivery_receipts){var x={};for(var y=v.delivery_receipts,z=Array.isArray(y),aa=0,y=z?y:y[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ba;if(z){if(aa>=y.length)break;ba=y[aa++];}else{aa=y.next();if(aa.done)break;ba=aa.value;}var ca=ba,da=ca.other_user_fbid?i.getThreadIDFromUserID(ca.other_user_fbid):this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(ca.thread_fbid);x[da]=ca.time;}v.delivery_receipts=x;}v.actions=v.actions||[];v.actions.forEach(function(oa){if(oa.action_type===l.SEND_MESSAGE&&oa.status===k.ERROR)o.log(oa);var pa=null,qa=null;if(oa.other_user_fbid){qa=i.getThreadIDFromUserID(oa.other_user_fbid);pa=oa.other_user_fbid;}else if(oa.thread_fbid){qa=i.getThreadIDFromThreadFBID(oa.thread_fbid);pa=oa.thread_fbid;}else if(oa.thread_id){qa=i.getThreadIDFromThreadFBID(oa.thread_id);pa=oa.thread_id;}else if(oa.status&&oa.status!=k.SUCCESS&&oa.client_thread_id){qa=oa.client_thread_id;}else s(0);pa=pa&&pa.toString();oa.thread_id=this.$MercuryServerPayloadPreprocessor2.hasClientIDForServerID(pa)?this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(pa):qa;if(oa.action_type==l.SEND_MESSAGE&&oa.client_thread_id&&pa){oa.thread_id=oa.client_thread_id;this.$MercuryServerPayloadPreprocessor2.forceSetServerIDToClientID(pa,oa.client_thread_id);w[pa]=oa.client_thread_id;}!oa.thread_id?s(0):undefined;if(!v.payload_source||!v.payload_source.startsWith('server'))e(['MercuryServerRequests'],function(ra){ra.getForFBID(this.$MercuryServerPayloadPreprocessor1).updateLastActionTimestamp(oa.timestamp);}.bind(this));}.bind(this));this.$MercuryServerPayloadPreprocessor5(v);this.$MercuryServerPayloadPreprocessor6(v);if(v.end_of_history){var ea=[];for(var fa=0;fa<v.end_of_history.length;fa++){var ga=v.end_of_history[fa];if(ga.type=='user'){ea.push('user:'+ga.fbid);}else if(ga.type=='thread'&&this.$MercuryServerPayloadPreprocessor2.hasClientIDForServerID(ga.fbid))ea.push(this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(ga.fbid));}v.end_of_history=ea;}if(v.roger){var ha={};for(var ia in v.roger){var ja=Object.keys(v.roger[ia]),ka;if(ia){ka=this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(ia);}else if(ja.length===1)ka=i.getThreadIDFromUserID(ja[0]);if(ka){var la=v.roger[ia];ha[ka]={};for(var ma in la)if(la.hasOwnProperty(ma)){var na=i.getParticipantIDFromUserID(ma);ha[ka][na]=la[ma];}}}v.roger=ha;}v.newlyAddedClientIDs=w;v.preprocessed=true;this.$MercuryServerPayloadPreprocessor3.handleUpdate(v);};u.prototype.$MercuryServerPayloadPreprocessor4=function(v,w){var x=v.other_user_fbid?v.other_user_fbid:v.thread_fbid;!x?s(0):undefined;var y=this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(x);if(!y){y=v.other_user_fbid?i.getThreadIDFromUserID(v.other_user_fbid):i.getThreadIDFromThreadFBID(v.thread_fbid);this.$MercuryServerPayloadPreprocessor2.setServerIDToClientID(x,y);this.$MercuryServerPayloadPreprocessor2.setDeprecatedServerIDToClientID(v.thread_id,y);w[x]=y;}v.thread_id=y;};u.prototype.$MercuryServerPayloadPreprocessor5=function(v){v.actions.forEach(function(w){if(w.action_type===l.USER_GENERATED_MESSAGE){w.attachments=w.attachments||[];w.attachments.forEach(function(x){if(m.isShareAttachment(x)&&h.messengerdotcom){var y=new t(x.share.uri);if(!y.getDomain())x.share.uri=y.setDomain('facebook.com').setSubdomain(t.getRequestURI().getSubdomain()).setProtocol('https').toString();}});}});};u.prototype.$MercuryServerPayloadPreprocessor6=function(v){if(!j.MercuryGenieRendering)return;v.actions.forEach(function(w){if(w.action_type!==l.USER_GENERATED_MESSAGE)return;var x=w;if(!x.has_attachment||!x.attachments)return;for(var y=x.attachments.length-1;y>=0;y-=1){var z=x.attachments[y];if(!z.share||!z.share.style_list||z.share.style_list[0]!=r.GENIE_MESSAGE)continue;if(z.share.target.genie_id)x.author=i.getParticipantIDFromUserID(z.share.target.genie_id);if(z.share.target&&!z.share.target.attachment){x.attachments.splice(y,1);x.has_attachment=x.attachments.length>0;}}});};Object.assign(u,p);f.exports=u;},null);
__d('MercuryMessageIDs',['KeyedCallbackManager'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=new h(),j={getServerIDs:function(k,l){var m=k.filter(function(o){return o.indexOf('id')===-1;}),n=function(o){var p=k.map(function(q){return o[q]?o[q]:q;});l(p);};return i.executeOrEnqueue(m,n);},addServerID:function(k,l){i.setResource(k,l);}};f.exports=j;},null);
__d("MercuryServerSendMessageQueueOptions",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l,m,n){"use strict";this.success_handler=i;this.error_handler=j;this.transport_error_handler=k;this.timeout_handler=l;this.timeout=m;this.connection_retries=n;}f.exports=h;},null);
__d('MercuryServerSendMessageQueueSimulatedError',['AsyncRequest','AsyncResponse'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=9999,k={create:function(l){var m=new h(this.endpoint_uri).setData({message_batch:[l],client:this.client}),n=new i(m,{});Object.assign(n,{error:j,silentError:false,transientError:true,request:m});return n;}};f.exports=k;},null);
__d('MercuryServerSendMessageQueue',['BanzaiODS','LogHistory','MercuryLoggingHelper','MercuryServerRequestsConfig','MercuryServerDispatcher','MercuryServerSendMessageQueueSimulatedError'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n='/ajax/mercury/send_messages.php',o=i.getInstance('mercury_server_send_message_queue');function p(q,r,s,t){'use strict';this.sender_id=q;this.queue_id=r;this.$MercuryServerSendMessageQueue1=s.success_handler;this.$MercuryServerSendMessageQueue2=s.error_handler;this.$MercuryServerSendMessageQueue3=s.transport_error_handler;this.$MercuryServerSendMessageQueue4=s.timeout_handler;this.client=t;var u=null;if(k.msgrRegion)u={name:'X-MSGR-Region',value:k.msgrRegion};var v={};v[n]={request_user_id:this.sender_id,endpoint_id:this.queue_id,mode:l.IMMEDIATE,customHeader:u,handler:this.handleSuccess.bind(this),error_handler:this.handleError.bind(this),transport_error_handler:this.handleTransportError.bind(this),timeout:s.timeout,timeout_handler:this.handleTimeout.bind(this),connection_retries:s.connection_retries};l.registerEndpoints(v);this.pending_message=null;this.queue=[];}p.prototype.enqueue=function(q){'use strict';this.queue.push(q);this.$MercuryServerSendMessageQueue5();};p.prototype.$MercuryServerSendMessageQueue5=function(){'use strict';if(this.pending_message||!this.queue.length){if(this.pending_message)this.$MercuryServerSendMessageQueue6();return;}this.pending_message=this.queue.shift();l.trySend(n,{message_batch:[this.pending_message],client:this.client},null,this.sender_id,this.queue_id);};p.prototype.$MercuryServerSendMessageQueue7=function(){'use strict';while(this.queue.length)this.$MercuryServerSendMessageQueue8(this.queue.shift());};p.prototype.$MercuryServerSendMessageQueue8=function(q){'use strict';this.$MercuryServerSendMessageQueue2(m.create(q));o.error('mark_as_failed',JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,message:j.obfuscateMessage(q)}));};p.prototype.handleSuccess=function(q,r){'use strict';this.$MercuryServerSendMessageQueue1(q,r);this.pending_message=null;this.$MercuryServerSendMessageQueue5();};p.prototype.handleError=function(q){'use strict';this.$MercuryServerSendMessageQueue2(q);this.$MercuryServerSendMessageQueue7();this.pending_message=null;};p.prototype.handleTransportError=function(q){'use strict';this.$MercuryServerSendMessageQueue3(q);this.$MercuryServerSendMessageQueue7();this.pending_message=null;};p.prototype.handleTimeout=function(q){'use strict';this.$MercuryServerSendMessageQueue4(q);this.$MercuryServerSendMessageQueue7();this.pending_message=null;};p.prototype.$MercuryServerSendMessageQueue6=function(){'use strict';o.debug('maybe_send_next_pending_message',JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,pending_message:j.obfuscateMessage(this.pending_message),queue:this.queue.map(function(r){return j.obfuscateMessage(r);})}));var q='send_queue.delayed.queue_length.'+this.queue.length.toString();h.bumpEntityKey('chat.web',q);};f.exports=p;},null);
__d('MercuryServerSendMessageQueueRouter',['BanzaiODS','LogHistory','Map','MercuryServerSendMessageQueue','MercurySingletonMixin'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.getInstance('mercury_server_send_message_queue_router'),n='chat.web.send_queue_router';h.setEntitySample(n,.1);function o(p){'use strict';this.fbid=p;this.queues=new j();}o.prototype.enqueue=function(p,q,r,s){'use strict';if(!this.queues.has(p)){this.queues.set(p,new k(this.fbid,p,q,r));m.debug('added queue',JSON.stringify({fbid:this.fbid,queue_id:p}));h.bumpEntityKey(n,'new_queue');}this.queues.get(p).enqueue(s);};Object.assign(o,l);f.exports=o;},null);
__d('MercuryServerRequests',['Arbiter','AsyncResponse','BanzaiODS','ChannelConstants','CurrentUser','LogHistory','MercuryActionStatus','MercuryActionType','MercuryAPIArgsSource','MercuryAssert','MercuryDispatcher','MercuryThreadIDMap','MercuryErrorType','MercuryGlobalActionType','MercuryIDs','MercuryLogMessageType','MercuryMessageClientState','MercuryPayloadSource','MercurySendErrorLogger','MercuryServerPayloadPreprocessor','MercuryServerRequestsConfig','MercuryServerSendMessageQueueRouter','MercuryServerRequestSingletonMixin','MercurySourceType','MercuryThreadlistConstants','MercuryMessageIDs','MessagingConfig','MessagingTag','MercuryServerDispatcher','MercuryServerSendMessageQueueOptions','createObjectFrom','errorCode','invariant','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){'use strict';if(c.__markCompiled)c.__markCompiled();var pa=m.getInstance('mercury_server'),qa=p.MERCURY,ra=1000;function sa(cb){return cb.getError()?'_'+cb.getError():'';}function ta(cb,db){var eb=babelHelpers['extends']({},cb),fb;if(db.threads){if(!eb.threads)eb.threads={};for(fb in db.threads)eb.threads[fb]=Object.keys(la((eb.threads[fb]||[]).concat(db.threads[fb])));}if(db.messages){if(!eb.messages)eb.messages={};for(fb in db.messages){if(!eb.messages[fb])eb.messages[fb]={};for(var gb in db.messages[fb])if(eb.messages[fb][gb]){eb.messages[fb][gb]=xa(eb.messages[fb][gb],db.messages[fb][gb]);}else eb.messages[fb][gb]=db.messages[fb][gb];}}eb.client=cb.client||db.client;return eb;}function ua(cb,db){var eb=Object.assign(la(cb.folders,true),la(db.folders,true)),fb=cb.client||db.client;return {folders:Object.keys(eb),client:fb};}function va(cb,db){for(var eb in db)if(cb[eb]&&typeof cb[eb]==='object'){cb[eb]=xa(cb[eb],db[eb]);}else if(db[eb]&&typeof db[eb]==='object'){var fb={};Object.assign(fb,db[eb]);cb[eb]=fb;}return cb;}function wa(cb,db){return db;}function xa(cb,db){var eb=cb.offset<db.offset?cb.offset:db.offset,fb=cb.offset+cb.limit,gb=db.offset+db.limit,hb=fb>gb?fb:gb,ib=hb-eb,jb=cb.timestamp>db.timestamp?cb.timestamp:db.timestamp;return {offset:eb,limit:ib,timestamp:jb};}function ya(cb,db){var eb=cb.client||db.client,fb={ids:{},client:eb};Object.assign(fb.ids,cb.ids,db.ids);return fb;}function za(cb,db){var eb={},fb,gb=cb.client||db.client;delete cb.client;delete db.client;for(fb in cb)Object.assign(eb,la(cb[fb],fb));for(fb in db)Object.assign(eb,la(db[fb],fb));var hb={client:gb};for(var ib in eb){fb=eb[ib];if(!hb[fb])hb[fb]=[];hb[fb].push(ib);}return hb;}function ab(cb,db){var eb=cb.client||db.client,fb=la(cb.ids,true),gb=la(db.ids,true),hb=Object.assign(fb,gb);return {ids:Object.keys(hb),client:eb};}function bb(cb){this._fbid=cb;this._lastActionTimestamp=0;this._fetchingThreads={};this._sentMessagesTimestamp={};this.__threadIDMap=s.getForFBID(this._fbid);this._dispatcher=r.getForFBID(this._fbid);this._payloadPreprocessor=aa.getForFBID(this._fbid);this._sendMessageQueueOptions=new ka(function(db,eb){return this.__handleUpdate(db,eb);}.bind(this),function(db){return this._handleSendMessageError(db);}.bind(this),function(db){return this._handleSendMessageTransportError(db);}.bind(this),function(db){return this._handleSendMessageTimeout(db);}.bind(this),ba.sendMessageTimeout,ha.SEND_CONNECTION_RETRIES);this._registerEndpoints();}Object.assign(bb.prototype,{fetchThreadlistInfo:function(cb,db,eb,fb,gb){eb=eb||ia.INBOX;gb=gb||qa;var hb=fb?ja.IMMEDIATE:null,ib={client:gb};ib[eb]={offset:cb,limit:db,filter:fb};this.__sendRequest('/ajax/mercury/threadlist_info.php',ib,hb);},fetchPinnedThreads:function(){this.__sendRequest('/mercury/pinned_threads/',{});},fetchUnseenThreadIDs:function(cb,db){db=db||qa;this.fetchThreadlistInfo(fa.RECENT_THREAD_OFFSET,fa.JEWEL_THREAD_COUNT,cb,null,db);},fetchUnreadThreadIDs:function(cb,db){db=db||qa;this.__sendRequest('/ajax/mercury/unread_threads.php',{folders:[cb],client:db});},fetchMissedMessages:function(cb,db,eb){db=db||qa;var fb={last_action_timestamp:eb||this._lastActionTimestamp,folders:cb,client:db};setTimeout(function(){this.__sendRequest('/ajax/mercury/thread_sync.php',fb);}.bind(this),ra);},fetchThreadData:function(cb,db){db=db||qa;q.allThreadID(cb);var eb={threads:{},client:db},fb=[],gb=[];cb.forEach(function(ib){if(this._fetchingThreads[ib])return;this._fetchingThreads[ib]=true;var jb=this.__threadIDMap.getServerIDFromClientIDNow(ib),kb=v.tokenize(ib);if(kb.type=='user'){fb.push(kb.value);eb.threads.user_ids=fb;}else if(kb.type=='thread'){if(jb){gb.push(jb);}else gb.push(kb.value);eb.threads.thread_fbids=gb;}else if(kb.type=='root'){if(jb){gb.push(jb);eb.threads.thread_fbids=gb;}}else if(kb.type!='pending')throw new Error('Unknown thread type',kb);}.bind(this));this._dispatcher.inform("fetch-thread-data",eb);for(var hb in eb.threads){this.__sendRequest('/ajax/mercury/thread_info.php',eb);break;}},ensureThreadIsFetched:function(cb,db){db=db||qa;if(!this.__threadIDMap.getClientIDFromServerIDNow(cb)&&!this._fetchingThreads[cb]){this._fetchingThreads[cb]=true;this.__sendRequest('/ajax/mercury/thread_info.php',{threads:{thread_fbids:[cb]},client:db});}},fetchThreadMessages:function(cb,db,eb,fb,gb,hb){q.isThreadID(cb);hb=hb||qa;var ib,jb,kb=v.tokenize(cb),lb=this.__threadIDMap.getServerIDFromClientIDNow(cb),mb=false;if(lb){ib=lb;jb=kb.type=='user'?'user_ids':'thread_fbids';}else{ib=kb.value;switch(kb.type){case 'user':jb='user_ids';mb=true;break;case 'thread':jb='thread_fbids';break;}}var nb={messages:{},threads:{},client:hb};if(jb){nb.messages[jb]={};nb.messages[jb][ib]={offset:db,timestamp:fb,limit:eb};if(mb)nb.threads[jb]=[ib];this.__sendRequest('/ajax/mercury/thread_info.php',nb,gb);}else this.__threadIDMap.getServerIDFromClientID(cb,function(ob){nb.messages.thread_fbids={};nb.messages.thread_fbids[ob]={offset:db,timestamp:fb,limit:eb};this.__sendRequest('/ajax/mercury/thread_info.php',nb,gb);}.bind(this));},handleThreadInfoError:function(cb){var db=cb.getRequest().getData(),eb=[];if(db.messages){for(var fb in db.messages.thread_fbids)eb.push(this._createServerErrorLogMessage(this.__threadIDMap.getClientIDFromServerIDNow(fb)));for(var gb in db.messages.user_ids)eb.push(this._createServerErrorLogMessage('user:'+gb));for(var hb in db.messages.group_ids)eb.push(this._createServerErrorLogMessage('group:'+hb));}if(eb.length)this._dispatcher.handleUpdate({actions:eb,from_client:true,payload_source:y.CLIENT_CHANNEL_MESSAGE});if(db.threads&&(db.threads.user_ids||db.threads.group_ids||db.threads.thread_ids)){var ib=5,jb=true;if(!db.retry_count){db.retry_count=0;if(db.messages)delete db.messages;}else if(db.retry_count>=ib){jb=false;(db.threads.thread_ids||[]).forEach(function(lb){if(lb in this._fetchingThreads)delete this._fetchingThreads[lb];}.bind(this));}if(jb){var kb=Math.pow(2,db.retry_count)*1000;oa(function(){pa.log('retry_thread','{}');this.__sendRequest('/ajax/mercury/thread_info.php',db);}.bind(this),kb);db.retry_count++;}}},markFolderAsRead:function(cb){this.__sendRequest('/ajax/mercury/mark_folder_as_read.php',{folder:cb});var db=[{action_type:u.MARK_ALL_READ,action_id:null,folder:cb}];this._dispatcher.handleUpdate({global_actions:db,from_client:true,payload_source:y.CLIENT_CHANGE_READ_STATUS});},changeThreadReadStatus:function(cb,db,eb,fb,gb,hb){var ib;q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(jb){var kb={ids:(ib={},ib[jb]=db,ib),source:eb,watermarkTimestamp:fb,titanOriginatedThreadId:gb,shouldSendReadReceipt:hb};this.__sendRequest('/ajax/mercury/change_read_status.php',kb);}.bind(this));},changeThreadArchivedStatus:function(cb,db,eb){q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(fb){var gb={ids:{},source:eb};gb.ids[fb]=db;this.__sendRequest('/ajax/mercury/change_archived_status.php',gb);}.bind(this));},changeThreadFolder:function(cb,db){q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(eb){var fb={};fb[db]=[eb];this.__sendRequest('/ajax/mercury/move_thread.php',fb);}.bind(this));},changeMutingOnThread:function(cb,db){q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(eb){this.__sendRequest('/ajax/mercury/change_mute_thread.php',{thread_fbid:eb,mute_settings:db,payload_source:qa});}.bind(this));},markThreadSpam:function(cb,db){q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(eb){this.__sendRequest('/ajax/mercury/mark_spam.php',{id:eb,source:db});}.bind(this));},unmarkThreadSpam:function(cb,db){q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(eb){this.__sendRequest('/ajax/mercury/unmark_spam.php',{id:eb,source:db});}.bind(this));},deleteThread:function(cb,db){q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(eb){var fb={ids:[eb],source:db};this.__sendRequest('/ajax/mercury/delete_thread.php',fb);}.bind(this));},unpinThread:function(cb){q.isThreadID(cb);this.__threadIDMap.getServerIDFromClientID(cb,function(db){this.__sendRequest('/mercury/unpin_thread/',{id:db});}.bind(this));},deleteMessages:function(cb,db){ga.getServerIDs(db||[],function(eb){this.__sendRequest('/ajax/mercury/delete_messages.php',{message_ids:eb});}.bind(this));},sendDeliveryReceipts:function(cb,db){ga.getServerIDs(cb||[],function(eb){this.__sendRequest('/ajax/mercury/delivery_receipts.php',{message_ids:eb,thread_ids:db});}.bind(this));},sendNewMessage:function(cb,db){db=db||qa;if(!cb.offline_threading_id)j.bumpEntityKey('chat.web','missing_otid_on_send');if(cb.client_state&&cb.client_state!==x.SEND_TO_SERVER)return;var eb=v.tokenize(cb.thread_id),fb=eb.type,gb=babelHelpers['extends']({},cb);gb.thread_id=null;if(fb=='user'){gb.other_user_fbid=eb.value;this._sendNewMessageToServer(gb,db);}else if(fb=='thread'){gb.thread_fbid=eb.value;this._sendNewMessageToServer(gb,db);}else if(fb=='root'&&eb.value==gb.offline_threading_id){gb.client_thread_id=cb.thread_id;this._sendNewMessageToServer(gb,db);}else{!v.isLocalThread(cb.thread_id)?na(0):undefined;this.__threadIDMap.getServerIDFromClientID(cb.thread_id,function(hb){gb.thread_fbid=hb;this._sendNewMessageToServer(gb,db);}.bind(this));}},_sendNewMessageToServer:function(cb,db){h.inform(k.ATTEMPT_RECONNECT);this._sentMessagesTimestamp[cb.message_id]=Date.now();ca.getForFBID(this._fbid).enqueue(cb.other_user_fbid||cb.thread_fbid||cb.client_thread_id,this._sendMessageQueueOptions,db,cb);},markSeen:function(){var cb=this._lastActionTimestamp;this.__sendRequest('/ajax/mercury/mark_seen.php',{seen_timestamp:cb});},_handleSendMessageErrorCommon:function(cb,db,eb,fb){pa.debug('handle_send_message_error_common',JSON.stringify({reliability_error_status:eb,request_error_status:db}));var gb=cb.getData(),hb=gb.message_batch,ib=hb.map(function(kb){var lb={action_type:o.SEND_MESSAGE,other_user_fbid:kb.other_user_fbid,thread_fbid:kb.thread_fbid,client_message_id:kb.message_id,message_id:kb.message_id,client_thread_id:kb.client_thread_id,status:db,error_data:fb};return lb;});ib.forEach(function(kb){if(kb.action_type===o.SEND_MESSAGE&&kb.status===n.ERROR)z.log(kb);},this);var jb={actions:ib,payload_source:y.CLIENT_HANDLE_ERROR};this._payloadPreprocessor.handleUpdate(jb);},handleSendMessageError:function(cb){var db=cb.getPayload(),eb=null,fb=null;if(db&&db.error_payload){eb=n.UNCONFIRMED;fb='send_error';}else{eb=n.ERROR;fb='request_error'+sa(cb);}var gb=cb.error;if(gb===1404102)i.verboseErrorHandler(cb);var hb=/<.*>/.test(cb.getErrorDescription())?cb.getErrorSummary():cb.getErrorDescription();this._handleSendMessageErrorCommon(cb.getRequest(),eb,fb,{type:t.SERVER,code:cb.getError(),description:hb,is_transient:cb.isTransient()});},handleSendMessageTransportError:function(cb){this._handleSendMessageErrorCommon(cb.getRequest(),n.ERROR,'transport_error'+sa(cb),{type:t.TRANSPORT,code:cb.getError(),is_transient:true});},handleSendMessageTimeout:function(cb){this._handleSendMessageErrorCommon(cb,n.ERROR,'transport_timeout',{type:t.TIMEOUT,is_transient:true});},getLastActionTimestamp:function(){return this._lastActionTimestamp;},updateLastActionTimestamp:function(cb){if(cb)this._lastActionTimestamp=Math.max(this._lastActionTimestamp,cb);},markThreadFetched:function(cb){delete this._fetchingThreads[cb];},_createServerErrorLogMessage:function(cb){return {action_type:o.LOG_MESSAGE,thread_id:cb,message_id:cb,timestamp:Date.now(),timestamp_absolute:'',timestamp_relative:'',is_unread:false,source:ea.UNKNOWN,log_message_type:w.SERVER_ERROR,log_message_data:{}};},_getForAsyncRequest:function(cb){var db=cb.getData(),eb=db.request_user_id?db.request_user_id:l.getID();return bb.getForFBID(eb);},__handleUpdate:function(cb,db){this._getForAsyncRequest(db)._payloadPreprocessor.handleUpdate(cb);},_handleThreadInfoError:function(cb){var db=this._getForAsyncRequest(cb.getRequest());db.handleThreadInfoError(cb);},_handleSendMessageError:function(cb){var db=this._getForAsyncRequest(cb.getRequest());db.handleSendMessageError(cb);},_handleSendMessageTransportError:function(cb){var db=this._getForAsyncRequest(cb.getRequest());db.handleSendMessageTransportError(cb);},_handleSendMessageTimeout:function(cb){var db=this._getForAsyncRequest(cb);db.handleSendMessageTimeout(cb);},_registerEndpoints:function(){var cb=null;if(ba.msgrRegion)cb={name:'X-MSGR-Region',value:ba.msgrRegion};var db={'/ajax/mercury/thread_sync.php':{request_user_id:this._fbid,mode:ja.IDEMPOTENT,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this),connection_retries:3},'/ajax/mercury/thread_info.php':{request_user_id:this._fbid,mode:ja.BATCH_DEFERRED_MULTI,customHeader:cb,batch_function:ta,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this),error_handler:function(eb){return this._handleThreadInfoError(eb);}.bind(this)},'/ajax/mercury/mark_folder_as_read.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/change_read_status.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/mark_seen.php':{request_user_id:this._fbid,mode:ja.BATCH_SUCCESSIVE,customHeader:cb,batch_function:wa,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/threadlist_info.php':{request_user_id:this._fbid,mode:ja.BATCH_SUCCESSIVE_UNIQUE,customHeader:cb,batch_function:va,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/mark_spam.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/unmark_spam.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/unread_threads.php':{request_user_id:this._fbid,mode:ja.BATCH_SUCCESSIVE_UNIQUE,customHeader:cb,batch_function:ua,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/chat/settings.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb},'/ajax/mercury/change_archived_status.php':{request_user_id:this._fbid,mode:ja.BATCH_SUCCESSIVE,customHeader:cb,batch_function:ya,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/delete_thread.php':{request_user_id:this._fbid,mode:ja.BATCH_SUCCESSIVE,customHeader:cb,batch_function:ab,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/delete_messages.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/delivery_receipts.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/move_thread.php':{request_user_id:this._fbid,mode:ja.BATCH_SUCCESSIVE,customHeader:cb,batch_function:za,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/ajax/mercury/change_mute_thread.php':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/mercury/pinned_threads/':{request_user_id:this._fbid,mode:ja.BATCH_SUCCESSIVE_UNIQUE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)},'/mercury/unpin_thread/':{request_user_id:this._fbid,mode:ja.IMMEDIATE,customHeader:cb,handler:function(eb,fb){return this.__handleUpdate(eb,fb);}.bind(this)}};ja.registerEndpoints(db);},__sendRequest:function(cb,db,eb){ja.trySend(cb,db,eb,this._fbid);}});Object.assign(bb,da);f.exports=bb;},null);
__d('MercuryThreadIDMap',['KeyedCallbackManager','MercuryAssert','MercuryIDs','MercurySingletonProvider'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(n){this.$MercuryThreadIDMap1=n;this.$MercuryThreadIDMap2=new h();this.$MercuryThreadIDMap3=new h();}l.getForFBID=function(n){return m.getForFBID(n);};l.get=function(){return m.get();};l.prototype.setServerIDToClientID=function(n,o){var p=this.getClientIDFromServerIDNow(n);if(p){p!==o;return;}this.forceSetServerIDToClientID(n,o);};l.prototype.forceSetServerIDToClientID=function(n,o){this.$MercuryThreadIDMap2.setResource(n,o);this.$MercuryThreadIDMap3.setResource(o,n);};l.prototype.setDeprecatedServerIDToClientID=function(n,o){if(n)this.$MercuryThreadIDMap2.setResource(n,o);};l.prototype.getClientIDFromServerIDNow=function(n){return this.$MercuryThreadIDMap2.getResource(n);};l.prototype.getClientIDFromServerID=function(n,o){this.$MercuryThreadIDMap2.executeOrEnqueue(n,o);e(['MercuryServerRequests'],function(p){p.getForFBID(this.$MercuryThreadIDMap1).ensureThreadIsFetched(n);}.bind(this));};l.prototype.getServerIDFromClientIDNow=function(n){return this.$MercuryThreadIDMap3.getResource(n);};l.prototype.getServerIDFromClientID=function(n,o){i.isThreadID(n);var p=this.$MercuryThreadIDMap3.executeOrEnqueue(n,o);e(['MercuryServerRequests'],function(q){var r=this.$MercuryThreadIDMap3.getUnavailableResources(p),s=j.tokenize(n);if(r.length&&s.type!='root')q.getForFBID(this.$MercuryThreadIDMap1).fetchThreadData(r);}.bind(this));};l.prototype.hasClientIDForServerID=function(n){return !!this.getClientIDFromServerIDNow(n);};l.prototype.convertThreadIDIfAvailable=function(n){var o=this.getClientIDFromServerIDNow(n);return o||n;};l.prototype.canLinkExternally=function(n){i.isThreadID(n);var o=j.tokenize(n);return o.type=='user'||!!this.getServerIDFromClientIDNow(n);};var m=new k(l);f.exports=l;},null);
__d('MercuryParticipantFetcher',['LogHistory','MercuryIDs','MercuryPayloadSource','MercuryServerPayloadPreprocessor','Set','ShortProfiles','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=h.getInstance('short_profiles');function p(r){this.$MercuryParticipantFetcher4=k.getForFBID(r);this.$MercuryParticipantFetcher1=false;this.$MercuryParticipantFetcher2=new l();this.$MercuryParticipantFetcher3=new l();}p.prototype.fetch=function(r){this.$MercuryParticipantFetcher5(r);this.$MercuryParticipantFetcher6();};p.prototype.fetchMulti=function(r){r.forEach(function(s){return this.$MercuryParticipantFetcher5(s);}.bind(this));this.$MercuryParticipantFetcher6();};p.prototype.$MercuryParticipantFetcher5=function(r){if(!this.$MercuryParticipantFetcher3.has(r))this.$MercuryParticipantFetcher2.add(r);};p.prototype.$MercuryParticipantFetcher6=function(){if(this.$MercuryParticipantFetcher1||this.$MercuryParticipantFetcher2.size===0)return;this.$MercuryParticipantFetcher1=true;n(function(){this.$MercuryParticipantFetcher1=false;this.$MercuryParticipantFetcher2.forEach(function(r){return this.$MercuryParticipantFetcher3.add(r);}.bind(this));this.$MercuryParticipantFetcher7(this.$MercuryParticipantFetcher2,function(r){r.forEach(function(s){return this.$MercuryParticipantFetcher3['delete'](s.id);}.bind(this));this.$MercuryParticipantFetcher8(r);}.bind(this));this.$MercuryParticipantFetcher2.clear();}.bind(this));};p.prototype.$MercuryParticipantFetcher7=function(r,s){var t=[];r.forEach(function(u){var v=i.tokenize(u),w=v.type,x=v.value;w==='fbid'&&t.push(x);});if(t.length>0){m.getMulti(t,function(u){var v=[];for(var w in u)v.push(q(u[w],w));s(v);if(v.length!==t.length)o.error('server_fetch_participant_count_error',JSON.stringify({expectedIDs:t,receivedIDs:Object.keys(u)}));});o.debug('client_fetch_participants',JSON.stringify({userIDs:t}));}};p.prototype.$MercuryParticipantFetcher8=function(r){this.$MercuryParticipantFetcher4.handleUpdate({participants:r,from_client:false,payload_source:j.SERVER_FETCH_PARTICIPANTS});};function q(r,s){var t=babelHelpers['extends']({gender:r.gender,fbid:r.id||s,href:r.uri,id:i.getParticipantIDFromUserID(r.id||s),image_src:r.thumbSrc,name:r.name,short_name:r.firstName,employee:r.employee,is_employee_away:r.is_employee_away,type:r.type,vanity:r.vanity,is_friend:r.is_friend,is_messenger_user:r.is_messenger_user,social_snippets:r.social_snippets,is_anonymous_crisis_support:r.isAnonymousCrisisSupport},{});if(r.officeStatus){t.officeStatus=r.officeStatus;t.officeStatusStartDate=r.officeStatusStartDate;t.officeStatusEndDate=r.officeStatusEndDate;t.officeStatusComment=r.officeStatusComment;t.officeStatusLocation=r.officeStatusLocation;}return t;}f.exports=p;},null);
__d('MercuryVanityIDMap',['Map','MercuryAssert'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=new h(),k=new h(),l={getID:function(m){return j.get(m);},getVanity:function(m){return k.get(m);},hasID:function(m){return k.has(m);},hasVanity:function(m){return j.has(m);},set:function(m,n){i.isParticipantID(n);j.set(m,n);k.set(n,m);}};f.exports=l;},null);
__d('MercuryParticipants',['CurrentUser','EventEmitter','ImageSourceRequest','ImageSourceType','ImmutableObject','KeyedCallbackManager','MercuryAssert','MercuryIDs','MercuryParticipantFetcher','MercuryParticipantTypes','MercuryParticipantsConstants','MercuryDispatcher','MercuryVanityIDMap','PhotoResizeModeConst','Set','createObjectFrom','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y='change';function z(ba){this.$MercuryParticipants1=ba;this.$MercuryParticipants2=new i();this.$MercuryParticipants3=new m();this.$MercuryParticipants4=new p(this.$MercuryParticipants1);this.$MercuryParticipants5=s.getForFBID(this.$MercuryParticipants1);this.$MercuryParticipants5.subscribe('update-participants',function(ca,da){if(da.participants&&da.participants.length>0)this.$MercuryParticipants6(da.participants);}.bind(this));this.$MercuryParticipants5.subscribe('invalidate-global-state',function(){this.$MercuryParticipants7();}.bind(this));}z.prototype.addListener=function(ba,ca){return this.$MercuryParticipants2.addListener(ba,ca);};z.prototype.getIDFromVanityOrFBID=function(ba){if(!ba)return null;if(t.hasVanity(ba))return t.getID(ba);if(/^\d+$/.test(ba))return o.getParticipantIDFromUserID(ba);};z.prototype.getNow=function(ba){return this.$MercuryParticipants8(ba);};z.prototype.getOrFetch=function(ba){var ca=this.$MercuryParticipants8(ba);if(!ca)this.$MercuryParticipants4.fetch(ba);return ca;};z.prototype.get=function(ba,ca){n.isParticipantID(ba);return this.$MercuryParticipants9([ba],function(da){ca(da[ba]);});};z.prototype.getMulti=function(ba,ca){return this.$MercuryParticipants9(ba,ca);};z.prototype.getBigImageMulti=function(ba,ca){n.allParticipantIDs(ba);var da=r.BIG_IMAGE_SIZE;return this.$MercuryParticipants9(ba,function(ea){var fa={},ga=0,ha=new v(),ia=function(ma,na){ga++;fa[ma]=na;if(ga===ba.length){ca(fa);if(ha.size>0)this.$MercuryParticipants10(ha);}}.bind(this),ja=function(ma,na){this.$MercuryParticipants3.setResource(ma,l.set(this.$MercuryParticipants3.getResource(ma),{big_image_src:na.uri}));ha.add(ma);ia(ma,na.uri);}.bind(this);for(var ka in ea){var la=ea[ka];if(!la.big_image_src){new j().setFBID(o.getUserIDFromParticipantID(ka)).setType(k.PROFILE_PICTURE).setDimensions(da,da).setResizeMode(u.COVER).setCallback(ja.bind(null,ka)).send();}else ia(la.id,la.big_image_src);}}.bind(this));};z.prototype.getOrderedBigImageMulti=function(ba,ca){return this.getBigImageMulti(ba,function(da){ca(ba.map(function(ea){return da[ea];}));});};z.prototype.$MercuryParticipants9=function(ba,ca){n.allParticipantIDs(ba);var da=this.$MercuryParticipants3.executeOrEnqueue(ba,ca),ea=this.$MercuryParticipants3.getUnavailableResources(da).filter(function(fa){var ga=o.tokenize(fa),ha=ga.type,ia=ga.value;if(ha==='email'){this.$MercuryParticipants11(fa,ia);return false;}if(ha==='name'){this.$MercuryParticipants12(fa,ia);return false;}return true;}.bind(this));this.$MercuryParticipants4.fetchMulti(ea);return this.$MercuryParticipants13(da);};z.prototype.$MercuryParticipants8=function(ba){var ca=this.$MercuryParticipants3.getResource(ba);if(!ca){var da=o.tokenize(ba),ea=da.type,fa=da.value;if(ea==='email')ca=this.$MercuryParticipants11(ba,fa);if(ea==='name')ca=this.$MercuryParticipants12(ba,fa);}return ca;};z.prototype.$MercuryParticipants11=function(ba,ca){var da=new l(aa(ba,ca));this.$MercuryParticipants3.setResource(ba,da);return da;};z.prototype.$MercuryParticipants12=function(ba,ca){var da=new l({gender:r.UNKNOWN_GENDER,href:null,id:ba,image_src:r.EMAIL_IMAGE,big_image_src:r.EMAIL_IMAGE,name:ca,short_name:ca,employee:false});this.$MercuryParticipants3.setResource(ba,da);return da;};z.prototype.$MercuryParticipants10=function(ba){this.$MercuryParticipants2.emit(y,ba);};z.prototype.$MercuryParticipants6=function(ba){var ca=ba.map(function(da){return da.id;});ba=ba.map(function(da){if(da.vanity)t.set(da.vanity,da.id);var ea=this.$MercuryParticipants3.getResource(da.id);return ea?l.set(ea,da):new l(this.$MercuryParticipants14(da));}.bind(this));this.$MercuryParticipants3.addResourcesAndExecute(w(ca,ba));this.$MercuryParticipants10(new v(ca));};z.prototype.$MercuryParticipants14=function(ba){var ca=ba.type===q.USER||ba.type===q.FRIEND;if(!ca)return ba;if(!ba.name&&!ba.href&&!ba.vanity){var da=x._("Facebook User");ba.name=da;ba.short_name=da;}return ba;};z.prototype.$MercuryParticipants13=function(ba){return {remove:function(){this.$MercuryParticipants3.unsubscribe(ba);}.bind(this)};};z.prototype.$MercuryParticipants7=function(){this.$MercuryParticipants3=new m();};function aa(ba,ca){return {gender:r.UNKNOWN_GENDER,href:null,id:ba,image_src:r.EMAIL_IMAGE,big_image_src:r.EMAIL_IMAGE,name:ca,short_name:ca,employee:false};}f.exports=new z(h.getID());},null);
__d('MercurySyncFakeDFFSender',['Arbiter','ChannelConstants','MercurySyncDeltaTypes'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.getArbiterType(i.FAKE_DFF);function l(){h.inform(k,{obj:{delta:{'class':j.ForcedFetch}}});}function m(n,o){h.inform(k,{obj:{delta:{'class':j.ForcedFetch,threadKey:{otherUserFbId:n,threadFbId:o}}}});}f.exports={sendGlobalDFF:l,sendThreadDFF:m};},null);
__d('MercuryThreadInfo',['CurrentUser','MercuryIDs'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={canReply:function(l){return !!(l.is_subscribed&&(l.can_reply===undefined||l.can_reply)&&!l.has_email_participant&&!l.read_only&&(l.recipients_loadable||l.recipients_loadable===undefined));},getMuteSetting:function(l){return (l.mute_settings&&l.mute_settings[k(h.getID())]);},isEmptyLocalThread:function(l){return (i.tokenize(l.thread_id).type==='root'&&!l.timestamp);},isMuted:function(l){return j.getMuteSetting(l)!==undefined;},isNewEmptyLocalThread:function(l){return !!(j.isEmptyLocalThread(l)&&l.participants&&l.participants.length===0);},showComposer:function(l){return !!(l.is_subscribed&&(l.composer_enabled===undefined||l.composer_enabled)&&!l.has_email_participant&&!l.read_only&&(l.recipients_loadable||l.recipients_loadable===undefined));}};function k(l){return l+'@facebook.com';}f.exports=j;},null);
__d('MessagingGiftWrapConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='gift_wrap',i='gift_unwrapped',j='valentines2016';f.exports={TAG_PREFIX:h,UNWRAPPED_TAG:i,VALENTINES_GIFT:j};},null);
__d('MessagingGiftWrapChecker',['MercuryConfig','MercuryTagHelper','MessagingGiftWrapConstants'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={shouldRenderWithGiftWrap:function(n){return !!(h.GiftWrapViewerGK&&n.tags&&l(n.tags)&&!m(n.tags));}};function l(n){return i.get(n,j.TAG_PREFIX)===j.VALENTINES_GIFT;}function m(n){return !!i.get(n,j.UNWRAPPED_TAG);}f.exports=k;},null);
__d('MercuryThreads',['AsyncRequest','EventEmitter','MercuryDisplayTimeFilterMessageRenderer','ImmutableObject','KeyedCallbackManager','LogHistory','Map','MercuryAPIArgsSource','MercuryActionType','MercuryAssert','MercuryAttachment','MercuryConfig','MercuryDispatcher','MercuryFolders','MercuryGiftSnippetRenderer','MercuryGlobalActionType','MercuryIDs','MercuryLogMessageType','MercuryLoggingHelper','MercuryParticipants','MercuryPayloadSource','MercuryServerRequests','MercurySingletonProvider','MercurySyncFakeDFFSender','MercuryThreadInfo','MercuryThreadInformer','MessagingGenericAdminTextType','MessagingGiftWrapChecker','MessagingTag','Set','XMercuryFBLoggerController','emptyFunction','ifRequired','requireWeak','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa){'use strict';if(c.__markCompiled)c.__markCompiled();var qa=new i(),ra=m.getInstance('mercury_threads');function sa(ua){this.$MercuryThreads1=ua;this.$MercuryThreads2=ca.getForFBID(this.$MercuryThreads1);this.$MercuryThreads3=ga.getForFBID(this.$MercuryThreads1);this.$MercuryThreads4=x.getParticipantIDFromUserID(this.$MercuryThreads1);this.$MercuryThreads5=t.getForFBID(this.$MercuryThreads1);this.$MercuryThreads6=false;this.$MercuryThreads7=new l();this.$MercuryThreads8=new ka();this.$MercuryThreads9=false;this.$MercuryThreads10=new ka();this.$MercuryThreads11=new ka();this.$MercuryThreads12();}sa.getForFBID=function(ua){return ta.getForFBID(ua);};sa.get=function(){return ta.get();};sa.prototype.getThreadMetaNow=function(ua){q.isThreadID(ua);return this.$MercuryThreads7.getResource(ua);};sa.prototype.getOrFetch=function(ua){var va=this.getThreadMetaNow(ua);if(!va&&!this.$MercuryThreads11.has(ua))this.$MercuryThreads10.add(ua);if(this.$MercuryThreads10.size>0&&!this.$MercuryThreads9)this.$MercuryThreads13();return va;};sa.prototype.getAllLoadedClientThreadIDs=function(){return Object.keys(this.$MercuryThreads7.getAllResources());};sa.prototype.$MercuryThreads13=function(){if(this.$MercuryThreads9)return;this.$MercuryThreads9=true;pa(function(){this.$MercuryThreads9=false;this.$MercuryThreads10.forEach(function(ua){return this.$MercuryThreads11.add(ua);}.bind(this));this.getMultiThreadMeta(Array.from(this.$MercuryThreads10),function(ua){for(var va in ua)ua.hasOwnProperty(va)&&this.$MercuryThreads11['delete'](va);}.bind(this));this.$MercuryThreads10.clear();}.bind(this));};sa.prototype.getThreadMeta=function(ua,va,wa){return this.getMultiThreadMeta([ua],function(xa){return va(xa[ua]);},wa);};sa.prototype.getMultiThreadMeta=function(ua,va,wa){q.allThreadID(ua);var xa=this.$MercuryThreads7.executeOrEnqueue(ua,va),ya=this.$MercuryThreads7.getUnavailableResources(xa);if(ya.length){var za=[];for(var ab=0;ab<ya.length;ab++){var bb=ya[ab],cb=x.tokenize(bb),db=cb.type,eb=cb.value;if(db=='user'){var fb=x.getParticipantIDFromUserID(eb);this.createNewLocalThread(bb,fb===this.$MercuryThreads4?[this.$MercuryThreads4]:[this.$MercuryThreads4,fb]);}else za.push(bb);}if(za.length)this.$MercuryThreads2.fetchThreadData(za,wa);}return xa;};sa.addListener=function(ua,va){return qa.addListener(ua,va);};sa.prototype.unsubscribe=function(ua){this.$MercuryThreads7.unsubscribe(ua);};sa.prototype.getCanonicalThreadToParticipant=function(ua,va,wa,xa){var ya=x.getThreadIDFromParticipantID(ua),za=this.$MercuryThreads7.getResource(ya);if(typeof za=='undefined'){za=this.createNewLocalThread(ya,this.$MercuryThreads4===ua?[this.$MercuryThreads4]:[this.$MercuryThreads4,ua],va);!xa&&this.$MercuryThreads2.fetchThreadData([ya],wa);}return za;};sa.prototype.createNewLocalThread=function(ua,va,wa){var xa=this.$MercuryThreads7.getResource(ua);if(!xa){var ya=x.tokenize(ua),za=ya.type,ab=ya.value;xa=new k({thread_id:ua,participants:Array.from(va),name:'',snippet:'',snippet_has_attachment:false,snippet_sender:null,unread_count:wa?wa:0,message_count:0,image_src:null,timestamp_absolute:null,timestamp_relative:null,timestamp:null,other_user_fbid:za==='user'?ab:null,is_canonical_user:za=='user',is_canonical:this.$MercuryThreads14(va),is_subscribed:true,folder:ja.INBOX,is_archived:false});this.$MercuryThreads7.setResource(ua,xa);}return xa;};sa.prototype.isEmptyLocalThread=function(ua){var va=this.$MercuryThreads7.getResource(ua);if(!va)return false;return fa.isEmptyLocalThread(va);};sa.prototype.isNewEmptyLocalThread=function(ua){var va=this.$MercuryThreads7.getResource(ua);if(!va)return false;return fa.isNewEmptyLocalThread(va);};sa.prototype.$MercuryThreads15=function(ua,va){if(!ua||!ua.length)return;var wa=new n(),xa=new n(),ya=new n(),za=[];for(var ab=0;ab<ua.length;ab++){var bb=ua[ab];if(bb.is_forward)continue;var cb=bb.action_type;if(cb==p.LOG_MESSAGE&&bb.log_message_type==y.SERVER_ERROR)continue;var db=!!(bb.sync_id||bb.action_id||bb.is_from_iris),eb=bb.thread_id;q.isThreadID(eb);var fb=this.$MercuryThreads7.getResource(eb);if(!fb&&!db&&cb==p.USER_GENERATED_MESSAGE){fb=this.$MercuryThreads16(bb);if(fb.participants){this.$MercuryThreads7.setResource(eb,fb);}else if(s.MercuryLogFromJSToFBLogger){var gb='local_meta_'+JSON.stringify(bb),hb=la.getURIBuilder().setString('message',gb).getURI();new h().setURI(hb).send();ra.debug('missing_local_participants',bb);}}if(!fb)continue;if(cb==p.LOG_MESSAGE||cb==p.USER_GENERATED_MESSAGE)db=!va;if(fb.server_timestamp&&bb.timestamp<=fb.server_timestamp&&db)continue;if(!ya.has(eb))ya.set(eb,babelHelpers['extends']({},fb));this.$MercuryThreads17(ya.get(eb),bb,va);if(cb==p.USER_GENERATED_MESSAGE)wa.set(eb,bb);if(cb==p.USER_GENERATED_MESSAGE||cb==p.LOG_MESSAGE||cb==p.SEND_MESSAGE){if(cb==p.SEND_MESSAGE&&s.WWWDontUpdateTimestampOnSendGK)continue;if(bb&&bb.timestamp&&(!xa.has(eb)||bb.timestamp>xa.get(eb).timestamp))xa.set(eb,bb);}}ya.forEach(function(ib,jb){var kb=xa.get(jb),lb=wa.get(jb);if(lb){this.$MercuryThreads18(ib,lb);}else if(kb&&kb.log_message_body){var mb=babelHelpers['extends']({},kb,{body:kb.log_message_body});this.$MercuryThreads18(ib,mb);}var nb=ib.timestamp;if(kb){if(kb.timestamp>nb)Object.assign(ib,{timestamp_absolute:kb.timestamp_absolute,timestamp_relative:kb.timestamp_relative,timestamp:kb.timestamp});var ob=ib.server_timestamp;if(!va&&kb.timestamp>ob)ib.server_timestamp=kb.timestamp;}var pb=new k(ib);this.$MercuryThreads7.setResource(jb,pb);za.push(z.obfuscateThread(pb));}.bind(this),this);za.length&&this.$MercuryThreads6&&ra.debug('threads_updated',JSON.stringify({threads:za}));};sa.prototype.$MercuryThreads17=function(ua,va,wa){var xa=va.action_type;if(xa==p.USER_GENERATED_MESSAGE||xa==p.LOG_MESSAGE){va.is_unread&&ua.unread_count++;ua.message_count++;ua.is_archived=false;}switch(xa){case p.DELETE_THREAD:ua.message_count=0;this.$MercuryThreads19(va.thread_id);break;case p.USER_GENERATED_MESSAGE:if(ua.unread_count===0&&va.author===this.$MercuryThreads4&&va.timestamp>=ua.last_read_timestamp)ua.last_read_timestamp=va.timestamp;if(va.offline_threading_id!==va.message_id)ua.last_message_timestamp=va.timestamp;this.$MercuryThreads20(ua,va.author);break;case p.SEND_MESSAGE:var ya=va.log_message_type;if(ya==y.THREAD_IMAGE){ua.image_src=va.log_message_data.image?va.log_message_data.image.preview_url:null;this.$MercuryThreads21(va.thread_id);}if(ya!==y.SUBSCRIBE&&ya!==y.UNSUBSCRIBE)ua.snippet_attachments=va.attachments;break;case p.LOG_MESSAGE:var ya=va.log_message_type;if(ya==y.SUBSCRIBE){this.$MercuryThreads22(ua,va.log_message_data.added_participants);this.$MercuryThreads21(va.thread_id);}else if(ya==y.UNSUBSCRIBE){this.$MercuryThreads23(ua,va.log_message_data.removed_participants);this.$MercuryThreads21(va.thread_id);}else if(ya==y.THREAD_IMAGE){if(!wa)ua.image_src=va.log_message_data.image?va.log_message_data.image.preview_url:null;}else if(ya==y.THREAD_NAME){if(ua.name!==va.log_message_data.name)this.$MercuryThreads21(va.thread_id);ua.name=va.log_message_data.name;}else if(ya===y.GENERIC_ADMIN_TEXT)this.$MercuryThreads24(ua,va);break;case p.CHANGE_READ_STATUS:var za=this.$MercuryThreads25(ua,va,va.mark_as_read);if(za)ua.last_read_timestamp=ua.last_message_timestamp;var ab=!ua.read_only&&ua.folder===ja.INBOX;if(za&&wa)this.$MercuryThreads2.changeThreadReadStatus(ua.thread_id,va.mark_as_read,va.source,ua.last_read_timestamp,ua.titan_originated_thread_id,ab);break;case p.CHANGE_ARCHIVED_STATUS:if(ua.is_archived!=va.archived){ua.is_archived=va.archived;this.$MercuryThreads21(va.thread_id);}break;case p.CHANGE_FOLDER:if(ua.folder!=va.new_folder){ua.folder=va.new_folder;this.$MercuryThreads21(va.thread_id);}break;case p.DELETE_MESSAGES:if(wa){ua.snippet='...';ua.snippet_has_attachment=false;ua.snippet_attachments=null;ua.snippet_sender=null;this.$MercuryThreads21(va.thread_id);}else if(va.message_ids){ua.message_count-=va.message_ids.length;na('MercuryMessages',function(db){db=db.getForFBID(this.$MercuryThreads1);for(var eb=va.message_ids,fb=Array.isArray(eb),gb=0,eb=fb?eb:eb[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var hb;if(fb){if(gb>=eb.length)break;hb=eb[gb++];}else{gb=eb.next();if(gb.done)break;hb=gb.value;}var ib=hb,jb=db.getMessagesFromIDs([ib]),kb=jb[0];if(kb&&kb.timestamp>ua.last_read_timestamp)ua.unread_count=Math.max(0,ua.unread_count-1);}this.$MercuryThreads21(va.thread_id);}.bind(this),ma);}break;case p.UPDATE_SNIPPET:na('MercuryMessages',function(db){db=db.getForFBID(this.$MercuryThreads1);var eb=0,fb=1,gb=db.getThreadMessagesRangeNow(va.thread_id,eb,fb),hb=gb[0];if(hb){ua.snippet=hb.body;ua.snippet_has_attachment=hb.has_attachment;ua.snippet_attachments=hb.attachments;ua.snippet_sender=hb.author;}else{ua.snippet='...';ua.snippet_has_attachment=false;ua.snippet_attachments=null;ua.snippet_sender=null;db.getThreadMessagesRange(va.thread_id,eb,fb,function(ib){if(ib.length)this.$MercuryThreads5.handleUpdate({from_client:true,actions:[{thread_id:va.thread_id,action_type:p.UPDATE_SNIPPET,deleted_ids:va.deleted_ids}]});}.bind(this));}this.$MercuryThreads21(va.thread_id);}.bind(this),ma);break;case p.UPDATE_BLOCKER_STATUS:ua.can_reply=!!(!va.message_blocked&&(va.is_blocked_by_recipient===undefined||!va.is_blocked_by_recipient)&&ua.is_subscribed&&!ua.has_email_participant&&!ua.read_only&&(ua.recipients_loadable||ua.recipients_loadable===undefined));this.$MercuryThreads21(va.thread_id);break;case p.UPDATE_BLOCKEE_STATUS:ua.can_reply=!!(!va.got_blocked&&ua.is_subscribed&&!ua.has_email_participant&&!ua.read_only&&(ua.recipients_loadable||ua.recipients_loadable===undefined));this.$MercuryThreads21(va.thread_id);break;case p.CHANGE_MUTE_SETTINGS:if(va.mute_settings!==undefined){var bb=this.$MercuryThreads1+'@facebook.com';if(ua.mute_settings){if(va.mute_settings){var cb={};cb[bb]=va.mute_settings;ua.mute_settings=babelHelpers['extends']({},ua.mute_settings,cb);}else{ua.mute_settings=babelHelpers['extends']({},ua.mute_settings);delete ua.mute_settings[bb];}this.$MercuryThreads21(ua.thread_id);}}break;case p.ADD_PARTICIPANTS:this.$MercuryThreads22(ua,va.participants);this.$MercuryThreads21(ua.thread_id);break;case p.CHANGE_FLAG:this.$MercuryThreads26(ua,va.mark_as_flag);this.$MercuryThreads21(ua.thread_id);break;case p.MOVE_PENDING_TO_INBOX:this.$MercuryThreads27(ua);this.$MercuryThreads21(ua.thread_id);break;case p.UPDATE_CUSTOM_LIKE:ua.custom_like_icon=va.custom_like;this.$MercuryThreads21(ua.thread_id);break;}};sa.prototype.$MercuryThreads24=function(ua,va){if(va.log_message_data&&va.log_message_data.untypedData){var wa=va.log_message_data.untypedData;switch(va.log_message_data.message_type){case ha.THREAD_EPHEMERAL_SEND_MODE:var xa=parseInt(wa.ttl,10);if(xa!==null&&ua.ephemeral_ttl_mode!==xa){ua.ephemeral_ttl_mode=xa;this.$MercuryThreads21(va.thread_id);}break;case ha.CHANGE_THREAD_NICKNAME:var ya={};for(var za in ua.custom_nickname)ya[za]=ua.custom_nickname[za];ya[wa.participant_id]=wa.nickname;ua.custom_nickname=ya;this.$MercuryThreads21(va.thread_id);break;case ha.CHANGE_THREAD_ICON:oa('MercuryThreadActions',function(bb){bb.getForFBID(this.$MercuryThreads1).updateCustomLike(va.thread_id,wa.thread_icon);}.bind(this));break;case ha.CHANGE_THREAD_THEME:var ab=wa.theme_color;if(ab.length>0){ua.custom_color='#'.concat(ab.substring(2));}else ua.custom_color=null;this.$MercuryThreads21(va.thread_id);break;}}};sa.prototype.$MercuryThreads16=function(ua){var va=x.tokenize(ua.thread_id),wa=va.type,xa=va.value,ya=ua.specific_to_list&&this.$MercuryThreads14(ua.specific_to_list);return new k({thread_id:ua.thread_id,participants:ua.specific_to_list,name:null,snippet:ua.body,snippet_has_attachment:false,snippet_attachments:[],snippet_sender:ua.author,unread_count:0,message_count:0,image_src:null,timestamp_absolute:ua.timestamp_absolute,timestamp_relative:ua.timestamp_relative,timestamp:ua.timestamp,other_user_fbid:wa==='user'?xa:null,is_canonical_user:wa==='user',is_canonical:ya,is_subscribed:true,folder:ja.INBOX,is_archived:false});};sa.prototype.$MercuryThreads25=function(ua,va,wa){if(va.timestamp)this.$MercuryThreads28(ua.thread_id,wa,va.timestamp);if(!ua||!ua.thread_id)return false;if(!ua.timestamp){this.$MercuryThreads8.add(ua.thread_id);return false;}var xa=!ua.unread_count;if(wa==xa)return false;ua.unread_count=wa?0:1;this.$MercuryThreads21(ua.thread_id);return true;};sa.prototype.$MercuryThreads29=function(ua){var va=this.$MercuryThreads7.getAllResources();for(var wa in va)if(va.hasOwnProperty(wa)){var xa=va[wa];if(xa.folder==ua){this.$MercuryThreads7.setResource(wa,k.setProperty(xa,'unread_count',0));this.$MercuryThreads21(wa);}}};sa.prototype.$MercuryThreads22=function(ua,va){var wa=new ka(ua.participants);ua.participants=Array.from(ua.participants);va.forEach(function(xa){if(!wa.has(xa)){ua.participants.push(xa);if(xa===this.$MercuryThreads4){ua.is_subscribed=true;ua.can_reply=true;ua.composer_enabled=true;if(s.WWWSyncThreadDFFOnViewerAdd){ea.sendThreadDFF(undefined,ua.thread_fbid);}else this.$MercuryThreads2.fetchMissedMessages(u.getSupportedFolders(),o.MERCURYSYNC,ua.last_message_timestamp);}}}.bind(this));};sa.prototype.$MercuryThreads23=function(ua,va){var wa=new ka(va);ua.participants=ua.participants.filter(function(xa){return !wa.has(xa);});if(wa.has(this.$MercuryThreads4))ua.is_subscribed=false;this.$MercuryThreads2.fetchThreadData([ua.thread_id]);};sa.prototype.$MercuryThreads20=function(ua,va){if(!ua.participants){var wa=JSON.stringify({thread_info:ua,participant:va});if(s.MercuryLogFromJSToFBLogger){var xa=la.getURIBuilder().setString('message',wa).getURI();new h().setURI(xa).send();}ra.debug('missing_participants',wa);return;}var ya=ua.participants.indexOf(va);if(ya>0)ua.participants=[va].concat(ua.participants.slice(0,ya),ua.participants.slice(ya+1));};sa.prototype.$MercuryThreads18=function(ua,va){var wa=va.body,xa=va.subject,ya='';if(xa){xa=xa.toLowerCase();if(wa.slice(0,xa.length).toLowerCase()==xa){ya=wa;}else if(wa){ya=xa+' \u00B7 '+wa;}else ya=xa;}else ya=wa;if(va.is_filtered_content)ya=j.renderFilteredContent(va);if(ia.shouldRenderWithGiftWrap(va)){var za=va.author,ab=za==this.$MercuryThreads4,bb=null;if(!ab){bb=ua.custom_nickname&&ua.custom_nickname[x.getUserIDFromParticipantID(za)];if(!bb){var cb=aa.getNow(za);if(cb!=null)bb=cb.short_name;}}ya=v.renderText(ab,bb);}ua.snippet=ya;ua.snippet_has_attachment=va.has_attachment;if(va.raw_attachments&&va.raw_attachments.length>0){var db=r.convertRaw(va.raw_attachments);ua.snippet_attachments=db;}else ua.snippet_attachments=va.attachments;if(!va.log_message_type)ua.snippet_sender=va.author;};sa.prototype.$MercuryThreads26=function(ua,va){ua.page_thread_info=babelHelpers['extends']({},ua.page_thread_info,{flagged:va});};sa.prototype.$MercuryThreads27=function(ua){if(ua.folder!==ja.PENDING)return;ua.folder=ja.INBOX;};sa.prototype.$MercuryThreads14=function(ua){return ua.filter(function(va){return va!=this.$MercuryThreads4;}.bind(this)).length<=1;};sa.prototype.$MercuryThreads12=function(){this.$MercuryThreads5.subscribe('invalidate-thread-state',function(ua,va){return this.$MercuryThreads30(va);}.bind(this));this.$MercuryThreads5.subscribe('invalidate-global-state',function(ua,va){return this.$MercuryThreads31();}.bind(this));this.$MercuryThreads5.subscribe('update-threads',function(ua,va){var wa=(va.actions||[]).filter(function(xa){return xa.thread_id;});if(va.threads&&va.payload_source==ba.SERVER_FETCH_THREAD_INFO)va.threads.forEach(function(xa){var ya=xa.thread_id;if(this.$MercuryThreads8.has(ya)){this.$MercuryThreads8['delete'](ya);if(xa.unread_count)this.$MercuryThreads2.changeThreadReadStatus(xa.thread_id,true);}}.bind(this));this.$MercuryThreads32(va.threads);this.$MercuryThreads15(wa,va.from_client);va.threads&&va.threads.forEach(function(xa){this.$MercuryThreads21(xa.thread_id);}.bind(this));if(va.global_actions)va.global_actions.forEach(function(xa){if(xa.action_type==w.MARK_ALL_READ)this.$MercuryThreads29(xa.folder);}.bind(this));if(this.$MercuryThreads6){this.$MercuryThreads6=false;qa.emit('change');}}.bind(this));};sa.prototype.$MercuryThreads32=function(ua){if(!ua||!ua.length)return;var va={},wa=[];ua.forEach(function(xa){var ya=new k(xa);va[xa.thread_id]=ya;wa.push(z.obfuscateThread(ya));});wa.length&&ra.debug('threads_added',JSON.stringify({threads:wa}));this.$MercuryThreads7.addResourcesAndExecute(va);};sa.prototype.$MercuryThreads21=function(ua){this.$MercuryThreads6=true;this.$MercuryThreads3.updatedThread(ua);};sa.prototype.$MercuryThreads19=function(ua){this.$MercuryThreads6=true;this.$MercuryThreads3.deletedThread(ua);};sa.prototype.$MercuryThreads28=function(ua,va,wa){this.$MercuryThreads6=true;this.$MercuryThreads3.changedThreadReadState(ua,va,wa);};sa.prototype.$MercuryThreads30=function(ua){this.$MercuryThreads7.setResource(ua,undefined);};sa.prototype.$MercuryThreads31=function(){this.$MercuryThreads6=false;this.$MercuryThreads7=new l();this.$MercuryThreads8=new ka();this.$MercuryThreads9=false;this.$MercuryThreads10=new ka();this.$MercuryThreads11=new ka();};var ta=new da(sa);f.exports=sa;},null);
__d('MercuryMessageObject',['BanzaiODS','MercuryActionStatus','MercuryActionType','MercuryIDs','MercuryLocalIDs','MercuryMessageClientState','MercuryMessageSourceTags','MercurySingletonProvider','MercurySourceType','MercuryThreads','MercuryTimePassed','MercurySendMessageFields','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();v.getForFBID=function(z){'use strict';return y.getForFBID(z);};v.get=function(){'use strict';return y.get();};function v(z){'use strict';this.$MercuryMessageObject1=z;this.$MercuryMessageObject2=q.getForFBID(z);}v.prototype.constructUserGeneratedMessageObject=function(z,aa,ba,ca,da){'use strict';var ea=w(this.$MercuryMessageObject1,j.USER_GENERATED_MESSAGE,aa,ba);if(typeof z=='string')z=z.replace(/^\s+/,'').replace(/\s+$/,'');ea.body=z;ea.has_attachment=false;ea.html_body=false;ea.attachments=[];ea.specific_to_list=ca||[];ea.creator_info=da;return ea;};v.prototype.constructStickerMessageObject=function(z,aa,ba){'use strict';var ca=w(this.$MercuryMessageObject1,j.USER_GENERATED_MESSAGE,aa,ba);ca.has_attachment=true;ca.html_body=false;ca.attachments=[];ca.sticker_id=z;ca.specific_to_list=[];return ca;};v.prototype.constructAttachmentMessageObject=function(z,aa){'use strict';var ba=w(this.$MercuryMessageObject1,j.USER_GENERATED_MESSAGE,z,aa);ba.attachments=[];ba.specific_to_list=[];return ba;};v.prototype.constructLogMessageObject=function(z,aa,ba,ca){'use strict';var da=w(this.$MercuryMessageObject1,j.LOG_MESSAGE,z,aa);da.log_message_type=ba;da.log_message_data=ca;if(ca&&ca.untypedData&&ca.untypedData.ttl)da.ephemeral_ttl_mode=ca.untypedData.ttl;return da;};v.prototype.normalizeNewMessage=function(z){'use strict';if(z.status===undefined)z.status=i.UNSENT;z.timestamp_absolute=t._("Today").toString();z.offline_threading_id=z.offline_threading_id||l.generateOfflineThreadingID(z.timestamp);if(!z.offline_threading_id)h.bumpEntityKey('chat.web','invalid_otid_generated');z.message_id=z.message_id||z.offline_threading_id;var aa=k.getParticipantIDFromUserID(this.$MercuryMessageObject1);z.specific_to_list=z.specific_to_list||[];if(z.specific_to_list.length&&z.specific_to_list.indexOf(aa)===-1)z.specific_to_list.push(aa);if(!z.thread_id){z.thread_id='root:'+z.offline_threading_id;}else{var ba=this.$MercuryMessageObject2.getThreadMetaNow(z.thread_id);if(ba&&ba.ephemeral_ttl_mode!==null&&z.ephemeral_ttl_mode===undefined)z.ephemeral_ttl_mode=ba.ephemeral_ttl_mode;}if(z.specific_to_list.length==1){z.thread_id='user:'+this.$MercuryMessageObject1;}else if(z.specific_to_list.length==2){var ca=z.specific_to_list[0]==aa?z.specific_to_list[1]:z.specific_to_list[0];z.thread_id=k.getThreadIDFromParticipantID(ca);}if(!z.specific_to_list.length){var da=k.tokenize(z.thread_id),ea=da.type,fa=da.value;if(ea=='user')z.specific_to_list=['fbid:'+fa,aa];}if(!z[s.MANUAL_RETRY_CNT])z[s.MANUAL_RETRY_CNT]=0;};v.prototype.normalizeResendMessage=function(z){'use strict';z.status=i.RESENDING;z.timestamp=Date.now();z[s.MANUAL_RETRY_CNT]+=1;};v.prototype.normalizeAddAttachmentPlaceholder=function(z,aa,ba){'use strict';if(ba.preview_attachments.length>0){z.has_attachment=true;z.preview_attachments=ba.preview_attachments;}z.client_state=m.DO_NOT_SEND_TO_SERVER;z.status=i.RESENDING;z.upload_id=aa;};function w(z,aa,ba,ca){var da=x(ba)?[n.CHAT]:[],ea=Date.now(),fa=u(new Date(ea),'g:ia'),ga={action_type:aa,thread_id:ca,author:k.getParticipantIDFromUserID(z),author_email:null,timestamp:ea,timestamp_absolute:new Date(ea).toLocaleDateString(),timestamp_relative:fa,timestamp_time_passed:r.TODAY,is_unread:false,is_forward:false,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,is_spoof_warning:false,source:ba,source_tags:da};return ga;}function x(z){switch(z){case p.CHAT_WEB:case p.CHAT_JABBER:case p.CHAT_IPHONE:case p.CHAT_MEEBO:case p.CHAT_ORCA:case p.CHAT_TEST:case p.CHAT:case p.DESKTOP:return true;default:return false;}}var y=new o(v);f.exports=v;},null);
__d('MercuryMessageActions',['AsyncRequest','MessagingTag','MercuryActionType','MercuryDispatcher','MercuryMessageObject','MercuryPayloadSource','MercuryServerRequests','MercurySingletonMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();function p(q){this.$MercuryMessageActions1=q;this.$MercuryMessageActions2=l.getForFBID(this.$MercuryMessageActions1);this.__serverRequests=n.getForFBID(this.$MercuryMessageActions1);this.__dispatcher=k.getForFBID(this.$MercuryMessageActions1);}p.prototype.send=function(q,r,s){r=r||Function.prototype;this.$MercuryMessageActions2.normalizeNewMessage(q);this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers['extends']({},q),m.CLIENT_SEND_MESSAGE));this.__serverRequests.sendNewMessage(q,s);r(q.thread_id);};p.prototype.resend=function(q,r){var s=babelHelpers['extends']({},q);this.$MercuryMessageActions2.normalizeResendMessage(s);this.send(s,undefined,r);};p.prototype.addAttachmentPlaceholder=function(q,r,s){this.$MercuryMessageActions2.normalizeAddAttachmentPlaceholder(q,r,s);this.$MercuryMessageActions2.normalizeNewMessage(q);this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers['extends']({},q),m.CLIENT_SEND_MESSAGE));};p.prototype.cancelAttachmentPlaceholder=function(q,r){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:q,upload_data:r,action_type:j.CANCEL_ATTACHMENT_PLACEHOLDER},m.CLIENT_SEND_MESSAGE));};p.prototype.confirmAttachmentPlaceholder=function(q,r){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:q,upload_data:r,action_type:j.CONFIRM_ATTACHMENT_PLACEHOLDER},m.CLIENT_SEND_MESSAGE));};p.prototype['delete']=function(q,r,s){this.__dispatcher.handleUpdate(this.$MercuryMessageActions3(q,r,j.DELETE_MESSAGES,s||m.CLIENT_DELETE_MESSAGES));};p.prototype.unwrap=function(q){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({thread_id:q.thread_id,unwrapped_message_id:q.message_id,action_type:j.UNWRAP_MESSAGE},m.CLIENT_UNWRAP_MESSAGE));};p.prototype.__constructClientSingleMessagePayload=function(q,r){return {actions:[q],from_client:true,payload_source:r};};p.prototype.$MercuryMessageActions4=function(q,r){return {actions:[q],from_client:false,payload_source:r};};p.prototype.$MercuryMessageActions3=function(q,r,s,t){return {actions:[{action_type:s,action_id:null,thread_id:q,message_ids:r}],from_client:true,payload_source:t};};Object.assign(p,o);f.exports=p;},null);
__d('MercurySendMessageHandler',['MercuryMessageActions','MercuryMessageObject','MercurySingletonProvider'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.getForFBID=function(m){return l.getForFBID(m);};k.get=function(){return l.get();};function k(m){this.$MercurySendMessageHandler1=m;this.$MercurySendMessageHandler2=h.getForFBID(this.$MercurySendMessageHandler1);this.$MercurySendMessageHandler3=i.getForFBID(this.$MercurySendMessageHandler1);}k.prototype.sendPlainTextMessage=function(m,n,o){var p=this.$MercurySendMessageHandler3.constructUserGeneratedMessageObject(n,o,m);this.$MercurySendMessageHandler2.send(p);};k.prototype.sendSticker=function(m,n,o){var p=this.$MercurySendMessageHandler3.constructStickerMessageObject(n,o,m);this.$MercurySendMessageHandler2.send(p);};k.prototype.sendAttachment=function(m,n,o){var p=this.$MercurySendMessageHandler3.constructAttachmentMessageObject(o,m);this.$MercurySendMessageHandler2.addAttachmentPlaceholder(p,n.upload_id,n);};var l=new j(k);f.exports=k;},null);
__d("LoadingDialogDimensions",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={HEIGHT:96,WIDTH:300};f.exports=h;},null);
__d('AsyncDialog',['AsyncRequest','CSS','DialogX','DOM','Keys','LayerFadeOnShow','LoadingDialogDimensions','Parent','React','ReactDOM','URI','XUISpinner.react','XUIDialogTitle.react','cx','emptyFunction','forEachObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y;function z(ha){var ia=n.WIDTH,ja;if(ha){ia=parseInt(ha.getAttribute('data-dialog-width'),10)||ia;ja=ha.getAttribute('data-dialog-title')||ja;}if(!x){var ka=k.create('div',{className:"_57-x"});x=new j({width:ia,addedBehaviors:[m],xui:true},k.create('div',null,ka));y=k.create('div');k.insertBefore(ka,y);q.render(p.createElement(s,{size:'large'}),ka);x.subscribe(['key','blur'],function(la,ma){if(la=='blur'||la=='key'&&ma.keyCode==l.ESC){da();return false;}});}if(ja){q.render(p.createElement(t,{showCloseButton:false},ja),y);}else k.empty(y);x.setWidth(ia);return x;}var aa={},ba=1,ca=[];function da(){w(aa,function(ha,ia){ha.abandon();ea(ia);});}function ea(ha){delete aa[ha];if(!Object.keys(aa).length)z().hide();}function fa(ha,ia){var ja=ba++;ca[ja]=ia;aa[ja]=ha;var ka=ea.bind(null,''+ja);Object.assign(ha.getData(),{__asyncDialog:ja});var la=ha.getRelativeTo();z(la).setCausalElement(la).show();var ma=ha.finallyHandler;ha.setFinallyHandler(function(pa){var qa=pa.getPayload();if(qa&&qa.asyncURL)ga.send(new h(qa.asyncURL));ka();ma&&ma(pa);});var na=ha.abortHandler||v,oa=ha.interceptHandler||v;ha.setInterceptHandler(function(){try{oa();}finally{ka();}}).setAbortHandler(function(){try{na();}finally{ka();}});ha.send();}var ga={send:function(ha,ia){fa(ha,ia||v);},bootstrap:function(ha,ia,ja){if(!ha)return;var ka=o.byClass(ia,'stat_elem')||ia;if(ka&&i.hasClass(ka,'async_saving'))return false;var la=new r(ha).getQueryData(),ma=ja==='dialog',na=new h().setURI(ha).setData(la).setMethod(ma?'GET':'POST').setReadOnly(ma).setRelativeTo(ia).setStatusElement(ka).setNectarModuleDataSafe(ia);ga.send(na);},respond:function(ha,ia){var ja=ca[ha];if(ja){ja(ia);delete ca[ha];}},getLoadingDialog:function(){return z();}};f.exports=ga;},null);
__d('MercuryViewer',['CurrentUser','MercuryAssert'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j='fbid:'+h.getID(),k={getID:function(){return j;},isViewer:function(l){i.isParticipantID(l);return l===j;}};f.exports=k;},null);
__d("XMercuryThreadLikeIconController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/like_icon\/",{emoji:{type:"String",defaultValue:""}});},null);
__d("XMessagingSaveNicknameController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messaging\/save_thread_nickname\/",{source:{type:"Enum",required:true,enumType:1}});},null);
__d("XMessagingSaveThreadColorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messaging\/save_thread_color\/",{source:{type:"Enum",required:true,enumType:1}});},null);
__d("XMessagingSaveThreadEmojiController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messaging\/save_thread_emoji\/",{source:{type:"Enum",required:true,enumType:1}});},null);
__d("XMessengerNotificationsSettingsDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/notifications\/settings\/dialog\/",{thread_key_id:{type:"String",required:true},modify:{type:"Bool",defaultValue:false},__asyncDialog:{type:"Int"}});},null);
__d("XNFXMessengerBlockActionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/nfx\/block_messages\/",{thread_fbid:{type:"Int",required:true},av:{type:"Int"},location:{type:"Enum",required:true,enumType:1},__asyncDialog:{type:"Int"}});},null);
__d('MercuryThreadActions',['AsyncDialog','AsyncRequest','EmojiLikeConstants','IrisProtocolMessageLifetime','MercuryActionType','MercuryAPIArgsSource','MercuryDispatcher','MercuryIDs','MercuryLogMessageType','MercuryMessengerBlockingUtils','MercuryPayloadSource','MercuryServerPayloadPreprocessor','MercuryServerRequests','MercurySingletonMixin','MercurySourceType','MercuryViewer','MessagingGenericAdminTextType','MessagingTag','XNFXMessengerBlockActionController','URI','XMercuryThreadLikeIconController','XMessagingSaveNicknameController','XMessagingSaveThreadColorController','XMessagingSaveThreadEmojiController','MercuryAssert','XMessengerNotificationsSettingsDialogController','cssVar','MercuryMessageActions','MercuryMessageObject','MercuryThreads','MercuryThreadIDMap'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){'use strict';if(c.__markCompiled)c.__markCompiled();var ia=c('MercuryMessageActions').get(),ja=c('MercuryMessageObject').get(),ka=c('MercuryThreads').get(),la=c('MercuryThreadIDMap').get();function ma(na){this.$MercuryThreadActions1=na;this.__serverRequests=t.getForFBID(this.$MercuryThreadActions1);this.__dispatcher=n.getForFBID(this.$MercuryThreadActions1);this.__payloadPreprocessor=s.getForFBID(this.$MercuryThreadActions1);}ma.prototype.markRead=function(na,oa){this.batchMarkRead([na],oa);};ma.prototype.batchMarkRead=function(na,oa){this.__dispatcher.handleUpdate(this.$MercuryThreadActions2(na,true,oa));};ma.prototype.markUnread=function(na,oa){this.batchMarkUnread([na],oa);};ma.prototype.batchMarkUnread=function(na,oa){this.__dispatcher.handleUpdate(this.$MercuryThreadActions2(na,false,oa));};ma.prototype.markSeen=function(na,oa){this.__dispatcher.handleUpdate(this.__constructClientPayload([na],l.MARK_THREAD_SEEN,r.CLIENT_MARK_THREAD_SEEN,{persistent:oa}));};ma.prototype.archive=function(na,oa){this.batchArchive([na],oa);};ma.prototype.batchArchive=function(na,oa){na.forEach(function(pa){this.__serverRequests.changeThreadArchivedStatus(pa,true,oa);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions3(na,true));};ma.prototype.unarchive=function(na,oa){this.batchUnarchive([na],oa);};ma.prototype.batchUnarchive=function(na,oa){na.forEach(function(pa){this.__serverRequests.changeThreadArchivedStatus(pa,false,oa);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions3(na,false));};ma.prototype.markSpam=function(na,oa){this.batchMarkSpam([na],oa);};ma.prototype.batchMarkSpam=function(na,oa){na.forEach(function(pa){this.__serverRequests.markThreadSpam(pa,oa);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions4(na,y.SPAM));};ma.prototype.unmarkSpam=function(na,oa){this.batchUnmarkSpam([na],oa);};ma.prototype.batchUnmarkSpam=function(na,oa){na.forEach(function(pa){this.__serverRequests.unmarkThreadSpam(pa,oa);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions4(na,y.INBOX));};ma.prototype.changeFolder=function(na,oa){this.batchChangeFolder([na],oa);};ma.prototype.batchChangeFolder=function(na,oa){na.forEach(function(pa){this.__serverRequests.changeThreadFolder(pa,oa);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryThreadActions4(na,oa));};ma.prototype['delete']=function(na,oa){this.batchDelete([na],oa);};ma.prototype.batchDelete=function(na,oa){na.forEach(function(pa){this.__serverRequests.deleteThread(pa,oa);}.bind(this));this.__dispatcher.handleUpdate(this.__constructClientPayload(na,l.DELETE_THREAD,r.CLIENT_DELETE_THREAD));};ma.prototype.openNotificationSettings=function(na){fa.isThreadID(na);this.__threadIDMap.getServerIDFromClientID(na,function(oa){var pa=ga.getURIBuilder().setString('thread_key_id',oa).setBool('modify',false).getURI();new i().setURI(pa).send();});};ma.prototype.unmute=function(na){this.updateMuteSetting(na,0);};ma.prototype.updateMuteSetting=function(na,oa){this.__serverRequests.changeMutingOnThread(na,oa);this.__dispatcher.handleUpdate(this.__constructClientPayload([na],l.CHANGE_MUTE_SETTINGS,r.CLIENT_CHANGE_MUTE_SETTINGS,{mute_settings:oa}));};ma.prototype.blockMessages=function(na){var oa=z.getURIBuilder().setInt('thread_fbid',o.getUserIDFromThreadID(na)).setEnum('location','www_chat_head').getURI();h.send(new i(oa));};ma.prototype.unblockMessages=function(na){var oa=JSON.stringify({reportable_ent_token:o.getUserIDFromThreadID(na),initial_action_name:q.block_messages});new i(new aa('/ajax/nfx/messenger_undo_block').addQueryData({story_location:'messenger',context:oa})).send();};ma.prototype.turnOffSecretMode=function(na){if(ka.isEmptyLocalThread(na))return;ia.send(ja.constructLogMessageObject(v.TITAN_WEB,na,p.GENERIC_ADMIN_TEXT,{message_type:x.THREAD_EPHEMERAL_SEND_MODE,untypedData:{ttl:k.TTL_OFF}}),null,m.WEBMESSENGER);};ma.prototype.turnOnSecretMode=function(na){if(ka.isEmptyLocalThread(na))return;ia.send(ja.constructLogMessageObject(v.TITAN_WEB,na,p.GENERIC_ADMIN_TEXT,{message_type:x.THREAD_EPHEMERAL_SEND_MODE,untypedData:{ttl:k.TTL_1HOUR}}),null,m.WEBMESSENGER);};ma.prototype.leaveGroup=function(na){if(!ka.isEmptyLocalThread(na))ia.send(ja.constructLogMessageObject(v.TITAN_WEB,na,p.UNSUBSCRIBE,{removed_participants:[w.getID()]}),null,m.WEBMESSENGER);};ma.prototype.changeThreadColor=function(na,oa,pa){if(ka.isEmptyLocalThread(na))return;la.getServerIDFromClientID(na,function(qa){var ra={};if(oa!="#0084ff")ra.color_choice=oa;ra.thread_or_other_fbid=qa;var sa=da.getURIBuilder().setEnum('source',pa).getURI();new i(sa).setMethod('POST').setData(ra).send();});};ma.prototype.changeThreadEmoji=function(na,oa,pa){if(ka.isEmptyLocalThread(na))return;la.getServerIDFromClientID(na,function(qa){var ra={};if(oa!=j.THUMBS_UP_EMOJI)ra.emoji_choice=oa;ra.thread_or_other_fbid=qa;var sa=ea.getURIBuilder().setEnum('source',pa).getURI();new i(sa).setMethod('POST').setData(ra).send();});};ma.prototype.changeThreadNicknames=function(na,oa,pa,qa){if(ka.isEmptyLocalThread(na))return;la.getServerIDFromClientID(na,function(ra){var sa={thread_or_other_fbid:ra,participant_id:oa,nickname:pa},ta=ca.getURIBuilder().setEnum('source',qa).getURI();new i(ta).setMethod('POST').setData(sa).send();});};ma.prototype.addParticipants=function(na,oa){this.__dispatcher.handleUpdate(this.__constructClientPayload([na],l.ADD_PARTICIPANTS,r.CLIENT_ADD_PARTICIPANTS,{participants:oa}));};ma.prototype.unpinThread=function(na){this.__serverRequests.unpinThread(na);this.__dispatcher.handleUpdate(this.__constructClientPayload([na],l.UNPIN_THREAD,r.CLIENT_UNPIN_THREAD));};ma.prototype.updateCustomLike=function(na,oa){var pa=ba.getURIBuilder().setString('emoji',oa).getURI();new i().setURI(pa).setHandler(function(qa){this.__dispatcher.handleUpdate(this.__constructClientPayload([na],l.UPDATE_CUSTOM_LIKE,r.CLIENT_CHANGE_CUSTOM_LIKE,{custom_like:qa.getPayload()}));}.bind(this)).send();};ma.prototype.movePendingToInbox=function(na){this.__dispatcher.handleUpdate(this.__constructClientPayload([na],l.MOVE_PENDING_TO_INBOX,r.CLIENT_MOVE_PENDING_TO_INBOX));};ma.prototype.updateSnippet=function(na,oa){this.__dispatcher.handleUpdate(this.__constructClientPayload([na],l.UPDATE_SNIPPET,r.CLIENT_UPDATE_SNIPPET,{deleted_ids:oa}));};ma.prototype.$MercuryThreadActions2=function(na,oa,pa){return this.__constructClientPayload(na,l.CHANGE_READ_STATUS,r.CLIENT_CHANGE_READ_STATUS,{mark_as_read:oa,source:pa});};ma.prototype.$MercuryThreadActions3=function(na,oa){return this.__constructClientPayload(na,l.CHANGE_ARCHIVED_STATUS,r.CLIENT_CHANGE_ARCHIVED_STATUS,{archived:oa});};ma.prototype.$MercuryThreadActions4=function(na,oa){return this.__constructClientPayload(na,l.CHANGE_FOLDER,r.CLIENT_CHANGE_FOLDER,{new_folder:oa});};ma.prototype.__constructClientPayload=function(na,oa,pa,qa){return {actions:na.map(function(ra){return babelHelpers['extends']({action_type:oa,action_id:null,thread_id:ra},qa);}),from_client:true,payload_source:pa};};Object.assign(ma,u);f.exports=ma;},null);
__d('ChatPhotoUploader.react',['Promise','Bootloader','Image.react','InlineBlock.react','Link.react','MercuryConfig','React','ReactDOM','SubscriptionsHandler','cx','emptyFunction','fbt','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=n.PropTypes,w=n.createClass({displayName:'ChatPhotoUploader',propTypes:{actionURI:v.string,allowCrossPage:v.bool,customUI:v.bool,disabled:v.bool,imageClassName:v.string,imagesOnly:v.bool,linkClassName:v.string,onSubmit:v.func,onAllUploadsComplete:v.func,onLastUploadFail:v.func,onLastUploadCancel:v.func,onMount:v.func,onUploadError:v.func},getDefaultProps:function(){return {actionURI:m.upload_url,allowCrossPage:true,costomUI:false,disabled:false,imageClassName:"_509w",imagesOnly:true,linkClassName:'',onSubmit:r,onAllUploadsComplete:r,onLastUploadFail:r,onLastUploadCancel:r};},shouldComponentUpdate:function(x,y){return x.actionURI!=this.props.actionURI||x.disabled!==this.props.disabled;},componentDidMount:function(){if(this.props.onMount)this.props.onMount(this);},componentDidUpdate:function(x,y){if(this._uploader)this._uploader.setAllowCrossPage(this.props.allowCrossPage);},componentWillUnmount:function(){if(!this.isUploading()||!this.props.allowCrossPage)this._cleanup();},render:function(){var x=this.props.imagesOnly?s._("Add Photos"):s._("Add Files"),y=u("_4q61"+(!this.props.customUI?' '+"_5f0v":'')+(!this.props.customUI?' '+"_509v":''),this.props.linkClassName);return (n.createElement('form',{action:this.props.actionURI,className:"_vzk",title:x,method:'post',onClick:function(z){z.stopPropagation();if(this.props.disabled)z.preventDefault();}.bind(this),ref:'form'},n.createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),n.createElement('input',{type:'hidden',name:'images_only',value:this.props.imagesOnly}),n.createElement(k,{onClick:this._bootloadChatAutoSendPhotoUploader,className:u(this.props.className,"_m _4q60 _3rzn")},n.createElement('input',{disabled:this.props.disabled,type:'file',className:"_n _2__f",name:'attachment[]',multiple:'true',accept:this.props.imagesOnly?'image/*':'*',ref:'input',title:x}),n.createElement(l,{className:y,tabIndex:-1},n.createElement('i',{className:this.props.imageClassName,alt:s._("Camera")})))));},_handleSubmit:function(x,y){this.props.onSubmit(x,y);},_handleAllUploadsCompleted:function(x,y){this.props.onAllUploadsComplete(x,y);if(!this.isMounted())this._cleanup();},_handleLastUploadFailed:function(x,y){this.props.onLastUploadFail(x,y);if(!this.isMounted())this._cleanup();},_handleLastUploadCanceled:function(x,y){this.props.onLastUploadCancel(x,y);if(!this.isMounted())this._cleanup();},_handleUploadError:function(x,y){this.props.onUploadError(y);if(!this.isMounted())this._cleanup();},isUploading:function(){return (this._uploader&&this._uploader.isUploading()||this._uploaderPromiseIsResolving);},_bootloadChatAutoSendPhotoUploader:function(){if(!this._uploaderPromise){this._uploaderPromiseIsResolving=true;this._uploaderPromise=new h(function(x){i.loadModules(["ChatAutoSendPhotoUploader"],function(y){this._uploaderPromiseIsResolving=false;this._uploader=new y(o.findDOMNode(this.refs.form),o.findDOMNode(this.refs.input),o.findDOMNode(this.refs.attachID));this._uploader.setAllowCrossPage(this.props.allowCrossPage);this._subscriptions=new p();this._subscriptions.addSubscriptions(this._uploader.subscribe('submit',this._handleSubmit),this._uploader.subscribe('all-uploads-completed',this._handleAllUploadsCompleted),this._uploader.subscribe('last-upload-failed',this._handleLastUploadFailed),this._uploader.subscribe('last-upload-canceled',this._handleLastUploadCanceled),this._uploader.subscribe('file-upload-error',this._handleUploadError));x(this._uploader);}.bind(this));}.bind(this));}return this._uploaderPromise;},uploadFiles:function(x){this._bootloadChatAutoSendPhotoUploader().then(function(y){y.uploadFiles(x);});},uploadURL:function(x){this._bootloadChatAutoSendPhotoUploader().then(function(y){y.uploadURL(x);});},_cleanup:function(){this._subscriptions&&this._subscriptions.release();this._uploader&&this._uploader.destroy();}});f.exports=w;},null);
__d('ChatSpeakingSticker.react',['React','ReactDOM','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'ChatSpeakingSticker',mixins:[j],propTypes:{videoURI:k.string.isRequired,videoSize:k.shape({height:k.number,width:k.number}).isRequired},_handleStickerClick:function(){var m=i.findDOMNode(this.refs.stickerVideo);m.play();},render:function(){return (h.createElement('div',{onClick:this._handleStickerClick},h.createElement('video',{height:this.props.videoSize.height,ref:"stickerVideo",width:this.props.videoSize.width},h.createElement('source',{src:this.props.videoURI}))));}});f.exports=l;},null);
__d('StickersDispatcher',['Dispatcher_DEPRECATED','StickerConstants'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=Object.assign(new h(),{_handleUpdate:function(k,l){var m=babelHelpers['extends']({payloadSource:k},l);this.dispatch(m);},handleUpdateFromViewActions:function(k){this._handleUpdate(i.PayloadSource.VIEW_ACTION,k);}});f.exports=j;},null);
__d('StickerActions',['BanzaiLogger','StickersDispatcher','keyMirror'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j({ADD_PACK:null,CLICKED_STICKER_IN_THREAD:null,HIDE_TRAY:null,REMOVE_PACK:null,REPLACE_STICKER_STATE:null,RESET_NUM_NEW_PACKS:null,SELECT_PACK:null,SELECT_STORE_PACK:null,SHOW_TRAY:null,UPDATE_TRAY_DATA:null,TRAY_DATA_READY:null}),l={Types:k,addPack:function(m){i.dispatch({type:k.ADD_PACK,packID:m});},removePack:function(m){i.dispatch({type:k.REMOVE_PACK,packID:m});},selectPack:function(m,n){if(!n)h.log('StickersLoggerConfig',{event:'select_pack',packid:m});i.dispatch({type:k.SELECT_PACK,packID:m});},selectStorePack:function(m){i.dispatch({type:k.SELECT_STORE_PACK,packID:m});},resetNumNewPacks:function(){i.dispatch({type:k.RESET_NUM_NEW_PACKS});},handleStickerClick:function(m,n){i.dispatch({packID:m,threadID:n,type:l.Types.CLICKED_STICKER_IN_THREAD});},showStickerTray:function(m){i.dispatch({type:l.Types.SHOW_TRAY,threadID:m});},hideStickerTray:function(){i.dispatch({type:l.Types.HIDE_TRAY});},updateTrayData:function(){i.dispatch({type:l.Types.UPDATE_TRAY_DATA});},loadedTrayData:function(){i.dispatch({type:l.Types.TRAY_DATA_READY});}};f.exports=l;},null);
__d('ContextualLayerAutoFlipHorizontal',['ContextualLayerAutoFlip'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.getValidPositions=function(l){'use strict';return [l.getPosition()];};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('StickerContextualDialog.react',['ContextualLayerAutoFlipHorizontal','MercuryConfig','ReactAbstractContextualDialog','ReactLayer','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=7,n=k.createClass(j.createSpec({addedBehaviors:[h],displayName:'StickerXUIContextualDialog',theme:{wrapperClassName:"_53ii",arrowDimensions:{offset:m,length:16}}}));n.WIDTH={NORMAL:312,WIDE:400};f.exports=n;},null);
__d("XStickerPackImagesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/{pack_id}\/images\/",{pack_id:{type:"Int",required:true},sticker_size:{type:"Int",defaultValue:50}});},null);
__d("XStickerQueryImagesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/query\/images\/",{query:{type:"String",required:true},sticker_interface:{type:"String"}});},null);
__d("XStickerStateInitialDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/state\/",{});},null);
__d("XStickerStatePackDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/state\/pack\/",{pack_id:{type:"Int",required:true}});},null);
__d("XStickerStateStoreDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/state\/store\/",{});},null);
__d("XStickersAddPackController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/addpack\/",{pack_id:{type:"Int"},size:{type:"String"},redirect_uri:{type:"String"},is_promoted:{type:"Bool",defaultValue:false},no_async_dom:{type:"Bool",defaultValue:false}});},null);
__d("XStickersRemovePackController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/removepack\/",{pack_id:{type:"Int"},size:{type:"String"},redirect_uri:{type:"String"},no_async_dom:{type:"Bool",defaultValue:false}});},null);
__d('StickerServerRequests',['Promise','AsyncRequest','XStickerPackImagesController','XStickersAddPackController','XStickersRemovePackController','XStickerStateInitialDataController','XStickerStatePackDataController','XStickerStateStoreDataController','XStickerQueryImagesController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q={addPack:function(s,t,u){var v=k.getURIBuilder().setInt('pack_id',s).setBool('is_promoted',t).getURI();new i(v).setHandler(function(w){return u(w.payload);}).send();},removePack:function(s,t){var u=l.getURIBuilder().setInt('pack_id',s).getURI();new i(u).setHandler(function(v){return t(v.payload);}).send();},getStickersForPack:function(s,t){var u=j.getURIBuilder().setInt('pack_id',s).setInt('sticker_size',t).getURI();return new h(function(v,w){return (new i().setURI(u).setMethod('GET').setReadOnly(true).setHandler(function(x){return v(x.payload);}).send());});},getStickersForQuery:function(s,t,u){new i().setURI(p.getURIBuilder().setString('query',s).setString('sticker_interface',t).getURI()).setMethod('GET').setReadOnly(true).setHandler(function(v){return u(v);}).send();},fetchTrayData:function(s){return r(m.getURIBuilder().getURI(),s,true);},fetchStoreData:function(s){return r(o.getURIBuilder().getURI(),s);},fetchPackData:function(s,t){return r(n.getURIBuilder().setInt('pack_id',s).getURI(),t);}};function r(s,t,u){return new h(function(v,w){return (new i(s).setHandler(function(x){return v(x.getPayload());}).setAllowCrossPageTransition(u).send());}).then(t);}f.exports=q;},null);
__d('StickerImages',['StickerServerRequests'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={},j={},k={requestStickersForPack:function(l,m,n){if(!l)return;if(!j[l]){j[l]=h.getStickersForPack(l,m);j[l].then(function(o){o.forEach(function(p){return this.cacheSticker(p);}.bind(this));}.bind(this));}j[l].then(function(o){return n(o);});},cacheSticker:function(l){i[l.id]=l;},getSticker:function(l){return i[l];}};f.exports=k;},null);
__d('StickerState',['ImmutableObject','StickerConfig','PresenceState','StickerActions','StickerConstants','StickerImages','StickerServerRequests'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={},p,q,r,s=null,t=0,u={},v=[],w=[],x=[],y=null,z=null,aa=j.get();if(aa)y=aa.tray_pack_id;var ba=i.ShowStickerReplyNUX,ca={onTrayDataReady:function(ea){if(!q)q=n.fetchTrayData(function(fa){v=fa.packs.map(function(ga){return da(ga);});r=fa.mru;t=fa.num_new_packs;x=fa.tags;});q.then(function(){ea();k.loadedTrayData();});},onStoreDataReady:function(ea){if(!p)p=n.fetchStoreData(function(fa){w=fa.packs.map(function(ga){return da(ga);});});p.then(ea);},onPackDataReady:function(ea,fa){if(!o[ea])o[ea]=n.fetchPackData(ea,function(ga){da(ga);});o[ea].then(fa);},getPacksInTrayAllInterfaces:function(){return v;},getPacksInTray:function(){var ea=[],fa;for(var ga=0;ga<v.length;ga++)if(v[ga].id==l.EMOTICON_PACK_ID){fa=v[ga];}else if(v[ga].isMessengerCapable)ea.push(v[ga]);fa&&ea.push(fa);return ea;},getPacksInCommentsTray:function(){var ea=[],fa=[],ga;for(var ha=0;ha<v.length;ha++)if(v[ha].id==l.EMOTICON_PACK_ID){ga=v[ha];}else if(v[ha].isCommentsCapable){ea.push(v[ha]);}else fa.push(v[ha]);var ia=ea.concat(fa);if(ga)ia.push(ga);return ia;},getPacksInComposerTray:function(){return v.filter(function(ea){return ea.isComposerCapable;});},getPacksInFramesTray:function(){return v.filter(function(ea){return ea.isFramePack;});},getPackIDsInTray:function(){return v.map(function(ea){return ea.id;});},getPacksInStore:function(){return w.filter(function(ea){return ea.isMessengerCapable;});},getComposerPacksInStore:function(){return w.filter(function(ea){return ea.isComposerCapable;});},getPack:function(ea){return u[ea];},getNumNewPacks:function(){return t;},getFeaturedTags:function(){return x;},resetNumNewPacks:function(){t=0;},addMRUPack:function(){if(r){this._addPackToTray(r);r=null;}},addPack:function(ea){var fa=false;if(u[ea])fa=u[ea].isPromoted;n.addPack(ea,fa,function(ga){this._addPackToTray(ga);}.bind(this));},removePack:function(ea){n.removePack(ea,function(fa){v=v.filter(function(ga){return ga.id!==fa;});u[fa]=h.set(u[fa],{isInTray:false});w=w.map(function(ga){return u[ga.id];});k.updateTrayData();});},setTrayPackID:function(ea){y=ea;j.doSync();},getTrayPackID:function(ea){if(ea&&ea.length>0&&!ea.some(function(fa){return fa.id===y;})){return ea[0].id;}else return y;},setStorePackID:function(ea){z=ea;},getStorePackID:function(){return z;},shouldShowStickerReplyNUX:function(){return ba;},clearShowStickerReplyNUX:function(){ba=false;},_addPackToTray:function(ea,fa){da(ea);u[ea.id]=h.set(u[ea.id],{isPurchased:!fa,isInTray:true});var ga=v.filter(function(ia){return ia.id===ea.id;}).length>0;if(!ga){var ha;if(!fa){ha=v.filter(function(ia){return ia.isMRU||ia.isSearch;}).length;}else ha=v.filter(function(ia){return ia.id!==l.EMOTICON_PACK_ID;}).length;v.splice(ha,0,u[ea.id]);}w=w.map(function(ia){return u[ia.id];});k.updateTrayData();},_addRecentlyUsedSticker:function(ea){for(var fa=0;fa<s.length;++fa)if(s[fa].id===ea.id){s.splice(fa,1);break;}s.unshift(ea);},getMRUStickerPack:function(ea){if(!s)s=ea;return s;},updateRecentlyUsed:function(ea){if(!s){this.addMRUPack();return;}this._addRecentlyUsedSticker(m.getSticker(ea));}};j.registerStateStorer(function(ea){ea.tray_pack_id=y;});function da(ea){var fa=ea.id;if(!u[fa]){return u[fa]=new h(ea);}else return u[fa]=h.set(u[fa],ea);}f.exports=ca;},null);
__d('AbstractDialogFitHeight',['CSS','DOM','Event','Style','SubscriptionsHandler','Vector','csx','cx','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=450,r=100,s=67,t=67;function u(v){'use strict';this.$AbstractDialogFitHeight1=v;}u.prototype.enable=function(){'use strict';this.$AbstractDialogFitHeight2=new l();this.$AbstractDialogFitHeight2.addSubscriptions(this.$AbstractDialogFitHeight1.subscribe('beforeshow',this.$AbstractDialogFitHeight3.bind(this)),j.listen(window,'resize',p(this.$AbstractDialogFitHeight3.bind(this))));this.$AbstractDialogFitHeight4=i.find(this.$AbstractDialogFitHeight1.getRoot(),"._4-i2");h.addClass(this.$AbstractDialogFitHeight4,"_5pfh");this.$AbstractDialogFitHeight5=r;if(i.scry(this.$AbstractDialogFitHeight1.getRoot(),"._4-i0").length)this.$AbstractDialogFitHeight5+=s;if(i.scry(this.$AbstractDialogFitHeight1.getRoot(),"._5a8u").length)this.$AbstractDialogFitHeight5+=t;};u.prototype.disable=function(){'use strict';this.$AbstractDialogFitHeight2.release();this.$AbstractDialogFitHeight2=null;h.removeClass(this.$AbstractDialogFitHeight4,"_5pfh");};u.prototype.$AbstractDialogFitHeight3=function(){'use strict';var v=m.getViewportDimensions().y,w=v-this.$AbstractDialogFitHeight5;k.set(this.$AbstractDialogFitHeight4,this.getHeightProperty(),Math.max(q,w)+'px');this.$AbstractDialogFitHeight1.updatePosition();};f.exports=u;},null);
__d('DialogFitHeight',['AbstractDialogFitHeight'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.getHeightProperty=function(){'use strict';return 'height';};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('StickerStoreController',['Bootloader','DialogFitHeight','DOM','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape','React','ReactComponentRenderer','StickerActions','XUIDialog.react','XUIDialogBody.react','XUISpinner.react','cx','isSocialPlugin','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=n.PropTypes,x=688,y=320,z=null,aa=n.createClass({displayName:'StoreLayer',propTypes:{isComposer:w.bool,shown:w.bool},getDefaultProps:function(){return {isComposer:false,shown:false};},getInitialState:function(){return {renderStore:function(){return (n.createElement('div',{className:"_5r5e"},n.createElement(s,{background:'light',size:'large'})));}};},componentDidMount:function(){h.loadModules(["StickerStore.react"],function(da){this.setState({renderStore:function(){return (n.createElement(da,{isComposer:this.props.isComposer,shown:this.props.shown}));}.bind(this)});}.bind(this));},_onToggle:function(da){v(function(){if(z)z.setProps({shown:da});});},render:function(){var da=u()&&document.body.offsetWidth<x?y:x;return (n.createElement(q,{behaviors:{DialogFitHeight:i,LayerAutoFocus:k,LayerFadeOnHide:l,LayerHideOnEscape:m},onToggle:this._onToggle,shown:this.props.shown,width:da},n.createElement(r,{className:"_5rq- autofocus"},this.state.renderStore())));}});function ba(da){var ea=j.create('div');j.appendContent(document.body,ea);z=new o(aa,ea);z.setProps({isComposer:da,shown:true});}var ca={showStore:function(da,ea){if(!z){ba(!!ea);}else z.setProps({shown:true,isComposer:!!ea});p.selectStorePack(da);}};f.exports=ca;},null);
__d('StickerStateStore',['FluxStore','StickerActions','StickerInterfaces','StickersDispatcher','StickerState','StickerStoreController','arrayContains','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q;if(c.__markCompiled)c.__markCompiled();p=babelHelpers.inherits(r,h);q=p&&p.prototype;function r(){q.constructor.call(this,k);this.$StickerStateStore3=false;}r.prototype.getState=function(s){var t=null;if(s===j.COMPOSER){t=l.getPacksInComposerTray();}else if(s===j.COMMENTS){t=l.getPacksInCommentsTray();}else if(s===j.FRAMES){t=l.getPacksInFramesTray();}else t=l.getPacksInTray();return {showTray:this.$StickerStateStore1,storePackID:l.getStorePackID(),packID:l.getTrayPackID(t),trayPacks:t,numNewPacks:l.getNumNewPacks(),threadID:this.$StickerStateStore2,trayDataReady:this.$StickerStateStore3};};r.prototype.isPackInTray=function(s){if(!this.$StickerStateStore3)l.onTrayDataReady(o);var t=l.getPacksInTrayAllInterfaces();return t.some(function(u){return u.id===s;});};r.prototype.__onDispatch=function(s){var t=i.Types;switch(s.type){case t.REPLACE_STICKER_STATE:this.$StickerStateStore1=!!s.showTray;break;case t.SHOW_TRAY:this.$StickerStateStore1=true;this.$StickerStateStore2=s.threadID;break;case t.HIDE_TRAY:this.$StickerStateStore1=false;break;case t.CLICKED_STICKER_IN_THREAD:l.onTrayDataReady(function(){if(n(l.getPackIDsInTray(),s.packID)){l.setTrayPackID(s.packID);this.$StickerStateStore1=true;this.$StickerStateStore2=s.threadID;}else{this.$StickerStateStore1=false;m.showStore(s.packID);}}.bind(this));break;case t.SELECT_PACK:l.setTrayPackID(s.packID);break;case t.SELECT_STORE_PACK:l.setStorePackID(s.packID);break;case t.RESET_NUM_NEW_PACKS:l.resetNumNewPacks();break;case t.ADD_PACK:l.addPack(s.packID);break;case t.REMOVE_PACK:l.removePack(s.packID);break;case t.UPDATE_TRAY_DATA:break;case t.TRAY_DATA_READY:this.$StickerStateStore3=true;break;}this.__emitChange();};f.exports=new r();},null);
__d('ChatStickerButton.react',['BootloadedComponent.react','JSResource','Link.react','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','StickerActions','StickerContextualDialog.react','StickerStateStore','StoreAndPropBasedStateMixin','XUISpinner.react','cx','emptyFunction','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=l.PropTypes,x=278,y=l.createClass({displayName:'ChatStickerButton',_clickGuard:false,mixins:[k,m,q(p)],propTypes:{className:w.string,ContextualDialogClass:w.func.isRequired,disabled:w.bool,flyoutClassName:w.string,flyoutWidth:w.number,getInput:w.func,onLoad:w.func,onStickerSelect:w.func.isRequired,onEmoticonSelect:w.func.isRequired,onFlyoutShown:w.func,onFlyoutHidden:w.func,threadID:w.string},statics:{calculateState:function(z){var aa=p.getState();return {shown:aa.showTray&&z.threadID===aa.threadID};}},getDefaultProps:function(){return {ContextualDialogClass:o,disabled:false,flyoutWidth:x,onStickerSelect:t,onEmoticonSelect:t};},componentDidMount:function(){this.props.onLoad&&this.props.onLoad(this);},componentWillUnmount:function(){if(this.state.shown)this._hideFlyout();},render:function(){return (l.createElement(j,{className:v(this.props.className,this.state.shown?"open":''),href:'#',onClick:this.showFlyout,onMouseDown:this._prepareForClick,role:'button',title:u._("Choose a sticker or emoticon"),ref:'link'}));},renderLayers:function(){var z=this.props.ContextualDialogClass;return {contextualDialog:l.createElement(z,{alignment:this.props.flyoutAlignment,className:"_5e-r",contextRef:function(){return this.refs.link;}.bind(this),onBeforeHide:this._handleBeforeHide,onBlur:this._hideFlyout,position:'above',shown:this.state.shown,width:this.props.flyoutWidth},l.createElement(h,{bootloadPlaceholder:l.createElement('div',{style:{padding:'30px',textAlign:'center'}},l.createElement(r,{size:'large'})),bootloadLoader:i('StickersFlyout.react'),className:this.props.flyoutClassName,onShown:function(aa){if(this.props.onFlyoutShown)this.props.onFlyoutShown(aa);}.bind(this),onHidden:function(){if(this.props.onFlyoutHidden)this.props.onFlyoutHidden();}.bind(this),onEscKeyDown:this._hideFlyout,onStickerSelect:this._handleStickerSelected,onEmoticonSelect:this._handleEmoticonSelected,shown:this.state.shown}))};},_prepareForClick:function(){this._clickGuard=this.state.shown;},showFlyout:function(z){z&&z.stopPropagation();if(this._clickGuard||this.props.disabled){this._clickGuard=false;return;}n.showStickerTray(this.props.threadID);},_handleBeforeHide:function(){if(this.state.shown){this._hideFlyout();return false;}},_hideFlyout:function(){var z=this.props.getInput&&this.props.getInput();z&&z.focus&&z.focus();n.hideStickerTray();},_handleStickerSelected:function(z){this.props.onStickerSelect(z);},_handleEmoticonSelected:function(z){this._hideFlyout();this.props.onEmoticonSelect(z);}});f.exports=y;},null);
__d('MercuryTypingAnimation.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'MercuryTypingAnimation',propTypes:{color:k.oneOf(['light','dark'])},getDefaultProps:function(){return {color:'dark'};},render:function(){var m="_4a0v"+(this.props.color==='light'?' '+"_4a0w":'')+(this.props.color==='dark'?' '+"_4a0x":'');return (h.createElement('div',{className:j(this.props.className,m)},h.createElement('div',{className:"_4b0g"},h.createElement('div',{className:"_5pd7"}),h.createElement('div',{className:"_5pd7"}),h.createElement('div',{className:"_5pd7"}))));}});f.exports=l;},null);
__d('ChatTypingIndicator.react',['ChatConfig','Image.react','MercuryParticipants','MercuryTypingAnimation.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=h.get('chattab_rounded_profile',false),r=m.createClass({displayName:'ChatTypingIndicator',mixins:[l],propTypes:{userID:p.string,showName:p.bool},render:function(){var t=undefined;if(this.props.userID)t=j.getNow(this.props.userID);if(!t)return null;return (m.createElement('div',{className:"_4tdt"},s(t),this._renderBubble()));},getBubble:function(){return this.refs.bubble;},_renderBubble:function(){var t=this.props.showName;return (m.createElement('div',{className:"_4tdv"},m.createElement('div',{className:"_5wd4"+(' '+"_1nc7")+(' '+"_2cnu")+(t?' '+"_5ysy":'')},m.createElement('div',{className:"_5wd9"+(' '+"_n4o")},m.createElement('div',{className:"_5w1r"+(' '+"_5wdf")+(' '+"_3_om")},m.createElement(k,{className:"_5x7x",ref:'bubble'}))))));}});function s(t){var u=o._("{name}",[o.param('name',t.name)]);return (m.createElement('div',{className:"_31o4"+(q?' '+"_3njy":'')},m.createElement('a',{'aria-label':u,className:"_4tdw",'data-hover':'tooltip','data-tooltip-content':u,'data-tooltip-position':'left',href:t.href||'#',ref:'link'},m.createElement(i,{src:t.image_src,ref:'image'}))));}f.exports=r;},null);
__d('MercuryTypingReceiver',['Arbiter','ChannelConstants','FBID','MercuryActionType','MercuryIDs','MercuryPayloadSource','MercuryDispatcher','MercurySingletonMixin','MercuryViewer','TypingStates','isEmpty','mixInEventEmitter','setTimeoutAcrossTransitions','MercuryThreadIDMap'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=c('MercuryThreadIDMap').get(),v=30000;function w(x){'use strict';this.$MercuryTypingReceiver1=null;this.$MercuryTypingReceiver2={};this.$MercuryTypingReceiver3=n.getForFBID(x);this.$MercuryTypingReceiver3.subscribe('update-typing-state',function(z,aa){var ba=aa.payload_source;if(ba!=m.CLIENT_CHANNEL_MESSAGE)return;var ca=aa.actions;if(!ca||!ca.length)return;var da=k.USER_GENERATED_MESSAGE;ca.forEach(function(ea){if(ea.action_type==da&&ea.author!=p.getID())this.$MercuryTypingReceiver4(ea.thread_id,ea.author);}.bind(this));}.bind(this));var y;if(j.isUser(x)){y=[i.getArbiterType('typ'),i.getArbiterType('ttyp')];}else y=[i.getArbiterType('page_typing')];h.subscribe(y,function(z,aa){var ba=aa.obj,ca=this.$MercuryTypingReceiver5(ba);if(ca){var da=l.getParticipantIDFromUserID(ba.from);if(ba.st==q.TYPING){this.$MercuryTypingReceiver2[ca]=this.$MercuryTypingReceiver2[ca]||{};var ea=this.$MercuryTypingReceiver2[ca][da];this.$MercuryTypingReceiver2[ca][da]=Date.now();if(!this.$MercuryTypingReceiver1)this.$MercuryTypingReceiver1=t(function(){this.$MercuryTypingReceiver6();}.bind(this),3000);!ea&&this.$MercuryTypingReceiver7(ca);}else if(ba.st==q.INACTIVE)this.$MercuryTypingReceiver4(ca,da);}}.bind(this));}w.prototype.$MercuryTypingReceiver8=function(x){'use strict';var y=this.$MercuryTypingReceiver2[x]||{},z=Object.keys(y);z.sort(function(aa,ba){return y[aa]-y[ba];});return z;};w.prototype.$MercuryTypingReceiver6=function(){'use strict';this.$MercuryTypingReceiver1=null;var x=Date.now(),y={},z=false;for(var aa in this.$MercuryTypingReceiver2){var ba=false;for(var ca in this.$MercuryTypingReceiver2[aa]||{})if(this.$MercuryTypingReceiver2[aa][ca]<x-v){delete this.$MercuryTypingReceiver2[aa][ca];ba=true;}else z=true;if(ba)y[aa]=this.$MercuryTypingReceiver8(aa);}if(!r(y))this.$MercuryTypingReceiver9(y);if(z)this.$MercuryTypingReceiver1=t(function(){this.$MercuryTypingReceiver6();}.bind(this),3000);};w.prototype.$MercuryTypingReceiver4=function(x,y){'use strict';if(x in this.$MercuryTypingReceiver2)if(y in this.$MercuryTypingReceiver2[x]){delete this.$MercuryTypingReceiver2[x][y];this.$MercuryTypingReceiver7(x);}};w.prototype.$MercuryTypingReceiver9=function(x){'use strict';this.releaseHeldEventType('state-changed');this.emitAndHold('state-changed',x);};w.prototype.$MercuryTypingReceiver7=function(x){'use strict';var y={};y[x]=this.$MercuryTypingReceiver8(x);this.$MercuryTypingReceiver9(y);};w.prototype.$MercuryTypingReceiver5=function(x){'use strict';if(x.thread_fbid)return u.getClientIDFromServerIDNow(x.thread_fbid.toString());if(x.type==='typ'||x.type==='page_typing')return l.getThreadIDFromUserID(x.from);return null;};s(w,{'state-changed':true});Object.assign(w,o);f.exports=w;},null);
__d('ChatTypingIndicators.react',['ChatTypingIndicator.react','DOM','MercuryIDs','MercuryThreadInformer','MercuryTypingReceiver','MercuryParticipants','React','ReactDOM','SubscriptionsHandler','TooltipData','createObjectFrom','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=n.PropTypes,v=n.createClass({displayName:'ChatTypingIndicators',propTypes:{indicatorClass:u.func,indicatorsWillShow:u.func,indicatorsDidShow:u.func,rootClassName:u.string,threadID:u.string.isRequired,viewer:u.string.isRequired},getDefaultProps:function(){return {indicatorClass:h,indicatorsWillShow:s,indicatorsDidShow:s};},getInitialState:function(){return {typingUserIDs:[]};},componentDidMount:function(){var w=k.getForFBID(this.props.viewer),x=l.getForFBID(this.props.viewer);this._subscriptions=new p();this._subscriptions.addSubscriptions(x.addRetroactiveListener('state-changed',this.typingStateChanged),w.subscribe('messages-received',this.messagesReceived));},componentWillReceiveProps:function(w){if(w.threadID!=this.props.threadID)this.setState({typingUserIDs:[]});},componentWillUpdate:function(w,x){if(x.typingUserIDs.length>0)this.props.indicatorsWillShow();},componentDidUpdate:function(){if(this.state.typingUserIDs.length>0)this.props.indicatorsDidShow();m.getMulti(this.state.typingUserIDs,function(w){if(this.isMounted())this.state.typingUserIDs.forEach(function(x){var y=w[x],z=this.refs[x]&&this.refs[x].getBubble();if(z&&y)q.set(o.findDOMNode(z),this.renderTooltip(y.short_name),'above','left');}.bind(this));}.bind(this));},componentWillUnmount:function(){this._subscriptions.release();},render:function(){var w=j.isGroupChat(this.props.threadID);return (n.createElement('div',{className:this.props.rootClassName},this.state.typingUserIDs.map(function(x){return (this._renderTypingIndicator(x,!!w));}.bind(this))));},_renderTypingIndicator:function(w,x){var y=this.props.indicatorClass;return (n.createElement(y,{key:w,ref:w,showName:x,userID:w}));},renderTooltip:function(w){var x=i.create('span');o.render(n.createElement('span',null,t._("{name} is typing...",[t.param('name',w)])),x);return x;},typingStateChanged:function(w){if(this.props.threadID in w)this.setState({typingUserIDs:w[this.props.threadID].slice().sort()});},messagesReceived:function(w,x){if(this.props.threadID in x){var y=x[this.props.threadID],z=r(y.map(function(aa){return aa.author;}));this.setState({typingUserIDs:this.state.typingUserIDs.filter(function(aa){return !z[aa];}).sort()});}}});f.exports=v;},null);
__d("XMessengerPlatformContentSearchController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messaging\/content_search\/",{q:{type:"String",defaultValue:""},qtype:{type:"Enum",defaultValue:0,enumType:0},resume:{type:"String",defaultValue:""}});},null);
__d('ChatContentSearch',['AsyncRequest','MessengerPlatformQueryType','XMessengerPlatformContentSearchController'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={getContentForQuery:function(l){var m=l.query,n=l.callback,o=l.resume,p=j.getURIBuilder().setString('q',m).setString('resume',o).getURI(),q=new h().setURI(p).setHandler(n);q.send();return q;},getTrending:function(l,m){var n=j.getURIBuilder().setEnum('qtype',i.TRENDING).setString('resume',m).getURI(),o=new h().setURI(n).setHandler(l);o.send();return o;}};f.exports=k;},null);
__d('ChatContentSearchContextualDialog.react',['ContextualLayerAutoFlipHorizontal','LayerHideOnEscape','ReactAbstractContextualDialog','ReactLayer','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.createClass(j.createSpec({addedBehaviors:[h,i],displayName:'StickerXUIContextualDialog',theme:{wrapperClassName:"_53ii",arrowDimensions:{offset:47,length:16}}}));f.exports=m;},null);
__d('ChatContentSearchResult.react',['Image.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=274,n=137,o=j.createClass({displayName:'ChatContentSearchResult',mixins:[i],propTypes:{isWide:l.bool.isRequired,onClick:l.func.isRequired,result:l.object.isRequired,src:l.string.isRequired},statics:{isWide:function(p){var q=p.media.preview;return q.width>q.height*1.2;},getScaledDimensions:function(p,q){var r=p.media.preview,s=r.height,t=r.width,u=(q?m:n)/t;s*=u;t*=u;return {height:s,width:t};}},render:function(){var p=o.getScaledDimensions(this.props.result,this.props.isWide);return (j.createElement(h,{className:"_358"+(this.props.isWide?' '+"_26n6":''),onClick:this._handleClick,src:this.props.src,style:p}));},_handleClick:function(p){p.stopPropagation();this.props.onClick(this.props.result);}});f.exports=o;},null);
__d('ChatContentSearchResults.react',['ChatContentSearch','ChatContentSearchResult.react','MercuryConfig','MessengerSpinner.react','ReactComponentWithPureRenderMixin','React','ScrollableArea.react','debounce','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r={},s=m.createClass({displayName:'ChatContentSearchResults',_inflightRequest:undefined,_requestResults:p,_reset:p,_inflightTimeStart:undefined,mixins:[l],propTypes:{onResultsLoaded:q.func,onSelect:q.func.isRequired,query:q.string.isRequired},getInitialState:function(){return {isLoading:false,response:null,results:[]};},componentDidMount:function(){this._reset=o(this._resetImpl,100);this._requestResults=o(this._requestResultsImpl,200);this._requestResults();},componentWillUnmount:function(){this._cancelInflightRequest();},componentWillReceiveProps:function(t){if(t.query!==this.props.query)this._reset(this._requestResults);},render:function(){return (m.createElement(n,{fade:true,onScroll:this._handleScroll,ref:'scrollable'},this._renderResults(),this._renderLoadingIndicator()));},_renderLoadingIndicator:function(){if(!this.state.isLoading)return null;return (m.createElement('div',{style:{marginTop:this.state.response?'10px':'140px',textAlign:'center'}},m.createElement(k,{color:'grey',size:k.Sizes.SMALL})));},_requestResultsImpl:function(){this._cancelInflightRequest();this._inflightTimeStart=Date.now();if(this.state.response&&(!this.state.response.resultNextCursor||!this.props.query))return;var t;this.setState({isLoading:true});if(this.props.query){t=h.getContentForQuery({query:this.props.query,resume:this.state.response?this.state.response.resultNextCursor:undefined,callback:this._handleAsyncResponse});}else t=h.getTrending(this._handleAsyncResponse,this.state.response?this.state.response.resultNextCursor:undefined);this._inflightRequest=t;},_handleAsyncResponse:function(t){if(this._inflightRequest===t.request){r=babelHelpers['extends']({},r,t.payload.attribution);this.setState({isLoading:false,response:t.payload,results:t.payload.resultGroup[0]?this.state.results.concat(t.payload.resultGroup[0].results):this.state.results},function(){if(this._inflightTimeStart){if(this.props.onResultsLoaded)this.props.onResultsLoaded(Date.now()-this._inflightTimeStart);delete this._inflightTimeStart;}}.bind(this));delete this._inflightRequest;}},_cancelInflightRequest:function(){this.setState({isLoading:false});if(this._inflightRequest){this._inflightRequest.abort();delete this._inflightRequest;delete this._inflightTimeStart;}},_renderResults:function(){if(!this.state.response||!this.state.results.length)return null;return this.state.results.map(function(t,u){var v=i.isWide(t);if(!v&&t.platformFBID.toString()!==j.MessengerAppID){var w=u-this._getPrevWideIndex(u),x=this._getNextWideIndex(u)-u;v=(w<=1||w%2!==0)&&x<=1;}return (m.createElement(i,{isWide:v,key:'result:'+u+':'+t.resultID,onClick:this._handleResultClick,result:t,src:t.media.preview.url}));}.bind(this));},_getPrevWideIndex:function(t){while(t>0){--t;if(i.isWide(this.state.results[t]))return t;}return t;},_getNextWideIndex:function(t){var u=this.state.results.length;while(t<u-1){++t;if(i.isWide(this.state.results[t]))return t;}return t;},_handleResultClick:function(t){this.props.onSelect(t,r[t.platformFBID]);},_handleScroll:function(){if(this._isScrolledNearBottom()&&!this._inflightRequest)this._requestResults();},_isScrolledNearBottom:function(){var t=this.refs.scrollable.getArea();return !!(t&&t.distanceToBottom()<=50);},_resetImpl:function(t){this.setState(this.getInitialState(),t);}});f.exports=s;},null);
__d('ChatContentSearchTrendingIndicator.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,i.Component);n=m&&m.prototype;function o(p){n.constructor.call(this,p);}o.prototype.shouldComponentUpdate=function(p){return p.shown!==this.props.shown;};o.prototype.render=function(){return this.props.shown?i.createElement('div',{className:"_515"},i.createElement(h,{src:l('/images/chat/composer/composerSearchTrending.png')}),k._("Trending")):null;};f.exports=o;},null);
__d('MessengerSearchInput.react',['AbstractTextInput.react','ReactComponentWithPureRenderMixin','React','XUICloseButton.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'MessengerSearchInput',mixins:[i],propTypes:{isFocused:n.bool,onBlur:n.func,onChange:n.func,onClear:n.func,onEnter:n.func,onFocus:n.func,placeholder:n.string,value:n.string.isRequired},render:function(){return (j.createElement('div',{className:m(this.props.className,"_5iwm"+(this.props.isFocused||!!this.props.value?' '+"_5iwn":'')),role:'search'},j.createElement(h,{className:"_3deo",onBlur:this.props.onBlur,onChange:this.props.onChange,onEnter:this.props.onEnter,onFocus:this.props.onFocus,placeholder:this.props.placeholder,ref:'inputField',value:this.props.value}),j.createElement(k,{size:'small',onMouseDown:this.props.onClear,className:(this.props.value.length===0?"hidden_elem":'')+(' '+"_2xme")})));},focusInput:function(){this.refs.inputField.focusInput();}});f.exports=o;},null);
__d('ChatContentSearchFlyout.react',['ChatContentSearchResults.react','ChatContentSearchTrendingIndicator.react','Keys','MessengerSearchInput.react','ReactComponentWithPureRenderMixin','React','MercuryShareAttachmentRenderLocations','XUITextInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=m.PropTypes,s=' ',t=/\s+/g,u=m.createClass({displayName:'ChatContentSearchFlyout',mixins:[l],propTypes:{location:r.oneOf(n.getValues()),onEscKeyDown:r.func,onResultsLoaded:r.func,onSelect:r.func.isRequired,query:r.string},getInitialState:function(){return {query:this.props.query,viewerEnteredText:false};},componentWillReceiveProps:function(v){if(!this.state.viewerEnteredText)this.setState({query:v.query});},render:function(){var v=this._normalize(this.state.query);return (m.createElement('div',{className:"_1er4",onKeyDown:this._handleKeyDown},m.createElement('div',{className:"_3mtr"},this._renderTextInput()),m.createElement('div',{className:"_3mts"},m.createElement(h,{onResultsLoaded:this.props.onResultsLoaded,onSelect:this.props.onSelect,query:v}),m.createElement(i,{shown:v.length===0}))));},_renderTextInput:function(){var v=this.props.location===n.MESSENGER?k:o;return (m.createElement(v,{className:"_4qcs",isFocused:true,onChange:this._handleInputChange,onClear:function(){this.setState({query:'',viewerEnteredText:false});}.bind(this),placeholder:q._("Search GIFs & stickers across apps..."),ref:'input',value:this.state.query||''}));},_handleInputChange:function(v){this.setState({query:v.target.value,viewerEnteredText:v.target.value.length>0});},_normalize:function(v){return (v||'').trim().replace(t,s).toLowerCase();},_handleKeyDown:function(v){if(v.keyCode===j.ESC&&this.props.onEscKeyDown)this.props.onEscKeyDown();}});f.exports=u;},null);
__d('ChatContentSearchButton.react',['BanzaiLogger','ChatContentSearchFlyout.react','ContentSearchEvents','ChatContentSearchContextualDialog.react','Link.react','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','MercuryShareAttachmentRenderLocations','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.PropTypes,u=n.createClass({displayName:'ChatContentSearchButton',_clickGuard:false,mixins:[m,o],propTypes:{ContextualDialogClass:t.func,flyoutAlignment:t.oneOf(['left','right']),getQuery:t.func.isRequired,location:t.oneOf(p.getValues()),onLoad:t.func,onSelect:t.func.isRequired},getDefaultProps:function(){return {flyoutAlignment:'left',location:p.CHAT};},getInitialState:function(){return {query:'',shown:false};},componentDidMount:function(){this.props.onLoad&&this.props.onLoad(this);},updateQuery:function(){this.setState({query:this.props.getQuery()});},hideFlyout:function(){this.setState(this.getInitialState());},render:function(){return (n.createElement(l,{className:s(this.props.className,this.state.shown?"open":''),href:'#',onMouseDown:this._handleMouseDown,onClick:this._handleClick,role:'button',title:r._("Choose a gif or sticker"),ref:'link'}));},renderLayers:function(){if(!this.state.shown)return {contextualDialog:null};var v=this.props.ContextualDialogClass||k;return {contextualDialog:n.createElement(v,{alignment:this.props.flyoutAlignment,contextRef:function(){return this.refs.link;}.bind(this),onBlur:this.hideFlyout,onToggle:this._handleContextualDialogToggle,shown:this.state.shown,width:278},n.createElement(i,{location:this.props.location,onEscKeyDown:this.hideFlyout,onResultsLoaded:this._handleResultsLoaded,onSelect:this._handleSelect,query:this.state.query}))};},_handleMouseDown:function(v){this._clickGuard=this.state.shown;},_handleClick:function(v){if(this.state.shown||this._clickGuard)return;v.stopPropagation();this.setState({query:this.props.getQuery(),shown:!this.state.shown});h.log('ContentSearchLoggerConfig',{event:j.OPEN_TRAY,query:this.state.query});},_handleSelect:function(v,w){this.props.onSelect(v,w);this.setState(this.getInitialState());h.log('ContentSearchLoggerConfig',{event:j.RESULT_SENT,query:this.state.query,resultid:v.resultID});},_handleContextualDialogToggle:function(v){this.setState({shown:v});},_handleResultsLoaded:function(v){h.log('ContentSearchLoggerConfig',{event:j.QUERY_RESULTS_LOADED,query:this.state.query,inflighttime:v});}});f.exports=u;},null);
__d('ChatEmojiPickerButton.react',['EmojiLikeConstants','EmojiLikeUtils','Image.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=l.PropTypes,n=l.createClass({displayName:'ChatEmojiPickerButton',mixins:[k],propTypes:{emojiChoice:m.string.isRequired,onChoose:m.func.isRequired},render:function(){var o=i.getURI(this.props.emojiChoice,h.size.SMALL);return (l.createElement('div',null,l.createElement(j,{src:o,onClick:this._handleClick})));},_handleClick:function(){this.props.onChoose(this.props.emojiChoice);}});f.exports=n;},null);
__d('MessengerScrollableArea.react',['React','ReactDOM','ScrollableArea.react','Style','UserAgent','clearImmediate','cx','joinClasses','setImmediate','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=h.PropTypes,s=20,t=h.createClass({displayName:'MessengerScrollableArea',propTypes:{onScroll:r.func,width:r.number},_resizeCallback:null,componentDidMount:function(){this._resizeCallback=p(this._resize);},componentWillUnmount:function(){m(this._resizeCallback);},render:function(){return (h.createElement(j,{className:o("_5f0v",this.props.className),onScroll:this._handleScroll,ref:'scrollable',shadow:false,style:this.props.style,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children));},_handleScroll:q(function(){var u;this.props.onScroll&&(u=this.props).onScroll.apply(u,arguments);},50),_resize:function(){if(!l.isBrowser('IE'))return;var u=this.refs.scrollable.refs.wrap,v=this.refs.scrollable.refs.body;if(!v||!u)return;v=i.findDOMNode(v);u=i.findDOMNode(u);var w=u.offsetWidth-u.clientWidth;if(w>0)k.set(v,'margin-right',-w+'px');},getArea:function(){return this.refs.scrollable.getArea();},scrollToBottom:function(){var u=this.getArea();if(u)this.scrollToPosition(u.getScrollHeight());},scrollToTop:function(u){var v=this.getArea();if(v)v.scrollToTop(!!u);},scrollToPosition:function(u){var v=this.getArea();if(!v)return;v.setScrollTop(u,false);},isScrolledToBottom:function(){return this.isScrolledToBottomWithHeight(0);},isScrolledToBottomWithHeight:function(u){var v=this.getArea();if(!v)return false;return v.getScrollTop()+v.getClientHeight()+u>=v.getScrollHeight()-s;},isScrolledToTop:function(){var u=this.getArea();if(!u)return true;return u.getScrollTop()<=s;},getScrollTop:function(){var u=this.getArea();if(!u)return 0;return u.getScrollTop();}});f.exports=t;},null);
__d('ChatEmojiPicker.react',['ChatEmojiPickerButton.react','Grid.react','MessengerScrollableArea.react','ReactComponentWithPureRenderMixin','React','SupportedEmoji','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=i.GridItem,p=l.PropTypes,q=l.createClass({displayName:'ChatEmojiPicker',mixins:[k],propTypes:{className:p.string,columns:p.number,currentEmoji:p.string,emojiChoices:p.arrayOf(p.string),onSelect:p.func},getDefaultProps:function(){return {columns:7};},render:function(){var r=this.props.emojiChoices?this.props.emojiChoices:Object.keys(m.emoji).map(function(t){return String.fromCodePoint(t);}),s=r.map(function(t){return (l.createElement(o,{key:t,className:"_3-sy"},l.createElement('div',{className:t==this.props.currentEmoji?"_3-sz _3-s-":"_3-s-"},l.createElement(h,{emojiChoice:t,onChoose:this._handleSelect}))));}.bind(this));return (l.createElement(j,{className:this.props.className,height:'100%',ref:'scrollable'},l.createElement(i,{cols:this.props.columns,className:"_3-s_"},s)));},_handleSelect:function(r){this.props.onSelect&&this.props.onSelect(r);}});f.exports=q;},null);
__d('ChatEmojiFlyout.react',['ChatEmojiPicker.react','Keys','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'ChatEmojiFlyout',mixins:[j],propTypes:{onEscKeyDown:m.func,onSelect:m.func.isRequired},render:function(){return (k.createElement('div',{className:"_4pi8",onKeyDown:this._handleKeyDown},k.createElement('div',{className:"_4pi9"},k.createElement(h,{className:"_4pia",columns:6,onSelect:this.props.onSelect}))));},_handleKeyDown:function(o){if(o.keyCode===i.ESC&&this.props.onEscKeyDown)this.props.onEscKeyDown();}});f.exports=n;},null);
__d('ChatEmojiButton.react',['ChatEmojiFlyout.react','Link.react','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=k.createClass({displayName:'ChatEmojiButton',_clickGuard:false,mixins:[j,l],propTypes:{ContextualDialogClass:p.func.isRequired,flyoutAlignment:p.oneOf(['left','right'])},getDefaultProps:function(){return {flyoutAlignment:'left'};},getInitialState:function(){return {shown:false};},hideFlyout:function(){this.setState(this.getInitialState());},render:function(){return (k.createElement(i,{className:o(this.props.className,this.state.shown?"open":''),href:'#',onMouseDown:this._handleMouseDown,onClick:this._handleClick,role:'button',title:n._("Choose an emoji"),ref:'link'}));},renderLayers:function(){var r=this.props.ContextualDialogClass;return {contextualDialog:k.createElement(r,{alignment:this.props.flyoutAlignment,contextRef:function(){return this.refs.link;}.bind(this),onBlur:this.hideFlyout,onToggle:this._handleContextualDialogToggle,shown:this.state.shown,width:278},k.createElement(h,{onEscKeyDown:this.hideFlyout,onSelect:this._handleSelect}))};},_handleMouseDown:function(r){this._clickGuard=this.state.shown;},_handleClick:function(r){if(this.state.shown||this._clickGuard)return;r.stopPropagation();this.setState({shown:!this.state.shown});},_handleSelect:function(r){this.props.onSelect&&this.props.onSelect(r);},_handleContextualDialogToggle:function(r){this.setState({shown:r});}});f.exports=q;},null);
__d('MessengerDispatcher',['Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('MercuryFilters',['MessagingTag','arrayContains'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=[h.UNREAD],k={ALL:'all',UNREAD:h.UNREAD,getSupportedFilters:function(){return j.concat();},isSupportedFilter:function(l){return i(j,l);}};f.exports=k;},null);
__d('MessengerURIConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={COMPOSE_SUBPATH:'/new',GROUPS_PATH:'/groups',PEOPLE_PATH:'/people',FILTERED_REQUESTS_PATH:'/filtered',MESSAGE_REQUESTS_PATH:'/requests',THREAD_PREFIX:'/t/',GROUP_PREFIX:'group-'};f.exports=h;},null);
__d('MessengerStateProcessor',['MercuryAPIArgsSource','MercuryIDs','MercuryParticipantTypes','MercuryParticipants','MercuryThreadIDMap','MercuryThreads','MercuryVanityIDMap','MessengerURIConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p={preprocess:function(r){var s=r.activeThreadID;if(s){var t=i.getUserIDFromThreadID(s),u=t&&k.getNow(i.getParticipantIDFromUserID(t));if(u&&u.type!==j.EVENT){r.threadKey=u.vanity||t;}else if(t&&!u){var v=i.getParticipantIDFromUserID(t);r.threadKey=n.hasID(v)?n.getVanity(v):t;}else{var w=l.get(),x=w.getServerIDFromClientIDNow(s);r.threadKey=x||s;}}delete r.activeThreadID;return r;},postprocess:function(r){var s=l.get(),t=m.get(),u=q(r.threadKey),v;v=i.isValid(u)?u:s.getClientIDFromServerIDNow(u);if(!v){var w=k.getIDFromVanityOrFBID(u),x=w&&t.getCanonicalThreadToParticipant(w,null,h.MESSENGER);if(x)v=x.thread_id;}if(v){r.activeThreadID=v;r.serverThreadID=s.getServerIDFromClientIDNow(v);}delete r.threadKey;return r;}};function q(r){if(!r)return null;return r.startsWith(o.GROUP_PREFIX)?r.substr(o.GROUP_PREFIX.length):r;}f.exports=p;},null);
__d('MessengerURISerializer',['MercuryFilters','MessagingTag','MessengerStateProcessor','MessengerURIConstants','MessengerView','URI','WWWBase'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o='/?$',p={serialize:function(r){var s=new m(n.uri);r=j.preprocess(r);switch(r.masterView){case l.MASTER.GROUPS:s.setPath(k.GROUPS_PATH);break;case l.MASTER.PEOPLE:s.setPath(k.PEOPLE_PATH);break;}switch(r.folder){case i.OTHER:s.setPath(k.FILTERED_REQUESTS_PATH);break;case i.PENDING:s.setPath(k.MESSAGE_REQUESTS_PATH);break;}if(r.detailView===l.DETAIL.COMPOSE){s.setPath(s.getPath()+k.COMPOSE_SUBPATH);}else if(r.threadKey)s.setPath(s.getPath()+k.THREAD_PREFIX+r.threadKey);if(h.isSupportedFilter(r.filter))s.addQueryData({filter:r.filter});return s;},deserialize:function(r){var s={},t=r.getPath();if(t.match('^'+k.GROUPS_PATH)){s.masterView=l.MASTER.GROUPS;}else if(t.match('^'+k.PEOPLE_PATH)){s.masterView=l.MASTER.PEOPLE;}else s.masterView=l.MASTER.RECENT;if(t.match('^'+k.FILTERED_REQUESTS_PATH)){s.folder=i.OTHER;}else if(t.match('^'+k.MESSAGE_REQUESTS_PATH)){s.folder=i.PENDING;}else s.folder=i.INBOX;if(t.match(k.COMPOSE_SUBPATH+o)){s.detailView=l.DETAIL.COMPOSE;}else{var u=q(t);if(u){s.threadKey=u;s.detailView=l.DETAIL.THREAD;}}var v=r.getQueryData();if(h.isSupportedFilter(v.filter)){s.filter=v.filter;}else s.filter=h.ALL;return j.postprocess(s);}};function q(r){var s=r.match(k.THREAD_PREFIX+'([^/]+)'+o);return s&&s[1];}f.exports=p;},null);
__d('MessengerActions',['MessengerDispatcher','MessengerURISerializer','MessengerView','URI','goURI','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=m({HIDE_DIALOG:null,REPLACE_STATE:null,SHOW_DIALOG:null}),o={Types:n,changeDetailView:function(q){p(function(r){if(r.detailView!==q)return {detailView:q};});},changeMasterView:function(q){p(function(r){if(r.masterView!==q)return {masterView:q};});},selectThread:function(q){p(function(r){if(r.activeThreadID!==q)return {activeThreadID:q,detailView:j.DETAIL.THREAD};});},changeState:function(q){h.dispatch({type:n.REPLACE_STATE,nextState:q});},showDialog:function(q,r){h.dispatch({type:o.Types.SHOW_DIALOG,dialogClass:q,dialogProps:r});},hideDialog:function(q){h.dispatch({type:o.Types.HIDE_DIALOG,dialogClass:q});},changeFolder:function(q){p(function(r){if(r.folder!==q)return {folder:q};});},changeFilter:function(q){p(function(r){if(r.filter!==q)return {filter:q};});}};function p(q){var r=i.deserialize(new k(window.location.href)),s=q(r);if(s)l(i.serialize(Object.assign(r,s)));}f.exports=o;},null);
__d('EmojiSticker.react',['Image.react','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'EmojiSticker',propTypes:{emoji:l.string,sourceURI:l.string.isRequired},render:function(){return (i.createElement('div',{'aria-label':this.props.emoji,className:k(this.props.className,"_383m"),tabIndex:'0'},i.createElement(h,{src:this.props.sourceURI})));}});f.exports=m;},null);
__d('MercuryShareAttachmentReactShape',['React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.PropTypes,j=i.shape({share_id:i.string,description:i.string,media:i.shape({image:i.string,image_size:i.shape({height:i.number,width:i.number}),duration:i.number,playable:i.bool,source:i.string}),source:i.string,style_list:i.arrayOf(i.string),subattachments:i.array,target:i.object,title:i.string,properties:i.object,uri:i.string,action_links:i.array}).isRequired;f.exports=j;},null);
__d('MercuryAnimatedShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'MercuryAnimatedShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a GIF."):k._("{sender name} sent a GIF.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/icons/photo.gif')}),o));}});f.exports=n;},null);
__d('MercuryFallbackShareAttachmentSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'MercuryFallbackShareAttachmentSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o;if(this.props.isViewerSender){o=k._("You shared a link.");}else o=k._("{sender name} shared a link.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/messaging/docs/generic.png')}),o));}});f.exports=n;},null);
__d('MercuryMessageLocationShareAttachmentSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'MercuryMessageLocationShareAttachmentSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o;if(this.props.isViewerSender){o=k._("You sent a location.");}else o=k._("{sender name} sent a location.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/messaging/location/location.png')}),o));}});f.exports=n;},null);
__d('MercuryPhotoShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'MercuryPhotoShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a photo."):k._("{sender name} sent a photo.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/icons/photo.gif')}),o));}});f.exports=n;},null);
__d('MercuryProductItemShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'MercuryProductItemShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a for sale item."):k._("{sender name} sent a for sale item.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/messaging/docs/generic.png')}),o));}});f.exports=n;},null);
__d('MercuryPromotionShareAttachmentSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'MercuryPromotionShareAttachmentSnippet',propTypes:{senderName:m.string,attachment:m.object},render:function(){var o=this.props.attachment,p=o&&o.target,q=p&&p.message||k._("{sender name} sent an attachment.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/messaging/docs/generic.png')}),q));}});f.exports=n;},null);
__d('MercuryVideoShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'MercuryVideoShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a video."):k._("{sender name} sent a video.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/icons/video.gif')}),o));}});f.exports=n;},null);
__d('MessengerMomentsAppSnippet.react',['Image.react','MercuryShareAttachmentReactShape','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'MessengerMomentsAppSnippet',propTypes:{attachment:i},render:function(){var p=this.props.attachment;if(!p||!p.target)return null;return (j.createElement('span',{className:"uiIconText _3l6h"},j.createElement(h,{src:m('/images/messaging/docs/generic.png')}),p.target.snippet));}});f.exports=o;},null);
__d('P2PMercuryAttachmentSnippetRendererBase.react',['Image.react','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'P2PMercuryAttachmentSnippetRendererBase',propTypes:{text:l.node},render:function(){return (i.createElement('span',{className:"uiIconText _3l6h _3_io"},i.createElement(h,{height:12,src:k('/images/p2p/attachment-snippet-icon.png'),width:12}),this.props.text));}});f.exports=m;},null);
__d('P2PMercuryAttachmentSnippet.react',['CurrentUser','MercuryAttachmentSnippetRenderer','P2PMercuryAttachmentSnippetRendererBase.react','React'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.PropTypes,m=k.createClass({displayName:'P2PMercuryAttachmentSnippet',propTypes:{amount:l.string,amountWithSymbol:l.string,currency:l.string,groupThreadFBID:l.string,receiver:l.object,sender:l.object},getDefaultProps:function(){return {sender:{},receiver:{}};},render:function(){var n=i.renderP2PPaymentSnippetText(h.getID()===this.props.sender.id,this.props.sender.name,this.props.amountWithSymbol,this.props.status,h.getID()===this.props.receiver.id,this.props.receiver.name);return (k.createElement(j,{text:n}));}});f.exports=m;},null);
__d('P2PMercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','P2PMercuryAttachmentSnippet.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'P2PMercuryShareAttachmentSnippet',propTypes:{attachment:h},render:function(){var l=this.props.attachment?this.props.attachment.target:{};return (j.createElement(i,l));}});f.exports=k;},null);
__d('P2PPaymentRequestMercuryAttachmentSnippet.react',['CurrentUser','MercuryAttachmentSnippetRenderer','P2PMercuryAttachmentSnippetRendererBase.react','React'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.PropTypes,m=k.createClass({displayName:'P2PPaymentRequestMercuryAttachmentSnippet',propTypes:{formattedAmount:l.string.isRequired,requestee:l.object.isRequired,requester:l.object.isRequired,status:l.number.isRequired},render:function(){var n=i.renderP2PPaymentRequestSnippetText(h.getID()===this.props.requester.id,this.props.requester.name,this.props.formattedAmount,this.props.status,h.getID()===this.props.requestee.id,this.props.requestee.name);return (k.createElement(j,{text:n}));}});f.exports=m;},null);
__d('P2PPaymentRequestMercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','P2PPaymentRequestMercuryAttachmentSnippet.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'P2PPaymentRequestMercuryShareAttachmentSnippet',propTypes:{attachment:h},render:function(){var l=this.props.attachment?this.props.attachment.target:{};return (j.createElement(i,{formattedAmount:l.amountWithSymbol,requestee:l.requestee,requester:l.requester,status:l.currentStatus}));}});f.exports=k;},null);
__d('MercuryShareStyleMap',['JSResource','Map','MercuryConfig','MercuryShareAttachmentRenderLocations','StoryAttachmentStyle','cx','emptyFunction','MercuryFallbackShareAttachmentSnippet.react','P2PMercuryShareAttachmentSnippet.react','P2PPaymentRequestMercuryShareAttachmentSnippet.react','MercuryPromotionShareAttachmentSnippet.react','MessengerMomentsAppSnippet.react','MercuryPhotoShareSnippet.react','MercuryVideoShareSnippet.react','MercuryMessageLocationShareAttachmentSnippet.react','MercuryAnimatedShareSnippet.react','MercuryProductItemShareSnippet.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=new i();o.set(l.FALLBACK,{componentName:'MercuryFallbackShareAttachment.react',componentLoader:h('MercuryFallbackShareAttachment.react'),getSnippetComponent:function(){return c('MercuryFallbackShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]])});o.set(l.EVENT,{componentName:'MercuryEventShareAttachment.react',componentLoader:h('MercuryEventShareAttachment.react'),getSnippetComponent:function(){return c('MercuryFallbackShareAttachmentSnippet.react');}});o.set(l.ORION,{componentName:'P2PMercuryShareAttachmentContainer.react',componentLoader:h('P2PMercuryShareAttachmentContainer.react'),getSnippetComponent:function(){return c('P2PMercuryShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d _3-50"]])});o.set(l.ORION_REQUEST,{componentName:'P2PPaymentRequestMercuryShareAttachmentContainer.react',componentLoader:h('P2PPaymentRequestMercuryShareAttachmentContainer.react'),getSnippetComponent:function(){return c('P2PPaymentRequestMercuryShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d _3-50"]])});if(j.WWWMessengerCommerceGK){o.set(l.RETAIL_RECEIPT,{componentName:'MNCommerceReceiptMercuryShareAttachment.react',componentLoader:h('MNCommerceReceiptMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.RETAIL_CANCELLATION,{componentName:'MNCommerceCancelationMercuryShareAttachment.react',componentLoader:h('MNCommerceCancelationMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.RETAIL_SHIPMENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:h('MNCommerceShippingMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.RETAIL_SHIPMENT_TRACKING_EVENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:h('MNCommerceShippingMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.RETAIL_NOW_IN_STOCK,{componentName:'MNCommerceProductSubscriptionMercuryShareAttachment.react',componentLoader:h('MNCommerceProductSubscriptionMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.RETAIL_PROMOTION,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:h('MNCommercePromotionMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.BUSINESS_MESSAGE_ITEMS,{componentName:'MNCommercePromotionMercuryShareAttachment.react',componentLoader:h('MNCommercePromotionMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});if(j.WWWMessengerHScrollGK)o.set(l.H_SCROLL,{componentName:'MNCommerceHScrollMercuryShareAttachment.react',componentLoader:h('MNCommerceHScrollMercuryShareAttachment.react'),getSnippetComponent:function(){return c('MercuryPromotionShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d _205d"]])});}if(j.WWWMessengerTransportationGK){o.set(l.RIDE_ORDERED,{componentName:'MNTransportationRideConfirmationMercuryAttachment.react',componentLoader:h('MNTransportationRideConfirmationMercuryAttachment.react'),getSnippetComponent:function(){return c('MercuryPromotionShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.RIDE_RECEIPT,{componentName:'MNTransportationRideReceiptMercuryAttachment.react',componentLoader:h('MNTransportationRideReceiptMercuryAttachment.react'),getSnippetComponent:function(){return c('MercuryPromotionShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d _205d"]])});}if(j.WWWMessengerAirlinesGK){o.set(l.AIRLINE_UPDATE,{componentName:'MNAirlineUpdateMercuryAttachment.react',componentLoader:h('MNAirlineUpdateMercuryAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.AIRLINE_ITINERARY,{componentName:'MNAirlineConfirmationMercuryAttachment.react',componentLoader:h('MNAirlineConfirmationMercuryAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.AIRLINE_CHECKIN_REMINDER,{componentName:'MNAirlineCheckInMercuryAttachment.react',componentLoader:h('MNAirlineCheckInMercuryAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.AIRLINE_BOARDING_PASS,{componentName:'MNAirlineBoardingPassMercuryAttachment.react',componentLoader:h('MNAirlineBoardingPassMercuryAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});}if(j.WWWMessengerMoneyPennyGK)o.set(l.RETAIL_AGENT_ITEM_SUGGESTION,{componentName:'MNCommerceAgentItemSuggestionMercuryShareAttachment.react',componentLoader:h('MNCommerceAgentItemSuggestionMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});if(j.MomentsMessengerWWWGK){var p={componentName:'MessengerMomentsAppShareAttachment.react',componentLoader:h('MessengerMomentsAppShareAttachment.react'),getSnippetComponent:function(){return c('MessengerMomentsAppSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]])};o.set(l.MOMENTS_APP_INVITATION,p);o.set(l.MOMENTS_APP_PHOTO_REQUEST,p);}if(j.MercuryGenieRendering)o.set(l.GENIE_MESSAGE,{componentName:'GenieMessageShareAttachment.react',componentLoader:h('GenieMessageShareAttachment.react'),cx:new i([[k.MESSENGER,"_2wrf"]]),getSnippetComponent:function(){return c('MercuryFallbackShareAttachmentSnippet.react');}});o.set(l.MOVIE_BOT_MOVIE_LIST,{componentName:'MovieBotMovieListShareAttachment.react',componentLoader:h('MovieBotMovieListShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d"]])});o.set(l.MOVIE_BOT_MOVIE_SHOWTIME_LIST,{componentName:'MovieBotMovieShowtimeListShareAttachment.react',componentLoader:h('MovieBotMovieShowtimeListShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d"]])});o.set(l.SHARE_LARGE_IMAGE,{componentName:'MercuryShareLargeImageAttachment.react',componentLoader:h('MercuryShareLargeImageAttachment.react'),getSnippetComponent:function(){return c('MercuryPhotoShareSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]]),unwrapInStory:n.thatReturnsTrue});o.set(l.IMAGE_SHARE,{componentName:'MercuryImageShareAttachment.react',componentLoader:h('MercuryImageShareAttachment.react'),getSnippetComponent:function(){return c('MercuryPhotoShareSnippet.react');},cx:null,unwrapInStory:n.thatReturnsTrue});o.set(l.VIDEO,{componentName:'MercuryVideoShareAttachment.react',componentLoader:h('MercuryVideoShareAttachment.react'),getSnippetComponent:function(){return c('MercuryVideoShareSnippet.react');},cx:null,unwrapInStory:n.thatReturnsTrue});o.set(l.MESSAGE_LOCATION,{componentName:'MercuryMessageLocationShareAttachment.react',componentLoader:h('MercuryMessageLocationShareAttachment.react'),getSnippetComponent:function(){return c('MercuryMessageLocationShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]])});o.set(l.ANIMATED_IMAGE_SHARE,{componentName:'MercuryAnimatedShareAttachment.react',componentLoader:h('MercuryAnimatedShareAttachment.react'),getSnippetComponent:function(){return c('MercuryAnimatedShareSnippet.react');},cx:null,unwrapInStory:n.thatReturnsFalse});o.set(l.GROUP_SELL_PRODUCT_ITEM,{componentName:'MercuryProductItemShareAttachment.react',componentLoader:h('MercuryProductItemShareAttachment.react'),getSnippetComponent:function(){return c('MercuryProductItemShareSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]]),unwrapInStory:n.thatReturnsTrue});o.set(l.FINANCIAL_BILL_PAYMENT_REQUEST,{componentName:'MNBillPaymentRequestMercuryShareAttachment.react',componentLoader:h('MNBillPaymentRequestMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});o.set(l.MUSIC_AGGREGATION,{componentName:'MercuryMusicAttachment.react',componentLoader:h('MercuryMusicAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d"]])});o.set(l.VIDEO_SHARE_YOUTUBE,{componentName:'MercuryVideoShareYoutubeAttachment.react',componentLoader:h('MercuryVideoShareYoutubeAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d"]])});o.set(l.RTC_CALL_LOG,{componentName:'MercuryRTCShareAttachment.react',componentLoader:h('MercuryRTCShareAttachment.react')});var q={getStyleFactory:function(r){if(!r||!r.style_list)return null;if(r.style_list[0]===l.ATTACHED_STORY){var s=r.subattachments,t=s&&s.length?s[0].style_list:[],u=this._getStyleMapEntry(t);if(u&&u.unwrapInStory&&u.unwrapInStory())return {attachment:s[0],factory:u};}var v=this._getStyleMapEntry(r.style_list);if(!v)return null;return {attachment:r,factory:v};},_getStyleMapEntry:function(r){for(var s=0;s<r.length;s++){var t=o.get(r[s]);if(t)return t;}return null;}};f.exports=q;},null);
__d('MercuryShareAttachment.react',['BootloadedComponent.react','DOM','Event','MercuryShareAttachmentReactShape','MercuryShareAttachmentRenderLocations','MercuryShareStyleMap','React','ReactDOM','StoryAttachmentStyle','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.PropTypes,u=n.createClass({displayName:'MercuryShareAttachment',propTypes:{attachment:k,isSponsored:t.bool,location:t.oneOf(l.getValues()),messageID:t.string,onComponentLoaded:t.func.isRequired,pageID:t.string,thread_id:t.string.isRequired},getDefaultProps:function(){return {onComponentLoaded:r};},componentDidMount:function(){this._handleComponentLoad();},_renderComponent:function(v,w){if(this.props.location===l.MESSENGER)w=s("_52mr _2poz _ui9",w);return w?n.createElement('div',{className:w},v):v;},render:function(){var v=m.getStyleFactory(this.props.attachment);if(!v)return null;var w=v.attachment,x=v.factory;return (this._renderComponent(n.createElement(h,babelHelpers['extends']({},this.props,{attachment:w,bootloadLoader:x.componentLoader,bootloadPlaceholder:n.createElement('div',null),module:x.componentName,onComponentLoad:this._onComponentLoad})),x.cx&&x.cx.get(this.props.location)));},_onComponentLoad:function(){this._handleComponentLoad();i.scry(o.findDOMNode(this),'img').forEach(function(v){var w=j.listen(v,'load',function(){this._handleComponentLoad();w.remove();}.bind(this));}.bind(this));},_handleComponentLoad:function(){var v=o.findDOMNode(this).children,w=0;for(var x=0;x<v.length;x++)w+=v[x].offsetHeight;this.props.onComponentLoaded(w);}});f.exports=u;},null);
__d('MessagingGiftWrap.react',['CurrentEnvironment','ReactComponentWithPureRenderMixin','React','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'MessagingGiftWrap',mixins:[i],propTypes:{isSticker:m.bool,onUnwrap:m.func},getDefaultProps:function(){return {onUnwrap:l};},getInitialState:function(){return {unwrapped:false};},render:function(){var o=h.messengerdotcom;return (j.createElement('div',{className:"_4p0m"+(this.state.unwrapped?' '+"_4p0o":'')+(o?' '+"_mxz":'')+(o?' '+"_4br2":'')+(!o?' '+"_3_om":'')+(this.props.isSticker?' '+"_52vq":''),onClick:this._handleClick},j.createElement('div',{className:"_4p0r"}),j.createElement('div',{className:"_4p0s _4p0t"}),j.createElement('div',{className:"_4p0s _4p0u"})));},_handleClick:function(o){o.stopPropagation();this.setState({unwrapped:true});this.props.onUnwrap&&this.props.onUnwrap();}});f.exports=n;},null);
__d('MessengerErrorAttachment.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,h.Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.render=function(){return (h.createElement('div',{className:"_1o12 _52mr"},h.createElement('div',{className:"_1o13"},this.props.attachment.error_msg)));};f.exports=l;},null);
__d('MessengerFileAttachment.react',['Link.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'MessengerFileAttachment',mixins:[i],propTypes:{attachment:l.object.isRequired},render:function(){return (j.createElement(h,{className:"_4pcn _2uf4",href:this.props.attachment.url},j.createElement('div',{className:"_2uf5"}),this.props.attachment.name));}});f.exports=m;},null);
__d('HotLikeSound',['MercuryConfig','SoundPlayer','StickerConstants'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();i.init(['audio/ogg','audio/mpeg']);var k=[h['sound.hot_like_grow_mp3_url'],h['sound.hot_like_grow_ogg_url']],l=[h['sound.hot_like_pop_mp3_url'],h['sound.hot_like_pop_ogg_url']],m=[h['sound.hot_like_outgoing_small_mp3_url'],h['sound.hot_like_outgoing_small_ogg_url']],n=[h['sound.hot_like_outgoing_medium_mp3_url'],h['sound.hot_like_outgoing_medium_ogg_url']],o=[h['sound.hot_like_outgoing_large_mp3_url'],h['sound.hot_like_outgoing_large_ogg_url']],p=function(){return false;},q={setCheckSoundEnabledFunc:function(r){p=r;},start:function(){this._play(k);},stop:function(){i.stop(k);},pop:function(){this.stop();this._play(l);},snap:function(r){this.stop();if(r===j.HOT_LIKE_SMALL_STICKER_ID)this._play(m);if(r===j.HOT_LIKE_MEDIUM_STICKER_ID)this._play(n);if(r===j.HOT_LIKE_LARGE_STICKER_ID)this._play(o);},_play:function(r){if(p())i.play(r);}};f.exports=q;},null);
__d('MessengerHotLikePreviewEvents',['mixInEventEmitter'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={START:'start',STOP:'stop',POP:'pop',REMOVE:'remove',FINISH_ANIMATION:'finish_animation'};h(i,{start:true,stop:true,pop:true,remove:'remove',finish_animation:'finish_animation'});f.exports=i;},null);
__d('MessengerHotLikeSVG.react',['React','cssVar','cx','fbt','joinClasses','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes,o='transparent',p=k._("Thumbs Up Sign"),q=h.createClass({displayName:'MessengerHotLikeSVG',propTypes:{color:n.string,strokeOnly:n.bool},getInitialState:function(){return {titleId:m()};},getDefaultProps:function(){return {strokeOnly:false};},render:function(){var r=this.props,s=r.color,t=r.strokeOnly;s=s||"#0084ff";var u=t?o:s,v=t?s:o;return (h.createElement('div',{className:l(this.props.className,"_1i1j")},h.createElement('svg',{'aria-labelledby':this.state.titleId,height:'100%',role:'img',version:'1.1',viewBox:'0 0 381 400',width:'100%',x:'0px',y:'0px'},h.createElement('title',{id:this.state.titleId},p),h.createElement('g',null,h.createElement('g',null,h.createElement('path',{d:'M0,399.8h86.4V160.8H0V399.8z M381,220.7c0-13.6-7.4-25.5-18.5-31.8c8.8-6.6,14.5-17.4,14.5-29.3 c0-20.1-16.4-36.8-36.5-36.8H217c20.4-106.5-31.3-128.2-51.7-123c-12.3,3.1-13.6-0.3-11.4,24.2l3.4,42.7c0.3,3.5,0,7.2-0.8,10.8 c-0.8,3.6-2.7,6.9-4.6,10L106.8,160v208.7h195.3v-1.2c19.2-1.1,34.5-17.4,34.5-36.9c0-6.1-1.5-12-4.1-17 c17.3-2.8,30.4-18,30.4-36.1c0-8.2-2.7-15.9-7.4-22C370.1,250.8,381,237,381,220.7z',fill:u,stroke:v,strokeLinecap:'round',strokeWidth:'5%'}))))));}});f.exports=q;},null);
__d("XStickerAssetController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/asset\/",{sticker_id:{type:"Int",required:true},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}});},null);
__d('MessengerHotLikeUtils',['EmojiLikeConstants','StickerAssetType','StickerConstants','XStickerAssetController'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={SizeTimes:{small:1000,medium:2000,large:3000},getStickerIDForTime:function(m){var n=null;switch(true){case m<this.SizeTimes.small:n=j.HOT_LIKE_SMALL_STICKER_ID;break;case m<this.SizeTimes.medium:n=j.HOT_LIKE_MEDIUM_STICKER_ID;break;case m<this.SizeTimes.large:n=j.HOT_LIKE_LARGE_STICKER_ID;break;}return n;},getEmojiSizeForTime:function(m){var n=null;if(m<this.SizeTimes.small){n=h.size.SMALL;}else if(m<this.SizeTimes.medium){n=h.size.MEDIUM;}else if(m<this.SizeTimes.large)n=h.size.LARGE;return n;},getGrowCoefficientForSince:function(m){return Math.min(1,(Date.now()-m)/this.SizeTimes.large);},getMetadataForHotLike:function(m){var n;switch(m){case j.HOT_LIKE_LARGE_STICKER_ID:n=120;break;case j.HOT_LIKE_MEDIUM_STICKER_ID:n=84;break;case j.HOT_LIKE_SMALL_STICKER_ID:n=35;break;case h.size.LARGE:n=64;break;case h.size.MEDIUM:n=64;break;case h.size.SMALL:n=32;break;}return n?{height:n,width:n}:undefined;},getPreviewURI:function(){return k.getURIBuilder().setInt('sticker_id',j.HOT_LIKE_LARGE_STICKER_ID).setEnum('image_type',i.IMAGE).getURI().toString();},getURIWithID:function(m){return k.getURIBuilder().setInt('sticker_id',m).setEnum('image_type',i.IMAGE).getURI().toString();}};f.exports=l;},null);
__d('MessengerHotLikePreview.react',['Animation','HotLikeSound','MessengerHotLikePreviewEvents','MessengerHotLikeSVG.react','MessengerHotLikeUtils','React','ReactDOM','StickerConstants','SubscriptionsHandler','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=m.PropTypes,s=m.createClass({displayName:'MessengerHotLikePreview',propTypes:{customLike:r.object,since:r.number},componentDidMount:function(){this._subscriptions=new p();this._subscriptions.addSubscriptions(j.addListener(j.STOP,this._snapToStickerSize),j.addListener(j.POP,this._pop));i.start();this._growthAnimation=new h(n.findDOMNode(this)).to('width',80).to('height',80).duration(3000).go();this._setUpRotationAnimation();},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},render:function(){if(this.props.customLike)return (m.createElement('div',{className:"_4a9g _383m",style:{backgroundImage:'url('+this.props.customLike.large+')'}}));return (m.createElement('div',{className:"_4a9g _576q"},m.createElement(k,{color:this.props.customColor})));},_setUpRotationAnimation:function(){this._rotateAnimation=new h(n.findDOMNode(this));this._rotateHotLike(-2,2,150,1000);this._rotateHotLike(-4,4,100,1000);this._rotateHotLike(-10,10,75,1000);this._rotateAnimation.go();},_rotateHotLike:function(t,u,v,w){var x=Math.floor(w/v),y=null;for(var z=0;z<x;z++){y=z%2?t:u;this._rotateAnimation.to('rotateZ',y).duration(v).checkpoint();}},_snapToStickerSize:function(t){if(this._snapped)return;this._snapped=true;var u=Date.now()-this.props.since,v=null;if(this.props.customLike)v=l.getEmojiSizeForTime(u);var w=l.getStickerIDForTime(u);if(w){i.snap(w);var x=l.getMetadataForHotLike(v||w);this._rotateAnimation.stop();var y=30,z=-10;if(w===o.HOT_LIKE_SMALL_STICKER_ID){y=0;z=0;}this._growthAnimation.stop().to('width',x.width*1.2).to('height',x.height*1.2).to('rotateZ',y).duration(100).checkpoint().to('width',x.width*.9).to('height',x.height*.9).to('rotateZ',z).duration(100).checkpoint().to('width',x.width).to('height',x.height).to('rotateZ',0).duration(100).ondone(function(){j.emit(j.FINISH_ANIMATION,t,w,v);}).go();}},_pop:function(t){i.pop();this._growthAnimation.stop().to('width',0).to('height',0).duration(100).ondone(function(){j.emit(j.REMOVE,t);}).go();}});f.exports=s;},null);
__d('PhotoStore',['Arbiter','PhotoStoreCore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.subscribe('update-photos',function(j,k){i.updateData(k);});f.exports=i;},null);
__d('MessagesViewer',['AsyncRequest','Bootloader','DOM','MessagesViewerSetID','PhotoStore','React','ReactDOM','Run','emptyFunction','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={bootstrapWithElem:function(u){r.bootstrapWithConfig({fbid:u.getAttribute('data-fbid'),dimensions:u.getAttribute('data-dimensions'),src:u.getAttribute('href'),endpoint:u.getAttribute('data-endpoint'),disablePaging:u.getAttribute('data-disablepaging')},u);},bootstrapWithConfig:function(u,v){var w=u.setID;if(!w)w=k.MESSAGES;t(function(x,y){s(m.createElement(x,{actorid:u.actorid,dimensions:[u.dimensions],disablepaging:u.disablePaging,disableForward:u.disableForward,open:true,photoid:u.fbid,reverse:false,rootClassName:u.rootClassName,setid:w,snapToPhoto:u.snapToPhoto,thumbsrc:u.src}));if(!l.hasBeenCreated(w)&&u.endpoint){var z=new h(u.endpoint);if(v)z.setRelativeTo(v);z.send();}});},renderVideo:function(u){t(function(v,w){s(m.createElement(w,u));});},preload:function(){o.onAfterLoad(function(){return t(p);});}};function s(u){var v=q('messages_viewer');if(!v){v=j.create('div',{id:'messages_viewer'});document.body.appendChild(v);}u=n.render(u,v);u.subscribeOnce('close',function(){n.unmountComponentAtNode(v);});}function t(u){i.loadModules(["SpotlightMessagesViewer","MessagingVideoViewer.react"],u);}f.exports=r;},null);
__d('MessengerPhoto.react',['Image.react','MercuryAttachmentType','React','URI','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=206,p=450;function q(u){if(u.metadata){if(u.attach_type===i.VIDEO)return u.metadata.inbox_preview;return new k('/ajax/mercury/attachments/photo.php').addQueryData({fbid:u.metadata.fbid,height:o,mode:'cover',request_user_id:u.metadata.pageid,width:o}).toString();}return null;}function r(u){if(u.preview_uploading)return {height:u.preview_height||o,src:u.preview_url,width:u.preview_width||o};var v=q(u);if(v)return babelHelpers['extends']({src:v},u.metadata.inbox_size);if(u.preview_url)return {height:u.preview_height,src:u.preview_url,width:u.preview_width};if(u.media)return u.media.playable&&u.media.animated_image?babelHelpers['extends']({},u.media.animated_image_size,{src:u.media.animated_image}):babelHelpers['extends']({},u.media.image_size,{src:u.media.image});}function s(u,v){if(u.preview_uploading)return u.preview_url?0:o;var w=u.media?r(u):{height:u.preview_height,width:u.preview_width};return Math.min(w.height*Math.min(1,p/w.width),p);}var t=j.createClass({displayName:'MessengerPhoto',contextTypes:{width:n.number},propTypes:{attachment:n.object.isRequired,isSingle:n.bool.isRequired,onClick:n.func},render:function(){var u=this.props.attachment,v=r(u);if(!v)return null;var w=this._getImageFromMetadata(v),x={};if(v.src)x.backgroundImage='url('+v.src+')';if(this.props.isSingle){var y=s(u,this.context);if(y)x.minHeight=y;}var z=!!this.props.attachment.app_attribution;return (j.createElement('div',{className:m(this.props.className,"_4tsk"+(z?' '+"_mxz":'')+(this.props.isSingle&&!z?' '+"_52mr":'')+(u.preview_uploading&&!v.src?' '+"_3etv":'')),style:x,onClick:this._onClick},w,j.createElement('a',{className:"_4tsl",href:v.src},this.props.children)));},_onClick:function(u){u.preventDefault();if(this.props.onClick)this.props.onClick(this.props.attachment);},_getImageFromMetadata:function(u){if(this.props.attachment.preview_uploading&&!u.src)return null;if(this.props.isSingle)return j.createElement(h,{alt:'',src:u.src});return null;}});f.exports=t;},null);
__d('MessengerVideo.react',['Image.react','MessengerPhoto.react','ReactComponentWithPureRenderMixin','React','cx','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MessengerVideo',mixins:[j],propTypes:{attachment:o.object.isRequired,isSingle:o.bool.isRequired,onClick:o.func},render:function(){return (k.createElement(i,babelHelpers['extends']({},this.props,{className:n(this.props.className,"_ccq")}),k.createElement(h,{className:"_ccr",src:m('/images/chat/chat_play_icon.png')}),k.createElement('span',{className:"_ccs"},this._getDuration())));},_getDuration:function(){var q;if(!!this.props.attachment.metadata){q=this.props.attachment.metadata.duration;}else if(!!this.props.attachment.media)q=this.props.attachment.media.duration;return !!q?this._formatDuration(q):null;},_formatDuration:function(q){var r=q%60;return Math.floor(q/60)+':'+(r<10?'0':'')+r;}});f.exports=p;},null);
__d('MessengerPhotosGroup.react',['ChatSpeakingSticker.react','MercuryAttachmentType','MessagingGiftWrap.react','MessengerPhoto.react','MessengerVideo.react','MessagesViewer','ReactComponentWithPureRenderMixin','React','Vector','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s='empty-spacer',t=o.PropTypes,u=o.createClass({displayName:'MessengerPhotosGroup',mixins:[n],propTypes:{attachType:t.string,attachments:t.arrayOf(t.object).isRequired,isGiftWrapped:t.bool,message:t.object,onUnwrap:t.func},componentDidMount:function(){m.preload();},render:function(){var v=this.props.attachments,w=this._rowsFor(v);if(this.props.isGiftWrapped)w=o.createElement('div',null,w);return (o.createElement('div',babelHelpers['extends']({},this.props,{className:this._getRootClassNameFor(v)}),w,this.props.isGiftWrapped?o.createElement(j,{onUnwrap:this.props.onUnwrap}):null));},_onChildClicked:function(v){if(v.preview_uploading)return;if(v.attach_type===i.VIDEO){m.renderVideo({pageID:v.metadata.pageid,rootClassName:"_1j1h",videoID:v.metadata.fbid,videoSize:new p(v.metadata.dimensions.width,v.metadata.dimensions.height),videoURI:v.url});}else if(v.attach_type===i.PHOTO||v.attach_type===i.ANIMATED_IMAGE){m.bootstrapWithConfig({actorid:v.metadata.pageid,dimensions:v.metadata.dimensions,disableForward:!!v.metadata.pageid,disablePaging:this.props.attachments.length===1,endpoint:v.url,fbid:v.metadata.fbid,rootClassName:"_1j1h",snapToPhoto:true,src:v.preview_url});}else if(v.uri)window.open(v.uri);},_rowsFor:function(v){if(v.length===1)return [this._photo(v[0],true)];var w=3;if(v.length===2||v.length===4)w=2;var x=[];for(var y=0,z=v.length;y<z;y+=w){var aa=v.slice(y,y+w),ba=w-aa.length;while(ba>0){aa.push({attach_type:s,key:'ghost'+ba});ba--;}x.push(o.createElement('div',{className:"_2n8g",key:y},aa.map(function(ca){return this._photo(ca);}.bind(this))));}return x;},_photo:function(v,w){var x;if(v.deduplication_key){x=v.deduplication_key;}else if(v.metadata){x=v.metadata.fbid;}else x=v.upload_id;var y={attachment:v,isSingle:w||false,key:x,onClick:this._onChildClicked},z=this.props.attachType||v.attach_type;switch(z){case i.PHOTO:case i.ANIMATED_IMAGE:return o.createElement(k,y);case i.VIDEO:if(v.metadata&&v.metadata.render_as_sticker)return (o.createElement(h,{videoSize:v.metadata.dimensions,videoURI:v.url}));return o.createElement(l,y);case s:return (o.createElement('div',{key:v.key,className:"_4tsk _4rf-"}));default:throw v.attachType+' is not handled by MessengerPhotoGroup';}},_getRootClassNameFor:function(v){var w=v.length===2||v.length===4;return r(this.props.className,"_2n8h"+(v.length===1?' '+"_2n8i":'')+(w?' '+"_4ksk":'')+(v.length>1&&!w?' '+"_2n8k":''));}});f.exports=u;},null);
__d('MessengerStickerUtils',['MercuryAttachmentType'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(l){return !!(l&&l.attach_type===h.STICKER);}function j(l){var m=l.attachments;return !!(l.is_like_preview||l.sticker_id||m&&m.length===1&&i(m[0]));}function k(l){return l.size===1&&j(l.first());}f.exports={isStickerMessageGroup:k,isStickerMessage:j,isStickerAttachment:i};},null);
__d("chroma",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();(function(){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,ac,bc,cc,dc,ec,fc,gc,hc,ic=[].slice;dc=(function(){var jc,kc,lc,mc,nc;jc={};nc="Boolean Number String Function Array Date RegExp Undefined Null".split(" ");for(mc=0,kc=nc.length;mc<kc;mc++){lc=nc[mc];jc["[object "+lc+"]"]=lc.toLowerCase();}return function(oc){var pc;pc=Object.prototype.toString.call(oc);return jc[pc]||"object";};})();za=function(jc,kc,lc){if(kc==null)kc=0;if(lc==null)lc=1;if(jc<kc)jc=kc;if(jc>lc)jc=lc;return jc;};ec=function(jc){if(jc.length>=3){return [].slice.call(jc);}else return jc[0];};aa=function(jc){var kc;for(kc in jc)if(kc<3){if(jc[kc]<0)jc[kc]=0;if(jc[kc]>255)jc[kc]=255;}else if(kc===3){if(jc[kc]<0)jc[kc]=0;if(jc[kc]>1)jc[kc]=1;}return jc;};k=Math.PI,yb=Math.round,da=Math.cos,ia=Math.floor,ib=Math.pow,ab=Math.log,ac=Math.sin,bc=Math.sqrt,t=Math.atan2,db=Math.max,s=Math.abs;n=k*2;l=k/3;i=k/180;m=180/k;z=function(){if(arguments[0] instanceof h)return arguments[0];return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,arguments,function(){});};r=[];if((typeof f!=="undefined"&&f!==null)&&(f.exports!=null))f.exports=z;if(typeof define==='function'&&define.amd){define([],function(){return z;});}else{xb=typeof g!=="undefined"&&g!==null?g:this;xb.chroma=z;}z.version='1.1.1';q={};o=[];p=false;h=(function(){function jc(){var kc,lc,mc,nc,oc,pc,qc,rc,sc;pc=this;lc=[];for(rc=0,nc=arguments.length;rc<nc;rc++){kc=arguments[rc];if(kc!=null)lc.push(kc);}qc=lc[lc.length-1];if(q[qc]!=null){pc._rgb=aa(q[qc](ec(lc.slice(0,-1))));}else{if(!p){o=o.sort(function(tc,uc){return uc.p-tc.p;});p=true;}for(sc=0,oc=o.length;sc<oc;sc++){mc=o[sc];qc=mc.test.apply(mc,lc);if(qc)break;}if(qc)pc._rgb=aa(q[qc].apply(q,lc));}pc._rgb==null;if(pc._rgb==null)pc._rgb=[0,0,0];if(pc._rgb.length===3)pc._rgb.push(1);}jc.prototype.alpha=function(kc){if(arguments.length){this._rgb[3]=kc;return this;}return this._rgb[3];};jc.prototype.toString=function(){return this.name();};return jc;})();z._input=q;z.brewer=x={OrRd:['#fff7ec','#fee8c8','#fdd49e','#fdbb84','#fc8d59','#ef6548','#d7301f','#b30000','#7f0000'],PuBu:['#fff7fb','#ece7f2','#d0d1e6','#a6bddb','#74a9cf','#3690c0','#0570b0','#045a8d','#023858'],BuPu:['#f7fcfd','#e0ecf4','#bfd3e6','#9ebcda','#8c96c6','#8c6bb1','#88419d','#810f7c','#4d004b'],Oranges:['#fff5eb','#fee6ce','#fdd0a2','#fdae6b','#fd8d3c','#f16913','#d94801','#a63603','#7f2704'],BuGn:['#f7fcfd','#e5f5f9','#ccece6','#99d8c9','#66c2a4','#41ae76','#238b45','#006d2c','#00441b'],YlOrBr:['#ffffe5','#fff7bc','#fee391','#fec44f','#fe9929','#ec7014','#cc4c02','#993404','#662506'],YlGn:['#ffffe5','#f7fcb9','#d9f0a3','#addd8e','#78c679','#41ab5d','#238443','#006837','#004529'],Reds:['#fff5f0','#fee0d2','#fcbba1','#fc9272','#fb6a4a','#ef3b2c','#cb181d','#a50f15','#67000d'],RdPu:['#fff7f3','#fde0dd','#fcc5c0','#fa9fb5','#f768a1','#dd3497','#ae017e','#7a0177','#49006a'],Greens:['#f7fcf5','#e5f5e0','#c7e9c0','#a1d99b','#74c476','#41ab5d','#238b45','#006d2c','#00441b'],YlGnBu:['#ffffd9','#edf8b1','#c7e9b4','#7fcdbb','#41b6c4','#1d91c0','#225ea8','#253494','#081d58'],Purples:['#fcfbfd','#efedf5','#dadaeb','#bcbddc','#9e9ac8','#807dba','#6a51a3','#54278f','#3f007d'],GnBu:['#f7fcf0','#e0f3db','#ccebc5','#a8ddb5','#7bccc4','#4eb3d3','#2b8cbe','#0868ac','#084081'],Greys:['#ffffff','#f0f0f0','#d9d9d9','#bdbdbd','#969696','#737373','#525252','#252525','#000000'],YlOrRd:['#ffffcc','#ffeda0','#fed976','#feb24c','#fd8d3c','#fc4e2a','#e31a1c','#bd0026','#800026'],PuRd:['#f7f4f9','#e7e1ef','#d4b9da','#c994c7','#df65b0','#e7298a','#ce1256','#980043','#67001f'],Blues:['#f7fbff','#deebf7','#c6dbef','#9ecae1','#6baed6','#4292c6','#2171b5','#08519c','#08306b'],PuBuGn:['#fff7fb','#ece2f0','#d0d1e6','#a6bddb','#67a9cf','#3690c0','#02818a','#016c59','#014636'],Spectral:['#9e0142','#d53e4f','#f46d43','#fdae61','#fee08b','#ffffbf','#e6f598','#abdda4','#66c2a5','#3288bd','#5e4fa2'],RdYlGn:['#a50026','#d73027','#f46d43','#fdae61','#fee08b','#ffffbf','#d9ef8b','#a6d96a','#66bd63','#1a9850','#006837'],RdBu:['#67001f','#b2182b','#d6604d','#f4a582','#fddbc7','#f7f7f7','#d1e5f0','#92c5de','#4393c3','#2166ac','#053061'],PiYG:['#8e0152','#c51b7d','#de77ae','#f1b6da','#fde0ef','#f7f7f7','#e6f5d0','#b8e186','#7fbc41','#4d9221','#276419'],PRGn:['#40004b','#762a83','#9970ab','#c2a5cf','#e7d4e8','#f7f7f7','#d9f0d3','#a6dba0','#5aae61','#1b7837','#00441b'],RdYlBu:['#a50026','#d73027','#f46d43','#fdae61','#fee090','#ffffbf','#e0f3f8','#abd9e9','#74add1','#4575b4','#313695'],BrBG:['#543005','#8c510a','#bf812d','#dfc27d','#f6e8c3','#f5f5f5','#c7eae5','#80cdc1','#35978f','#01665e','#003c30'],RdGy:['#67001f','#b2182b','#d6604d','#f4a582','#fddbc7','#ffffff','#e0e0e0','#bababa','#878787','#4d4d4d','#1a1a1a'],PuOr:['#7f3b08','#b35806','#e08214','#fdb863','#fee0b6','#f7f7f7','#d8daeb','#b2abd2','#8073ac','#542788','#2d004b'],Set2:['#66c2a5','#fc8d62','#8da0cb','#e78ac3','#a6d854','#ffd92f','#e5c494','#b3b3b3'],Accent:['#7fc97f','#beaed4','#fdc086','#ffff99','#386cb0','#f0027f','#bf5b17','#666666'],Set1:['#e41a1c','#377eb8','#4daf4a','#984ea3','#ff7f00','#ffff33','#a65628','#f781bf','#999999'],Set3:['#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#ccebc5','#ffed6f'],Dark2:['#1b9e77','#d95f02','#7570b3','#e7298a','#66a61e','#e6ab02','#a6761d','#666666'],Paired:['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a','#ffff99','#b15928'],Pastel2:['#b3e2cd','#fdcdac','#cbd5e8','#f4cae4','#e6f5c9','#fff2ae','#f1e2cc','#cccccc'],Pastel1:['#fbb4ae','#b3cde3','#ccebc5','#decbe4','#fed9a6','#ffffcc','#e5d8bd','#fddaec','#f2f2f2']};fc={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"};z.colors=ca=fc;ua=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;kc=ec(arguments);nc=kc[0],jc=kc[1],lc=kc[2];qc=(nc+16)/116;pc=isNaN(jc)?qc:qc+jc/500;rc=isNaN(lc)?qc:qc-lc/200;qc=j.Yn*va(qc);pc=j.Xn*va(pc);rc=j.Zn*va(rc);oc=hc(3.2404542*pc-1.5371385*qc-.4985314*rc);mc=hc(-.969266*pc+1.8760108*qc+.041556*rc);lc=hc(.0556434*pc-.2040259*qc+1.0572252*rc);oc=za(oc,0,255);mc=za(mc,0,255);lc=za(lc,0,255);return [oc,mc,lc,kc.length>3?kc[3]:1];};hc=function(jc){return yb(255*(jc<=.00304?12.92*jc:1.055*ib(jc,1/2.4)-.055));};va=function(jc){if(jc>j.t1){return jc*jc*jc;}else return j.t2*(jc-j.t0);};j={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452};pb=function(){var jc,kc,lc,mc,nc,oc,pc,qc;mc=ec(arguments),lc=mc[0],kc=mc[1],jc=mc[2];nc=ub(lc,kc,jc),oc=nc[0],pc=nc[1],qc=nc[2];return [116*pc-16,500*(oc-pc),200*(pc-qc)];};vb=function(jc){if((jc/=255)<=.04045){return jc/12.92;}else return ib((jc+.055)/1.055,2.4);};gc=function(jc){if(jc>j.t3){return ib(jc,1/3);}else return jc/j.t2+j.t0;};ub=function(){var jc,kc,lc,mc,nc,oc,pc;mc=ec(arguments),lc=mc[0],kc=mc[1],jc=mc[2];lc=vb(lc);kc=vb(kc);jc=vb(jc);nc=gc((.4124564*lc+.3575761*kc+.1804375*jc)/j.Xn);oc=gc((.2126729*lc+.7151522*kc+.072175*jc)/j.Yn);pc=gc((.0193339*lc+.119192*kc+.9503041*jc)/j.Zn);return [nc,oc,pc];};z.lab=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['lab']),function(){});};q.lab=ua;h.prototype.lab=function(){return pb(this._rgb);};u=function(jc){var kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc;jc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(z(nc));}return xc;})();if(jc.length===2){sc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(nc.lab());}return xc;})(),oc=sc[0],pc=sc[1];kc=function(vc){var wc,xc;xc=(function(){var yc,zc;zc=[];for(wc=yc=0;yc<=2;wc=++yc)zc.push(oc[wc]+vc*(pc[wc]-oc[wc]));return zc;})();return z.lab.apply(z,xc);};}else if(jc.length===3){tc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(nc.lab());}return xc;})(),oc=tc[0],pc=tc[1],qc=tc[2];kc=function(vc){var wc,xc;xc=(function(){var yc,zc;zc=[];for(wc=yc=0;yc<=2;wc=++yc)zc.push((1-vc)*(1-vc)*oc[wc]+2*(1-vc)*vc*pc[wc]+vc*vc*qc[wc]);return zc;})();return z.lab.apply(z,xc);};}else if(jc.length===4){uc=(function(){var vc,wc,xc;xc=[];for(wc=0,vc=jc.length;wc<vc;wc++){nc=jc[wc];xc.push(nc.lab());}return xc;})(),oc=uc[0],pc=uc[1],qc=uc[2],rc=uc[3];kc=function(vc){var wc,xc;xc=(function(){var yc,zc;zc=[];for(wc=yc=0;yc<=2;wc=++yc)zc.push((1-vc)*(1-vc)*(1-vc)*oc[wc]+3*(1-vc)*(1-vc)*vc*pc[wc]+3*(1-vc)*vc*vc*qc[wc]+vc*vc*vc*rc[wc]);return zc;})();return z.lab.apply(z,xc);};}else if(jc.length===5){lc=u(jc.slice(0,3));mc=u(jc.slice(2,5));kc=function(vc){if(vc<.5){return lc(vc*2);}else return mc((vc-.5)*2);};}return kc;};z.bezier=function(jc){var kc;kc=u(jc);kc.scale=function(){return z.scale(kc);};return kc;};z.cubehelix=function(jc,kc,lc,mc,nc){var oc,pc,qc;if(jc==null)jc=300;if(kc==null)kc=-1.5;if(lc==null)lc=1;if(mc==null)mc=1;if(nc==null)nc=[0,1];pc=nc[1]-nc[0];oc=0;qc=function(rc){var sc,tc,uc,vc,wc,xc,yc,zc,ad;sc=n*((jc+120)/360+kc*rc);yc=ib(nc[0]+pc*rc,mc);xc=oc!==0?lc[0]+rc*oc:lc;tc=xc*yc*(1-yc)/2;vc=da(sc);ad=ac(sc);zc=yc+tc*(-.14861*vc+1.78277*ad);wc=yc+tc*(-.29227*vc-.90649*ad);uc=yc+tc*(+1.97294*vc);return z(aa([zc*255,wc*255,uc*255]));};qc.start=function(rc){if(rc==null)return jc;jc=rc;return qc;};qc.rotations=function(rc){if(rc==null)return kc;kc=rc;return qc;};qc.gamma=function(rc){if(rc==null)return mc;mc=rc;return qc;};qc.hue=function(rc){if(rc==null)return lc;lc=rc;if(dc(lc)==='array'){oc=lc[1]-lc[0];if(oc===0)lc=lc[1];}else oc=0;return qc;};qc.lightness=function(rc){if(rc==null)return nc;nc=rc;if(dc(nc)==='array'){pc=nc[1]-nc[0];if(pc===0)nc=nc[1];}else pc=0;return qc;};qc.scale=function(){return z.scale(qc);};qc.hue(lc);return qc;};z.random=function(){var jc,kc,lc,mc;kc='0123456789abcdef';jc='#';for(lc=mc=0;mc<6;lc=++mc)jc+=kc.charAt(ia(Math.random()*16));return new h(jc);};q.rgb=function(){var jc,kc,lc,mc;kc=ec(arguments);lc=[];for(jc in kc){mc=kc[jc];lc.push(mc);}return lc;};z.rgb=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['rgb']),function(){});};h.prototype.rgb=function(){return this._rgb.slice(0,3);};h.prototype.rgba=function(){return this._rgb;};o.push({p:15,test:function(jc){var kc;kc=ec(arguments);if(dc(kc)==='array'&&kc.length===3)return 'rgb';if(kc.length===4&&dc(kc[3])==="number"&&kc[3]>=0&&kc[3]<=1)return 'rgb';}});ja=function(jc){var kc,lc,mc,nc,oc,pc;if(jc.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)){if(jc.length===4||jc.length===7)jc=jc.substr(1);if(jc.length===3){jc=jc.split("");jc=jc[0]+jc[0]+jc[1]+jc[1]+jc[2]+jc[2];}pc=parseInt(jc,16);nc=pc>>16;mc=pc>>8&255;lc=pc&255;return [nc,mc,lc,1];}if(jc.match(/^#?([A-Fa-f0-9]{8})$/)){if(jc.length===9)jc=jc.substr(1);pc=parseInt(jc,16);nc=pc>>24&255;mc=pc>>16&255;lc=pc>>8&255;kc=yb((pc&255)/255*100)/100;return [nc,mc,lc,kc];}if((q.css!=null)&&(oc=q.css(jc)))return oc;throw "unknown color: "+jc;};lb=function(jc,kc){var lc,mc,nc,oc,pc,qc,rc;if(kc==null)kc='rgb';pc=jc[0],nc=jc[1],mc=jc[2],lc=jc[3];rc=pc<<16|nc<<8|mc;qc="000000"+rc.toString(16);qc=qc.substr(qc.length-6);oc='0'+yb(lc*255).toString(16);oc=oc.substr(oc.length-2);return "#"+(function(){switch(kc.toLowerCase()){case 'rgba':return qc+oc;case 'argb':return oc+qc;default:return qc;}})();};q.hex=function(jc){return ja(jc);};z.hex=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hex']),function(){});};h.prototype.hex=function(jc){if(jc==null)jc='rgb';return lb(this._rgb,jc);};o.push({p:10,test:function(jc){if(arguments.length===1&&dc(jc)==="string")return 'hex';}});ma=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc;jc=ec(arguments);nc=jc[0],tc=jc[1],pc=jc[2];if(tc===0){rc=mc=kc=pc*255;}else{wc=[0,0,0];lc=[0,0,0];vc=pc<.5?pc*(1+tc):pc+tc-pc*tc;uc=2*pc-vc;nc/=360;wc[0]=nc+1/3;wc[1]=nc;wc[2]=nc-1/3;for(oc=qc=0;qc<=2;oc=++qc){if(wc[oc]<0)wc[oc]+=1;if(wc[oc]>1)wc[oc]-=1;if(6*wc[oc]<1){lc[oc]=uc+(vc-uc)*6*wc[oc];}else if(2*wc[oc]<1){lc[oc]=vc;}else if(3*wc[oc]<2){lc[oc]=uc+(vc-uc)*((2/3)-wc[oc])*6;}else lc[oc]=uc;}sc=[yb(lc[0]*255),yb(lc[1]*255),yb(lc[2]*255)],rc=sc[0],mc=sc[1],kc=sc[2];}if(jc.length>3){return [rc,mc,kc,jc[3]];}else return [rc,mc,kc];};nb=function(jc,kc,lc){var mc,nc,oc,pc,qc;if(jc!==void 0&&jc.length>=3)pc=jc,jc=pc[0],kc=pc[1],lc=pc[2];jc/=255;kc/=255;lc/=255;oc=Math.min(jc,kc,lc);db=Math.max(jc,kc,lc);nc=(db+oc)/2;if(db===oc){qc=0;mc=Number.NaN;}else qc=nc<.5?(db-oc)/(db+oc):(db-oc)/(2-db-oc);if(jc===db){mc=(kc-lc)/(db-oc);}else if(kc===db){mc=2+(lc-jc)/(db-oc);}else if(lc===db)mc=4+(jc-kc)/(db-oc);mc*=60;if(mc<0)mc+=360;return [mc,qc,nc];};z.hsl=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hsl']),function(){});};q.hsl=ma;h.prototype.hsl=function(){return nb(this._rgb);};na=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,ad;jc=ec(arguments);nc=jc[0],yc=jc[1],ad=jc[2];ad*=255;if(yc===0){rc=mc=kc=ad;}else{if(nc===360)nc=0;if(nc>360)nc-=360;if(nc<0)nc+=360;nc/=60;oc=ia(nc);lc=nc-oc;pc=ad*(1-yc);qc=ad*(1-yc*lc);zc=ad*(1-yc*(1-lc));switch(oc){case 0:sc=[ad,zc,pc],rc=sc[0],mc=sc[1],kc=sc[2];break;case 1:tc=[qc,ad,pc],rc=tc[0],mc=tc[1],kc=tc[2];break;case 2:uc=[pc,ad,zc],rc=uc[0],mc=uc[1],kc=uc[2];break;case 3:vc=[pc,qc,ad],rc=vc[0],mc=vc[1],kc=vc[2];break;case 4:wc=[zc,pc,ad],rc=wc[0],mc=wc[1],kc=wc[2];break;case 5:xc=[ad,pc,qc],rc=xc[0],mc=xc[1],kc=xc[2];}}rc=yb(rc);mc=yb(mc);kc=yb(kc);return [rc,mc,kc,jc.length>3?jc[3]:1];};ob=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;pc=ec(arguments),oc=pc[0],lc=pc[1],jc=pc[2];nc=Math.min(oc,lc,jc);db=Math.max(oc,lc,jc);kc=db-nc;rc=db/255;if(db===0){mc=Number.NaN;qc=0;}else{qc=kc/db;if(oc===db)mc=(lc-jc)/kc;if(lc===db)mc=2+(jc-oc)/kc;if(jc===db)mc=4+(oc-lc)/kc;mc*=60;if(mc<0)mc+=360;}return [mc,qc,rc];};z.hsv=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hsv']),function(){});};q.hsv=na;h.prototype.hsv=function(){return ob(this._rgb);};gb=function(jc){var kc,lc,mc;if(dc(jc)==="number"&&jc>=0&&jc<=16777215){mc=jc>>16;lc=(jc>>8)&255;kc=jc&255;return [mc,lc,kc,1];}return [0,0,0,1];};sb=function(){var jc,kc,lc,mc;mc=ec(arguments),lc=mc[0],kc=mc[1],jc=mc[2];return (lc<<16)+(kc<<8)+jc;};z.num=function(jc){return new h(jc,'num');};h.prototype.num=function(jc){if(jc==null)jc='rgb';return sb(this._rgb,jc);};q.num=gb;o.push({p:10,test:function(jc){if(arguments.length===1&&dc(jc)==="number"&&jc>=0&&jc<=16777215)return 'num';}});ea=function(jc){var kc,lc,mc,nc,oc,pc,qc,rc;jc=jc.toLowerCase();if((z.colors!=null)&&z.colors[jc])return ja(z.colors[jc]);if(oc=jc.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){qc=oc.slice(1,4);for(nc=pc=0;pc<=2;nc=++pc)qc[nc]=+qc[nc];qc[3]=1;}else if(oc=jc.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/)){qc=oc.slice(1,5);for(nc=rc=0;rc<=3;nc=++rc)qc[nc]=+qc[nc];}else if(oc=jc.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){qc=oc.slice(1,4);for(nc=kc=0;kc<=2;nc=++kc)qc[nc]=yb(qc[nc]*2.55);qc[3]=1;}else if(oc=jc.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){qc=oc.slice(1,5);for(nc=lc=0;lc<=2;nc=++lc)qc[nc]=yb(qc[nc]*2.55);qc[3]=+qc[3];}else if(oc=jc.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){mc=oc.slice(1,4);mc[1]*=.01;mc[2]*=.01;qc=ma(mc);qc[3]=1;}else if(oc=jc.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){mc=oc.slice(1,4);mc[1]*=.01;mc[2]*=.01;qc=ma(mc);qc[3]=+oc[4];}return qc;};kb=function(jc){var kc;kc=jc[3]<1?'rgba':'rgb';if(kc==='rgb'){return kc+'('+jc.slice(0,3).map(yb).join(',')+')';}else if(kc==='rgba')return kc+'('+jc.slice(0,3).map(yb).join(',')+','+jc[3]+')';};wb=function(jc){return yb(jc*100)/100;};la=function(jc,kc){var lc;lc=kc<1?'hsla':'hsl';jc[0]=wb(jc[0]||0);jc[1]=wb(jc[1]*100)+'%';jc[2]=wb(jc[2]*100)+'%';if(lc==='hsla')jc[3]=kc;return lc+'('+jc.join(',')+')';};q.css=function(jc){return ea(jc);};z.css=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['css']),function(){});};h.prototype.css=function(jc){if(jc==null)jc='rgb';if(jc.slice(0,3)==='rgb'){return kb(this._rgb);}else if(jc.slice(0,3)==='hsl')return la(this.hsl(),this.alpha());};q.named=function(jc){return ja(fc[jc]);};o.push({p:20,test:function(jc){if(arguments.length===1&&(fc[jc]!=null))return 'named';}});h.prototype.name=function(jc){var kc,lc;if(arguments.length){if(fc[jc])this._rgb=ja(fc[jc]);this._rgb[3]=1;this;}kc=this.hex();for(lc in fc)if(kc===fc[lc])return lc;return kc;};wa=function(){var jc,kc,lc,mc;mc=ec(arguments),lc=mc[0],jc=mc[1],kc=mc[2];kc=kc*i;return [lc,da(kc)*jc,ac(kc)*jc];};xa=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc;lc=ec(arguments);qc=lc[0],nc=lc[1],pc=lc[2];sc=wa(qc,nc,pc),jc=sc[0],kc=sc[1],mc=sc[2];tc=ua(jc,kc,mc),rc=tc[0],oc=tc[1],mc=tc[2];return [za(rc,0,255),za(oc,0,255),za(mc,0,255),lc.length>3?lc[3]:1];};ta=function(){var jc,kc,lc,mc,nc,oc;oc=ec(arguments),nc=oc[0],jc=oc[1],kc=oc[2];lc=bc(jc*jc+kc*kc);mc=(t(kc,jc)*m+360)%360;if(yb(lc*10000)===0)mc=Number.NaN;return [nc,lc,mc];};qb=function(){var jc,kc,lc,mc,nc,oc,pc;oc=ec(arguments),nc=oc[0],lc=oc[1],kc=oc[2];pc=pb(nc,lc,kc),mc=pc[0],jc=pc[1],kc=pc[2];return ta(mc,jc,kc);};z.lch=function(){var jc;jc=ec(arguments);return new h(jc,'lch');};z.hcl=function(){var jc;jc=ec(arguments);return new h(jc,'hcl');};q.lch=xa;q.hcl=function(){var jc,kc,lc,mc;mc=ec(arguments),kc=mc[0],jc=mc[1],lc=mc[2];return xa([lc,jc,kc]);};h.prototype.lch=function(){return qb(this._rgb);};h.prototype.hcl=function(){return qb(this._rgb).reverse();};jb=function(jc){var kc,lc,mc,nc,oc,pc,qc,rc,sc;if(jc==null)jc='rgb';rc=ec(arguments),qc=rc[0],nc=rc[1],kc=rc[2];qc=qc/255;nc=nc/255;kc=kc/255;oc=1-Math.max(qc,Math.max(nc,kc));mc=oc<1?1/(1-oc):0;lc=(1-qc-oc)*mc;pc=(1-nc-oc)*mc;sc=(1-kc-oc)*mc;return [lc,pc,sc,oc];};ba=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;kc=ec(arguments);mc=kc[0],pc=kc[1],rc=kc[2],oc=kc[3];jc=kc.length>4?kc[4]:1;if(oc===1)return [0,0,0,jc];qc=mc>=1?0:yb(255*(1-mc)*(1-oc));nc=pc>=1?0:yb(255*(1-pc)*(1-oc));lc=rc>=1?0:yb(255*(1-rc)*(1-oc));return [qc,nc,lc,jc];};q.cmyk=function(){return ba(ec(arguments));};z.cmyk=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['cmyk']),function(){});};h.prototype.cmyk=function(){return jb(this._rgb);};q.gl=function(){var jc,kc,lc,mc,nc;mc=(function(){var oc,pc;oc=ec(arguments);pc=[];for(kc in oc){nc=oc[kc];pc.push(nc);}return pc;}).apply(this,arguments);for(jc=lc=0;lc<=2;jc=++lc)mc[jc]*=255;return mc;};z.gl=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['gl']),function(){});};h.prototype.gl=function(){var jc;jc=this._rgb;return [jc[0]/255,jc[1]/255,jc[2]/255,jc[3]];};rb=function(jc,kc,lc){var mc;mc=ec(arguments),jc=mc[0],kc=mc[1],lc=mc[2];jc=bb(jc);kc=bb(kc);lc=bb(lc);return .2126*jc+.7152*kc+.0722*lc;};bb=function(jc){jc/=255;if(jc<=.03928){return jc/12.92;}else return ib((jc+.055)/1.055,2.4);};r=[];oa=function(jc,kc,lc,mc){var nc,oc,pc,qc;if(lc==null)lc=.5;if(mc==null)mc='rgb';if(dc(jc)!=='object')jc=z(jc);if(dc(kc)!=='object')kc=z(kc);for(pc=0,oc=r.length;pc<oc;pc++){nc=r[pc];if(mc===nc[0]){qc=nc[1](jc,kc,lc,mc);break;}}if(qc==null)throw "color mode "+mc+" is not supported";qc.alpha(jc.alpha()+lc*(kc.alpha()-jc.alpha()));return qc;};z.interpolate=oa;h.prototype.interpolate=function(jc,kc,lc){return oa(this,jc,kc,lc);};z.mix=oa;h.prototype.mix=h.prototype.interpolate;sa=function(jc,kc,lc,mc){var nc,oc;nc=jc._rgb;oc=kc._rgb;return new h(nc[0]+lc*(oc[0]-nc[0]),nc[1]+lc*(oc[1]-nc[1]),nc[2]+lc*(oc[2]-nc[2]),mc);};r.push(['rgb',sa]);h.prototype.luminance=function(jc,kc){var lc,mc,nc,oc;if(kc==null)kc='rgb';if(!arguments.length)return rb(this._rgb);if(jc===0){this._rgb=[0,0,0,this._rgb[3]];}else if(jc===1){this._rgb=[255,255,255,this._rgb[3]];}else{mc=1e-07;nc=20;oc=function(pc,qc){var rc,sc;sc=pc.interpolate(qc,.5,kc);rc=sc.luminance();if(Math.abs(jc-rc)<mc||!nc--)return sc;if(rc>jc)return oc(pc,sc);return oc(sc,qc);};lc=rb(this._rgb);this._rgb=(lc>jc?oc(z('black'),this):oc(this,z('white'))).rgba();}return this;};cc=function(jc){var kc,lc,mc,nc;nc=jc/100;if(nc<66){mc=255;lc=-155.25485562709179-.44596950469579133*(lc=nc-2)+104.49216199393888*ab(lc);kc=nc<20?0:-254.76935184120902+.8274096064007395*(kc=nc-10)+115.67994401066147*ab(kc);}else{mc=351.97690566805693+.114206453784165*(mc=nc-55)-40.25366309332127*ab(mc);lc=325.4494125711974+.07943456536662342*(lc=nc-50)-28.0852963507957*ab(lc);kc=255;}return aa([mc,lc,kc]);};tb=function(){var jc,kc,lc,mc,nc,oc,pc,qc,rc;pc=ec(arguments),oc=pc[0],lc=pc[1],jc=pc[2];nc=1000;mc=40000;kc=.4;while(mc-nc>kc){rc=(mc+nc)*.5;qc=cc(rc);if((qc[2]/qc[0])>=(jc/oc)){mc=rc;}else nc=rc;}return yb(rc);};z.temperature=z.kelvin=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['temperature']),function(){});};q.temperature=q.kelvin=q.K=cc;h.prototype.temperature=function(){return tb(this._rgb);};h.prototype.kelvin=h.prototype.temperature;z.contrast=function(jc,kc){var lc,mc,nc,oc;if((nc=dc(jc))==='string'||nc==='number')jc=new h(jc);if((oc=dc(kc))==='string'||oc==='number')kc=new h(kc);lc=jc.luminance();mc=kc.luminance();if(lc>mc){return (lc+.05)/(mc+.05);}else return (mc+.05)/(lc+.05);};h.prototype.get=function(jc){var kc,lc,mc,nc,oc,pc;mc=this;oc=jc.split('.'),nc=oc[0],kc=oc[1];pc=mc[nc]();if(kc){lc=nc.indexOf(kc);if(lc>-1){return pc[lc];}else return false;}else return pc;};h.prototype.set=function(jc,kc){var lc,mc,nc,oc,pc,qc;nc=this;pc=jc.split('.'),oc=pc[0],lc=pc[1];if(lc){qc=nc[oc]();mc=oc.indexOf(lc);if(mc>-1)if(dc(kc)==='string'){switch(kc.charAt(0)){case '+':qc[mc]+=+kc;break;case '-':qc[mc]+=+kc;break;case '*':qc[mc]*=+(kc.substr(1));break;case '/':qc[mc]/=+(kc.substr(1));break;default:qc[mc]=+kc;}}else qc[mc]=kc;}else qc=kc;nc._rgb=z(qc,oc).alpha(nc.alpha())._rgb;return nc;};h.prototype.darken=function(jc){var kc,lc;if(jc==null)jc=1;lc=this;kc=lc.lab();kc[0]-=j.Kn*jc;return z.lab(kc).alpha(lc.alpha());};h.prototype.brighten=function(jc){if(jc==null)jc=1;return this.darken(-jc);};h.prototype.darker=h.prototype.darken;h.prototype.brighter=h.prototype.brighten;h.prototype.saturate=function(jc){var kc,lc;if(jc==null)jc=1;lc=this;kc=lc.lch();kc[1]+=jc*j.Kn;if(kc[1]<0)kc[1]=0;return z.lch(kc).alpha(lc.alpha());};h.prototype.desaturate=function(jc){if(jc==null)jc=1;return this.saturate(-jc);};h.prototype.premultiply=function(){var jc,kc;kc=this.rgb();jc=this.alpha();return z(kc[0]*jc,kc[1]*jc,kc[2]*jc,jc);};v=function(jc,kc,lc){if(!v[lc])throw 'unknown blend mode '+lc;return v[lc](jc,kc);};w=function(jc){return function(kc,lc){var mc,nc;mc=z(lc).rgb();nc=z(kc).rgb();return z(jc(mc,nc),'rgb');};};ha=function(jc){return function(kc,lc){var mc,nc,oc;oc=[];for(mc=nc=0;nc<=3;mc=++nc)oc[mc]=jc(kc[mc],lc[mc]);return oc;};};fb=function(jc,kc){return jc;};eb=function(jc,kc){return jc*kc/255;};fa=function(jc,kc){if(jc>kc){return kc;}else return jc;};ya=function(jc,kc){if(jc>kc){return jc;}else return kc;};zb=function(jc,kc){return 255*(1-(1-jc/255)*(1-kc/255));};hb=function(jc,kc){if(kc<128){return 2*jc*kc/255;}else return 255*(1-2*(1-jc/255)*(1-kc/255));};y=function(jc,kc){return 255*(1-(1-kc/255)/(jc/255));};ga=function(jc,kc){if(jc===255)return 255;jc=255*(kc/255)/(1-jc/255);if(jc>255){return 255;}else return jc;};v.normal=w(ha(fb));v.multiply=w(ha(eb));v.screen=w(ha(zb));v.overlay=w(ha(hb));v.darken=w(ha(fa));v.lighten=w(ha(ya));v.dodge=w(ha(ga));v.burn=w(ha(y));z.blend=v;z.analyze=function(jc){var kc,lc,mc,nc;mc={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};for(lc=0,kc=jc.length;lc<kc;lc++){nc=jc[lc];if((nc!=null)&&!isNaN(nc)){mc.values.push(nc);mc.sum+=nc;if(nc<mc.min)mc.min=nc;if(nc>mc.max)mc.max=nc;mc.count+=1;}}mc.domain=[mc.min,mc.max];mc.limits=function(oc,pc){return z.limits(mc,oc,pc);};return mc;};z.scale=function(jc,kc){var lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,ad,bd,cd,dd,ed,fd;tc='rgb';uc=z('#ccc');yc=0;qc=false;pc=[0,1];xc=[];wc=[0,0];lc=false;nc=[];vc=false;sc=0;rc=1;oc=false;mc={};ed=function(gd){var hd,id,jd,kd,ld,md,nd;if(gd==null)gd=['#fff','#000'];if((gd!=null)&&dc(gd)==='string'&&(((kd=z.brewer)!=null?kd[gd]:void 0)!=null))gd=z.brewer[gd];if(dc(gd)==='array'){gd=gd.slice(0);for(hd=jd=0,ld=gd.length-1;0<=ld?jd<=ld:jd>=ld;hd=0<=ld?++jd:--jd){id=gd[hd];if(dc(id)==="string")gd[hd]=z(id);}xc.length=0;for(hd=nd=0,md=gd.length-1;0<=md?nd<=md:nd>=md;hd=0<=md?++nd:--nd)xc.push(hd/(gd.length-1));}dd();return nc=gd;};bd=function(gd){var hd,id;if(lc!=null){id=lc.length-1;hd=0;while(hd<id&&gd>=lc[hd])hd++;return hd-1;}return 0;};fd=function(gd){return gd;};zc=function(gd){var hd,id,jd,kd,ld;ld=gd;if(lc.length>2){kd=lc.length-1;hd=bd(gd);jd=lc[0]+(lc[1]-lc[0])*(0+yc*.5);id=lc[kd-1]+(lc[kd]-lc[kd-1])*(1-yc*.5);ld=sc+((lc[hd]+(lc[hd+1]-lc[hd])*.5-jd)/(id-jd))*(rc-sc);}return ld;};cd=function(gd,hd){var id,jd,kd,ld,md,nd,od,pd;if(hd==null)hd=false;if(isNaN(gd))return uc;if(!hd){if(lc&&lc.length>2){id=bd(gd);pd=id/(lc.length-2);pd=wc[0]+(pd*(1-wc[0]-wc[1]));}else if(rc!==sc){pd=(gd-sc)/(rc-sc);pd=wc[0]+(pd*(1-wc[0]-wc[1]));pd=Math.min(1,Math.max(0,pd));}else pd=1;}else pd=gd;if(!hd)pd=fd(pd);ld=Math.floor(pd*10000);if(mc[ld]){jd=mc[ld];}else{if(dc(nc)==='array'){for(kd=md=0,od=xc.length-1;0<=od?md<=od:md>=od;kd=0<=od?++md:--md){nd=xc[kd];if(pd<=nd){jd=nc[kd];break;}if(pd>=nd&&kd===xc.length-1){jd=nc[kd];break;}if(pd>nd&&pd<xc[kd+1]){pd=(pd-nd)/(xc[kd+1]-nd);jd=z.interpolate(nc[kd],nc[kd+1],pd,tc);break;}}}else if(dc(nc)==='function')jd=nc(pd);mc[ld]=jd;}return jd;};dd=function(){return mc={};};ed(jc);ad=function(gd){var hd;hd=z(cd(gd));if(vc&&hd[vc]){return hd[vc]();}else return hd;};ad.classes=function(gd){var hd;if(gd!=null){if(dc(gd)==='array'){lc=gd;pc=[gd[0],gd[gd.length-1]];}else{hd=z.analyze(pc);if(gd===0){lc=[hd.min,hd.max];}else lc=z.limits(hd,'e',gd);}return ad;}return lc;};ad.domain=function(gd){var hd,id,jd,kd,ld,md,nd;if(!arguments.length)return pc;sc=gd[0];rc=gd[gd.length-1];xc=[];jd=nc.length;if(gd.length===jd&&sc!==rc){for(ld=0,kd=gd.length;ld<kd;ld++){id=gd[ld];xc.push((id-sc)/(rc-sc));}}else for(hd=nd=0,md=jd-1;0<=md?nd<=md:nd>=md;hd=0<=md?++nd:--nd)xc.push(hd/(jd-1));pc=[sc,rc];return ad;};ad.mode=function(gd){if(!arguments.length)return tc;tc=gd;dd();return ad;};ad.range=function(gd,hd){ed(gd,hd);return ad;};ad.out=function(gd){vc=gd;return ad;};ad.spread=function(gd){if(!arguments.length)return yc;yc=gd;return ad;};ad.correctLightness=function(gd){if(gd==null)gd=true;oc=gd;dd();if(oc){fd=function(hd){var id,jd,kd,ld,md,nd,od,pd,qd;id=cd(0,true).lab()[0];jd=cd(1,true).lab()[0];od=id>jd;kd=cd(hd,true).lab()[0];md=id+(jd-id)*hd;ld=kd-md;pd=0;qd=1;nd=20;while(Math.abs(ld)>.01&&nd-->0)(function(){if(od)ld*=-1;if(ld<0){pd=hd;hd+=(qd-hd)*.5;}else{qd=hd;hd+=(pd-hd)*.5;}kd=cd(hd,true).lab()[0];return ld=kd-md;})();return hd;};}else fd=function(hd){return hd;};return ad;};ad.padding=function(gd){if(gd!=null){if(dc(gd)==='number')gd=[gd,gd];wc=gd;return ad;}else return wc;};ad.colors=function(){var gd,hd,id,jd,kd,ld,md,nd,od,pd;jd=0;ld='hex';if(arguments.length===1)if(dc(arguments[0])==='string'){ld=arguments[0];}else jd=arguments[0];if(arguments.length===2)jd=arguments[0],ld=arguments[1];if(jd){hd=pc[0];gd=pc[1]-hd;return (function(){nd=[];for(var qd=0;0<=jd?qd<jd:qd>jd;0<=jd?qd++:qd--)nd.push(qd);return nd;}).apply(this).map(function(qd){return ad(hd+qd/(jd-1)*gd)[ld]();});}jc=[];od=[];if(lc&&lc.length>2){for(id=pd=1,md=lc.length;1<=md?pd<md:pd>md;id=1<=md?++pd:--pd)od.push((lc[id-1]+lc[id])*.5);}else od=pc;return od.map(function(qd){return ad(qd)[ld]();});};return ad;};if(z.scales==null)z.scales={};z.scales.cool=function(){return z.scale([z.hsl(180,1,.9),z.hsl(250,.7,.4)]);};z.scales.hot=function(){return z.scale(['#000','#f00','#ff0','#fff'],[0,.25,.75,1]).mode('rgb');};z.analyze=function(jc,kc,lc){var mc,nc,oc,pc,qc,rc,sc;qc={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};if(lc==null)lc=function(){return true;};mc=function(tc){if((tc!=null)&&!isNaN(tc)){qc.values.push(tc);qc.sum+=tc;if(tc<qc.min)qc.min=tc;if(tc>qc.max)qc.max=tc;qc.count+=1;}};sc=function(tc,uc){if(lc(tc,uc))if((kc!=null)&&dc(kc)==='function'){return mc(kc(tc));}else if((kc!=null)&&dc(kc)==='string'||dc(kc)==='number'){return mc(tc[kc]);}else return mc(tc);};if(dc(jc)==='array'){for(pc=0,oc=jc.length;pc<oc;pc++){rc=jc[pc];sc(rc);}}else for(nc in jc){rc=jc[nc];sc(rc,nc);}qc.domain=[qc.min,qc.max];qc.limits=function(tc,uc){return z.limits(qc,tc,uc);};return qc;};z.limits=function(jc,kc,lc){var mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe;if(kc==null)kc='equal';if(lc==null)lc=7;if(dc(jc)==='array')jc=z.analyze(jc);kd=jc.min;db=jc.max;ke=jc.sum;ne=jc.values.sort(function(pe,qe){return pe-qe;});id=[];if(kc.substr(0,1)==='c'){id.push(kd);id.push(db);}if(kc.substr(0,1)==='e'){id.push(kd);for(fd=qd=1,ud=lc-1;1<=ud?qd<=ud:qd>=ud;fd=1<=ud?++qd:--qd)id.push(kd+(fd/lc)*(db-kd));id.push(db);}else if(kc.substr(0,1)==='l'){if(kd<=0)throw 'Logarithmic scales are only possible for values > 0';ld=Math.LOG10E*ab(kd);jd=Math.LOG10E*ab(db);id.push(kd);for(fd=oe=1,vd=lc-1;1<=vd?oe<=vd:oe>=vd;fd=1<=vd?++oe:--oe)id.push(ib(10,ld+(fd/lc)*(jd-ld)));id.push(db);}else if(kc.substr(0,1)==='q'){id.push(kd);for(fd=mc=1,be=lc-1;1<=be?mc<=be:mc>=be;fd=1<=be?++mc:--mc){rd=ne.length*fd/lc;sd=ia(rd);if(sd===rd){id.push(ne[sd]);}else{td=rd-sd;id.push(ne[sd]*td+ne[sd+1]*(1-td));}}id.push(db);}else if(kc.substr(0,1)==='k'){nd=ne.length;zc=new Array(nd);dd=new Array(lc);je=true;od=0;bd=null;bd=[];bd.push(kd);for(fd=nc=1,ce=lc-1;1<=ce?nc<=ce:nc>=ce;fd=1<=ce?++nc:--nc)bd.push(kd+(fd/lc)*(db-kd));bd.push(db);while(je){for(gd=oc=0,de=lc-1;0<=de?oc<=de:oc>=de;gd=0<=de?++oc:--oc)dd[gd]=0;for(fd=pc=0,ee=nd-1;0<=ee?pc<=ee:pc>=ee;fd=0<=ee?++pc:--pc){me=ne[fd];md=Number.MAX_VALUE;for(gd=qc=0,fe=lc-1;0<=fe?qc<=fe:qc>=fe;gd=0<=fe?++qc:--qc){ed=s(bd[gd]-me);if(ed<md){md=ed;ad=gd;}}dd[ad]++;zc[fd]=ad;}pd=new Array(lc);for(gd=rc=0,ge=lc-1;0<=ge?rc<=ge:rc>=ge;gd=0<=ge?++rc:--rc)pd[gd]=null;for(fd=sc=0,he=nd-1;0<=he?sc<=he:sc>=he;fd=0<=he?++sc:--sc){cd=zc[fd];if(pd[cd]===null){pd[cd]=ne[fd];}else pd[cd]+=ne[fd];}for(gd=tc=0,ie=lc-1;0<=ie?tc<=ie:tc>=ie;gd=0<=ie?++tc:--tc)pd[gd]*=1/dd[gd];je=false;for(gd=uc=0,wd=lc-1;0<=wd?uc<=wd:uc>=wd;gd=0<=wd?++uc:--uc)if(pd[gd]!==bd[fd]){je=true;break;}bd=pd;od++;if(od>200)je=false;}hd={};for(gd=vc=0,xd=lc-1;0<=xd?vc<=xd:vc>=xd;gd=0<=xd?++vc:--vc)hd[gd]=[];for(fd=wc=0,yd=nd-1;0<=yd?wc<=yd:wc>=yd;fd=0<=yd?++wc:--wc){cd=zc[fd];hd[cd].push(ne[fd]);}le=[];for(gd=xc=0,zd=lc-1;0<=zd?xc<=zd:xc>=zd;gd=0<=zd?++xc:--xc){le.push(hd[gd][0]);le.push(hd[gd][hd[gd].length-1]);}le=le.sort(function(pe,qe){return pe-qe;});id.push(le[0]);for(fd=yc=1,ae=le.length-1;yc<=ae;fd=yc+=2)if(!isNaN(le[fd]))id.push(le[fd]);}return id;};ka=function(jc,kc,lc){var mc,nc,oc,pc;mc=ec(arguments);jc=mc[0],kc=mc[1],lc=mc[2];jc/=360;if(jc<1/3){nc=(1-kc)/3;pc=(1+kc*da(n*jc)/da(l-n*jc))/3;oc=1-(nc+pc);}else if(jc<2/3){jc-=1/3;pc=(1-kc)/3;oc=(1+kc*da(n*jc)/da(l-n*jc))/3;nc=1-(pc+oc);}else{jc-=2/3;oc=(1-kc)/3;nc=(1+kc*da(n*jc)/da(l-n*jc))/3;pc=1-(oc+nc);}pc=za(lc*pc*3);oc=za(lc*oc*3);nc=za(lc*nc*3);return [pc*255,oc*255,nc*255,mc.length>3?mc[3]:1];};mb=function(){var jc,kc,lc,mc,nc,oc,pc,qc;pc=ec(arguments),oc=pc[0],kc=pc[1],jc=pc[2];n=Math.PI*2;oc/=255;kc/=255;jc/=255;nc=Math.min(oc,kc,jc);mc=(oc+kc+jc)/3;qc=1-nc/mc;if(qc===0){lc=0;}else{lc=((oc-kc)+(oc-jc))/2;lc/=Math.sqrt((oc-kc)*(oc-kc)+(oc-jc)*(kc-jc));lc=Math.acos(lc);if(jc>kc)lc=n-lc;lc/=n;}return [lc*360,qc,mc];};z.hsi=function(){return (function(jc,kc,lc){lc.prototype=jc.prototype;var mc=new lc(),nc=jc.apply(mc,kc);return Object(nc)===nc?nc:mc;})(h,ic.call(arguments).concat(['hsi']),function(){});};q.hsi=ka;h.prototype.hsi=function(){return mb(this._rgb);};pa=function(jc,kc,lc,mc){var nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc;if(mc==='hsl'){yc=jc.hsl();zc=kc.hsl();}else if(mc==='hsv'){yc=jc.hsv();zc=kc.hsv();}else if(mc==='hsi'){yc=jc.hsi();zc=kc.hsi();}else if(mc==='lch'||mc==='hcl'){mc='hcl';yc=jc.hcl();zc=kc.hcl();}if(mc.substr(0,1)==='h'){pc=yc[0],wc=yc[1],sc=yc[2];qc=zc[0],xc=zc[1],tc=zc[2];}if(!isNaN(pc)&&!isNaN(qc)){if(qc>pc&&qc-pc>180){nc=qc-(pc+360);}else if(qc<pc&&pc-qc>180){nc=qc+360-pc;}else nc=qc-pc;oc=pc+lc*nc;}else if(!isNaN(pc)){oc=pc;if((tc===1||tc===0)&&mc!=='hsv')vc=wc;}else if(!isNaN(qc)){oc=qc;if((sc===1||sc===0)&&mc!=='hsv')vc=xc;}else oc=Number.NaN;if(vc==null)vc=wc+lc*(xc-wc);rc=sc+lc*(tc-sc);return uc=z[mc](oc,vc,rc);};r=r.concat((function(){var jc,kc,lc,mc;lc=['hsv','hsl','hsi','hcl','lch'];mc=[];for(kc=0,jc=lc.length;kc<jc;kc++){cb=lc[kc];mc.push([cb,pa]);}return mc;})());ra=function(jc,kc,lc,mc){var nc,oc;nc=jc.num();oc=kc.num();return z.num(nc+(oc-nc)*lc,'num');};r.push(['num',ra]);qa=function(jc,kc,lc,mc){var nc,oc,pc;oc=jc.lab();pc=kc.lab();return nc=new h(oc[0]+lc*(pc[0]-oc[0]),oc[1]+lc*(pc[1]-oc[1]),oc[2]+lc*(pc[2]-oc[2]),mc);};r.push(['lab',qa]);}).call(this);},null);
__d('messengerCustomColorUtils',['chroma','cssVar'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){l=l||{};l.backgroundColor=k;l.color=h.hex(k).luminance()>=.6?'black':'white';return l;}f.exports={customBubbleStyle:j};},null);
__d('MessengerVoiceClipAttachment.react',['MercuryAttachmentAudioClip.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrap.react','ReactComponentWithPureRenderMixin','React','cx','messengerCustomColorUtils'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'MessengerVoiceClipAttachment',mixins:[k],propTypes:{attachment:o.object.isRequired,customColor:o.string,isGiftWrapped:o.bool,message:o.object.isRequired,onUnwrap:o.func},render:function(){var q=this.props.attachment,r=q.metadata.duration/1000,s=!!q.app_attribution,t={};if(this.props.customColor)t=n.customBubbleStyle(this.props.customColor,t);var u=this.props.isGiftWrapped?l.createElement(j,{onUnwrap:this.props.onUnwrap}):null;return (l.createElement('div',{className:"_hh7"+(' '+"_s1-")+(!!this.props.customColor?' '+"_5sxi":'')+(!s?' '+"_52mr":'')+(s?' '+"_mxz":'')+(' '+"_1fz8")+(s?' '+"_1-wa":'')+(' '+"_1nqp"),style:t},l.createElement(h,{src:q.url,duration:r,key:'audio:'+this.props.message.message_id,showHelp:false,width:200,location:i.MESSENGER,rootClassName:"_3czg"+(s?' '+"_4yjw":'')+(' '+"_2poz")+(' '+"_ui9")}),u));}});f.exports=p;},null);
__d('Sticker.react',['Arbiter','Image.react','MessengerHotLikeSVG.react','React','ReactDOM','StickerConfig','StickerConstants','cx','emptyFunction','fbt','getElementPosition','getObjectValues','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=k.PropTypes,v=83,w=5000,x=10,y={CLICK:'click',HOVER:'hover',LOAD_AND_HOVER:'load_and_hover'},z=k.createClass({displayName:'Sticker',propTypes:{accessibilityLabel:u.string,animationTrigger:u.oneOf(s(y)),forceCursorPointer:u.bool,frameCount:u.number.isRequired,frameRate:u.number,framesPerCol:u.number.isRequired,framesPerRow:u.number.isRequired,onAttachmentLoad:u.func,onStickerClick:u.func,packID:u.string,packName:u.string,sourceURI:u.string.isRequired,sourceWidth:u.number.isRequired,sourceHeight:u.number.isRequired,spriteURI:u.string,stickerID:u.string,subscribedThreadID:u.string,testID:u.string},getInitialState:function(){return {index:0,hasAnimated:false,unsubscribeID:null};},getDefaultProps:function(){return {accessibilityLabel:'',forceCursorPointer:false,frameRate:v,onStickerClick:p,packID:null,packName:''};},componentDidMount:function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad(this.getHeight());this._stopIntervalID=0;if(this.props.animationTrigger===y.LOAD_AND_HOVER&&this.props.frameCount>1&&this.props.spriteURI)this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var aa=h.subscribe(this.props.subscribedThreadID,function(ba,ca){this.isScrolledIntoView(ca.scrollTop,ca.viewHeight,ca.top);}.bind(this));this.setState({unsubscribeID:aa});}},componentWillUnmount:function(){if(this.state.unsubscribeID)h.unsubscribe(this.state.unsubscribeID);if(this.isAnimating())clearInterval(this._stopIntervalID);},isAnimating:function(){return !!this._stopIntervalID;},getWidth:function(){return Math.floor(this.props.sourceWidth);},getHeight:function(){return Math.floor(this.props.sourceHeight);},preloadSprite:function(){var aa=new window.Image();aa.onload=function(){if(this.isMounted()&&!this.state.hasAnimated){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}}.bind(this);if(m.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){aa.src=this.props.paddedSpriteURI;}else aa.src=this.props.spriteURI;},isScrolledIntoView:function(aa,ba,ca){var da=r(l.findDOMNode(this)),ea=aa+da.y-ca,fa=aa+ba,ga=ea+da.height;if(this.props.frameCount>1&&!this.state.hasAnimated&&ga-x<=fa&&ea+x>=aa)this.startAnimation();},startAnimation:function(){if(!this.state.hasAnimated&&this.props.spriteURI){this.preloadSprite();}else if(!this.isAnimating()){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}},stopAnimation:function(){this.setState({index:0});clearInterval(this._stopIntervalID);this._stopIntervalID=0;},toggleAnimation:function(){if(this.isAnimating()){this.stopAnimation();}else this.startAnimation();},shouldStopAnimating:function(){var aa=this.state.index%this.props.frameCount;if(!(aa===0&&this.state.index*this.props.frameRate>w))return false;if(this.props.animationTrigger===y.CLICK)return true;return !this.state.isHovered;},incrementFrameIndex:function(){if(this.shouldStopAnimating()){this.stopAnimation();}else this.setState({index:this.state.index+1});},getStyle:function(){var aa=0,ba=this.props.spriteURI;if(m.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){ba=this.props.paddedSpriteURI;var ca=240/Math.min(this.getHeight(),this.getWidth());aa=Math.floor(n.SPRITE_PADDING/ca);}var da=this.state.index%this.props.frameCount,ea=da%this.props.framesPerRow*(this.getWidth()+aa*2)+aa,fa=Math.floor(da/this.props.framesPerRow)*(this.getHeight()+aa*2)+aa,ga=this.props.frameCount>1&&this.props.animationTrigger===y.CLICK||this._isStickerClickable(this.props.packID),ha=this.props.forceCursorPointer||ga?'pointer':'default';if(!this.state.hasAnimated||!this.props.spriteURI){return {backgroundImage:this._isHotLike()?null:'url('+this.props.sourceURI+')',backgroundRepeat:'no-repeat',backgroundSize:this.getWidth()+'px '+this.getHeight()+'px',cursor:ha,height:this.getHeight(),width:this.getWidth()};}else return {backgroundImage:'url('+ba+')',backgroundPosition:-ea+'px '+ -fa+'px',backgroundSize:(this.getWidth()+aa*2)*this.props.framesPerRow+'px '+(this.getHeight()+aa*2)*this.props.framesPerCol+'px',cursor:ha,height:this.getHeight(),width:this.getWidth()};},_isStickerClickable:function(aa){return aa&&aa!=n.MOBILE_LIKE_STICKER_PACK_ID&&aa!=n.GRAVEYARD_PACK_ID;},onStickerClick:function(){if(!this._isStickerClickable(this.props.packID))return;if(this.props.onStickerClick)this.props.onStickerClick(this.props.packID,this.props.stickerID);},mouseLeft:function(){this.setState({isHovered:false});},mouseEntered:function(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},tabFocusSelected:function(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},tabFocusUnselected:function(){this.setState({isHovered:false});},getAriaLabel:function(){return q._("{pack name} {sticker name} sticker",[q.param('pack name',this.props.packName),q.param('sticker name',this.props.accessibilityLabel)]);},render:function(){var aa,ba;if(this.props.animationTrigger===y.CLICK&&this.props.frameCount>1&&this.props.spriteURI){aa=true;}else if((this.props.animationTrigger===y.HOVER||this.props.animationTrigger===y.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI)ba=true;var ca=aa?this.toggleAnimation:null;if(this.props.packID)ca=this.onStickerClick;var da=this.props.className,ea=null;if(this._isHotLike()){da=t(da,"_576q");ea=k.createElement(j,{color:this.props.customColor});}return (k.createElement('div',{'aria-label':this.getAriaLabel(),className:da,'data-testid':this.props.testID,tabIndex:'0',style:this.getStyle(),onClick:ca,onMouseEnter:ba?this.mouseEntered:null,onMouseLeave:ba?this.mouseLeft:null,onFocus:this.tabFocusSelected,onBlur:this.tabFocusUnselected},ea));},_isHotLike:function(){if(!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect)return (this.props.stickerID===n.HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===n.HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===n.HOT_LIKE_LARGE_STICKER_ID);return false;}});f.exports=z;},null);
__d("StickerUtils",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getScaledDimensions:function(i,j,k){var l,m,n;if(j>i){n=k/j;l=i*n;m=j*n;}else{n=k/i;l=i*n;m=j*n;}return {height:Math.round(l),width:Math.round(m)};},capitalizeWords:function(i){var j=i.split(" ");for(var k=0;k<j.length;k++){var l=j[k].charAt(0).toUpperCase();j[k]=l+j[k].substr(1);}return j.join(" ");}};f.exports=h;},null);
__d('isRetina',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=function(){return (window.devicePixelRatio||1)>1;};},null);
__d('MessengerAttachmentRenderer',['EmojiSticker.react','EmojiLikeUtils','MercuryAttachment','MercuryAttachmentType','MercuryAudioType','MercuryShareAttachment.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrap.react','MessagingGiftWrapChecker','MessagingSourceEnum','MessengerErrorAttachment.react','MessengerFileAttachment.react','MessengerHotLikePreview.react','MessengerHotLikeUtils','MessengerPhotosGroup.react','MessengerStickerUtils','MessengerVoiceClipAttachment.react','React','Set','Sticker.react','StickerActions','StickerAssetType','StickerConstants','StickerImages','StickerUtils','StoryAttachmentStyle','XStickerAssetController','cx','isRetina'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){'use strict';if(c.__markCompiled)c.__markCompiled();var ka=new z([k.ANIMATED_IMAGE,k.PHOTO,k.VIDEO]),la=700,ma='sticker:',na='giftwrap:',oa=function(qa){return qa===Object(qa);},pa={getAttachmentsInsideBubble:function(qa,ra){var sa=j.get(qa).filter(oa).filter(function(ta){return (!this.attachmentShouldAppearOutsideBubble(ta));}.bind(this));return this._getAttachmentComponents(sa,qa,ra);},getAttachmentsOutsideBubble:function(qa,ra,sa,ta){var ua=j.get(qa).filter(oa).filter(function(va){return (this.attachmentShouldAppearOutsideBubble(va));}.bind(this));return this._getAttachmentComponents(ua,qa,ra,sa,ta);},_getAttachmentComponents:function(qa,ra,sa,ta,ua){var va=this._getPhotosGroup(qa.filter(this.isPhotoAttachment),ra,ua),wa=qa.filter(function(xa){return !this.isPhotoAttachment(xa);}.bind(this)).map(function(xa){return this._getAttachmentComponent(xa,ra,sa,ta,ua);}.bind(this));if(va)wa.push(va);return wa;},_getAttachmentComponent:function(qa,ra,sa,ta,ua){if(w.isStickerAttachment(qa))return this._getStickerComponent(qa,ra,ta,ua);if(this.isEmojiLikeAttachment(qa))return this._getEmojiLikeAttachment(qa,ra,ua);if(this.isVoiceClip(qa))return this._getVoiceClip(qa,ra,ta,ua);if(this.isFileAttchment(qa))return this._getFileComponent(qa,ra);if(this.isP2P(qa)||this.isShareAttachment(qa))return this._getShareAttachment(qa,ra,sa);if(this.isErrorAttachment(qa))return this._getErrorAttachment(qa,ra);},_getStickerComponent:function(qa,ra,sa,ta){if(ra.is_like_preview)return this._maybeGiftWrapSticker(y.createElement(t,{customColor:sa,customLike:ra.customLike,key:'hlp:'+ra.like_preview_since,since:ra.like_preview_since}),ra,ta);var ua=qa.metadata;if(!ua){ua=u.getMetadataForHotLike(ra.sticker_id);if(!ua){var va=ea.getSticker(ra.sticker_id);ua=babelHelpers['extends']({},va);var wa=fa.getScaledDimensions(va?va.height:da.THREAD_SIZE,va?va.width:da.THREAD_SIZE,da.THREAD_SIZE),xa=wa.height,ya=wa.width;ua.height=xa;ua.width=ya;}ua.stickerID=ra.sticker_id;}var za=ha.getURIBuilder().setInt('sticker_id',ua.stickerID),ab=null,bb=null;if(ja()){ab=ua.paddedSpriteURI2x;bb=ua.spriteURI2x;}else{ab=ua.paddedSpriteURI;bb=ua.spriteURI;}var cb=ua.stickerID.toString(),db=y.createElement(aa,{className:"_2poz"+(' '+"_ui9")+(p.shouldRenderWithGiftWrap(ra)&&!!u.getMetadataForHotLike(cb)?' '+"_4ue_":''),animationTrigger:'hover',customColor:sa,frameCount:ua.frameCount||1,frameRate:ua.frameRate||da.DEFAULT_FRAME_RATE,framesPerCol:ua.framesPerCol||1,framesPerRow:ua.framesPerRow||1,key:ma+ra.message_id,onStickerClick:function(eb,fb){ba.handleStickerClick(eb,ra.thread_id);},packID:ua.packID&&ua.packID.toString(),paddedSpriteURI:ab,sourceHeight:ua.height,sourceURI:za.setEnum('image_type',ca.IMAGE).getURI().toString(),sourceWidth:ua.width,spriteURI:bb,stickerID:cb});return this._maybeGiftWrapSticker(db,ra,ta);},_getEmojiLikeAttachment:function(qa,ra,sa){var ta=i.getURI(ra.body,qa.size);if(!ta)return this._getErrorAttachment(qa,ra);var ua=y.createElement(h,{className:"_2poz _ui9",key:ma+ra.message_id,emoji:ra.body,sourceURI:ta});return this._maybeGiftWrapSticker(ua,ra,sa);},_getShareAttachment:function(qa,ra,sa){return y.createElement(m,{attachment:qa.share,isSponsored:ra.source===q.MESSENGER_AD,key:'share:'+ra.message_id,location:n.MESSENGER,maxWidth:la,messageID:ra.message_id,onComponentLoaded:sa,pageID:ra.author,thread_id:ra.thread_id});},_getVoiceClip:function(qa,ra,sa,ta){return (y.createElement(x,{attachment:qa,customColor:sa||undefined,isGiftWrapped:p.shouldRenderWithGiftWrap(ra),key:'audio:'+ra.message_id,message:ra,onUnwrap:function(){ta&&ta();}}));},_getErrorAttachment:function(qa,ra){return (y.createElement(r,{attachment:qa,key:'error:'+ra.message_id}));},_getPhotosGroup:function(qa,ra,sa){return qa.length?y.createElement(v,{attachments:qa,className:"_2poz _52mr _ui9",isGiftWrapped:p.shouldRenderWithGiftWrap(ra)&&this._rendersWithoutAttribution(qa),key:'photos:'+ra.message_id,message:ra,onUnwrap:function(){sa&&sa();}}):null;},_rendersWithoutAttribution:function(qa){return qa.length!=1||!j.hasAttribution(qa[0]);},_getFileComponent:function(qa,ra){return (y.createElement(s,{attachment:qa,className:"_2poz",key:'file:'+qa.url}));},attachmentShouldAppearOutsideBubble:function(qa){return w.isStickerAttachment(qa)||this.isPhotoAttachment(qa)||this.isShareAttachment(qa)||this.isP2P(qa)||this.isVoiceClip(qa)||this.isErrorAttachment(qa)||this.isEmojiLikeAttachment(qa);},isPhotoAttachment:function(qa){return ka.has(qa.attach_type);},isFileAttchment:function(qa){return qa.attach_type===k.FILE;},isShareAttachment:function(qa){return !!(this._isStoryBased(qa)&&!this.isP2P(qa)&&(qa.share.style_list.indexOf(ga.SHARE)>-1||qa.share.style_list.indexOf(ga.FALLBACK)>-1));},isP2P:function(qa){return !!(this._isStoryBased(qa)&&qa.share.style_list.indexOf(ga.ORION)>-1);},_isStoryBased:function(qa){return !!(qa.attach_type===k.SHARE&&qa.share&&qa.share.style_list);},isEmojiLikeAttachment:function(qa){return qa.attach_type===k.EMOJI_LIKE;},isVoiceClip:function(qa){return !!qa.metadata&&(qa.metadata.type===l.AudioClip||qa.metadata.type===l.VoiceMessageWithTranscript);},isVoiceClipAttachment:function(qa){var ra=j.get(qa).filter(oa).filter(function(sa){return (this.isVoiceClip(sa));}.bind(this));return !!ra.length;},isP2PAttachment:function(qa){var ra=j.get(qa).filter(function(sa){return (oa(sa)&&this.isP2P(sa));}.bind(this));return !!ra.length;},isErrorAttachment:function(qa){return qa.attach_type===k.ERROR;},_maybeGiftWrapComponentForMessage:function(qa,ra,sa){if(!p.shouldRenderWithGiftWrap(ra))return qa;return (y.createElement('div',{key:na+ra.message_id},qa,y.createElement(o,{onUnwrap:sa})));},_maybeGiftWrapSticker:function(qa,ra,sa){if(!p.shouldRenderWithGiftWrap(ra))return qa;return (y.createElement('div',{key:na+ra.message_id},qa,y.createElement(o,{isSticker:true,onUnwrap:sa})));}};f.exports=pa;},null);
__d('MessengerInterstitialBanner.react',['CenteredContainer.react','Image.react','Link.react','ReactComponentWithPureRenderMixin','React','WorkModeConfig','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=p('/images/mercury/clients/messenger/banner/messengerPhone-2x.png'),s='https://itunes.apple.com/app/id958124798',t=l.createClass({displayName:'MessengerInterstitialBanner',mixins:[k],propTypes:{mobileAppInfo:q.shape({hasMessenger:q.bool.isRequired,messengerPushable:q.bool.isRequired}).isRequired},render:function(){if(this.props.mobileAppInfo.hasMessenger&&this.props.mobileAppInfo.messengerPushable)return null;return (l.createElement(h,{className:"_s15",vertical:true},l.createElement('div',{className:"_s16"},l.createElement(i,{className:"_s17",src:r}),this._renderMessage(),this._renderLink())));},_renderMessage:function(){if(!this.props.mobileAppInfo.hasMessenger){return o._("Keep the conversation going from your phone.");}else if(!this.props.mobileAppInfo.messengerPushable)return o._("See messages instantly on your phone\u2014open the app to learn more.");},_renderLink:function(){if(this.props.mobileAppInfo.hasMessenger)return null;var u=m.is_work_user?s:'https://www.messenger.com/about';return (l.createElement(j,{target:'_blank',className:"_s18",href:u},o._("Get App")));}});f.exports=t;},null);
__d('MessengerDesktopNotificationPermissions',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DEFAULT:'default',DENIED:'denied',GRANTED:'granted'};f.exports=h;},null);
__d('MessengerDesktopNotifications',['BanzaiLogger','Map','MessengerDesktopNotificationPermissions','MessengerDotComDesktopNotifsEvent','Run','UserAgent'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=5000,o=new i();function p(){o.forEach(function(r,s,t){r.close&&r.close();});}var q={_closeTimer:null,isSupported:function(){return !!window.Notification;},checkPermission:function(){if(window.Notification)return window.Notification.permission;},hasDefaultSound:function(){return m.isBrowser('FireFox')&&m.isPlatform('Mac OS X');},isDenied:function(){return this.checkPermission()===j.DENIED;},isGranted:function(){return this.checkPermission()===j.GRANTED;},requestPermission:function(r){if(window.Notification){window.Notification.requestPermission(r);h.log('MessengerDotComDesktopNotifsLoggerConfig',{event:k.PERMISSION_REQUESTED});}},showNotification:function(r){if(this.checkPermission()===j.GRANTED){var s=window.Notification?new window.Notification(r.title,{body:r.body,icon:r.icon,tag:r.tag}):{};o.set(r.tag,s);s.onclick=r.onClick;s.onclose=function(){o['delete'](r.tag);};this._closeTimer=setTimeout(function(){s.close();},r.closeTime||n);return s;}else return null;}};l.onUnload(p);f.exports=q;},null);
__d("XMessengerDotComSettingsEditController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/settings\/edit\/",{});},null);
__d('MessengerSettingsActions',['AsyncRequest','BanzaiLogger','MessengerDispatcher','MessengerDesktopNotifications','MessengerDesktopNotificationPermissions','MessengerDotComDesktopNotifsEvent','XMessengerDotComSettingsEditController','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=o({CHANGE_SETTINGS:null,CHANGE_DESKTOP_NOTIFS:null}),q={Types:p,changeSettings:function(r){new h().setData({settings:r}).setURI(n.getURIBuilder().getURI()).send();j.dispatch({type:p.CHANGE_SETTINGS,newSettings:r});},changeDesktopNotifs:function(r,s){if(r&&!k.isGranted()){k.requestPermission(function(t){if(t!==l.GRANTED){if(k.checkPermission()===l.DENIED){s&&s();i.log('MessengerDotComDesktopNotifsLoggerConfig',{event:m.PERMISSION_DENIED});}else i.log('MessengerDotComDesktopNotifsLoggerConfig',{event:m.PERMISSION_CANCELED});return;}i.log('MessengerDotComDesktopNotifsLoggerConfig',{event:m.PERMISSION_GRANTED});j.dispatch({type:p.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:r});});}else j.dispatch({type:p.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:r});}};f.exports=q;},null);
__d('MessengerSignals',['EventEmitter'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=new h(),j='resize',k={resize:function(){i.emit(j);},onResize:function(l){return i.addListener(j,l);}};f.exports=k;},null);
__d("XMessengerDotComNUXLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/logging\/promotion\/",{promotion_id:{type:"Int",required:true},instance_log_data:{type:"StringToStringMap",defaultValue:{}}});},null);
__d("XQuickPromotionSimpleLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/qp\/action\/log\/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}});},null);
__d('MessengerNotificationBanner.react',['AsyncRequest','Image.react','MessengerButton.react','MessengerDesktopNotifications','MessengerSettingsActions','MessengerSignals','React','XMessengerDotComNUXLoggingController','XQuickPromotionSimpleLoggingController','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=n.PropTypes,t=r('/images/mercury/clients/messenger/banner/closeBanner.png'),u=r('/images/mercury/clients/messenger/banner/desktopNotifications.png'),v=n.createClass({displayName:'MessengerNotificationBanner',propTypes:{promotionID:s.number,promotionContent:s.string,primaryActionTitle:s.string,instanceLogData:s.object},getInitialState:function(){return {bannerClosed:false};},componentDidMount:function(){if(this._shouldNotShowPromotion())return;new h().setURI(o.getURIBuilder().setInt('promotion_id',this.props.promotionID).setStringToStringMap('instance_log_data',this.props.instanceLogData).getURI()).send();},render:function(){if(this._shouldNotShowPromotion())return null;return (n.createElement('div',{className:"_2cij"},n.createElement(i,{className:"_2cik",onClick:this._handleClose,src:t}),n.createElement(i,{className:"_2cil",src:u}),this.props.promotionContent,this._renderNotification()));},_shouldNotShowPromotion:function(){return k.isGranted()||k.isDenied()||this.state.bannerClosed;},_renderNotification:function(){return (n.createElement(j,{className:"_2cim",label:this.props.primaryActionTitle,onClick:this._handleNotificationsChange,type:'primary'}));},_handleNotificationsChange:function(){this._closeBanner();new h().setURI(p.getURIBuilder().setInt('qp_id',this.props.promotionID).setEnum('qp_action','primary').setStringToStringMap('qp_instance_log_data',this.props.instanceLogData).getURI()).send();l.changeDesktopNotifs(true);},_handleClose:function(){this._closeBanner();new h().setURI(p.getURIBuilder().setInt('qp_id',this.props.promotionID).setEnum('qp_action','dismiss').setStringToStringMap('qp_instance_log_data',this.props.instanceLogData).getURI()).send();},_closeBanner:function(){this.setState({bannerClosed:true},function(){m.resize();});}});f.exports=v;},null);
__d('MessengerBanner.react',['MessengerDotComPromotionActionURL','MessengerInterstitialBanner.react','MessengerNotificationBanner.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=l.PropTypes,n=l.createClass({displayName:'MessengerBanner',mixins:[k],propTypes:{mobileAppInfo:m.shape({hasMessenger:m.bool.isRequired,messengerPushable:m.bool.isRequired}).isRequired,promotionData:m.object},render:function(){var o=this.props.promotionData;if(!this.props.mobileAppInfo.hasMessenger||!this.props.mobileAppInfo.messengerPushable)return (l.createElement(i,{mobileAppInfo:this.props.mobileAppInfo}));if(o&&o.primaryActionURI===h.turn_on_notification)return (l.createElement(j,{promotionID:o.promotionID,promotionContent:o.promotionContent,primaryActionTitle:o.primaryActionTitle,instanceLogData:o.instanceLogData}));return null;}});f.exports=n;},null);
__d('DocumentTitle',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=document.title,j=null,k=1500,l=[],m=0,n=null,o=false;function p(){if(l.length>0){if(!o){q(l[m].title);m=++m%l.length;}else r();}else{clearInterval(n);n=null;r();}}function q(t){document.title=t;o=true;}function r(){s.set(j||i,true);o=false;}var s={get:function(){return i;},set:function(t,u){document.title=t;if(!u){i=t;j=null;h.inform('update_title',t);}else j=t;},blink:function(t){var u={title:t};l.push(u);if(n===null)n=setInterval(p,k);return {stop:function(){var v=l.indexOf(u);if(v>=0){l.splice(v,1);if(m>v){m--;}else if(m==v&&m==l.length)m=0;}}};}};f.exports=s;},null);
__d('MercuryBlockedParticipants',['MercuryIDs','MercuryActionType','MercuryDispatcher','MercurySingletonProvider','Set'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();m.getForFBID=function(o){return n.getForFBID(o);};m.get=function(){return n.get();};function m(o){this.$MercuryBlockedParticipants1=o;this.$MercuryBlockedParticipants2=new l();this.$MercuryBlockedParticipants3=j.getForFBID(this.$MercuryBlockedParticipants1);this.$MercuryBlockedParticipants3.subscribe('update-blocked-users',function(p,q){if(q.message_blocked_ids)this.$MercuryBlockedParticipants2=new l(q.message_blocked_ids);var r=q.actions||q.global_actions;for(var s=r,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;if(w.action_type!==i.UPDATE_BLOCKER_STATUS)continue;if(w.message_blocked){this.$MercuryBlockedParticipants4(w.thread_fbid);}else this.$MercuryBlockedParticipants5(w.thread_fbid);}}.bind(this));}m.prototype.getFBID=function(){return this.$MercuryBlockedParticipants1;};m.prototype.setIDs=function(o){this.$MercuryBlockedParticipants2=o;};m.prototype.getIDs=function(){return this.$MercuryBlockedParticipants6();};m.prototype.$MercuryBlockedParticipants6=function(){return this.$MercuryBlockedParticipants2;};m.prototype.$MercuryBlockedParticipants4=function(o){this.$MercuryBlockedParticipants2.add(h.getParticipantIDFromUserID(o));};m.prototype.$MercuryBlockedParticipants5=function(o){this.$MercuryBlockedParticipants2['delete'](h.getParticipantIDFromUserID(o));};m.prototype.isMessageBlocked=function(o){if(!o.is_canonical)return false;var p=o.participants.filter(function(q){return q!=h.getParticipantIDFromUserID(this.getFBID());}.bind(this));return !p.every(function(q){return !this.$MercuryBlockedParticipants2.has(q);}.bind(this));};m.prototype.isPresentInGroupThread=function(o){if(!o.is_canonical&&this.$MercuryBlockedParticipants7(o).length>0)return true;return false;};m.prototype.inGroupThread=function(o){if(o.is_canonical)return [];return this.$MercuryBlockedParticipants7(o);};m.prototype.$MercuryBlockedParticipants7=function(o){var p=o.participants.filter(function(r){return r!=h.getParticipantIDFromUserID(this.getFBID());}.bind(this)),q=p.filter(function(r){return this.$MercuryBlockedParticipants2.has(r)!==false;}.bind(this));return q;};var n=new k(m);f.exports=m;},null);
__d('MercuryMessages',['BanzaiODS','EventEmitter','ImmutableObject','LogHistory','Map','MercuryActionStatus','MercuryActionType','MercuryAssert','MercuryDispatcher','MercuryLogMessageType','MercuryMessageClientState','MercuryPayloadSource','MercurySingletonMixin','MercuryMessageActions','MercuryMessageIDs','MessagingGiftWrapConstants','RangedCallbackManager','MercurySendMessageFields','MercuryServerRequests','MercuryThreadActions','MercuryThreadInformer','MercuryThreads','URI','invariant','isMessengerDotComURI','mergeDeep','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){'use strict';if(c.__markCompiled)c.__markCompiled();var ia=new i(),ja=k.getInstance('mercury_messages');function ka(ta,ua){var va=ua;if(ta._localIdsMap[ua])va=ta._localIdsMap[ua];return ta._messages.get(va);}function la(ta){switch(ta){case s.UNKNOWN:case s.SERVER_INITIAL_DATA:case s.SERVER_FETCH_THREAD_INFO:case s.SERVER_THREAD_SYNC:return true;}return false;}function ma(ta,ua){if(!ta._threadsToMessages[ua])ta._threadsToMessages[ua]=new x(function(va){return ka(ta,va).timestamp;},function(va,wa){return wa-va;});return ta._threadsToMessages[ua];}function na(ta,ua,va){ua.forEach(function(wa){var xa=ma(ta,wa);xa.setReachedEndOfArray();ta._emitReorderedChange(wa,va);});}function oa(ta){this._fbid=ta;this._messageActions=u.getForFBID(this._fbid);this._serverRequests=z.getForFBID(this._fbid);this._threadInformer=ba.getForFBID(this._fbid);this._threads=ca.getForFBID(this._fbid);this._threadActions=aa.getForFBID(this._fbid);this._dispatcher=p.getForFBID(this._fbid);this._didChange=false;this._failedHistoryFetchThreads={};this._threadsToMessages={};this._localTitanMessagesCount={};this._messages=new l();this._localIdsMap={};this._dispatcher.subscribe('update-messages',function(ua,va){var wa=(va.actions||[]).filter(function(ya){var za=ya.action_type,ab=(ya.is_forward||ya.thread_id)&&(za==n.LOG_MESSAGE||za==n.USER_GENERATED_MESSAGE||za==n.SEND_MESSAGE||za==n.DELETE_THREAD||za==n.DELETE_MESSAGES||za==n.MARK_MESSAGES_SPAM),bb=ya.upload_id&&ya.upload_data&&(za==n.CANCEL_ATTACHMENT_PLACEHOLDER||za==n.CONFIRM_ATTACHMENT_PLACEHOLDER),cb=ya.note&&za==n.CREATE_PAGE_ADMIN_NOTE,db=ya.replaced_message_id&&za==n.REPLACE_MESSAGE,eb=ya.unwrapped_message_id&&za==n.UNWRAP_MESSAGE;return ab||bb||cb||db||eb;}),xa=la(va.payload_source);this.handleUpdates(wa,xa,va.payload_source,va.from_client);if(va.end_of_history)na(this,va.end_of_history,va.payload_source);if(this._didChange){this._didChange=false;ia.emit('change');}}.bind(this));this._dispatcher.subscribe('invalidate-thread-state',function(ua,va){this._invalidateThreadState(va);}.bind(this));this._dispatcher.subscribe('invalidate-global-state',function(){return this.invalidateGlobalState();}.bind(this));ja.debug('constructed',JSON.stringify({fbid:this._fbid}));}Object.assign(oa.prototype,{getMessagesFromIDs:function(ta){return (ta||[]).map(ka.bind(null,this)).filter(function(ua){return ua;});},getServerMessageID:function(ta){var ua=ta;if(this._localIdsMap[ta])ua=this._localIdsMap[ta];return ua;},hasLoadedNMessages:function(ta,ua){var va=ma(this,ta);return va.hasReachedEndOfArray()||va.getCurrentArraySize()>=ua;},hasLoadedExactlyNMessages:function(ta,ua){var va=ma(this,ta);return va.getCurrentArraySize()==ua;},invalidateGlobalState:function(){this._failedHistoryFetchThreads={};this._threadsToMessages={};this._localTitanMessagesCount={};this._messages=new l();this._localIdsMap={};},getThreadMessagesRange:function(ta,ua,va,wa,xa,ya){var za=ma(this,ta),ab=function(kb){wa(pa(this,kb));}.bind(this),bb=za.executeOrEnqueue(ua,va,ab),cb=za.getUnavailableResources(bb),db=this._failedHistoryFetchThreads[ta];if(cb.length&&!db){var eb=za.getCurrentArraySize(),fb=this._localTitanMessagesCount[ta]||0,gb=eb-fb,hb=cb.length+fb,ib=this.getCurrentlyLoadedMessages(ta),jb=ib.length?ib[0].timestamp:null;ja.debug('fetch_missing_messages',JSON.stringify({threadID:ta,offset:ua,limit:va,timestamp:jb,missingIndices:cb,messageCount:eb,localMessageCount:fb}));this._serverRequests.fetchThreadMessages(ta,gb,hb,jb,xa,ya);}else this._failedHistoryFetchThreads[ta]=false;return bb;},getThreadMessagesRangeNow:function(ta,ua,va){var wa=ma(this,ta),xa=[];for(var ya=ua;ya<ua+va;ya++){var za=wa.getResourceAtIndex(ya),ab=ka(this,za);ab&&xa.push(ab);}return xa;},getThreadMessagesSinceTimestamp:function(ta,ua){var va=ma(this,ta),wa=va.getElementsUntil(ua);return pa(this,wa);},hasLoadedAllMessages:function(ta){return ma(this,ta).hasReachedEndOfArray();},getCurrentlyLoadedMessages:function(ta){var ua=ma(this,ta).getAllResources();return pa(this,ua);},unsubscribe:function(ta,ua){o.isThreadID(ua);var va=ma(this,ua);va.unsubscribe(ta);},_addNewMessage:function(ta,ua){sa(ua);this._messages.set(ta,new j(ua));},_addNewPageAdminNote:function(ta,ua){var va=this._messages.get(ta);if(va){var wa=va.page_admin_notes?va.page_admin_notes.slice():[],xa=false,ya=true;for(var za=0;za<wa.length;++za)if(wa[za].id===ua.id){xa=true;ya=false;break;}else if((wa[za].id===null||wa[za].id===undefined)&&wa[za].body===ua.body){xa=true;wa[za]=ua;}if(!xa)wa.push(ua);if(ya){var ab={};ab.page_admin_notes=wa;this._updateMessage(ta,va,ab);}}},_updateMessage:function(ta,ua,va){var wa=j.set(ua,va);this._messages.set(ta,wa);return wa;},_shouldSortOutOfOrderMessages:function(ta,ua,va){if(ta==s.CLIENT_CHANNEL_MESSAGE){var wa=this.getThreadMessagesSinceTimestamp(ua,va);if(wa.length>0){h.bumpEntityKey('chat.web','channel.messages_reordered');return true;}}else if(ta===s.SERVER_INVALIDATE_THREAD_STATE||ta===s.SERVER_INVALIDATE_GLOBAL_STATE)return true;return false;},_preprocessIncomingAction:function(ta,ua){var va=ta.action_type;if(ua==s.CLIENT_CHANNEL_MESSAGE&&va==n.USER_GENERATED_MESSAGE&&ta.offline_threading_id&&this._localIdsMap[ta.offline_threading_id]===ta.offline_threading_id){ta.client_message_id=ta.offline_threading_id;ta.status=m.SUCCESS;ta.action_type=n.SEND_MESSAGE;va=ta.action_type;}if(ua===s.CLIENT_CHANNEL_MESSAGE&&va==n.USER_GENERATED_MESSAGE){var wa=this._threads.getThreadMetaNow(ta.thread_id);if(wa&&wa.folder)ta.folder=wa.folder;}return ta;},handleUpdates:function(ta,ua,va,wa){var xa,ya={};for(var za=0;za<ta.length;za++){var ab=this._preprocessIncomingAction(ta[za],va),bb=ab.action_type,cb=ka(this,ab.message_id);if(bb==n.LOG_MESSAGE)if(this.isLocalMessage(ab))continue;if(ab.is_forward||va==s.SERVER_SEARCH){if(!this._messages.has(ab.message_id))this._addNewMessage(ab.message_id,ab);continue;}else if(ab.client_state===r.SEND_TO_SERVER){this._addNewMessage(ab.message_id,ab);continue;}else if(bb==n.SEND_MESSAGE){var db=ab.client_message_id;if(db&&this._localIdsMap[db]&&ab.status){var eb=ka(this,db),fb=eb.status;if(eb.status==m.SUCCESS)continue;if(!ya[ab.thread_id])ya[ab.thread_id]=[];this._updateLocalMessage(ab);if(typeof fb!==undefined||ab.status==m.FAILED_UNKNOWN_REASON||ab.status==m.UNABLE_TO_CONFIRM||ab.status==m.SUCCESS||ab.status==m.ERROR)this._emitUpdatedChange(ab.thread_id,ka(this,db).message_id,va);}continue;}else if(bb==n.DELETE_THREAD){ma(this,ab.thread_id).removeAllResources();continue;}else if(bb==n.DELETE_MESSAGES){this._deleteMessages(ab.thread_id,ab.message_ids,va);ha(function(){this._threadActions.updateSnippet(ab.thread_id,ab.message_ids);}.bind(this));continue;}else if(bb==n.CREATE_PAGE_ADMIN_NOTE){this._addNewPageAdminNote(ab.message_id,ab.note);this._emitUpdatedChange(ab.thread_id,ab.message_id,'link_shim');continue;}else if(ab.offline_threading_id&&this._localIdsMap[ab.offline_threading_id]||cb&&!cb.is_forward){if(cb&&ab.ranges&&ab.ranges.length>0){var gb=cb.message_id;this._updateMessage(this._localIdsMap[gb]||gb,cb,{ranges:ta.ranges});this._emitUpdatedChange(cb.thread_id,cb.message_id,'link_shim');}continue;}else if(bb===n.CONFIRM_ATTACHMENT_PLACEHOLDER){this._confirmAttachmentPlaceholder(ab.upload_id,ab.upload_data);continue;}else if(bb===n.CANCEL_ATTACHMENT_PLACEHOLDER){this._cancelAttachmentPlaceholder(ab.upload_id,ab.upload_data);continue;}else if(bb==n.REPLACE_MESSAGE){if(this._replaceMessage(ab)){if(!ya[ab.thread_id])ya[ab.thread_id]=[];ya[ab.thread_id].push(ab.message_id);this._emitUpdatedChange(ab.thread_id,ab.replaced_message_id,va);this._emitUpdatedChange(ab.thread_id,ab.message_id,va);ua=true;}continue;}else if(bb==n.UNWRAP_MESSAGE){if(this._unwrapMessage(ab))this._emitUpdatedChange(ab.thread_id,ab.unwrapped_message_id,va);}else{if(va===s.CLIENT_SEND_MESSAGE){this._localIdsMap[ab.message_id]=ab.message_id;if(ab.thread_id=='root:'+ab.offline_threading_id)ma(this,ab.thread_id).setReachedEndOfArray();}if(bb==n.LOG_MESSAGE&&ab.log_message_type==q.SERVER_ERROR)this._failedHistoryFetchThreads[ab.thread_id]=true;if(ab.client_state===r.DO_NOT_SEND_TO_SERVER&&ab.upload_id)this._uploadMessages[ab.upload_id]=ab;if(!ya[ab.thread_id])ya[ab.thread_id]=[];ya[ab.thread_id].push(ab.message_id);this._addNewMessage(ab.message_id,ab);if(ab.offline_threading_id&&ab.offline_threading_id!=ab.message_id){this._localIdsMap[ab.offline_threading_id]=ab.message_id;v.addServerID(ab.offline_threading_id,ab.message_id);if(ab.threading_id)v.addServerID(ab.threading_id,ab.message_id);}if(ab[y.MANUAL_RETRY_CNT]>0){xa=ma(this,ab.thread_id);xa.resortResources([ab.message_id]);this._emitReorderedChange(ab.thread_id,s.CLIENT_SEND_MESSAGE);}ua=ua||this._shouldSortOutOfOrderMessages(va,ab.thread_id,ab.timestamp);if(!ua)this._emitReceivedChange(ka(this,ab.message_id));continue;}}for(var hb in ya){xa=ma(this,hb);var ib=xa.getAllResources(),jb=ib.filter(function(kb){var lb=this._messages.get(kb);if(!lb)return true;return lb.action_type==n.LOG_MESSAGE&&lb.log_message_type==q.SERVER_ERROR;}.bind(this));xa.removeResources(jb);if(wa)qa(this,hb,ya[hb]);if(ua){xa.addResources(ya[hb]);this._emitReorderedChange(hb,va);}else xa.addResourcesWithoutSorting(ya[hb].reverse(),0);this._threadInformer.updatedThread(hb);}this._didChange&&ja.debug('handle_updates',JSON.stringify({localMessageCounts:this._localTitanMessagesCount}));},isFirstMessage:function(ta){var ua=ma(this,ta.thread_id);if(ua.getCurrentArraySize()===0)return false;var va=ua.getResourceAtIndex(ua.getCurrentArraySize()-1),wa=ka(this,va).message_id,xa=ka(this,ta.message_id).message_id;return ua.hasReachedEndOfArray()&&wa==xa;},isLocalMessage:function(ta){if(ta.offline_threading_id!==null&&ta.offline_threading_id===ta.message_id)return true;if(ta.threading_id!==null&&ta.threading_id===ta.message_id)return true;return false;},_deleteMessages:function(ta,ua,va){if(!ua.length)return;this._deleteIndividualMessages(ta,ua,va);if(va!==s.CLIENT_CHANNEL_MESSAGE)this._serverRequests.deleteMessages(ta,ua);},_deleteIndividualMessages:function(ta,ua,va){var wa=ua.map(function(ya){return ka(this,ya).message_id;},this),xa=ma(this,ta);xa.removeResources(wa);this._emitReorderedChange(ta,va);},_updateLocalMessage:function(ta){var ua=ka(this,ta.client_message_id),va={};va.status=ta.status;if(ta.status===m.SUCCESS||ta.error_data)va.error_data=ta.error_data;var wa=ta.message_id,xa=ta.client_message_id;if(this._messages.has(wa)){this._updateMessage(wa,ua,va);return false;}if(ta.threading_id)va.threading_id=ta.threading_id;if(ta.timestamp)va.timestamp=ta.timestamp;if(ta.log_message_data)va.log_message_data=ta.log_message_data;if(ta.ranges&&ta.ranges.length){sa(ta);va.ranges=ta.ranges;}if(ta.attachments&&ta.attachments.length){va.raw_attachments=null;va.attachments=ta.attachments;}this._localIdsMap[xa]=wa;v.addServerID(xa,wa);var ya=this._updateMessage(wa,ua,va);this._messages.set(xa,new j());if(ra(ya))this._localTitanMessagesCount[ya.thread_id]--;return true;},_replaceMessage:function(ta){var ua=ta.replaced_message_id,va=ka(this,ua);if(!va)return false;var wa={};wa.status=ta.status;if(ta.timestamp)wa.timestamp=ta.timestamp;if(ta.log_message_data)wa.log_message_data=ta.log_message_data;if(ta.ranges&&ta.ranges.length){sa(ta);wa.ranges=ta.ranges;}if(ta.attachments&&ta.attachments.length){wa.raw_attachments=null;wa.attachments=ta.attachments;}if(ta.body)wa.body=ta.body;var xa=ta.message_id;v.addServerID(xa,xa);this._updateMessage(xa,va,wa);this._messages['delete'](ua);return true;},_unwrapMessage:function(ta){var ua=ka(this,ta.unwrapped_message_id);if(!ua||!ua.tags)return false;var va=ua.tags.slice(0);va.push(w.UNWRAPPED_TAG);var wa={tags:va};this._updateMessage(ta.unwrapped_message_id,ua,wa);return true;},getNumberLocalMessages:function(ta){return this._localTitanMessagesCount[ta]||0;},_uploadMessages:{},_confirmAttachmentPlaceholder:function(ta,ua){var va=this._popPendingAttachmentMessage(ta,ua);delete va.preview_attachments;this._serverRequests.sendNewMessage(va);},_cancelAttachmentPlaceholder:function(ta,ua){var va=this._popPendingAttachmentMessage(ta,ua);this._deleteIndividualMessages(va.thread_id,[va.message_id]);if(this._localTitanMessagesCount[va.thread_id])this._localTitanMessagesCount[va.thread_id]--;},_popPendingAttachmentMessage:function(ta,ua){var va=this._uploadMessages[ta];!va?ea(0):undefined;va.image_ids=ua.image_ids;va.file_ids=ua.file_ids;va.audio_ids=ua.audio_ids;va.gif_ids=ua.gif_ids;va.video_ids=ua.video_ids;va.client_state=r.SEND_TO_SERVER;delete this._uploadMessages[ta];return va;},_emitUpdatedChange:function(ta,ua,va){this._didChange=true;this._threadInformer.updatedMessage(ta,ua,va);},_emitReceivedChange:function(ta){this._didChange=true;this._threadInformer.receivedMessage(ta);},_emitReorderedChange:function(ta,ua){this._didChange=true;this._threadInformer.reorderedMessages(ta,ua);},_invalidateThreadState:function(ta){if(!this._threadsToMessages[ta])return;var ua=this._threadsToMessages[ta].getAllResources();ua.forEach(function(va){var wa=ka(this,va).offline_threading_id;this._messages['delete'](va);var xa=this._localIdsMap[wa];if(xa)this._messages['delete'](xa);delete this._localIdsMap[va];delete this._localIdsMap[wa];}.bind(this));delete this._threadsToMessages[ta];}});Object.assign(oa,t,{addListener:function(ta,ua){return ia.addListener(ta,ua);}});function pa(ta,ua){var va=ua.map(ka.bind(null,ta));return va.reverse();}function qa(ta,ua,va){var wa=va.filter(function(xa){return ra(ka(ta,xa));});if(!ta._localTitanMessagesCount[ua])ta._localTitanMessagesCount[ua]=0;ta._localTitanMessagesCount[ua]+=wa.length;}function ra(ta){var ua=ta.action_type;if(ua==n.USER_GENERATED_MESSAGE)return true;switch(ta.log_message_type){case q.SUBSCRIBE:case q.UNSUBSCRIBE:case q.SERVER_ERROR:case q.LIVE_LISTEN:return false;default:return true;}}function sa(ta){if(!ta.ranges)return;ta.ranges.forEach(function(ua){if(!ua.entity||ua.entity.external||!ua.entity.url)return;var va=new da(ua.entity.url);if(fa(da.getRequestURI())&&!va.getDomain()){va.setProtocol('https').setDomain('www.facebook.com');ua.entity.url=va.toString();}});}f.exports=oa;},null);
__d('MercuryNotificationRenderer',['MercuryAssert','MercuryIDs','MercuryParticipants','MercuryViewer','fbt','MercuryMessages','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=c('MercuryMessages').get(),n=c('MercuryThreads').get();function o(p,q){h.isThreadID(p);n.getThreadMeta(p,function(r){m.getThreadMessagesRange(p,0,1,function(s){var t=s.length&&s[s.length-1];if(t&&t.author!=k.getID()){j.get(t.author,function(u){var v=u.short_name;if(r.custom_nickname){var w=i.getUserIDFromParticipantID(u.id);if(r.custom_nickname[w])v=r.custom_nickname[w];}if(r.name){q(l._("{senderName} messaged {groupName}",[l.param('senderName',v),l.param('groupName',r.name)]));}else if(i.isGroupChat(p)){q(l._("{name} messaged your group",[l.param('name',v)]));}else q(l._("{name} messaged you",[l.param('name',v)]));});}else q(l._("New message!"));});});}f.exports={renderDocumentTitle:o};},null);
__d('MercuryUnseenState',['MercuryFolders','KeyedCallbackManager','LogHistory','MercuryActionType','MercuryDispatcher','MercurySingletonMixin','MercuryThreadInfo','MercuryThreadlistConstants','MercuryThreadIDMap','MessagingTag','MercuryServerRequests','MercuryThreadInformer','MercuryThreads','createObjectFrom','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=o.MAX_UNSEEN_COUNT,x='unseen_thread_hash',y='unseen_thread_list',z=j.getInstance('mercury_unseen_state');function aa(pa){this._fbid=pa;this._serverRequests=r.getForFBID(this._fbid);this._threadIDMap=p.getForFBID(this._fbid);this._threads=t.getForFBID(this._fbid);this._threadInformer=s.getForFBID(this._fbid);this._dispatcher=l.getForFBID(this._fbid);this._initialUnseenCount=null;this._lastSeenTimestamp=0;this._maxCount=false;this._pendingServerUpdates=false;this._unseenResources=new i();this._dispatcher.subscribe('update-unseen',function(qa,ra){ga(this,ra);}.bind(this));this._dispatcher.subscribe('update-thread-ids',function(qa,ra){ma(this,ra);}.bind(this));}Object.assign(aa.prototype,{getUnseenCount:function(){if(this.exceedsMaxCount()){z.error('unguarded_unseen_count_fetch','{}');return 0;}return fa(this)||0;},exceedsMaxCount:function(){return this._maxCount||fa(this)>w;},markAsSeen:function(){var pa=fa(this);if(pa===null){this._pendingServerUpdates=true;}else if(pa>0||this._maxCount){this._serverRequests.markSeen();var qa=this._serverRequests.getLastActionTimestamp();ha(this,qa,[]);}}});Object.assign(aa,m);function ba(pa,qa,ra){var sa={};sa[qa]=0;ja(pa,sa,ra);}function ca(pa,qa){pa._unseenResources.setResource(x,qa);pa._unseenResources.setResource(y,Object.keys(qa));}function da(pa,qa){var ra=pa._unseenResources.executeOrEnqueue(x,qa),sa=pa._unseenResources.getUnavailableResources(ra);if(sa.length)pa._serverRequests.fetchUnseenThreadIDs();}function ea(pa){return pa._unseenResources.getResource(x);}function fa(pa){var qa=pa._unseenResources.getResource(y);if(qa){return qa.length;}else return pa._initialUnseenCount;}function ga(pa,qa){var ra=oa(qa);if(qa.unseen_thread_fbids){qa.unseen_thread_fbids.forEach(function(cb){if(cb.folder!=q.INBOX)return;var db=cb.thread_fbids||[];db=db.concat(cb.other_user_fbids||[]);var eb=la(pa,db),fb=pa._lastSeenTimestamp;if(ra&&ra.seen_timestamp)fb=ra.seen_timestamp;ha(pa,fb,eb);if(ra&&ra.unseen_count>w)pa._maxCount=true;});}else if(ra&&ra.seen_timestamp){pa._lastSeenTimestamp=ra.seen_timestamp;if(ra.unseen_count>w){pa._maxCount=true;ca(pa,{});}else{pa._initialUnseenCount=ra.unseen_count;if(pa._initialUnseenCount===0)ca(pa,{});}}else{if(pa._maxCount)return;var sa=qa.actions;if(!sa||!sa.length)return;var ta={},ua={};for(var va=0;va<sa.length;va++){var wa=sa[va];if(wa.is_forward)continue;var xa=wa.action_type,ya=wa.other_user_fbid?wa.other_user_fbid:wa.thread_fbid,za=wa.thread_id?wa.thread_id:ya;if(xa==k.MARK_THREAD_SEEN){ba(pa,za,wa.persistent);continue;}if(!na(pa,wa))continue;if(xa==k.USER_GENERATED_MESSAGE||xa==k.LOG_MESSAGE){var ab=ta[za]?wa.timestamp>ta[za]:false,bb=ab||!ta[za];if(wa.is_unread&&bb)pa._threads.getThreadMeta(za,function(cb){var db=false;if(cb&&cb.last_read_timestamp)if(cb.last_read_timestamp>=wa.timestamp)db=true;if(!n.isMuted(cb)&&!db)ta[za]=wa.timestamp;});}else if(xa==k.CHANGE_READ_STATUS&&wa.mark_as_read)ua[za]=wa.timestamp;}ia(pa,ta);ja(pa,ua);}if(pa._pendingServerUpdates){pa._pendingServerUpdates=false;pa.markAsSeen();}}function ha(pa,qa,ra){var sa=ea(pa);if(sa===undefined||qa>pa._lastSeenTimestamp||pa._maxCount){pa._lastSeenTimestamp=qa;ra=ra||[];if(ra.length<=w)pa._maxCount=false;var ta={},ua=ea(pa)||{};for(var va in ua)if(ua[va]!==true){var wa=ua[va];if(ka(pa,wa))ta[va]=wa;}var xa=Object.assign(u(ra,true),ta);ca(pa,xa);pa._threadInformer.updatedUnseenState();}}function ia(pa,qa){if(pa._maxCount)return;var ra={},sa=false;for(var ta in qa){var ua=qa[ta];if(ka(pa,ua)){ra[ta]=ua;sa=true;}}if(!sa)return;da(pa,function(va){for(var wa in ra){var xa=ra[wa];if(!va[wa]&&ka(pa,xa))va[wa]=ra[wa];}ca(pa,va);pa._threadInformer.updatedUnseenState();});}function ja(pa,qa,ra){var sa=false;if(!v(qa))sa=true;if(sa)da(pa,function(ta){var ua=false;for(var va in qa){var wa=qa[va],xa=wa>=ta[va];if(ta[va]&&(!wa||xa)){delete ta[va];ua=true;}}if(ua){ca(pa,ta);pa._threadInformer.updatedUnseenState();if(ra&&fa(pa)===0)pa._serverRequests.markSeen();}});}function ka(pa,qa){return qa>pa._lastSeenTimestamp;}function la(pa,qa){return qa.map(pa._threadIDMap.convertThreadIDIfAvailable,pa._threadIDMap);}function ma(pa,qa){var ra=ea(pa);if(!ra)return;for(var sa in qa){var ta=qa[sa];if(ra[sa]){ra[ta]=ra[sa];delete ra[sa];}}ca(pa,ra);}function na(pa,qa){var ra=qa.thread_id?pa._threads.getThreadMetaNow(qa.thread_id):null,sa=ra?h.getFromMeta(ra):qa.folder;return sa===q.INBOX||sa===undefined;}function oa(pa){var qa=pa.message_counts||[];for(var ra=0;ra<qa.length;ra++)if(qa[ra].folder==q.INBOX)return qa[ra];return null;}f.exports=aa;},null);
__d('MessengerPhraseSubscriptionsActions',['MessengerDispatcher','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i({ADD_PHRASE:null,CLEAR_ALL_NOTIFICATIONS:null,CLEAR_NOTIFICATION:null,REMOVE_PHRASE:null,SET_NOTIFICATION:null}),k={Types:j,addPhrase:function(l,m){h.dispatch({type:j.ADD_PHRASE,threadID:l,phrase:m});},clearAllNotifications:function(l){h.dispatch({type:j.CLEAR_ALL_NOTIFICATIONS,threadID:l});},clearNotification:function(l,m,n){h.dispatch({type:j.CLEAR_NOTIFICATION,threadID:l,phrase:m,messageID:n});},removePhrase:function(l,m){h.dispatch({type:j.REMOVE_PHRASE,threadID:l,phrase:m});},setNotification:function(l,m,n){h.dispatch({type:j.SET_NOTIFICATION,threadID:l,phrases:m,messageID:n});}};f.exports=k;},null);
__d('MessengerStore',['MessengerDispatcher','mixInEventEmitter'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(){this.$MessengerStore1=h.register(this.__onDispatch.bind(this));}j.prototype.getDispatchToken=function(){return this.$MessengerStore1;};j.prototype.emitChange=function(){this.emit('change');};j.prototype.destroy=function(){h.unregister(this.$MessengerStore1);};i(j,{change:true});f.exports=j;},null);
__d('MessengerPhraseSubscriptionsStore',['immutable','Map','MessengerPhraseSubscriptionsActions','MessengerStore','WebStorage'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();var o=l.getLocalStorage(),p='phraseSubscriptions';m=babelHelpers.inherits(q,k);n=m&&m.prototype;function q(){'use strict';n.constructor.call(this);var r=o[p];this.$MessengerPhraseSubscriptionsStore1=this.$MessengerPhraseSubscriptionsStore2(r);}q.prototype.getPhrases=function(r){'use strict';var s=this.$MessengerPhraseSubscriptionsStore1.get(r);if(!s)return null;return Array.from(s.keys());};q.prototype.getPhrasesData=function(r){'use strict';var s=this.$MessengerPhraseSubscriptionsStore1.get(r);if(!s)return h.Map();var t=new i();s.forEach(function(u,v){t.set(v,h.List(u));});return h.Map(t);};q.prototype.getFirstNotfication=function(r,s){'use strict';var t=this.$MessengerPhraseSubscriptionsStore1.get(r);if(!t)return null;var u=t.get(s);if(!u||!u.length)return null;return u[0];};q.prototype.$MessengerPhraseSubscriptionsStore2=function(r){'use strict';var s=new i();if(!r)return s;var t=JSON.parse(r);for(var u in t){var v=t[u],w=new i();for(var x=0;x<v.length;x++)w.set(v[x],[]);s.set(u,w);}return s;};q.prototype.$MessengerPhraseSubscriptionsStore3=function(r){'use strict';var s={};r.forEach(function(t,u){var v=Array.from(t.keys());s[u]=v;});return JSON.stringify(s);};q.prototype.$MessengerPhraseSubscriptionsStore4=function(){'use strict';o[p]=this.$MessengerPhraseSubscriptionsStore3(this.$MessengerPhraseSubscriptionsStore1);};q.prototype.$MessengerPhraseSubscriptionsStore5=function(r,s){'use strict';var t=this.$MessengerPhraseSubscriptionsStore1.get(r);if(!t){t=new i();this.$MessengerPhraseSubscriptionsStore1.set(r,t);}if(t.has(s))return false;t.set(s,[]);return true;};q.prototype.$MessengerPhraseSubscriptionsStore6=function(r,s){'use strict';var t=this.$MessengerPhraseSubscriptionsStore1.get(r);if(!t)return false;if(t['delete'](s)){if(!t.size)this.$MessengerPhraseSubscriptionsStore1['delete'](r);return true;}return false;};q.prototype.$MessengerPhraseSubscriptionsStore7=function(r,s,t){'use strict';var u=this.$MessengerPhraseSubscriptionsStore1.get(r);return s.reduce(function(v,w){var x=u.get(w);if(x.indexOf(t)>=0)return v;x.push(t);return true;},false);};q.prototype.$MessengerPhraseSubscriptionsStore8=function(r,s,t){'use strict';var u=this.$MessengerPhraseSubscriptionsStore1.get(r);if(!u)return false;var v=u.get(s);if(!v)return false;var w=v.indexOf(t);if(w===-1)return false;v.splice(w,1);return true;};q.prototype.$MessengerPhraseSubscriptionsStore9=function(r){'use strict';var s=this.$MessengerPhraseSubscriptionsStore1.get(r);if(!s)return false;var t=false;s.forEach(function(u){if(u.length){u.length=0;t=true;}});return t;};q.prototype.__onDispatch=function(r){'use strict';var s;switch(r.type){case j.Types.ADD_PHRASE:s=this.$MessengerPhraseSubscriptionsStore5(r.threadID,r.phrase);if(s)this.$MessengerPhraseSubscriptionsStore4();break;case j.Types.REMOVE_PHRASE:s=this.$MessengerPhraseSubscriptionsStore6(r.threadID,r.phrase);if(s)this.$MessengerPhraseSubscriptionsStore4();break;case j.Types.SET_NOTIFICATION:s=this.$MessengerPhraseSubscriptionsStore7(r.threadID,r.phrases,r.messageID);break;case j.Types.CLEAR_NOTIFICATION:s=this.$MessengerPhraseSubscriptionsStore8(r.threadID,r.phrase,r.messageID);break;case j.Types.CLEAR_ALL_NOTIFICATIONS:s=this.$MessengerPhraseSubscriptionsStore9(r.threadID);break;}if(s)this.emitChange();};f.exports=new q();},null);
__d('MessengerPhraseSubscriptionsUtils',['MessengerPhraseSubscriptionsStore','escapeRegex'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={computePhraseRegexPattern:function(k){return '\\b'+i(k).replace(/\s+/g,'\\s+')+'\\b';},computePhraseSubscriptionMatches:function(k,l){if(!k)return null;var m=h.getPhrases(l);if(!m)return null;var n=k.match(new RegExp(m.map(this.computePhraseRegexPattern).join('|'),'ig'));return n&&n.map(function(o){var p=this.computePhraseRegexPattern(o),q=new RegExp('^'+p+'$','i');return m.find(function(r){return q.test(r);});}.bind(this));}};f.exports=j;},null);
__d('MessengerSettingsStore',['BanzaiLogger','CacheStorage','MessengerDotComDesktopNotifsEvent','MessengerSettingsActions','MessengerStore','MessengerDotComSettingsInitialData'],function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();var p=new i('localstorage'),q='desktopNotifsEnabled';n=babelHelpers.inherits(r,l);o=n&&n.prototype;function r(){'use strict';o.constructor.call(this);this.$MessengerSettingsStore1=babelHelpers['extends']({},m,{desktopNotifsEnabled:this.$MessengerSettingsStore2()});}r.prototype.getSettings=function(){'use strict';return this.$MessengerSettingsStore1;};r.prototype.$MessengerSettingsStore2=function(){'use strict';return p.get(q,false);};r.prototype.$MessengerSettingsStore3=function(s){'use strict';p.set(q,s);};r.prototype.__onDispatch=function(s){'use strict';switch(s.type){case k.Types.CHANGE_SETTINGS:Object.assign(this.$MessengerSettingsStore1,s.newSettings);this.emitChange();break;case k.Types.CHANGE_DESKTOP_NOTIFS:this.$MessengerSettingsStore1.desktopNotifsEnabled=s.desktopNotifsEnabled;this.$MessengerSettingsStore3(s.desktopNotifsEnabled);this.emitChange();h.log('MessengerDotComDesktopNotifsLoggerConfig',{event:s.desktopNotifsEnabled?j.TURNED_ON_NOTIFS:j.TURNED_OFF_NOTIFS});break;}};f.exports=new r();},null);
__d('MessengerStateStore',['MessengerActions','MessengerStore'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){k.constructor.call(this);this.$MessengerStateStore1={activeThreadID:null,detailView:null,filter:null,folder:null,masterView:null,serverThreadID:null};this.$MessengerStateStore2=babelHelpers['extends']({},this.$MessengerStateStore1);}l.prototype.getState=function(){return this.$MessengerStateStore1;};l.prototype.getPrevState=function(){return this.$MessengerStateStore2;};l.prototype.__onDispatch=function(m){switch(m.type){case h.Types.REPLACE_STATE:this.$MessengerStateStore2=this.$MessengerStateStore1;this.$MessengerStateStore1=babelHelpers['extends']({activeThreadID:null,detailView:null,filter:null,folder:null,masterView:null,serverThreadID:null},m.nextState);this.emitChange();break;}};f.exports=new l();},null);
__d('MessengerBrowserAlerts',['DocumentTitle','Event','ImageSourceRequest','ImageSourceType','Map','MercuryAttachmentSnippetRenderer','MercuryIDs','MercuryParticipants','MercuryThreadInfo','MercuryThreadInformer','MercuryThreads','MercuryUnseenState','MessagingTag','MessengerActions','MessengerConfig','MessengerDesktopNotifications','MessengerPhraseSubscriptionsActions','MessengerPhraseSubscriptionsUtils','MessengerSettingsStore','MessengerStateStore','MercuryNotificationRenderer','PhotoResizeModeConst','Sound','URI','UserActivity','fbt','MercuryBlockedParticipants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=c('MercuryBlockedParticipants').get(),ia=8000,ja=80,ka=null,la='/images/messengerdotcom/favicon/favicon.ico',ma='/images/messengerdotcom/favicon/unread_favicon.ico',na='/images/messengerdotcom/favicon/favicon_work.ico',oa='/images/messengerdotcom/favicon/unread_favicon_work.ico',pa='/images/messengerdotcom/favicon/favicon_sandbox.ico',qa='/images/messengerdotcom/favicon/favicon_sandbox_unread.ico';da.init(['audio/ogg','audio/mpeg']);function ra(ua){if(z.getSettings().sound_enabled)da.play([v['sound.notif_ogg_url'],v['sound.notif_mp3_url']],ua,false);}function sa(ua,va,wa){o.get(ua.snippet_sender,function(xa){var ya=ua.snippet;if(!ya&&ua.snippet_has_attachment)ya=m.renderAttachmentSnippetText(m.getAttachmentSnippetType(ua.snippet_attachments),false,xa.short_name,ua.snippet_attachments);var za=xa.name;if(!ua.is_canonical)za=ua.name?ga._("{sender's name} to {group name}",[ga.param('sender\'s name',xa.short_name),ga.param('group name',ua.name)]):ga._("{sender's name} to your group",[ga.param('sender\'s name',xa.short_name)]);w.showNotification({title:za,body:ya,icon:ua.image_src||va||xa.big_image_src||xa.image_src,closeTime:null,onClick:function(){window.focus();u.selectThread(ua.thread_id);},tag:wa.message_id});if(!w.hasDefaultSound())ra(wa.timestamp);});}var ta={init:function(ua){this._viewer=ua;this._threadInformer=q.getForFBID(this._viewer);this._threads=r.getForFBID(this._viewer);this._unseenState=s.getForFBID(this._viewer);this._highResImageMap=new l();this._threadInformer.subscribe('messages-received',function(va,wa){for(var xa in wa)wa[xa].forEach(function(ya){this.handleMessageReceived(ya);}.bind(this));}.bind(this));this._threadInformer.subscribe('unseen-updated',this._handleUnseenUpdated.bind(this));},handleMessageReceived:function(ua){if(ua.author===this._viewer||!ua.is_unread||ua.thread_id===aa.getState().activeThreadID&&fa.isOnTab()||ua.folder!=t.INBOX&&ua.folder!=t.ARCHIVED)return;this._threads.getThreadMeta(ua.thread_id,function(va){if(p.isMuted(va)){if(!v.PhraseSubscriptionsEnabled)return;var wa=y.computePhraseSubscriptionMatches(ua.body,ua.thread_id);if(!wa||!wa.length)return;x.setNotification(ua.thread_id,wa,ua.message_id);}if(ha.isPresentInGroupThread(va))return;if(z.getSettings().desktopNotifsEnabled&&!fa.isOnTab()){this._attemptDesktopNotification(va,ua);}else ra(ua.timestamp);if(!fa.isOnTab()&&this._unseenState.getUnseenCount()>0)ba.renderDocumentTitle(ua.thread_id,function(xa){if(!ka)ka=h.blink(xa);});}.bind(this));},showRTCNotification:function(ua,va){if(fa.isOnTab()){va(null);return;}var wa=ua.peerID;if(!this._highResImageMap.has(wa)){var xa=function(ya,za){this._highResImageMap.set(wa.toString(),za.uri);this._displayRTCDesktopNotification(za.uri,ua,va);}.bind(this);new j().setFBID(wa).setType(k.PROFILE_PICTURE).setDimensions(ja,ja).setResizeMode(ca.COVER).setCallback(xa.bind(null,wa)).send();}else this._displayRTCDesktopNotification(this._highResImageMap.get(wa),ua,va);},_updateFavicon:function(ua){var va=document.querySelector('link[rel*=icon][href*=".ico"]'),wa=ea.getRequestURI().getSubdomain()==='fb',xa=false;if(ua===0){if(xa){va.href=pa;}else if(wa){va.href=na;}else va.href=la;return;}if(xa){va.href=qa;}else if(wa){va.href=oa;}else va.href=ma;},_displayRTCDesktopNotification:function(ua,va,wa){var xa=n.getParticipantIDFromUserID(va.peerID),ya=null;o.get(xa,function(za){var ab;if(va.isVideoCall){ab=ga._("Incoming Video Call");}else ab=ga._("Incoming Audio Call");var bb=ga._("{caller} is calling you. Click to answer.",[ga.param('caller',za.short_name)]);ya=w.showNotification({title:ab,body:bb,icon:ua,closeTime:ia,onClick:function(){window.focus();va.onNotificationClicked();}});wa(ya);});},_handleUnseenUpdated:function(){var ua=this._unseenState.getUnseenCount();if(fa.isOnTab()&&fa.isActive()&&ua>0){this._unseenState.markAsSeen();return;}var va=h.get(),wa=ua?'('+ua+') '+va:va;h.set(wa,true);this._updateFavicon(ua);if(ka&&ua===0){ka.stop();ka=null;}if(!this._focusToken&&ua>0)this._focusToken=fa.subscribe(function(){if(fa.isOnTab()){this._focusToken&&this._focusToken.unsubscribe();this._focusToken=null;this._unseenState.markAsSeen();}}.bind(this));},_attemptDesktopNotification:function(ua,va){if(!this._highResImageMap.has(ua.snippet_sender)){var wa=function(xa,ya){this._highResImageMap.set(ua.snippet_sender,ya.uri);sa(ua,ya.uri,va);}.bind(this);new j().setFBID(n.getUserIDFromParticipantID(ua.snippet_sender)).setType(k.PROFILE_PICTURE).setDimensions(ja,ja).setResizeMode(ca.COVER).setCallback(wa.bind(null,ua.snippet_sender)).send();}else sa(ua,this._highResImageMap.get(ua.snippet_sender),va);}};f.exports=ta;},null);
__d('EmojiOnlyMessage.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'EmojiOnlyMessage',propTypes:{sourceURIs:j.arrayOf(j.shape({type:j.string.isRequired,title:j.string,url:j.string.isRequired})).isRequired},render:function(){var l=this.props.sourceURIs,m=0,n=l.map(function(o){m++;return h.createElement('span',{className:"_5qi2",key:m,style:{backgroundImage:'url('+o.url+')'},title:o.title});});return (h.createElement('div',{className:this.props.className,tabIndex:'0'},n));}});f.exports=k;},null);
__d('shouldNotRenderSegoe',['MessengerConfig','UserAgent'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=new RegExp('[\u0530-\u058f\u10a0-\u10ff]'),k=i.isBrowser('Chrome')&&i.isPlatform('Windows 10');f.exports=function l(m){return (!h.SegoeUIDisabled&&k&&j.test(m));};},null);
__d('MessengerBubble.react',['EmojiLikeUtils','EmojiOnlyMessage.react','immutable','MercuryMessageBody.react','MessagingGiftWrap.react','ReactComponentWithPureRenderMixin','shouldNotRenderSegoe','React','cx','joinClasses','messengerCustomColorUtils'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'MessengerBubble',mixins:[m],propTypes:{attachments:s.instanceOf(j.List),body:s.string,customColor:s.string,customLike:s.object,isGiftWrapped:s.bool,isP2PAttachment:s.bool,onUnwrap:s.func,ranges:s.array,threadID:s.string},getInitialState:function(){return {emojis:undefined};},componentDidMount:function(){if(!this.props.emojis){var u=this.props.body||'',v=h.richContent(u);if(v&&v.length)this.setState({emojis:v});}},render:function(){var u={};if(!this.state.emojis&&this.props.customColor)u=r.customBubbleStyle(this.props.customColor,u);if(this.state.emojis){var v=h.getSourceURIs(this.state.emojis),w=o.createElement(i,{sourceURIs:v});}else w=o.createElement(k,{className:"_3oh-"+(n(this.props.body||'')?' '+"_2por":''),body:this.props.body,ranges:this.props.ranges,threadID:this.props.threadID,customLike:this.props.customLike});var x=this.props.isGiftWrapped?o.createElement(l,{onUnwrap:this._handleUnwrap}):null;return (o.createElement('div',babelHelpers['extends']({},this.props,{style:u,className:q(this.props.className,"_hh7"+(' '+"_s1-")+(' '+"_52mr")+(this.props.isP2PAttachment?' '+"_4z55":'')+(!!this.state.emojis?' '+"_2f5r":''))}),w,this.props.attachments,x));},_handleUnwrap:function(){this.props.onUnwrap&&this.props.onUnwrap();}});f.exports=t;},null);
__d('MessengerCodePasteUtils',['BanzaiODS','MessengerBubble.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=/`{3,}/;function m(o){return !!(o&&o.search(l)!==-1&&o.split('\n').length>1);}function n(o,p,q){var r=o.split(l),s=[];for(var t=0;t<r.length;t+=2){var u=r[t].trim();if(u&&u.length>0)s.push(j.createElement(i,{key:t,body:u,className:"clearfix _3058 _ui9",ranges:p,threadID:q}));if(t+1<r.length&&r[t+1]){var v=r[t+1].split('\n'),w=v[0].replace(/[^a-zA-Z]+/g,''),x=v.slice(1).join('\n');h.bumpEntityKey('messenger_code_paste','render_bubble');s.push(j.createElement('div',{key:t+1,className:"_3058 _15gf _wu0 _52mr"},j.createElement('div',{ref:'syntaxTarget'+t,className:'language-'+w},x)));}}return s;}f.exports={containsCodeBlock:m,getCodeAndMessageBubbles:n};},null);
__d('MessengerContactActions',['keyMirror'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=h({MESSAGE:null,PROFILE:null,REMOVE:null,SELECT:null});},null);
__d('MessengerContactAdapters',['immutable','ImmutableObject','MercuryTypeaheadConstants'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={fromSearchableEntry:function(l){var m=l.getType(),n={alias:null,isMessengerUser:null,participants:null,photo:l.getPhoto(),subtitle:l.getSubtitle(),thread:null,title:l.getTitle(),type:m,uid:l.getUniqueID()},o=l.getAuxiliaryData();if(o)if(m===j.THREAD_TYPE){n.thread=new i(o.thread);n.participants=h.Map().withMutations(function(p){o.participantsToRender.forEach(function(q){p.set(q.id,q);});});}else{n.isMessengerUser=o.isMessengerUser;n.alias=o.alias;}return new i(n);},fromMercuryParticipant:function(l){return new i({alias:l.alias,uid:l.id,photo:l.image_src,title:l.name,subtitle:'',type:l.type,isMessengerUser:l.is_messenger_user,href:l.href});}};f.exports=k;},null);
__d('MessengerDomIDs',['uniqueID'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={COMPOSER_INPUT_DESCRIPTION:h(),CONVERSATION:h(),MAIN_LABEL:h(),MUTE_DIALOG_TITLE:h(),THREAD_INFO_PANEL:h(),THREAD_TITLE:h()};f.exports=i;},null);
__d('MessengerEditorStateManager',['CacheStorage','ComposedEntityMutability','ComposedEntityMutabilityToName','ComposedEntityTypeToName','ContentState','DraftEntityInstance','EditorState','SelectionState','decodeBlocks','encodeBlocks','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=new h('localstorage'),t=i.IMMUTABLE,u={get:function(v){if(!v)return this._getEmptyEditorState();var w=s.get(v,false);if(!w)return this._getEmptyEditorState();var x=w.encodedBlocks,y=r(x.entityMap,function(ba,ca){return new m({type:k[ba.type],mutability:j[t],data:ba.data});}),z=l.createFromBlockArray(p(x.blocks,y)),aa=n.createWithContent(z);return n.acceptSelection(aa,new o(w.selection));},set:function(v,w){var x=q(w.getCurrentContent()),y=w.getSelection().toJS();s.set(v,{encodedBlocks:x,selection:y});},_getEmptyEditorState:function(){var v=n.createEmpty();return n.forceSelection(v,v.getSelection());}};f.exports=u;},null);
__d('MessengerInfoPanelVisibility',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={HIDDEN:0,VISIBLE:1,AUTO:2};f.exports=h;},null);
__d('MercuryDelayedDispatcher',['MercuryDispatcher','MercuryServerPayloadPreprocessor','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(o){this.$MercuryDelayedDispatcher1=o;this.$MercuryDelayedDispatcher2=[];this.$MercuryDelayedDispatcher3=l.getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4=h.getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher5=j.getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher6=i.getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4.subscribe('model-update-completed',function(p,q){return this.$MercuryDelayedDispatcher7();}.bind(this));}m.getForFBID=function(o){return n.getForFBID(o);};m.get=function(){return n.get();};m.prototype.handleUpdateWaitForThread=function(o,p){var q=this.$MercuryDelayedDispatcher3.getClientIDFromServerIDNow(p);if(q){this.$MercuryDelayedDispatcher8(o);return;}this.$MercuryDelayedDispatcher3.getClientIDFromServerID(p,function(){return this.$MercuryDelayedDispatcher2.push(o);}.bind(this));this.$MercuryDelayedDispatcher5.ensureThreadIsFetched(p);};m.prototype.$MercuryDelayedDispatcher7=function(){if(this.$MercuryDelayedDispatcher2&&this.$MercuryDelayedDispatcher2.length){var o=this.$MercuryDelayedDispatcher2[0];this.$MercuryDelayedDispatcher2=this.$MercuryDelayedDispatcher2.slice(1);this.$MercuryDelayedDispatcher8(o);}};m.prototype.$MercuryDelayedDispatcher8=function(o){if(o.from_client){this.$MercuryDelayedDispatcher4.handleUpdate(o);}else this.$MercuryDelayedDispatcher6.handleUpdate(o);};var n=new k(m);f.exports=m;},null);
__d('MercuryChannelHandler',['Arbiter','ChannelConstants','MercuryActionType','MercuryChannelMessageTransformer','MercuryConfig','MercuryDelayedDispatcher','MercuryGlobalActionType','MercuryLogMessageType','MercuryMessages','MercuryPayloadSource','MercuryServerPayloadPreprocessor','MercurySingletonMixin','MercuryThreadInformer','MercuryViewer','MessagingEvent','MessagingTag','PresenceUtil','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z,aa;if(c.__markCompiled)c.__markCompiled();z=babelHelpers.inherits(ba,y(s));aa=z&&z.prototype;function ba(ca){'use strict';aa.constructor.call(this);this.$MercuryChannelHandler1=ca;this.__payloadPreprocessor=r.getForFBID(this.$MercuryChannelHandler1);this.$MercuryChannelHandler2=t.getForFBID(this.$MercuryChannelHandler1);this.$MercuryChannelHandler3=p.getForFBID(this.$MercuryChannelHandler1);this.__delayedDispatcher=m.getForFBID(this.$MercuryChannelHandler1);this.$MercuryChannelHandler4=[];}ba.prototype.getInstanceFBID=function(){'use strict';return this.$MercuryChannelHandler1;};ba.prototype.$MercuryChannelHandler5=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj||!da.obj.message)return;var ea=da.obj.message,fa=ea.other_user_fbid?ea.other_user_fbid:ea.thread_fbid;fa=fa.toString();var ga=k.transform(ea,da.obj.folder);if(this.__shouldDropMessageBecauseOfSync(ea))return;var ha=[babelHelpers['extends']({},ga)];ha=ha.concat(ea.forward_actions||[]);var ia=q.CLIENT_CHANNEL_MESSAGE;this.__delayedDispatcher.handleUpdateWaitForThread({actions:ha,payload_source:ia},fa);};ba.prototype.$MercuryChannelHandler7=function(ca,da){'use strict';if(l.WWWSyncDeliveryReceipt)return;var ea=da.obj.other_user_fbid,fa=da.obj.thread_fbid;if(!this.$MercuryChannelHandler6(ca)||!ea&&!fa)return;this.__payloadPreprocessor.handleUpdate({delivery_receipts:[{other_user_fbid:ea?ea.toString():'',thread_fbid:fa?fa.toString():'',time:da.obj.timestamp}]});};ba.prototype.$MercuryChannelHandler8=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj||!da.obj.thread_fbids&&!da.obj.other_user_fbids)return;var ea=[],fa=da.obj.event==v.READ;if(fa&&l.WWWSyncMarkRead)return;(da.obj.thread_fbids||[]).forEach(function(ga){ea.push({action_type:j.CHANGE_READ_STATUS,action_id:null,thread_fbid:ga,mark_as_read:fa,timestamp:da.obj.timestamp||0,folder:da.obj.folder_info[ga]});});(da.obj.other_user_fbids||[]).forEach(function(ga){ea.push({action_type:j.CHANGE_READ_STATUS,action_id:null,other_user_fbid:ga,mark_as_read:fa,timestamp:da.obj.timestamp||0,folder:da.obj.folder_info[ga]});});this.__payloadPreprocessor.handleUpdate({actions:ea,payload_source:q.CLIENT_CHANNEL_MESSAGE});};ba.prototype.$MercuryChannelHandler9=function(ca,da){'use strict';if(l.WWWSyncThreadDelete)return;if(!this.$MercuryChannelHandler6(ca)||!da.obj||!(da.obj.thread_fbids||da.obj.other_user_fbids))return;var ea=[];(da.obj.thread_fbids||[]).forEach(function(fa){ea.push({action_type:j.DELETE_THREAD,action_id:null,thread_fbid:fa});});(da.obj.other_user_fbids||[]).forEach(function(fa){ea.push({action_type:j.DELETE_THREAD,action_id:null,other_user_fbid:fa});});this.__payloadPreprocessor.handleUpdate({actions:ea,payload_source:q.CLIENT_CHANNEL_MESSAGE});};ba.prototype.$MercuryChannelHandler10=function(ca,da){'use strict';if(l.WWWSyncDeleteMessage)return;if(!this.$MercuryChannelHandler6(ca)||!da.obj||!da.obj.thread_fbids&&!da.obj.other_user_fbids||!da.obj.mids)return;var ea=da.obj.thread_fbids.length?da.obj.thread_fbids[0]:null,fa=da.obj.other_user_fbids.length?da.obj.other_user_fbids[0]:null,ga={action_type:j.DELETE_MESSAGES,action_id:null,thread_fbid:ea,other_user_fbid:fa,message_ids:da.obj.mids};if(l.MessengerGlobalDeleteGK){if(da.obj.updated_thread)return;this.__payloadPreprocessor.handleUpdate({actions:[ga],payload_source:q.CLIENT_CHANNEL_MESSAGE});return;}this.__payloadPreprocessor.handleUpdate({actions:[ga],payload_source:q.CLIENT_CHANNEL_MESSAGE});};ba.prototype.$MercuryChannelHandler11=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj||!da.obj.folder)return;var ea={action_type:n.MARK_ALL_READ,action_id:da.obj.action_id,folder:da.obj.folder};this.__payloadPreprocessor.handleUpdate({global_actions:[ea]});};ba.prototype.$MercuryChannelHandler12=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj.thread_fbids&&!da.obj.other_user_fbids)return;var ea=q.CLIENT_CHANNEL_MESSAGE;(da.obj.thread_fbids||[]).forEach(function(fa){var ga={action_type:j.CHANGE_ARCHIVED_STATUS,action_id:null,thread_fbid:fa.toString(),other_user_fbid:null,archived:da.obj.state};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},ga)],payload_source:ea},fa.toString());},this);(da.obj.other_user_fbids||[]).forEach(function(fa){var ga={action_type:j.CHANGE_ARCHIVED_STATUS,action_id:null,thread_fbid:null,other_user_fbid:fa.toString(),archived:da.obj.state};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},ga)],payload_source:ea},fa.toString());},this);};ba.prototype.$MercuryChannelHandler13=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj.thread_fbids&&!da.obj.other_user_fbids)return;var ea=q.CLIENT_CHANNEL_MESSAGE,fa;(da.obj.thread_fbids||[]).forEach(function(ga){if(da.obj.event==v.TAG){fa=da.obj.tag;}else fa=da.obj.marked_as_spam?w.SPAM:w.INBOX;var ha={action_type:j.CHANGE_FOLDER,action_id:null,thread_fbid:ga.toString(),other_user_fbid:null,new_folder:fa};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},ha)],payload_source:ea},ga.toString());},this);(da.obj.other_user_fbids||[]).forEach(function(ga){if(da.obj.event==v.TAG){fa=da.obj.tag;}else fa=da.obj.marked_as_spam?w.SPAM:w.INBOX;var ha={action_type:j.CHANGE_FOLDER,action_id:null,other_user_fbid:ga.toString(),thread_fbid:null,new_folder:fa};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},ha)],payload_source:ea},ga.toString());},this);};ba.prototype.$MercuryChannelHandler14=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj.tag)return;switch(da.obj.tag){case w.ACTION_ARCHIVED:this.$MercuryChannelHandler12(ca,da);break;case w.INBOX:case w.OTHER:this.$MercuryChannelHandler13(ca,da);break;}};ba.prototype.__markAsSeen=function(ca,da){'use strict';if(!this.$MercuryChannelHandler15(ca)||!da.obj||!da.obj.seen_timestamp)return;this.__payloadPreprocessor.handleUpdate({message_counts:[{seen_timestamp:da.obj.seen_timestamp,folder:w.INBOX}],unseen_thread_fbids:[{thread_fbids:[],other_user_fbids:[],folder:w.INBOX}],payload_source:q.CLIENT_CHANNEL_MESSAGE});};ba.prototype.__updateModelsFromMercuryPayload=function(ca,da){'use strict';if(!this.$MercuryChannelHandler16(ca)||!da.obj)return;this.$MercuryChannelHandler2.synchronizeInforms(function(){var ea=da.obj,fa=[];(ea.actions||[]).forEach(function(ga){var ha=j.USER_GENERATED_MESSAGE;if(ga.action_type==j.LOG_MESSAGE){if(this.__shouldDropLogMessageBecauseOfSync(ga))return;var ia=q.CLIENT_CHANNEL_MESSAGE,ja;ja=ga.other_user_fbid||ga.thread_fbid;this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},ga)],payload_source:ia},ja);}else if(ga.action_type!=ha)fa.push(ga);},this);ea.actions=fa;ea.payload_source=q.CLIENT_CHANNEL_MESSAGE;this.__payloadPreprocessor.handleUpdate(ea);}.bind(this));};ba.prototype.$MercuryChannelHandler17=function(ca,da){var ea,fa;'use strict';if(l.WWWSyncReadReceipt)return;var ga=da.obj.time,ha=da.obj.reader,ia=da.obj.thread_fbid||'';this.__payloadPreprocessor.handleUpdate({roger:(fa={},fa[ia]=(ea={},ea[ha]=ga,ea),fa)});};ba.prototype.$MercuryChannelHandler18=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj||da.obj.message_blocked===undefined||!da.obj.thread_fbid)return;var ea=j.UPDATE_BLOCKER_STATUS,fa=[{action_type:ea,action_id:null,thread_fbid:da.obj.thread_fbid,message_blocked:da.obj.message_blocked,is_blocked_by_recipient:da.obj.is_blocked_by_recipient}];this.__payloadPreprocessor.handleUpdate({actions:fa,payload_source:q.CLIENT_CHANNEL_MESSAGE});};ba.prototype.$MercuryChannelHandler19=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj||da.obj.got_blocked===undefined||!da.obj.thread_fbid)return;var ea=j.UPDATE_BLOCKEE_STATUS,fa=[{action_type:ea,action_id:null,thread_fbid:da.obj.thread_fbid,got_blocked:da.obj.got_blocked}];this.__payloadPreprocessor.handleUpdate({actions:fa,payload_source:q.CLIENT_CHANNEL_MESSAGE});};ba.prototype.$MercuryChannelHandler20=function(ca,da){'use strict';if(!this.$MercuryChannelHandler6(ca)||!da.obj||da.obj.mute_settings===undefined||!da.obj.thread_fbid&&!da.obj.other_user_fbid)return;var ea=j.CHANGE_MUTE_SETTINGS,fa=[{action_type:ea,action_id:null,thread_fbid:da.obj.thread_fbid,other_user_fbid:da.obj.other_user_fbid,mute_settings:da.obj.mute_settings}];this.__payloadPreprocessor.handleUpdate({actions:fa,payload_source:q.CLIENT_CHANNEL_MESSAGE});};ba.prototype.__handleMessagingPayload=function(ca,da){'use strict';switch(da.obj.event){case v.DELIVER:this.$MercuryChannelHandler5(ca,da);break;case v.DELIVERY_RECEIPT:this.$MercuryChannelHandler7(ca,da);break;case v.READ:case v.UNREAD:this.$MercuryChannelHandler8(ca,da);break;case v.READ_ALL:this.$MercuryChannelHandler11(ca,da);break;case v.DELETE:this.$MercuryChannelHandler9(ca,da);break;case v.DELETE_MESSAGES:this.$MercuryChannelHandler10(ca,da);break;case v.TAG:this.$MercuryChannelHandler14(ca,da);break;case v.REPORT_SPAM:this.$MercuryChannelHandler13(ca,da);break;case v.READ_RECEIPT:this.$MercuryChannelHandler17(ca,da);break;case v.CHANGE_MUTE_SETTINGS:this.$MercuryChannelHandler20(ca,da);break;case v.UPDATE_BLOCKER_STATUS:this.$MercuryChannelHandler18(ca,da);break;case v.UPDATE_BLOCKEE_STATUS:this.$MercuryChannelHandler19(ca,da);break;}};ba.prototype.getRouting=function(){'use strict';return {mercury:this.__updateModelsFromMercuryPayload,messaging:this.__handleMessagingPayload,inbox:this.__markAsSeen};};ba.prototype.__getMessagingPayloadType=function(){'use strict';return i.getArbiterType('messaging');};ba.prototype.__getMercuryPayloadType=function(){'use strict';return i.getArbiterType('mercury');};ba.prototype.__getInboxPayloadType=function(){'use strict';return i.getArbiterType('inbox');};ba.prototype.$MercuryChannelHandler6=function(ca){'use strict';return ca==this.__getMessagingPayloadType();};ba.prototype.$MercuryChannelHandler16=function(ca){'use strict';return ca==this.__getMercuryPayloadType();};ba.prototype.$MercuryChannelHandler15=function(ca){'use strict';return ca==this.__getInboxPayloadType();};ba.prototype.turnOn=function(){'use strict';if(!this.$MercuryChannelHandler4.length){var ca=this.getRouting();for(var da in ca)this.$MercuryChannelHandler4.push(h.subscribe(i.getArbiterType(da),ca[da].bind(this)));}return this;};ba.prototype.turnOff=function(){'use strict';if(this.$MercuryChannelHandler4.length){this.$MercuryChannelHandler4.forEach(h.unsubscribe);this.$MercuryChannelHandler4=[];}return this;};ba.prototype.__shouldDropMessageBecauseOfSync=function(ca){'use strict';if(!ca.has_attachment&&l.WWWSyncMsgText){return true;}else if(ca.has_attachment&&l.WWWSyncMsgAttach)return true;return false;};ba.prototype.__shouldDropLogMessageBecauseOfSync=function(ca){'use strict';if(l.WWWSyncMsgLog)switch(ca.log_message_type){case o.UNSUBSCRIBE:case o.SUBSCRIBE:case o.THREAD_NAME:case o.VIDEO_CALL:case o.PHONE_CALL:case o.THREAD_IMAGE:case o.ORION:case o.PAGE_REPLY:case o.GENERIC_ADMIN_TEXT:return true;case o.SERVER_ERROR:case o.LIVE_LISTEN:case o.SWITCH_TO_WORK:case o.WALLPAPER:default:break;}return false;};Object.assign(ba,s);f.exports=ba;},null);
__d('LiveTimer',['CSS','DOM','ServerTime','fbt','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=1000,o=60,p=3600,q=43200,r=86400,s=60,t=60000,u={restart:function(v){j.update(v*1000);this.updateTimeStamps();},getApproximateServerTime:function(){return j.get();},getServerTimeOffset:function(){return -1*j.getSkew();},updateTimeStamps:function(){this.timestamps=i.scry(document.body,'abbr.livetimestamp');this.startLoop(t);},addTimeStamps:function(v){if(!v)return;this.timestamps=this.timestamps||[];if(i.isNodeOfType(v,'abbr')&&h.hasClass(v,'livetimestamp')){this.timestamps.push(v);}else{var w=i.scry(v,'abbr.livetimestamp');for(var x=0;x<w.length;++x)this.timestamps.push(w[x]);}this.startLoop(0);},removeTimestamp:function(v){if(!this.timestamps||!v)return;var w=this.timestamps.indexOf(v);if(w>-1)this.timestamps.splice(w,1);},startLoop:function(v){this.stop();this.timeout=setTimeout(function(){this.loop();}.bind(this),v);},stop:function(){clearTimeout(this.timeout);},loop:function(v){if(v)this.updateTimeStamps();var w=Math.floor(j.get()/n),x=-1;this.timestamps&&this.timestamps.forEach(function(z){var aa=z.getAttribute('data-utime'),ba=z.getAttribute('data-shorten'),ca=z.getAttribute('data-minimize'),da=this.renderRelativeTime(w,aa,ba,ca);if(da.text){var ea={'class':"timestampContent"},fa=i.scry(z,".timestampContent")[0],ga=fa&&fa.getAttribute('id');if(ga)ea.id=ga;i.setContent(z,i.create('span',ea,da.text));}if(da.next!=-1&&(da.next<x||x==-1))x=da.next;}.bind(this));if(x!=-1){var y=Math.max(t,x*n);this.timeout=setTimeout(function(){this.loop();}.bind(this),y);}},renderRelativeTime:function(v,w,x,y){var z={text:"",next:-1};if(v-w>r)return z;var aa=v-w,ba=Math.floor(aa/o),ca=Math.floor(ba/s);if(ba<1){if(y){z.text=k._("1m");z.next=20-aa%20;}else if(x){z.text=k._("Just now");z.next=20-aa%20;}else{z.text=k._("a few seconds ago");z.next=o-aa%o;}return z;}if(ca<1){if(y){z.text=k._({"*":"{number}m"},[k.param('number',ba,[0])]);}else if(x&&ba==1){z.text=k._("1 min");}else if(x){z.text=k._({"*":"{number} mins"},[k.param('number',ba,[0])]);}else z.text=ba==1?k._("about a minute ago"):k._({"*":"{number} minutes ago"},[k.param('number',ba,[0])]);z.next=o-aa%o;return z;}if(ca<11)z.next=p-aa%p;if(y){z.text=k._({"*":"{number}h"},[k.param('number',ca,[0])]);}else if(x&&ca==1){z.text=k._("1 hr");}else if(x){z.text=k._({"*":"{number} hrs"},[k.param('number',ca,[0])]);}else z.text=ca==1?k._("about an hour ago"):k._({"*":"{number} hours ago"},[k.param('number',ca,[0])]);return z;},renderRelativeTimeToServer:function(v,w,x){return this.renderRelativeTime(Math.floor(j.get()/n),v,w,x);}};f.exports=u;f.exports.CONSTS={MS_IN_SEC:n,SEC_IN_MIN:o,SEC_IN_HOUR:p,SEC_IN_12_HOUR:q,SEC_IN_24_HOUR:r,MIN_IN_HOUR:s,HEARTBEAT:t};},null);
__d('MercuryRoger',['Arbiter','ArbiterMixin','immutable','JSLogger','MercuryActionStatus','MercuryDispatcher','MercurySingletonProvider','MercuryThreads','mixin','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s;if(c.__markCompiled)c.__markCompiled();var t=l.SUCCESS;r=babelHelpers.inherits(u,p(i));s=r&&r.prototype;u.getForFBID=function(y){'use strict';return v.getForFBID(y);};u.get=function(){'use strict';return v.get();};function u(y){'use strict';s.constructor.call(this);this.$MercuryRoger1={};this.$MercuryRoger2=[];this.$MercuryRoger3=y;this.$MercuryRoger4=m.getForFBID(this.$MercuryRoger3);this.$MercuryRoger5=o.getForFBID(this.$MercuryRoger3);this.$MercuryRoger4.subscribe('update-roger',function(z,aa){for(var ba in aa){var ca=this.$MercuryRoger1[ba]||j.OrderedMap();ca=ca.withMutations(function(da){for(var ea in aa[ba]){var fa=this.$MercuryRoger5.getThreadMetaNow(ba);if(fa&&fa.participants)if(fa.participants.indexOf(ea)==-1){this.$MercuryRoger2.push(x(this.$MercuryRoger1));continue;}var ga=da.get(ea),ha=aa[ba][ea];if(!ga||ha>ga)da.set(ea,ha);}}.bind(this));this.$MercuryRoger1[ba]=ca.sort();}aa&&this.inform('change',aa);}.bind(this));this.$MercuryRoger4.subscribe('invalidate-global-state',function(){this.$MercuryRoger6();}.bind(this));h.subscribe(k.DUMP_EVENT,function(z,aa){aa.bad_read_receipts={receipts:this.$MercuryRoger2};}.bind(this));}u.prototype.getSeenBy=function(y,z){'use strict';if(!y)return [];var aa=[],ba=this.$MercuryRoger1[y.thread_id];if(!ba)return aa;ba.forEach(function(ca,da){if(w(y,ca,da,z))aa.push(da);});return aa;};u.prototype.wasSeenByAll=function(y){'use strict';if(!y)return false;var z=this.$MercuryRoger1[y.thread_id];if(!z)return false;return z.every(function(aa,ba){return w(y,aa,ba);});};u.prototype.getSeenTimestamps=function(y){'use strict';var z=this.$MercuryRoger1[y];if(!z){z=j.OrderedMap();this.$MercuryRoger1[y]=z;}return z;};u.prototype.getSeenTimestamp=function(y,z){'use strict';var aa=this.$MercuryRoger1[y];return aa?aa.get(z):null;};u.prototype.$MercuryRoger6=function(){'use strict';this.$MercuryRoger1={};this.$MercuryRoger2=[];};var v=new n(u);function w(y,z,aa,ba){return !!(z>=y.timestamp&&(y.status===undefined||y.status===t)&&(!ba||aa!=y.author));}function x(y){return q(y,function(z){return z.toJS();});}f.exports=u;},null);
__d('MercuryDelayedRoger',['ArbiterMixin','LiveTimer','MercuryActionStatus','MercuryConfig','setTimeoutAcrossTransitions','MercuryMessages','MercuryRoger','MercuryThreadInformer','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=c('MercuryMessages').get(),n=c('MercuryRoger').get(),o=c('MercuryThreadInformer').get(),p=c('MercuryThreads').get(),q={},r={},s=k['roger.seen_delay'],t={getSeenBy:function(z,aa){if(r[z])return [];return n.getSeenBy(u(z),aa);},wasSeenByAll:function(z){if(r[z])return false;return n.wasSeenByAll(u(z));}};Object.assign(t,h);function u(z){if(!q[z]){var aa=p.getThreadMetaNow(z);if(aa)q[z]={thread_id:z,author:aa.participants[0],timestamp:aa.timestamp};}return q[z];}function v(z){var aa=false;m.getThreadMessagesRange(z,0,1,function(ba){var ca=ba[0];if(!ca)return;var da=ca.timestamp;if(ca.action_id||ca.status==j.SUCCESS)da-=i.getServerTimeOffset();var ea=t.getSeenBy(z);if(r[z]){clearTimeout(r[z]);delete r[z];}var fa=da+s,ga=fa-Date.now();if(ga>0)r[z]=l(function(){delete r[z];w(z);},ga);q[z]=ca;var ha=t.getSeenBy(z);if(ea.length||ha.length)aa=true;});return aa;}function w(z){var aa={};aa[z]=true;x(aa);}function x(z){t.inform('state-changed',z);t.inform('change');}function y(event,z){var aa={};for(var ba in z)if(v(ba))aa[ba]=true;for(var ca in aa){x(aa);break;}}n.subscribe('change',function(z,aa){for(var ba in aa)!r[ba]&&w(ba);});o.subscribe('messages-received',y);o.subscribe('messages-reordered',y);o.subscribe('messages-updated',y);f.exports=t;},null);
__d('MercuryDeliveryReceipts',['ArbiterMixin','Map','MercuryDispatcher','MercurySingletonProvider','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,l(h));n=m&&m.prototype;function o(q){'use strict';n.constructor.call(this);this.$MercuryDeliveryReceipts2=q;this.$MercuryDeliveryReceipts3=new i();this.$MercuryDeliveryReceipts1=j.getForFBID(this.$MercuryDeliveryReceipts2);this.$MercuryDeliveryReceipts1.subscribe('update-delivery',function(r,s){if(s.delivery_receipts)for(var t in s.delivery_receipts){var u=s.delivery_receipts[t],v=this.$MercuryDeliveryReceipts3.get(t)||0;if(u>v){this.$MercuryDeliveryReceipts3.set(t,u);this.informDeliveryStatusChanged(t);}}}.bind(this));}o.getForFBID=function(q){'use strict';return p.getForFBID(q);};o.get=function(){'use strict';return p.get();};o.prototype.informDeliveryStatusChanged=function(q){'use strict';var r=new i();r.set(q,true);this.inform('change',r);};o.prototype.getDeliveryTime=function(q){'use strict';return this.$MercuryDeliveryReceipts3.get(q)||0;};var p=new k(o);f.exports=o;},null);
__d('MercuryDeliveryState',['MercuryConfig','MercuryIDs','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap','MercuryThreadInformer','PresencePrivacy','UserActivity','debounceAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=h.delivery_timeout||120000;r.getForFBID=function(t){return s.getForFBID(t);};r.get=function(){return s.get();};function r(t){this.$MercuryDeliveryState1=t;this.$MercuryDeliveryState2=j.getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState3=m.getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState4=l.getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState5=[];this.$MercuryDeliveryState6=[];this.$MercuryDeliveryState3.subscribe('messages-received',this.$MercuryDeliveryState7.bind(this));o.subscribe(p(this.$MercuryDeliveryState8,300,this));}r.prototype.$MercuryDeliveryState7=function(t,u){for(var v in u){var w=u[v];w.forEach(function(x){if(this.$MercuryDeliveryState9(x)){this.$MercuryDeliveryState5.push(x);this.$MercuryDeliveryState4.getServerIDFromClientID(v,function(y){if(!this.$MercuryDeliveryState6[y])this.$MercuryDeliveryState6[y]=[];this.$MercuryDeliveryState6[y].push(x.message_id);}.bind(this));}}.bind(this));}if(o.isActive(q))this.$MercuryDeliveryState8();};r.prototype.$MercuryDeliveryState8=function(){if(this.$MercuryDeliveryState5.length===0&&this.$MercuryDeliveryState6.length===0)return;var t=this.$MercuryDeliveryState5.map(function(u){return u.message_id;});if(t)this.$MercuryDeliveryState2.sendDeliveryReceipts(t,this.$MercuryDeliveryState6);this.$MercuryDeliveryState6=[];this.$MercuryDeliveryState5=[];};r.prototype.$MercuryDeliveryState9=function(t){var u=t.author?i.getUserIDFromParticipantID(t.author):null;if(u===this.$MercuryDeliveryState1)return false;if(!t.is_unread)return false;if(!n.allows(u))return false;return true;};var s=new k(r);f.exports=r;},null);
__d('MercuryOrderedThreadlist',['LogHistory','MercuryActionType','MercuryDispatcher','MercuryFilters','MercuryFolders','MercuryPayloadSource','MercurySingletonMixin','MercuryThreadIDMap','MessagingTag','PageMessageEnumTag','RangedCallbackManager','MercuryServerRequests','MercuryThreadInformer','MercuryThreads','arrayContains'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=h.getInstance('ordered_threadlist_model'),x=k.getSupportedFilters().concat([k.ALL,p.GROUPS]),y=l.getSupportedFolders().concat([p.SPAM]);function z(ja,ka,la,ma){var na=[],oa=false,pa=false,qa=(ka||[]).filter(function(xa){var ya=xa.filter||k.ALL;return (xa.folder==la||!xa.folder&&la==p.INBOX)&&ya==ma;}),ra=ja._threadlistOrderMap[la][ma].getAllResources(),sa;qa.forEach(function(xa){na=na.concat(xa.thread_ids);if(xa.error){if(xa.end>ra.length)pa=xa.error;}else{var ya=xa.end-xa.start;if(xa.thread_ids.length<ya)oa=true;}if(!sa||xa.end>sa)sa=xa.end;});da(ja,na,la,ma);if(oa){ja._threadlistOrderMap[la][ma].setReachedEndOfArray();}else if(pa){ja._threadlistOrderMap[la][ma].setError(pa);}else{var ta=ja._threadlistOrderMap[la][ma].getCurrentArraySize();if(sa&&ta<sa){var ua={},va=ra.concat(na),wa=va.filter(function(xa){var ya=ua[xa];ua[xa]=true;return ya;});if(wa.length){w.warn('duplicate_threads',JSON.stringify({folder:la,expected_final_size:sa,actual_final_size:ta,duplicate_thread_ids:wa}));ja._serverRequests.fetchThreadlistInfo(sa,wa.length,la,ma==k.ALL?null:ma);}}}}function aa(ja,ka){y.forEach(function(la){x.forEach(function(ma){z(ja,ka,la,ma);});});}function ba(ja,ka){var la={};y.forEach(function(ma){la[ma]={};x.forEach(function(na){la[ma][na]={to_add:[],to_remove:[],to_remove_if_last_after_add:{}};});});ka.forEach(function(ma){if(ma.is_forward)return;var na=ma.thread_id,oa=ea(ja,na),pa=fa(ja,na);function qa(){pa.forEach(function(sa){if(!v(x,sa))return;la[oa][sa].to_add.push(na);if(!ja._threadlistOrderMap[oa][sa].hasReachedEndOfArray()&&!ja._threadlistOrderMap[oa][sa].hasResource(na))la[oa][sa].to_remove_if_last_after_add[na]=true;});}function ra(sa){if(v(x,sa))if(v(pa,sa)){la[oa][sa].to_add.push(na);}else la[oa][sa].to_remove.push(na);}if(!oa){if(ma.action_type===i.CHANGE_FOLDER||ma.action_type===i.CHANGE_ARCHIVED_STATUS)y.forEach(function(sa){if(sa!==oa)x.forEach(function(ta){ja._threadlistOrderMap[sa][ta].removeResources([na]);});});return;}switch(ma.action_type){case i.DELETE_THREAD:pa.forEach(function(sa){if(!v(x,sa))return;la[oa][sa].to_remove.push(na);});break;case i.CHANGE_ARCHIVED_STATUS:case i.CHANGE_FOLDER:qa();break;case i.CHANGE_READ_STATUS:ra(p.UNREAD);break;case i.USER_GENERATED_MESSAGE:case i.LOG_MESSAGE:pa.forEach(function(sa){if(!v(x,sa))return;if(ga(ja,na,oa,sa))la[oa][sa].to_add.push(na);});break;case i.CHANGE_FLAG:ra(q.FLAG);break;}});y.forEach(function(ma){x.forEach(function(na){var oa=ja._threadlistOrderMap[ma][na];da(ja,la[ma][na].to_add,ma,na);for(var pa=oa.getCurrentArraySize()-1;pa>=0;pa--){var qa=oa.getResourceAtIndex(pa);if(!la[ma][na].to_remove_if_last_after_add[qa])break;la[ma][na].to_remove.push(qa);}oa.removeResources(la[ma][na].to_remove);});});}function ca(ja,ka){var la={};y.forEach(function(ma){la[ma]={};x.forEach(function(na){la[ma][na]=[];});});ka.forEach(function(ma){var na=ea(ja,ma.thread_id),oa=fa(ja,ma.thread_id);if(na)oa.forEach(function(pa){if(ga(ja,ma.thread_id,na,pa))la[na][pa].push(ma.thread_id);});});y.forEach(function(ma){x.forEach(function(na){if(la[ma][na].length>0)da(ja,la[ma][na],ma,na);});});}function da(ja,ka,la,ma){ma=ma||k.ALL;ja._threadlistOrderMap[la][ma].addResources(ka);y.forEach(function(na){if(na!=la)ja._threadlistOrderMap[na][ma].removeResources(ka);});}function ea(ja,ka){var la=ja._threads.getThreadMetaNow(ka),ma=null;if(!la){ma='No thread metadata';}else if(!la.folder)ma='No thread folder';if(ma){var na={error:ma,tid:ka};w.warn('no_thread_folder',JSON.stringify(na));return null;}var oa=la.folder;if(la.is_archived)oa=p.ACTION_ARCHIVED;if(ja._threadlistOrderMap[oa]){return oa;}else return null;}function fa(ja,ka){var la=ja._threads.getThreadMetaNow(ka),ma=[k.ALL];if(!la){var na={error:'no_thread_metadata',tid:ka};w.warn('no_thread_metadata',JSON.stringify(na));return [];}if(la.unread_count)ma.push(p.UNREAD);if(!la.is_canonical)ma.push(p.GROUPS);var oa=la.page_thread_info;if(oa&&oa.flagged)ma.push(q.FLAG);return ma;}function ga(ja,ka,la,ma){var na=ja._threads.getThreadMetaNow(ka);return !!(na&&na.timestamp&&ea(ja,ka)==la&&v(fa(ja,ka),ma));}function ha(ja){this._fbid=ja;this._serverRequests=s.getForFBID(this._fbid);this._threadIDMap=o.getForFBID(this._fbid);this._threadInformer=t.getForFBID(this._fbid);this._threads=u.getForFBID(this._fbid);this._dispatcher=j.getForFBID(this._fbid);this._threadlistOrderMap={};this._initializeThreadlistOrderMap();this._dispatcher.subscribe('update-threadlist',function(ka,la){if(!ia(la))return;var ma=la.ordered_threadlists;if(ma&&ma.length){aa(this,ma);}else{var na=(la.actions||[]).filter(function(oa){return oa.thread_id;});ca(this,la.threads||[]);ba(this,na);}this._threadInformer.updatedThreadlist();}.bind(this));this._dispatcher.subscribe('invalidate-global-state',function(){return this._invalidateGlobalState();}.bind(this));}Object.assign(ha.prototype,{getThreadlistOrderMap:function(ja,ka){if(!this._threadlistOrderMap[ja][ka]){x=x.concat([ka]);y.forEach(function(la){this._threadlistOrderMap[la][ka]=new r(function(ma){return this._threads.getThreadMetaNow(ma).timestamp;}.bind(this),function(ma,na){return na-ma;},this._threadIDMap.canLinkExternally.bind(this._threadIDMap));}.bind(this));}return this._threadlistOrderMap[ja][ka];},getThreadlist:function(ja,ka,la,ma,na,oa){return this.getFilteredThreadlist(ja,ka,la,k.ALL,ma,na,oa);},getFilteredThreadlist:function(ja,ka,la,ma,na,oa,pa){var qa=this.getThreadlistOrderMap(la,ma),ra=qa.executeOrEnqueue(ja,ka,na,oa),sa=qa.getUnavailableResources(ra),ta=qa.getError(ja,ka,oa);if(sa.length||ta){if(qa.getCurrentArraySize()<ja){var ua={start:ja,limit:ka,filter:ma,resources_size:qa.getCurrentArraySize()};w.warn('range_with_gap',JSON.stringify(ua));}qa.setError(false);this._serverRequests.fetchThreadlistInfo(qa.getCurrentArraySize(),sa.length,la,ma==k.ALL?null:ma,pa);}return ra;},getThreadlistUntilTimestamp:function(ja,ka,la){la=la||k.ALL;return this.getThreadlistOrderMap(ka,la).getElementsUntil(ja);},getAvailableThreadlistNow:function(ja,ka){ka=ka||k.ALL;return this.getThreadlistOrderMap(ja,ka).getAllResources();},getThreadCount:function(ja,ka){ka=ka||k.ALL;return this.getThreadlistOrderMap(ja,ka).getCurrentArraySize();},hasLoadedThreadlist:function(ja,ka){ka=ka||k.ALL;return this.getThreadlistOrderMap(ja,ka).hasReachedEndOfArray();},unsubscribe:function(ja,ka,la){la=la||k.ALL;this.getThreadlistOrderMap(ka,la).unsubscribe(ja);},_invalidateGlobalState:function(){this._threadlistOrderMap={};this._initializeThreadlistOrderMap();},_initializeThreadlistOrderMap:function(){y.forEach(function(ja){this._threadlistOrderMap[ja]={};x.forEach(function(ka){this._threadlistOrderMap[ja][ka]=new r(function(la){return this._threads.getThreadMetaNow(la).timestamp;}.bind(this),function(la,ma){return ma-la;},this._threadIDMap.canLinkExternally.bind(this._threadIDMap));}.bind(this));}.bind(this));}});Object.assign(ha,n);function ia(ja){switch(ja.payload_source){case m.CLIENT_CHANGE_ARCHIVED_STATUS:case m.CLIENT_CHANGE_READ_STATUS:case m.CLIENT_CHANGE_FOLDER:case m.CLIENT_CHANNEL_MESSAGE:case m.CLIENT_DELETE_MESSAGES:case m.CLIENT_DELETE_THREAD:case m.CLIENT_SEND_MESSAGE:case m.SERVER_SEND_MESSAGE:case m.SERVER_FETCH_THREADLIST_INFO:case m.SERVER_THREAD_SYNC:case m.SERVER_INVALIDATE_GLOBAL_STATE:return true;case m.SERVER_INITIAL_DATA:return !!ja.ordered_threadlists;default:return false;}}f.exports=ha;},null);
__d('MercuryStateCheck',['Arbiter','ChannelConstants','LogHistory','MercuryAPIArgsSource','MercuryConfig','MercuryFolders','MercuryOrderedThreadlist','MercuryServerRequests','MercurySingletonProvider','MercurySyncFakeDFFSender','MessagingTag','URI','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=j.getInstance('mercury_state_check');v.getForFBID=function(x){'use strict';return w.getForFBID(x);};v.get=function(){'use strict';return w.get();};function v(x){'use strict';this.$MercuryStateCheck1=x;this.$MercuryStateCheck3=o.getForFBID(this.$MercuryStateCheck1);this.$MercuryStateCheck2=n.getForFBID(this.$MercuryStateCheck1);h.subscribe(i.ON_INVALID_HISTORY,this.$MercuryStateCheck4.bind(this,i.ON_INVALID_HISTORY));t('ChannelConnection',function(y){y.subscribe(y.CONNECTED,function(z,aa){if(!aa.init)this.$MercuryStateCheck5(y.CONNECTED);}.bind(this));}.bind(this));}v.prototype.$MercuryStateCheck4=function(x){'use strict';var y;if(s.getRequestURI().getPath().search(/messages/)!==-1){y=m.getSupportedFolders();}else y=[r.INBOX];u.debug('check',JSON.stringify({folders:y,source:x}));if(l.WWWSyncGlobalDFFOnChannelReconnect){q.sendGlobalDFF();}else this.$MercuryStateCheck3.fetchMissedMessages(y,k.MERCURYSYNC);};v.prototype.$MercuryStateCheck5=function(x){'use strict';var y=this.$MercuryStateCheck2.getAvailableThreadlistNow(r.INBOX)||[];y=y.slice(0,20);u.debug('full_check',JSON.stringify({source:x}));this.$MercuryStateCheck3.fetchThreadData(y,k.MERCURYSYNC);this.$MercuryStateCheck4(x);};var w=new p(v);f.exports=v;},null);
__d('MercurySyncDeltaHolder',['Map'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(){this.$MercurySyncDeltaHolder1=new h();this.$MercurySyncDeltaHolder2=[];}i.prototype.peek=function(){this.$MercurySyncDeltaHolder2=this.$MercurySyncDeltaHolder2.sort(function(j,k){return j-k;});return this.$MercurySyncDeltaHolder2[0];};i.prototype.pop=function(){this.$MercurySyncDeltaHolder2=this.$MercurySyncDeltaHolder2.sort(function(l,m){return l-m;});if(this.$MercurySyncDeltaHolder2.length===0)return undefined;var j=this.$MercurySyncDeltaHolder2.shift(),k=this.$MercurySyncDeltaHolder1.get(j);this.$MercurySyncDeltaHolder1['delete'](j);return {seqID:j,delta:k};};i.prototype.push=function(j,k){if(this.$MercurySyncDeltaHolder1.has(j))return;this.$MercurySyncDeltaHolder1.set(j,k);this.$MercurySyncDeltaHolder2.push(j);};f.exports=i;},null);
__d('MercurySyncDispatcher',['Arbiter','Map','MercuryConfig','MercuryDelayedDispatcher','MercuryPayloadSource','MercuryServerPayloadPreprocessor','MercurySyncAdminTextMessageTransformer','MercurySyncDeliveryReceiptTransformer','MercurySyncHolesTypedLogger','MercurySyncMarkReadTransformer','MercurySyncMessageDeleteTransformer','MercurySyncNewMessageTransformer','MercurySyncReadReceiptTransformer','MercurySyncParticipantLeftGroupThreadTransformer','MercurySyncParticipantsAddedToGroupThreadTransformer','MercurySyncRTCEventLogTransformer','MercurySyncThreadDeleteTransformer','MercurySyncThreadNameTransformer','MercurySyncReplaceMessageTransformer','MercurySyncDeltaTypes','MercurySyncTopicType','MercurySingletonProvider'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){'use strict';if(c.__markCompiled)c.__markCompiled();da.getForFBID=function(fa){return ea.getForFBID(fa);};da.get=function(){return ea.get();};function da(fa){this.$MercurySyncDispatcher1=fa;this.$MercurySyncDispatcher2=k.getForFBID(this.$MercurySyncDispatcher1);this.$MercurySyncDispatcher3=m.getForFBID(this.$MercurySyncDispatcher1);}da.prototype.process=function(fa){var ga;switch(fa['class']){case aa.NewMessage:if(!this.$MercurySyncDispatcher4(fa))break;ga=s.transform(this.$MercurySyncDispatcher1,fa);this.$MercurySyncDispatcher5(ga);break;case aa.ReplaceMessage:if(!this.$MercurySyncDispatcher4(fa))break;ga=z.transform(this.$MercurySyncDispatcher1,fa);this.$MercurySyncDispatcher5(ga);break;case aa.DeliveryReceipt:if(!j.WWWSyncDeliveryReceipt)break;ga=o.transform(fa);this.$MercurySyncDispatcher3.handleUpdate(ga);break;case aa.MarkRead:if(!j.WWWSyncMarkRead)break;ga=q.transform(fa);this.$MercurySyncDispatcher6(ga);break;case aa.ParticipantLeftGroupThread:if(!j.WWWSyncMsgLog)break;ga=u.transform(this.$MercurySyncDispatcher1,fa);this.$MercurySyncDispatcher5(ga);break;case aa.ParticipantsAddedToGroupThread:if(!j.WWWSyncMsgLog)break;ga=v.transform(this.$MercurySyncDispatcher1,fa);this.$MercurySyncDispatcher5(ga);break;case aa.RTCEventLog:if(!j.WWWSyncMsgLog)break;ga=w.transform(this.$MercurySyncDispatcher1,fa);this.$MercurySyncDispatcher5(ga);break;case aa.ThreadName:if(!j.WWWSyncMsgLog)break;ga=y.transform(this.$MercurySyncDispatcher1,fa);this.$MercurySyncDispatcher5(ga);break;case aa.ReadReceipt:if(!j.WWWSyncReadReceipt)break;ga=t.transform(fa);this.$MercurySyncDispatcher3.handleUpdate(ga);break;case aa.AdminTextMessage:if(!j.WWWSyncMsgLog)break;ga=n.transform(this.$MercurySyncDispatcher1,fa);this.$MercurySyncDispatcher5(ga);break;case aa.MessageDelete:if(!j.WWWSyncDeleteMessage)break;ga=r.transform(fa);this.$MercurySyncDispatcher5(ga);break;case aa.ThreadDelete:if(!j.WWWSyncThreadDelete)break;ga=x.transform(fa);this.$MercurySyncDispatcher6(ga);break;default:break;}};da.prototype.$MercurySyncDispatcher4=function(fa){var ga=!!fa.stickerId||fa.attachments&&!!fa.attachments.length;if(!ga&&!j.WWWSyncMsgText){return false;}else if(ga&&!j.WWWSyncMsgAttach)return false;return true;};da.prototype.$MercurySyncDispatcher5=function(fa){var ga=fa.other_user_fbid||fa.thread_fbid;this.$MercurySyncDispatcher2.handleUpdateWaitForThread({actions:[fa],payload_source:l.CLIENT_CHANNEL_MESSAGE},ga);};da.prototype.$MercurySyncDispatcher6=function(fa){this.$MercurySyncDispatcher3.handleUpdate({actions:fa,payload_source:l.CLIENT_CHANNEL_MESSAGE});};var ea=new ca(da);f.exports=da;},null);
__d('MercurySyncDataFetcherImpl',['Promise','AsyncRequest','MessagingConfig','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=5000;function m(o){return new h(function(p,q){n(o,p,q,0);});}function n(o,p,q,r){if(r>j.syncFetchRetries){q();return;}var s=r===0?0:j.syncFetchInitialTimeoutMs*Math.pow(j.syncFetchTimeoutMultiplier,r);k(function(){var t=false,u=function(){if(t)return;t=true;n(o,p,q,r+1);};new i().setURI(o).setHandler(function(v){t=true;p(v);}).setErrorHandler(u).setTimeoutHandler(l,u).setAllowCrossPageTransition(true).send();},s);}f.exports={fetch:m};},null);
__d('MercurySyncDataFetcher',['Promise','MessagingConfig','MercurySyncDataFetcherImpl','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=500;function m(){var p=0;for(var q=0;q<i.syncFetchRetries;q++){var r=q===0?0:i.syncFetchInitialTimeoutMs*Math.pow(i.syncFetchTimeoutMultiplier,q);p+=r+l;}return p;}var n=m();function o(p){return new h(function(q,r){j.fetch(p).done(q,r);k(r,n);});}f.exports={fetch:o};},null);
__d("XMercuryFetchMessageController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/fetch_message\/",{other_user_or_thread_fbid:{type:"Int",required:true},mid:{type:"String",required:true}});},null);
__d("XMercuryInvalidateGlobalStateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/invalidate_global_state\/",{thread_id_to_num_messages:{type:"IntToIntMap"}});},null);
__d("XMercuryInvalidateThreadStateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/invalidate_thread_state\/",{other_user_or_thread_fbid:{type:"Int",required:true},num_messages:{type:"Int",required:true}});},null);
__d('MercurySyncDFFDataFetcher',['Promise','AsyncRequest','MercuryMessages','MercuryThreads','MercuryThreadIDMap','MercurySingletonProvider','MercurySyncDataFetcher','XMercuryFetchMessageController','XMercuryInvalidateGlobalStateController','XMercuryInvalidateThreadStateController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();function r(t){this.$MercurySyncDFFDataFetcher1=t;this.__messages=j.getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threads=k.getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threadIDMap=l.getForFBID(this.$MercurySyncDFFDataFetcher1);}r.getForFBID=function(t){return s.getForFBID(t);};r.get=function(){return s.get();};r.prototype.fetchInvalidateGlobalState=function(){var t=p.getURIBuilder().setIntToIntMap('thread_id_to_num_messages',this.$MercurySyncDFFDataFetcher2()).getURI();return n.fetch(t);};r.prototype.fetchInvalidateThreadState=function(t,u){var v=3,w=t||u,x=this.__threadIDMap.getClientIDFromServerIDNow(w);if(!x)return h.resolve({getPayload:function(){return {};}});var y=this.__messages.getCurrentlyLoadedMessages(x).length,z=q.getURIBuilder().setInt('other_user_or_thread_fbid',w).setInt('num_messages',y+v).getURI();return n.fetch(z);};r.prototype.fetchInvalidateMessage=function(t,u,v){var w=o.getURIBuilder().setInt('other_user_or_thread_fbid',t||u).setString('mid',v).getURI();return n.fetch(w);};r.prototype.$MercurySyncDFFDataFetcher2=function(){var t=this.__threads.getAllLoadedClientThreadIDs(),u={};for(var v=t,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y,aa=this.__messages.getCurrentlyLoadedMessages(z);if(!aa||!aa.length)continue;var ba=this.__threadIDMap.getServerIDFromClientIDNow(z);if(!ba)continue;u[ba]=aa.length;}return u;};var s=new m(r);f.exports=r;},null);
__d('MercurySyncForcedFetchHandler',['Promise','MercurySingletonProvider','MercurySyncDFFDataFetcher','MercuryMessages','MercuryThreadIDMap'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(p){return {getPayload:function(){return {sequence_id:p};}};}n.getForFBID=function(p){return o.getForFBID(p);};n.get=function(){return o.get();};function n(p){this.$MercurySyncForcedFetchHandler1=p;this.$MercurySyncForcedFetchHandler2=k.getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler3=l.getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler4=j.getForFBID(this.$MercurySyncForcedFetchHandler1);}n.prototype.processMessageDFF=function(p,q,r,s){if(s){var t=q.otherUserFbId!==undefined?q.otherUserFbId.toString():q.threadFbId.toString(),u=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(t);if(u===undefined)return h.resolve(m(p));var v=this.$MercurySyncForcedFetchHandler2.getMessagesFromIDs([r]);if(v.length===0)return h.resolve(m(p));}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateMessage(q.otherUserFbId,q.threadFbId,r);};n.prototype.processThreadDFF=function(p,q,r){if(r){var s=q.otherUserFbId!==undefined?q.otherUserFbId.toString():q.threadFbId.toString(),t=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(s);if(t===undefined)return h.resolve(m(p));}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateThreadState(q.otherUserFbId,q.threadFbId);};n.prototype.processGlobalDFF=function(){return this.$MercurySyncForcedFetchHandler4.fetchInvalidateGlobalState();};var o=new i(n);f.exports=n;},null);
__d('MercurySyncDeltaHandler',['Arbiter','ChannelConstants','ChannelInitialData','LogHistory','MercuryConfig','MercuryDelayedDispatcher','MercuryPayloadSource','MercurySyncDeltaHolder','MercurySyncDeltaTypes','MercurySyncDispatcher','MercurySyncForcedFetchHandler','MercurySyncHolesTypedLogger','MercuryServerPayloadPreprocessor','MercurySyncTopicType','MercurySingletonProvider','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=k.getInstance('mercury_sync_delta_handler');y.getForFBID=function(aa){return z.getForFBID(aa);};y.get=function(){return z.get();};function y(aa){this.$MercurySyncDeltaHandler1=aa;this.$MercurySyncDeltaHandler2=q.getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler4=r.getForFBID(this.$MercurySyncDeltaHandler1);this.__payloadPreprocessor=t.getForFBID(this.$MercurySyncDeltaHandler1);this.__delayedDispatcher=m.getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler5=new o();this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler7=[];if(!j.channelConfig)return;this.$MercurySyncDeltaHandler3=j.channelConfig.sequenceId;h.subscribe('channel/message:delta',function(ba,ca){var da=ca&&ca.obj&&ca.obj.delta,ea=ca&&ca.obj&&ca.obj.iseq;if(!da||!ea)return;this.$MercurySyncDeltaHandler8(ea,u.DELTA);if(l.WWWSyncRaceConditionImprovements){this.$MercurySyncDeltaHandler5.push(ea,da);this.$MercurySyncDeltaHandler9();}else this.$MercurySyncDeltaHandler10(ea,da);}.bind(this));h.subscribe('channel/message:deltaflow',function(ba,ca){var da=ca&&ca.obj&&parseInt(ca.obj.sequencer,10);this.$MercurySyncDeltaHandler8(da,u.DELTAFLOW);}.bind(this));h.subscribe(i.getArbiterType(i.FAKE_DFF),function(ba,ca){var da=ca&&ca.obj&&ca.obj.delta;if(!da)return;this.$MercurySyncDeltaHandler7.push(da);this.$MercurySyncDeltaHandler9();}.bind(this));}y.prototype.$MercurySyncDeltaHandler9=function(){if(this.$MercurySyncDeltaHandler6)return;if(this.$MercurySyncDeltaHandler7.length>0){var aa=this.$MercurySyncDeltaHandler7.shift();this.$MercurySyncDeltaHandler10(this.$MercurySyncDeltaHandler3,aa);this.$MercurySyncDeltaHandler9();}var ba=this.$MercurySyncDeltaHandler5.peek();if(!ba)return;var ca=ba-this.$MercurySyncDeltaHandler3;if(ca===1){var da=this.$MercurySyncDeltaHandler5.pop();if(!da)return;var ea=da.seqID,fa=da.delta;this.$MercurySyncDeltaHandler10(ea,fa);this.$MercurySyncDeltaHandler9();}else if(ca>1){this.$MercurySyncDeltaHandler11();}else{this.$MercurySyncDeltaHandler5.pop();this.$MercurySyncDeltaHandler9();}};y.prototype.$MercurySyncDeltaHandler10=function(aa,ba){this.$MercurySyncDeltaHandler3=aa;if(ba['class']===p.ForcedFetch){if(!l.WWWSyncForcedFetch)return;x.debug('DFF',aa.toString());if(ba.threadKey!==undefined&&ba.messageId===undefined){this.$MercurySyncDeltaHandler12(aa,ba);}else if(ba.threadKey!==undefined&&ba.messageId!==undefined){this.$MercurySyncDeltaHandler13(aa,ba);}else this.$MercurySyncDeltaHandler14(aa);}else this.$MercurySyncDeltaHandler2.process(ba);};y.prototype.$MercurySyncDeltaHandler11=function(){x.debug('hole',JSON.stringify({$MercurySyncDeltaHandler3:this.$MercurySyncDeltaHandler3,nextSeqID:this.$MercurySyncDeltaHandler5.peek()}));var aa=this.$MercurySyncDeltaHandler5.peek();!!!aa?w(0):undefined;var ba=aa-1;this.$MercurySyncDeltaHandler14(ba);};y.prototype.$MercurySyncDeltaHandler15=function(aa,ba,ca,da){if(l.WWWSyncRaceConditionImprovements)!!this.$MercurySyncDeltaHandler6?w(0):undefined;this.$MercurySyncDeltaHandler6=true;x.debug('_scheduleDataFetch:start',JSON.stringify({seqID:aa}));ba().done(function(ea){x.debug('_scheduleDataFetch:success',JSON.stringify({seqID:aa}));ca(aa,ea);this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler9();}.bind(this),function(){x.debug('_scheduleDataFetch:failure',JSON.stringify({seqID:aa}));da(aa);this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler9();}.bind(this));};y.prototype.$MercurySyncDeltaHandler14=function(aa){this.$MercurySyncDeltaHandler15(undefined,function(){return this.$MercurySyncDeltaHandler4.processGlobalDFF();}.bind(this),function(ba,ca){var da=ca.getPayload();this.__payloadPreprocessor.handleUpdate(da);if(da.sequence_id)this.$MercurySyncDeltaHandler3=da.sequence_id;}.bind(this),function(){this.$MercurySyncDeltaHandler3=aa;}.bind(this));};y.prototype.$MercurySyncDeltaHandler12=function(aa,ba){this.$MercurySyncDeltaHandler15(aa,function(){return this.$MercurySyncDeltaHandler4.processThreadDFF(aa,ba.threadKey,ba.isLazy);}.bind(this),function(ca,da){this.__payloadPreprocessor.handleUpdate(da.getPayload());this.$MercurySyncDeltaHandler3=ca;}.bind(this),function(){var ca=babelHelpers['extends']({},ba);delete ca.threadKey;this.$MercurySyncDeltaHandler3=aa-1;this.$MercurySyncDeltaHandler5.push(aa,ca);}.bind(this));};y.prototype.$MercurySyncDeltaHandler13=function(aa,ba){this.$MercurySyncDeltaHandler15(aa,function(){return this.$MercurySyncDeltaHandler4.processMessageDFF(aa,ba.threadKey,ba.messageId,ba.isLazy);}.bind(this),function(ca,da){var ea=da.getPayload(),fa=ea.other_user_fbid?ea.other_user_fbid:ea.thread_fbid,ga=[babelHelpers['extends']({},ea)],ha=n.CLIENT_CHANNEL_MESSAGE;this.__delayedDispatcher.handleUpdateWaitForThread({actions:ga,payload_source:ha},fa);this.$MercurySyncDeltaHandler3=ca;}.bind(this),function(){var ca=babelHelpers['extends']({},ba);delete ca.messageId;this.$MercurySyncDeltaHandler3=aa-1;this.$MercurySyncDeltaHandler5.push(aa,ca);}.bind(this));};y.prototype.$MercurySyncDeltaHandler8=function(aa,ba){var ca=aa-this.$MercurySyncDeltaHandler3;if(ca!==1&&ca!==0){if(!l.WWWSyncHolesLogging)return;new s().setSeqID(aa).setDifference(ca).setTopicType(ba).log();}};var z=new v(y);f.exports=y;},null);
__d('MercuryUnreadState',['MercuryFolders','LogHistory','KeyedCallbackManager','MercuryActionType','MercuryDispatcher','MercuryGlobalActionType','MercurySingletonMixin','MercuryThreadlistConstants','MercuryThreadIDMap','MessagingTag','MercuryServerRequests','MercuryThreadInformer','MercuryThreads','arrayContains','createObjectFrom'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=(h.getSupportedFolders()||[]).filter(function(oa){return oa!=q.ACTION_ARCHIVED;}),x='unread_thread_hash',y='unseen_thread_list',z=o.MAX_UNREAD_COUNT,aa=i.getInstance('mercury_unread_state');function ba(oa){this._fbid=oa;this._serverRequests=r.getForFBID(this._fbid);this._threadIDMap=p.getForFBID(this._fbid);this._threadInformer=s.getForFBID(this._fbid);this._threads=t.getForFBID(this._fbid);this._dispatcher=l.getForFBID(this._fbid);this._allReadTimestamp={};this._threadReadTimestamp={};this._initialUnreadCount={};this._maxCount={};this._unreadResources={};w.forEach(function(pa){this._initialUnreadCount[pa]=0;this._maxCount[pa]=false;this._unreadResources[pa]=new j();}.bind(this));this._dispatcher.subscribe('update-unread',function(pa,qa){ga(this,qa);var ra=qa.global_actions||[];for(var sa=0;sa<ra.length;sa++){var ta=ra[sa];if(ta.action_type==m.MARK_ALL_READ)ja(this,ta.folder,ta.timestamp);}}.bind(this));this._dispatcher.subscribe('update-thread-ids',function(pa,qa){la(this,qa);}.bind(this));}Object.assign(ba.prototype,{getUnreadCount:function(oa){if(this.exceedsMaxCount(oa)){aa.error('unguarded_unread_count_fetch','{}');return 0;}return fa(this,oa);},exceedsMaxCount:function(oa){return this._maxCount[oa]||fa(this,oa)>z;},markFolderAsRead:function(oa){if(this._maxCount[oa]||fa(this,oa)>0)this._serverRequests.markFolderAsRead(oa);},getIsThreadUnread:function(oa,pa){var qa=pa||q.INBOX,ra=ea(this,qa);return ra&&ra[oa];}});Object.assign(ba,n);function ca(oa,pa,qa){oa._unreadResources[pa].setResource(x,qa);oa._unreadResources[pa].setResource(y,Object.keys(qa));}function da(oa,pa,qa){var ra=oa._unreadResources[pa].executeOrEnqueue(x,qa),sa=oa._unreadResources[pa].getUnavailableResources(ra);if(sa.length)oa._serverRequests.fetchUnreadThreadIDs(pa);}function ea(oa,pa){return oa._unreadResources[pa].getResource(x);}function fa(oa,pa){var qa=oa._unreadResources[pa].getResource(y);if(qa){return qa.length;}else return oa._initialUnreadCount[pa];}function ga(oa,pa){var qa;(pa.unread_thread_fbids||[]).forEach(function(ra){qa=ra.folder;if(!na(qa))return;var sa=ra.thread_fbids||[];sa=sa.concat(ra.other_user_fbids||[]);var ta=ka(oa,sa);ca(oa,qa,v(ta,true));if(ta.length>z)oa._maxCount[qa]=true;oa._threadInformer.updatedUnreadState();});(pa.message_counts||[]).forEach(function(ra){if(ra.unread_count===undefined)return;qa=ra.folder;if(ra.unread_count>z){oa._maxCount[qa]=true;ca(oa,qa,{});oa._threadInformer.updatedUnreadState();}else{oa._initialUnreadCount[qa]=ra.unread_count;if(oa._initialUnreadCount[qa]===0)ca(oa,qa,{});oa._threadInformer.updatedUnreadState();}});(pa.actions||[]).forEach(function(ra){if(ra.is_forward)return;var sa=k,ta=ra.other_user_fbid?ra.other_user_fbid:ra.thread_fbid,ua=ra.thread_id?ra.thread_id:ta;if(ra.action_type==sa.DELETE_THREAD){w.forEach(function(wa){ia(oa,wa,ua);});}else if(ra.action_type==sa.CHANGE_ARCHIVED_STATUS||ra.action_type==sa.CHANGE_FOLDER){var va=oa._threads.getThreadMetaNow(ra.thread_id);qa=h.getFromMeta(va);if(na(qa)&&va.unread_count>0)ha(oa,qa,ua);w.forEach(function(wa){if(wa!=qa)ia(oa,wa,ua);});}else{qa=ma(oa,ra);if(!na(qa))return;if(ra.action_type==sa.CHANGE_READ_STATUS){if(ra.mark_as_read){ia(oa,qa,ua,ra.timestamp);}else ha(oa,qa,ua,ra.timestamp);}else if(ra.action_type==sa.USER_GENERATED_MESSAGE||ra.action_type==sa.LOG_MESSAGE)if(ra.is_unread)ha(oa,qa,ua,ra.timestamp);}});}function ha(oa,pa,qa,ra){if(oa._maxCount[pa])return;da(oa,pa,function(sa){var ta=oa._allReadTimestamp[pa]||0,ua=oa._threadReadTimestamp[qa]||0,va=ra||Number.POSITIVE_INFINITY;if(va>=ta&&va>=ua&&!sa[qa]){sa[qa]=ra||0;ca(oa,pa,sa);oa._threadInformer.updatedUnreadState();}});}function ia(oa,pa,qa,ra){if(oa._maxCount[pa])return;da(oa,pa,function(sa){if(ra){var ta=oa._threadReadTimestamp[qa];if(!ta||ta<ra)oa._threadReadTimestamp[qa]=ra;}var ua=sa[qa];if(ra&&typeof ua=='number'&&ra<ua)return;if(qa in sa){delete sa[qa];ca(oa,pa,sa);oa._threadInformer.updatedUnreadState();}});}function ja(oa,pa,qa){oa._maxCount[pa]=false;ca(oa,pa,{});oa._allReadTimestamp[pa]=Math.max(oa._allReadTimestamp[pa]||0,qa||0);oa._threadInformer.updatedUnreadState();}function ka(oa,pa){return pa.map(oa._threadIDMap.convertThreadIDIfAvailable,oa._threadIDMap);}function la(oa,pa){w.forEach(function(qa){var ra=ea(oa,qa);if(!ra)return;for(var sa in pa){var ta=pa[sa];if(ra[sa]){ra[ta]=ra[sa];delete ra[sa];}}ca(oa,qa,ra);});}function ma(oa,pa){var qa=pa.thread_id?oa._threads.getThreadMetaNow(pa.thread_id):null;return qa?h.getFromMeta(qa):pa.folder;}function na(oa){return u(w,oa);}f.exports=ba;},null);
__d('MNCommerceActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({RECEIPT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},SHIPMENT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},DIALOG:{SHOW:null,HIDE:null},RETAIL_ITEM:{LOADED:null,LOAD_ERROR:null,RELOAD:null},PROMOTION_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null}});f.exports=i;},null);
__d('MNCommerceDialogStateStore',['FluxStore','MessengerDispatcher','MNCommerceActionTypes'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){l.constructor.call(this,i);this.$MNCommerceDialogStateStore1=null;this.$MNCommerceDialogStateStore2=null;}m.prototype.__onDispatch=function(n){var o=n.type;switch(o){case j.DIALOG.SHOW:this.$MNCommerceDialogStateStore1=n.dialogContainer;this.$MNCommerceDialogStateStore2=n.state;this.__emitChange();break;case j.DIALOG.HIDE:this.$MNCommerceDialogStateStore1=null;this.$MNCommerceDialogStateStore2=null;this.__emitChange();break;}};m.prototype.getDialogContainer=function(){return this.$MNCommerceDialogStateStore1;};m.prototype.getState=function(){return this.$MNCommerceDialogStateStore2;};f.exports=new m();},null);
__d('MNCommerceDialogContainer.react',['MNCommerceDialogStateStore','PureStoreBasedStateMixin','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'MNCommerceDialogContainer',mixins:[i(h)],statics:{calculateState:function(){var l=h.getDialogContainer();return {dialogContainer:l};}},render:function(){var l=this.state.dialogContainer;if(!l)return null;return j.createElement(l,null);}});f.exports=k;},null);
__d('getInlineBoundingRect',['Rect'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=j.getClientRects();if(!k||l.length===0)return h.getElementBounds(j);var m,n=false;for(var o=0;o<l.length;o++){var p=new h(Math.round(l[o].top),Math.round(l[o].right),Math.round(l[o].bottom),Math.round(l[o].left),'viewport').convertTo('document'),q=p.getPositionVector(),r=q.add(p.getDimensionVector());if(!m||q.x<=m.l&&q.y>m.t){if(n)break;m=new h(q.y,r.x,r.y,q.x,'document');}else{m.t=Math.min(m.t,q.y);m.b=Math.max(m.b,r.y);m.r=r.x;}if(p.contains(k))n=true;}if(!m)m=h.getElementBounds(j);return m;}f.exports=i;},null);
__d('Tooltip',['AsyncRequest','ContextualLayer','ContextualLayerAutoFlip','CSS','DOM','Event','Style','TooltipData','Vector','emptyFunction','fbt','getElementText','getInlineBoundingRect','getOrCreateDOMID','nl2br','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=null,y=null,z=null,aa=null,ba=null,ca=null,da=[],ea=[];function fa(){if(!aa){ba=l.create('div',{className:'tooltipContent','data-testid':'tooltip_testid'});ca=u(ba);var ja=l.create('i',{className:'arrow'}),ka=l.create('div',{className:'uiTooltipX'},[ba,ja]);aa=new i({},ka);aa.shouldSetARIAProperties(false);aa.enableBehavior(j);}}function ga(ja,ka){ia._show(ja,r._("Loading..."));new h(ka).setHandler(function(la){ia._show(ja,la.getPayload());}).setErrorHandler(q).send();}var ha;m.listen(document.documentElement,'mouseover',function(event){ha=event;w(function(){ha=null;});});var ia=babelHelpers['extends']({},o,{isActive:function(ja){return ja===x;},process:function(ja,ka){if(!l.contains(ja,ka))return;if(ja!==x){ia.fetchIfNecessary(ja);var la=ja.getAttribute('data-tooltip-delay');if(la){la=parseInt(la,10)||1000;ia._showWithDelay(ja,la);}else ia.show(ja);}},fetchIfNecessary:function(ja){var ka=ja.getAttribute('data-tooltip-uri');if(ka){ja.removeAttribute('data-tooltip-uri');ga(ja,ka);}},hide:function(){if(x){aa.hide();x=null;while(da.length)da.pop().remove();}},_show:function(ja,ka){ia._store({context:ja,content:ka});ia.isActive(ja)&&ia.show(ja);},show:function(ja){var ka=function(){ja.setAttribute('aria-describedby',ca);aa.show();},la=function(){ja.removeAttribute('aria-describedby');ia.hide();},ma=function(xa){if(!l.contains(x,xa.getTarget()))la();};fa();la();var na=ia._get(ja);if(na.suppress)return;var oa=na.content;if(na.overflowDisplay){if(ja.offsetWidth>=ja.scrollWidth)return;if(!oa)oa=s(ja);}if(!oa)return;var pa=0,qa=0;if(na.position==='left'||na.position==='right'){qa=(ja.offsetHeight-28)/2;}else if(na.alignH!=='center'){var ra=ja.offsetWidth;if(ra<32)pa=(ra-32)/2*(na.alignH==='right'?-1:1);}aa.setContextWithBounds(ja,t(ja,ha&&p.getEventPosition(ha))).setOffsetX(pa).setOffsetY(qa).setPosition(na.position).setAlignment(na.alignH);if(typeof oa==='string'){k.addClass(aa.getRoot(),'invisible_elem');var sa=l.create('span',{},v(oa));if(na.textDirection)sa=l.create('bdo',{dir:na.textDirection},sa);var ta=l.create('div',{className:'tooltipText'},sa);l.setContent(ba,ta);ka();var ua;if(ta.getClientRects){var va=ta.getClientRects()[0];if(va)ua=Math.ceil(va.right-va.left);}if(!ua)ua=ta.offsetWidth;if(ua<sa.offsetWidth){k.addClass(ta,'tooltipWrap');aa.updatePosition();}k.removeClass(aa.getRoot(),'invisible_elem');}else{l.setContent(ba,oa);ka();}da.push(m.listen(document.documentElement,'mouseover',ma),m.listen(document.documentElement,'focusin',ma));var wa=n.getScrollParent(ja);if(wa!==window)da.push(m.listen(wa,'scroll',la));if(!na.persistOnClick)da.push(m.listen(ja,'click',la));x=ja;},_showWithDelay:function(ja,ka){if(ja!==y)ia._clearDelay();if(!z){var la=function(ma){if(!l.contains(y,ma.getTarget()))ia._clearDelay();};ea.push(m.listen(document.documentElement,'mouseover',la),m.listen(document.documentElement,'focusin',la));y=ja;z=setTimeout(function(){ia._clearDelay();ia.show(ja);},ka);}},_clearDelay:function(){clearTimeout(z);y=null;z=null;while(ea.length)ea.pop().remove();}});m.listen(window,'scroll',ia.hide);f.exports=ia;},null);
__d('MessengerBugNub.react',['Image.react','Link.react','ReactComponentWithPureRenderMixin','React','Tooltip','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=o('/images/mercury/clients/messenger/bug_nub/bugNub.png'),q=o('/images/mercury/clients/messenger/bug_nub/betaNub.png'),r=k.PropTypes,s=k.createClass({displayName:'MessengerBugNub',mixins:[j],propTypes:{isBetaEnabled:r.bool},render:function(){return (k.createElement('div',{className:"_4_xe"},this._renderBetaIcon(),k.createElement(i,babelHelpers['extends']({href:'#',ajaxify:'/ajax/bugs/employee_report',className:"_1fr8",rel:'dialog'},l.propsFor(n._("Report a bug"))),k.createElement(h,{src:p}))));},_renderBetaIcon:function(){if(!this.props.isBetaEnabled)return null;return (k.createElement('div',{className:"_1fr8",title:n._("Beta")},k.createElement(h,{src:q})));}});f.exports=s;},null);
__d('MercuryCanonicalGroupThreadManager',['KeyedCallbackManager','MercuryIDs','MercuryServerPayloadPreprocessor','MercurySingletonProvider','MercuryThreads','MercuryServerDispatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();function n(p){this.$MercuryCanonicalGroupThreadManager1=p;this.$MercuryCanonicalGroupThreadManager2=new h();this.$MercuryCanonicalGroupThreadManager3=j.getForFBID(this.$MercuryCanonicalGroupThreadManager1);this.$MercuryCanonicalGroupThreadManager4=l.getForFBID(this.$MercuryCanonicalGroupThreadManager1);this.$MercuryCanonicalGroupThreadManager5();}n.getForFBID=function(p){return o.getForFBID(p);};n.get=function(){return o.get();};n.prototype.getCanonicalGroupThreadIDForParticipants=function(p,q){if(p.indexOf(this.$MercuryCanonicalGroupThreadManager1)===-1)p.push(this.$MercuryCanonicalGroupThreadManager1);var r=this.$MercuryCanonicalGroupThreadManager6(p);this.$MercuryCanonicalGroupThreadManager2.setResource(r,undefined);var s=this.$MercuryCanonicalGroupThreadManager2.executeOrEnqueue(r,q);this.$MercuryCanonicalGroupThreadManager7(p);return s;};n.prototype.unsubscribe=function(p){if(p)this.$MercuryCanonicalGroupThreadManager2.unsubscribe(p);};n.prototype.$MercuryCanonicalGroupThreadManager6=function(p){return p.sort().join(',');};n.prototype.$MercuryCanonicalGroupThreadManager8=function(p,q){var r=i.getThreadIDFromThreadFBID(q);this.$MercuryCanonicalGroupThreadManager2.setResource(p,r);};n.prototype.$MercuryCanonicalGroupThreadManager7=function(p){var q={canonical_group_key:this.$MercuryCanonicalGroupThreadManager6(p),participants:p};m.trySend('/ajax/mercury/search_canonical_groups.php',q,null,this.$MercuryCanonicalGroupThreadManager1);};n.prototype.$MercuryCanonicalGroupThreadManager5=function(){m.registerEndpoints({'/ajax/mercury/search_canonical_groups.php':{request_user_id:this.$MercuryCanonicalGroupThreadManager1,mode:m.IMMEDIATE,handler:function(p){this.handleUpdate(p);}.bind(this)}});};n.prototype.handleUpdate=function(p){if(p.mercury_payload)this.$MercuryCanonicalGroupThreadManager3.handleUpdate(p.mercury_payload);var q=p.canonical_group;if(q)for(var r in q)this.$MercuryCanonicalGroupThreadManager8(r,q[r]);};var o=new k(n);f.exports=n;},null);
__d('AsyncUploadBase',['ArbiterMixin','AsyncRequest','AsyncResponse','BrowserSupport','Form','forEachObject','mixin','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;if(c.__markCompiled)c.__markCompiled();p=babelHelpers.inherits(r,n(h));q=p&&p.prototype;r.parseFiles=function(t){'use strict';var u={};m(t,function(v,w){if(Array.isArray(v)){u[w]=v;}else{u[w]=[];if(v instanceof window.FileList){for(var x=0;x<v.length;x++)u[w].push(v.item(x));}else if(v instanceof window.File||v instanceof window.Blob)u[w].push(v);}});return u;};function r(t){'use strict';q.constructor.call(this);this.setURI(t);this.setNetworkErrorRetryLimit(0);}r.prototype.setAllowCrossOrigin=function(t){'use strict';this._allowCrossOrigin=!!t;return this;};r.prototype.setAllowCrossPageTransition=function(t){'use strict';this._allowCrossPageTransition=!!t;return this;};r.prototype.setData=function(t){'use strict';this._data=t;return this;};r.prototype.setNetworkErrorRetryLimit=function(t){'use strict';this._retryLimit=t;return this;};r.prototype.setLimit=function(t){'use strict';this._limit=t;return this;};r.prototype.setPreprocessHandler=function(t){'use strict';this._preprocessHandler=t;return this;};r.prototype.setRelativeTo=function(t){'use strict';this._relativeTo=t;return this;};r.prototype.setStatusElement=function(t){'use strict';this._statusElement=t;return this;};r.prototype.setURI=function(t){'use strict';this._uri=t;return this;};r.prototype.suspend=function(){'use strict';this._suspended=true;return this;};r.prototype.resume=function(){'use strict';this._suspended=false;this._processQueue();return this;};r.prototype.isUploading=function(){'use strict';return this._inFlight;};r.prototype._createFileUpload=function(t,u,v){'use strict';return new s(t,u,v);};r.prototype._processQueue=function(){'use strict';if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var t=this._waiting.shift();if(this._preprocessHandler){this._preprocessHandler(t,this._processUpload.bind(this));}else this._processUpload(t);this._pending.push(t);}};r.prototype._processUpload=function(t){'use strict';var u=l.createFormData(t.getData()||this._data);if(t.getFile()){u.append(t.getName(),t.getFile());var v=t.getFile().uploadID;if(v)u.append('upload_id',v);}var w=new i().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(u).setStatusElement(this._statusElement).setHandler(this._success.bind(this,t)).setErrorHandler(this._failure.bind(this,t)).setUploadProgressHandler(this._progress.bind(this,t)).setInitialHandler(this._initial.bind(this,t));if(this._relativeTo)w.setRelativeTo(this._relativeTo);w.send();t.setAsyncRequest(w);this._inFlight=true;if(!t.getRetryCount())this.inform('start',t);};r.prototype._abort=function(t){'use strict';if(this._pending.indexOf(t)!==-1){o(this._pending,t);this._processQueue();}o(this._waiting,t);t.abort();};r.prototype._initial=function(t){'use strict';if(t.isAborted())return;this.inform('initial',t);};r.prototype._success=function(t,u){'use strict';if(t.isAborted()){this.inform('success_after_abort',u);return;}this._complete(t);this.inform('success',t.handleSuccess(u));this._processQueue();};r.prototype._retryUpload=function(t){'use strict';t.increaseRetryCount();this._processUpload(t);};r.prototype._failure=function(t,u){'use strict';if(t.isAborted())return;if(u.error===1004&&t.getRetryCount()<this._retryLimit)return this._retryUpload(t);this._complete(t);if(this.inform('failure',t.handleFailure(u))!==false)j.defaultErrorHandler(u);this._processQueue();};r.prototype._progress=function(t,event){'use strict';if(t.isAborted())return;this.inform('progress',t.handleProgress(event));};r.prototype._complete=function(t){'use strict';o(this._pending,t);if(!this._pending.length)this._inFlight=false;};r.isSupported=function(){'use strict';return k.hasFileAPI();};Object.assign(r.prototype,{_limit:10});function s(t,u,v){'use strict';this._name=t;this._file=u;this._data=v;this._success=null;this._response=null;this._progressEvent=null;this._request=null;this._numRetries=0;this._aborted=false;}s.prototype.getName=function(){'use strict';return this._name;};s.prototype.getFile=function(){'use strict';return this._file;};s.prototype.setFile=function(t){'use strict';this._file=t;};s.prototype.getData=function(){'use strict';return this._data;};s.prototype.isComplete=function(){'use strict';return this._success!==null;};s.prototype.isSuccess=function(){'use strict';return this._success===true;};s.prototype.getResponse=function(){'use strict';return this._response;};s.prototype.getProgressEvent=function(){'use strict';return this._progressEvent;};s.prototype.setAsyncRequest=function(t){'use strict';this._request=t;return this;};s.prototype.increaseRetryCount=function(){'use strict';this._numRetries++;return this;};s.prototype.getRetryCount=function(){'use strict';return this._numRetries;};s.prototype.isWaiting=function(){'use strict';return !this._request;};s.prototype.isAborted=function(){'use strict';return this._aborted;};s.prototype.abort=function(){'use strict';this._request=null;this._aborted=true;};s.prototype.handleSuccess=function(t){'use strict';this._success=true;this._response=t;this._progressEvent=null;return this;};s.prototype.handleFailure=function(t){'use strict';this._success=false;this._response=t;this._progressEvent=null;return this;};s.prototype.handleProgress=function(event){'use strict';this._progressEvent=event;return this;};f.exports=r;},null);
__d('AsyncUploadRequest',['AsyncUploadBase'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.setFiles=function(l){'use strict';this._files=h.parseFiles(l);return this;};k.prototype.abort=function(){'use strict';this._uploads.forEach(function(l){return this._abort(l);}.bind(this),this);};k.prototype.send=function(){'use strict';if(this._inFlight)return;this._inFlight=true;this._uploads=[];for(var l in this._files)this._files[l].forEach(function(m){this._uploads.push(this._createFileUpload(l,m));}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];if(this._uploads.length){this._processQueue();}else this._processUpload(this._createFileUpload(null,null));};k.prototype._processQueue=function(){'use strict';j._processQueue.call(this);if(!this._pending.length&&!this._waiting.length)this.inform('complete',this._uploads);};k.isSupported=function(){'use strict';return h.isSupported();};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('MercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','MercuryShareStyleMap','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l=j.createClass({displayName:'MercuryShareAttachmentSnippet',propTypes:{attachment:h,isSenderViewer:k.bool,senderName:k.string},render:function(){var m=i.getStyleFactory(this.props.attachment);if(m.factory&&!!m.factory.getSnippetComponent){var n=m.factory.getSnippetComponent();return (j.createElement(n,babelHelpers['extends']({},this.props,{attachment:m.attachment})));}return null;}});f.exports=l;},null);
__d('MercuryAttachmentSnippet.react',['EmoticonsList','Image.react','MercuryAttachment','MercuryAttachmentSnippetRenderer','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryIDs','MercuryShareAttachmentSnippet.react','MercuryParticipants','React','StickerConstants','TextWithEmoticons.react','cx','ix','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=q.PropTypes,y=q.createClass({displayName:'MercuryAttachmentSnippet',propTypes:{thread:x.object.isRequired,viewer:x.string.isRequired},componentWillMount:function(){this._ensureParticipant(this.props.thread.snippet_sender);this._setVariables(this.props);},componentWillReceiveProps:function(ba){this._ensureParticipant(ba.thread.snippet_sender);this._setVariables(ba);},componentWillUnmount:function(){this._cancelParticipantFetch();},render:function(){var ba=this._getSenderName(),ca=k.getAttachmentSnippetType(this._attachments);switch(ca){case l.PHOTO:return this._renderPhotoSnippet(ba);case l.GIF:return this._renderAnimatedImageSnippet(ba);case l.VIDEO:return this._renderVideoSnippet(ba);case l.AUDIO_CLIP:return this._renderAudioClipSnippet(ba);case l.STICKER:return this._renderStickerSnippet(ba);case l.SHARE:return this._renderShareSnippet(ba);case l.GIFT:return this._renderGiftSnippet(ba);case l.ERROR:return this._renderError(ba);default:return this._renderMixedSnippet(ba);}},_renderPhotoSnippet:function(ba){return this._renderSnippet(k.renderAttachmentSnippetText(l.PHOTO,this._isViewerSender,ba,this._attachments));},_renderAnimatedImageSnippet:function(ba){return this._renderSnippet(k.renderAttachmentSnippetText(l.GIF,this._isViewerSender,ba,this._attachments));},_renderVideoSnippet:function(ba){return this._renderSnippet(k.renderAttachmentSnippetText(l.VIDEO,this._isViewerSender,ba));},_renderAudioClipSnippet:function(ba){return this._renderSnippet(k.renderAttachmentSnippetText(l.AUDIO_CLIP,this._isViewerSender,ba));},_renderStickerSnippet:function(ba){if(z(this._attachments[0].metadata.stickerID)){var ca=q.createElement(s,{renderEmoticons:true,text:h.symbols.like});if(this._isViewerSender){return (q.createElement('span',null,v._("You: {conversation_snippet}",[v.param('conversation_snippet',ca)])));}else return (q.createElement('span',null,v._("{sender name}: {conversation_snippet}",[v.param('sender name',ba),v.param('conversation_snippet',ca)])));}else return (q.createElement('span',null,k.renderAttachmentSnippetText(l.STICKER,this._isViewerSender,ba)));},_renderShareSnippet:function(ba){if(!!this._attachments[0].share)return (q.createElement(o,{attachment:this._attachments[0].share,senderName:ba,isViewerSender:this._isViewerSender}));return this._renderSnippet(k.renderAttachmentSnippetText(l.SHARE,this._isViewerSender,ba));},_renderGiftSnippet:function(ba){return (q.createElement('span',null,k.renderAttachmentSnippetText(l.GIFT,this._isViewerSender,ba)));},_renderMixedSnippet:function(ba){return (q.createElement('span',null,this._attachments.filter(function(ca){return (ca.attach_type===m.FILE||ca.attach_type===m.PHOTO||ca.attach_type===m.VIDEO);}).map(function(ca,da){return this._renderSnippet(ca.name,ca.icon_type,da);}.bind(this))));},_renderSnippet:function(ba,ca,da){var ea=j.getAttachIconClass(ca||this._attachments[0].icon_type),fa=w(ea,"uiIconText _3l6h");return (q.createElement('span',{className:fa,key:da},q.createElement(i,{src:u('/images/messaging/docs/generic.png')}),ba));},_renderError:function(ba){var ca=k.renderAttachmentSnippetText(l.ERROR,this._isViewerSender,ba);return this._renderSnippet(ca);},_setVariables:function(ba){this._viewer=ba.viewer;this._sender=ba.thread.snippet_sender;this._attachments=ba.thread.snippet_attachments;this._isViewerSender=aa(this._sender,this._viewer);},_getSenderName:function(){if(!this._sender||this._isViewerSender)return null;var ba=p.getNow(this._sender);if(!ba)return null;var ca=n.getUserIDFromParticipantID(this._sender),da=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[ca];return da?da:ba.short_name;},_ensureParticipant:function(ba){if(!ba)return;this._cancelParticipantFetch();if(!p.getNow(ba))this._sub=p.get(ba,function(ca){return this.forceUpdate();}.bind(this));},_cancelParticipantFetch:function(){this._sub&&this._sub.remove();}});function z(ba){return (ba==r.LIKE_STICKER_ID||ba==r.HOT_LIKE_SMALL_STICKER_ID||ba==r.HOT_LIKE_MEDIUM_STICKER_ID||ba==r.HOT_LIKE_LARGE_STICKER_ID);}function aa(ba,ca){return !!(ba&&n.getParticipantIDFromUserID(ca)==ba);}f.exports=y;},null);
__d('MercuryThreadSnippet.react',['immutable','MercuryAttachmentSnippet.react','MercuryIDs','React','TextWithEmoticons.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MercuryThreadSnippet',propTypes:{participants:o.instanceOf(h.Map).isRequired,shouldAlwaysRenderSender:o.bool,shouldRenderYou:o.bool,thread:o.object.isRequired,viewer:o.string.isRequired},shouldComponentUpdate:function(s,t){return (this.props.shouldRenderYou!==s.shouldRenderYou||this.props.thread!==s.thread||this.props.viewer!==s.viewer||!h.is(s.participants,this.props.participants));},render:function(){return (k.createElement('span',{className:this.props.className},this._renderAttachmentIndicator(),this._renderSnippet()));},_renderAttachmentIndicator:function(){if(!this.props.thread.snippet||!q(this.props.thread))return null;return (k.createElement('span',{className:"_j0r"}));},_renderSnippet:function(){var s=this.props.thread,t=j.getParticipantIDFromUserID(this.props.viewer),u=this._renderInnerSnippet(),v=s.participants.length;if(s.is_subscribed)v--;if(s.snippet_has_attachment||!s.snippet_sender)return u;if(s.snippet_sender===t){if(!this.props.shouldRenderYou)return u;return n._("You: {conversation_snippet}",[n.param('conversation_snippet',u)]);}if(v<=1&&!this.props.shouldAlwaysRenderSender)return u;var w=this.props.participants.get(s.snippet_sender);if(!w||!w.short_name)return u;var x=w.short_name;if(s){var y=s.custom_nickname?s.custom_nickname:null,z=j.getUserIDFromParticipantID(w.id);if(y&&z&&y[z])x=y[z];}return n._("{name}: {conversation_snippet}",[n.param('name',x),n.param('conversation_snippet',u)]);},_renderInnerSnippet:function(){var s=this.props.thread,t=s.snippet;if(t&&t.startsWith('?OTR'))return n._("[encrypted message]");if(t)return (k.createElement(l,{renderEmoticons:true,renderEmoji:true,text:t.replace(/\r\n|[\r\n]/g,' ')}));if(q(s))return (k.createElement(i,{thread:s,viewer:this.props.viewer}));return null;}});function q(s){return (s.snippet_has_attachment&&s.snippet_attachments&&s.snippet_attachments.length>0);}function r(s){return !s.snippet&&q(s);}f.exports=p;},null);
__d('MercuryParticipantListRenderer',['fbt','MercuryIDs'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(){this.$MercuryParticipantListRenderer1=false;this.$MercuryParticipantListRenderer2=false;this.$MercuryParticipantListRenderer3=false;this.$MercuryParticipantListRenderer4=0;this.$MercuryParticipantListRenderer5=null;this.$MercuryParticipantListRenderer6=function(t){if(this.$MercuryParticipantListRenderer5){var u=i.getUserIDFromParticipantID(t.id);if(this.$MercuryParticipantListRenderer5[u])return this.$MercuryParticipantListRenderer5[u];}return this.$MercuryParticipantListRenderer2?t.short_name:t.name;}.bind(this);}j.prototype.renderParticipantList=function(t){var u=t.map(this.$MercuryParticipantListRenderer6);switch(u.length){case 0:return k(this.$MercuryParticipantListRenderer1);case 1:return l(u);case 2:return this.$MercuryParticipantListRenderer3?n(u):m(u);case 3:return this.$MercuryParticipantListRenderer3?p(u):o(u);default:return this.$MercuryParticipantListRenderer3?r(u,this.$MercuryParticipantListRenderer4):q(u,this.$MercuryParticipantListRenderer4);}};j.prototype.setIsNewThread=function(t){this.$MercuryParticipantListRenderer1=t;return this;};j.prototype.setNameRenderer=function(t){this.$MercuryParticipantListRenderer6=t;return this;};j.prototype.setUseShortName=function(t){this.$MercuryParticipantListRenderer2=t;return this;};j.prototype.setNickname=function(t){this.$MercuryParticipantListRenderer5=t;return this;};j.prototype.setUseAndSeparator=function(t){this.$MercuryParticipantListRenderer3=t;return this;};j.prototype.setTotalParticipantCount=function(t){this.$MercuryParticipantListRenderer4=t;return this;};function k(t){if(t){return h._("New Message");}else return h._("No Participants");}function l(t){return t[0];}function m(t){return h._("{participant1}, {participant2}",[h.param('participant1',t[0]),h.param('participant2',t[1])]);}function n(t){return h._("{participant1} and {participant2}",[h.param('participant1',t[0]),h.param('participant2',t[1])]);}function o(t){return h._("{participant1}, {participant2}, {participant3}",[h.param('participant1',t[0]),h.param('participant2',t[1]),h.param('participant3',t[2])]);}function p(t){return h._("{participant1}, {participant2} and {participant3}",[h.param('participant1',t[0]),h.param('participant2',t[1]),h.param('participant3',t[2])]);}function q(t,u){return h._("{participant1}, {participant2}, {participant3}, {others_link}",[h.param('participant1',t[0]),h.param('participant2',t[1]),h.param('participant3',t[2]),h.param('others_link',s((u||t.length)-3))]);}function r(t,u){return h._("{participant1}, {participant2} and {others_link}",[h.param('participant1',t[0]),h.param('participant2',t[1]),h.param('others_link',s((u||t.length)-2))]);}function s(t){if(t>1){return h._({"*":"{others_count} others"},[h.param('others_count',t,[0])]);}else return h._("1 other");}f.exports=j;},null);
__d('MercuryThreadTitle.react',['MercuryIDs','MercuryParticipantListRenderer','MercuryParticipants','React','TextWithEmoticons.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'MercuryThreadTitle',propTypes:{isNewThread:n.bool,thread:n.object.isRequired,viewer:n.string.isRequired,showUnreadCount:n.bool,useShortName:n.bool,useAndSeparator:n.bool},getDefaultProps:function(){return {isNewThread:false,showUnreadCount:false,useShortName:false,useAndSeparator:false};},getInitialState:function(){return {participantNames:''};},componentDidMount:function(){this._renderParticipantsList(this.props);},componentWillReceiveProps:function(p){this._renderParticipantsList(p);},render:function(){return (k.createElement('span',{className:this.props.className},this.props.thread.name?this._renderThreadTitle():this.state.participantNames,this.props.children));},getTitle:function(){return this.state.participantNames;},_renderThreadTitle:function(){var p=this.props.thread,q=k.createElement(l,{renderEmoticons:true,renderEmoji:true,text:p.name});if(!p.unread_count||!this.props.showUnreadCount)return q;return this._renderTitleWithUnreadCount(q,p.unread_count);},_renderParticipantsList:function(p){if(p.thread.name)return;var q=h.getParticipantIDFromUserID(p.viewer),r=p.thread.participants;if(r.length>1)r=r.filter(function(s){return s!=q;});j.getMulti(r,function(s){if(!this.isMounted())return;var t=r.map(function(x){return s[x];}),u=p.thread.custom_nickname?p.thread.custom_nickname:null,v=new i().setUseShortName(p.useShortName).setUseAndSeparator(p.useAndSeparator).setIsNewThread(p.isNewThread).setNickname(u).renderParticipantList(t),w=p.showUnreadCount&&p.thread.unread_count?this._renderTitleWithUnreadCount(v,p.thread.unread_count):v;this.setState({participantNames:w});}.bind(this));},_renderTitleWithUnreadCount:function(p,q){return m._("{conversation-title} ({unread-count})",[m.param('conversation-title',p),m.param('unread-count',q)]);}});f.exports=o;},null);
__d('MessengerConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={NEW_THREAD_KEY:'new'};f.exports=h;},null);
__d('MessengerTabIndices',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={NEW_MESSAGE_TOKENIZER:9998,COMPOSER_INPUT:9999};f.exports=h;},null);
__d("XShareScrapeAttachmentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/message_share_attachment\/fromURI\/",{});},null);
__d('MessengerURLUploader',['AsyncRequest','Event','SubscriptionsHandler','URLMatcher','XShareScrapeAttachmentAsyncController'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=l.getURIBuilder().getURI(),n=920,o=920;function p(q,r){this.$MessengerURLUploader3=q;this.$MessengerURLUploader5=new j();this.initInput(r);}p.prototype.getData=function(){return this.$MessengerURLUploader2;};p.prototype.initInput=function(q){this.$MessengerURLUploader5.addSubscriptions(i.listen(q,'keyup',this.handleInputValueChange.bind(this)),i.listen(q,'paste',this.handleInputValueChange.bind(this)));};p.prototype.handleInputValueChange=function(q){var r=this.$MessengerURLUploader3(),s=k.match(r);if(!!s){if(this.$MessengerURLUploader4!==s){this.$MessengerURLUploader4=s;this.$MessengerURLUploader2=null;this.loadShare();}}else{this.$MessengerURLUploader4=null;this.$MessengerURLUploader2=null;}};p.prototype.loadShare=function(){if(this.$MessengerURLUploader1&&this.$MessengerURLUploader1.abort)this.$MessengerURLUploader1.abort();if(this.$MessengerURLUploader4)this.$MessengerURLUploader1=new h().setMethod('POST').setURI(m).setData({uri:this.$MessengerURLUploader4,image_width:o,image_height:n,disallow_delayed:true}).setHandler(this.handleShareLoad.bind(this,this.$MessengerURLUploader4)).send();};p.prototype.handleShareLoad=function(q,r){if(q===this.$MessengerURLUploader4)this.$MessengerURLUploader2=(r.payload||0).share_data;};f.exports=p;},null);
__d('MessengerComposerInput.react',['CompositeDraftDecorator','DraftEditor.react','DraftModifier','DOMDimensions','EditorState','EmoticonSpan.react','Event','immutable','MercuryIDs','MercurySourceType','MercuryThreadIDMap','MercuryThreadSnippet.react','MercuryThreadTitle.react','MessengerConstants','MessengerDomIDs','MessengerEditorStateManager','MessengerTabIndices','MessengerURLUploader','ReactComponentWithPureRenderMixin','React','ReactDOM','Run','TypingDetectorController','clearImmediate','cx','debounce','fbt','getEntityMatcher','getVisibleValueForContentState','handleBeforeInputForEmoticon','handleSoftNewlineForEmoticon','insertEmoticonIntoEditorState','isSoftNewlineEvent','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){'use strict';if(c.__markCompiled)c.__markCompiled();var pa=aa.PropTypes,qa=/^image\//,ra=aa.createClass({displayName:'MessengerInput',mixins:[z],propTypes:{handleOnlyImageUploads:pa.bool,isComposing:pa.bool,onResize:pa.func,onMessageSend:pa.func,participants:pa.instanceOf(o.Map),thread:pa.object,threadID:pa.string,viewer:pa.string,onFileUpload:pa.func},getDefaultProps:function(){return {handleOnlyImageUploads:true};},getInitialState:function(){return {editorState:this._initEditorState(this.props.threadID===u.NEW_THREAD_KEY?l.createEmpty():w.get(this.props.threadID))};},componentDidMount:function(){this._oldHeight=k.getElementDimensions(ba.findDOMNode(this)).height;this._handleChangedThread();this._urlUploader=new y(this.getValue,ba.findDOMNode(this.refs.input));ca.onUnload(this._handleUnload);this._blurHandler=n.listen(window,'blur',this._handleUnload);this._focusHandler=n.listen(window,'focus',this._handlePageFocus);this._debouncedSaveCurrentEditorState=ga(function(){this._saveCurrentEditorState();}.bind(this),1000);},componentWillUpdate:function(sa){if(this.props.threadID!==sa.threadID)this._saveCurrentEditorState();},componentDidUpdate:function(sa){this._resizeHandle=oa(function(){var ta=k.getElementDimensions(ba.findDOMNode(this)).height;if(this._oldHeight!==ta)this.props.onResize();this._oldHeight=ta;}.bind(this));if(this.props.threadID!==sa.threadID)this._handleChangedThread();},componentWillUnmount:function(){this._typingDetector&&this._typingDetector.destroy();this.props.threadID&&this._saveCurrentEditorState();this._resizeHandle&&ea(this._resizeHandle);this._blurHandler.remove();this._focusHandler.remove();},insertEmoticon:function(sa){var ta=ma(sa,this.state.editorState);if(ta!==this.state.editorState)this._onChange(ta);},_onChange:function(sa){this.setState({editorState:sa});this._debouncedSaveCurrentEditorState();},_handleReturn:function(event){if(na(event)){var sa=la(this.state.editorState);if(sa===this.state.editorState)return false;this.setState({editorState:sa});return true;}if(this.getValue().trim().length>0)this._sendMessage();return true;},_handleChangedThread:function(){this._initializeTypingDetector();this.setState(this.getInitialState(),function(){if(this.props.threadID!==u.NEW_THREAD_KEY)oa(function(){this.focus();}.bind(this));}.bind(this));},_saveCurrentEditorState:function(){if(!this.props.threadID)return;w.set(this.props.threadID,this.state.editorState);},_resetState:function(sa){this.setState({editorState:this._initEditorState(l.createEmpty())},sa);},_initializeTypingDetector:function(){this._typingDetector&&this._typingDetector.destroy();this._typingDetector=null;if(this.props.threadID!==u.NEW_THREAD_KEY)this._typingDetector=new da(p.getUserIDFromThreadID(this.props.threadID),ba.findDOMNode(this.refs.input),q.MESSENGER_WEB,null,r.getForFBID(this.props.viewer).getServerIDFromClientIDNow(this.props.threadID),this.getValue);},_sendMessage:function(){if(this.props.onMessageSend&&this.props.onMessageSend(this.getValue(),{shareable_attachment:this.getShareData()})){this._typingDetector&&this._typingDetector.resetState();this._resetState(function(){return this._saveCurrentEditorState();}.bind(this));}},getValue:function(){return ja(this.state.editorState.getCurrentContent());},getInput:function(){return this.refs.input;},focus:function(){this.refs.input.focus();},render:function(){var sa=ha._("Type a message..."),ta=this.props,ua=ta.participants,va=ta.thread,wa=ta.viewer,xa=null;if(ua&&va&&wa){xa=ha._("Conversation with {participantListAsShownInThreadList}. Updated {lastUpdatedTime} by {recentUpdateStringAsShownInThreadList}",[ha.param('participantListAsShownInThreadList',this._renderThreadTitle(va,wa)),ha.param('lastUpdatedTime',va.timestamp_absolute),ha.param('recentUpdateStringAsShownInThreadList',this._renderThreadSnippet(ua,va,wa))]);}else xa=ha._("Composing a new message");return (aa.createElement('div',{className:"_kmc",onClick:this.focus},aa.createElement(i,{'aria-controls':v.CONVERSATION,ariaDescribedBy:v.COMPOSER_INPUT_DESCRIPTION,ariaLabel:sa,editorState:this.state.editorState,handleBeforeInput:this._handleBeforeInput,handlePastedFiles:this._handleFiles,handleReturn:this._handleReturn,onChange:this._onChange,placeholder:sa,ref:'input',spellCheck:true,stripPastedStyles:true,tabIndex:this.props.threadID===u.NEW_THREAD_KEY?x.COMPOSER_INPUT:0,textAlignment:'left'}),aa.createElement('div',{className:"_5ca7",id:v.COMPOSER_INPUT_DESCRIPTION},xa)));},_renderThreadTitle:function(sa,ta){return (aa.createElement(t,{thread:sa,viewer:ta}));},_renderThreadSnippet:function(sa,ta,ua){return (aa.createElement(s,{participants:sa,shouldAlwaysRenderSender:true,shouldRenderYou:true,thread:ta,viewer:ua}));},_initEditorState:function(sa){var ta=this._getDecorator();return l.moveFocusToEnd(l.set(sa,{decorator:ta}));},_getDecorator:function(){return new h([{strategy:ia(function(sa){return sa.getType()==='EMOTICON';}),component:m}]);},_handleBeforeInput:function(sa){var ta=ka(this.state.editorState,sa);if(ta===this.state.editorState)return false;this.setState({editorState:ta});return true;},_handleFiles:function(sa){var ta=this.props.handleOnlyImageUploads?sa.filter(function(ua){return qa.test(ua.type);}):sa;if(ta.length){this.props.onFileUpload(ta);return true;}return false;},_handleUnload:function(){if(this.props.threadID!==u.NEW_THREAD_KEY)this._saveCurrentEditorState();},_handlePageFocus:function(){if(this.props.threadID!==u.NEW_THREAD_KEY)this.setState(this.getInitialState());},handleTextDropped:function(sa){var ta=this.state.editorState,ua=ta.getSelection();if(ua.get('hasFocus'))return;var va=j.replaceText(ta.getCurrentContent(),ua,sa,ta.getCurrentInlineStyle()),wa=l.push(ta,va,'insert-fragment');this._onChange(wa);},getShareData:function(){return this._urlUploader.getData();},exitCurrentMode:function(){this.refs.input.exitCurrentMode();}});f.exports=ra;},null);
__d('MessengerContextualDialog.react',['ContextualLayerAutoFlipHorizontal','LayerHideOnEscape','ReactAbstractContextualDialog','ReactLayer','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=12,n=k.createClass(j.createSpec({addedBehaviors:[h,i],displayName:'MessengerContextualDialog',shouldSetARIAProperties:false,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:m,length:16}}}));f.exports=n;},null);
__d('MessengerDialogButton.react',['MessengerButton.react','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'MessengerDialogButton',mixins:[i],propTypes:{action:m.oneOf(['button','cancel','confirm'])},render:function(){var o=this.props,p=o.action,q=o.className,r=babelHelpers.objectWithoutProperties(o,['action','className']);return (j.createElement(h,babelHelpers['extends']({className:l(q,"_5ixy"+(p==='button'?' '+"layerButton":'')+(p==='cancel'?' '+"layerCancel":'')+(p==='confirm'?' '+"layerConfirm":''))},r)));}});f.exports=n;},null);
__d('MessengerFileSizeErrorDialog.react',['MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=n.PropTypes,q=n.createClass({displayName:'MessengerFileSizeErrorDialog',propTypes:{error:p.string.isRequired},render:function(){return (n.createElement(i,{onToggle:this._handleToggle},n.createElement(m,null,o._("Failed to upload files")),n.createElement(j,null,this._renderDialogBody()),n.createElement(l,null,n.createElement(k,{action:'cancel',label:o._("OK"),type:'primary'}))));},_renderDialogBody:function(){if(this.props.error==='wrong-type'){return (n.createElement('div',null,o._("The type of file you're trying to attach isn't allowed. Please try again with a different format.")));}else if(this.props.error==='size-exceeded')return (n.createElement('div',null,o._("The file you have selected is too large. The maximum size is 25MB.")));return n.createElement('div',null);},_handleToggle:function(r){if(!r)h.hideDialog();}});f.exports=q;},null);
__d('MessengerHotLikeButton.react',['Image.react','ImmutableObject','Keys','KeyStatus','Link.react','MercurySourceType','MessengerHotLikePreviewEvents','MessengerHotLikeSVG.react','MessengerHotLikeUtils','ReactComponentWithPureRenderMixin','React','StickerActions','StickerConstants','cx','fbt','joinClasses','MercuryMessageObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=c('MercuryMessageObject').get(),y=r.PropTypes,z=r.createClass({displayName:'MessengerHotLikeButton',mixins:[q],propTypes:{onMouseDown:y.func,customLike:y.object,customColor:y.string,sendSticker:y.func.isRequired,sendCustomLike:y.func,threadID:y.string,disabled:y.bool},_popTimeout:null,_pressedSince:null,_subscription:null,componentDidMount:function(){this._subscription=n.addListener(n.FINISH_ANIMATION,function(aa,ba,ca){if(aa===this.props.threadID)if(ca&&this.props.customLike&&this.props.sendCustomLike){this.props.sendCustomLike(this.props.customLike,ca);}else this.props.sendSticker(ba);}.bind(this));},componentWillUnmount:function(){this._subscription&&this._subscription.remove();},render:function(){var aa=null,ba={};if(this.props.customLike!=null){var ca=this.props.customLike.medium;if(ca){ba.background='none';aa=r.createElement(h,{src:ca,style:{display:'block',height:16,width:16}});}}else if(this.props.customColor)aa=r.createElement(o,{className:"_5j_p",color:this.props.customColor,strokeOnly:true});return (r.createElement(l,{'aria-label':v._("Send a Like"),className:w(this.props.customColor?"_5j_u":'',this.props.className),disabled:this.props.disabled,href:'#',onClick:this._handleClickEvent,onDragStart:function(da){return da.preventDefault();},onMouseDown:this._handleMouseDown,onMouseLeave:this._cancelSend,onMouseUp:this._handleMouseUp,role:'button',style:ba,title:v._("Send a Like")},aa));},_handleMouseDown:function(aa){if(this.props.disabled||this._pressedSince){aa.preventDefault();aa.stopPropagation();}if(this.props.disabled||aa.button!==0)return;s.hideStickerTray();this.props.onMouseDown&&this.props.onMouseDown();this._pressedSince=Date.now();this._informPreviewStart();this._preparePop();},_handleMouseUp:function(){if(!(this.props.threadID&&this._pressedSince))return;this._pressedSince=0;this._cancelPop();this._informPreviewStop();},_informPreviewStart:function(){n.emit(n.START,this._getFakeMessage(),this.props.threadID);},_informPreviewStop:function(){n.emit(n.STOP,this.props.threadID);},_informPreviewPop:function(){n.emit(n.POP,this.props.threadID);},_getFakeMessage:function(){var aa=x.constructStickerMessageObject(t.HOT_LIKE_SMALL_STICKER_ID,m.MESSENGER_WEB,this.props.threadID);x.normalizeNewMessage(aa);aa.is_like_preview=true;aa.like_preview_since=this._pressedSince;aa.customLike=this.props.customLike;aa.body='';return new i(aa);},_preparePop:function(){this._cancelPop();this._popTimeout=setTimeout(this._informPreviewPop,p.SizeTimes.large);},_cancelSend:function(){if(this._pressedSince){this._pressedSince=0;this._cancelPop();this._informPreviewPop();}},_cancelPop:function(){clearTimeout(this._popTimeout);},_handleClickEvent:function(aa){aa.stopPropagation();if(this.props.disabled)return;if(k.getKeyDownCode()===j.RETURN||!this.props.threadID){var ba=this.props.sendCustomLike;if(this.props.customLike&&ba){ba(this.props.customLike,p.getEmojiSizeForTime(1));}else this.props.sendSticker(p.getStickerIDForTime(1));}}});f.exports=z;},null);
__d('MessengerVoiceClipButton.react',['BootloadedComponent.react','JSResource','Link.react','React','MessengerContextualDialog.react','MessengerSpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MessengerVoiceClipButton',_clickGuard:false,propTypes:{onFlyoutHidden:o.func,onFlyoutShown:o.func,threadID:o.string,viewer:o.string},getInitialState:function(){return {flyoutOpen:false};},render:function(){return (k.createElement(j,{ref:'voiceButton',className:"_4rv7"+(this.state.flyoutOpen?' '+"_5jhb":''),onMouseDown:this._handleMouseDown,onClick:this._handleClick},k.createElement(l,{contextRef:function(){return this.refs.voiceButton;}.bind(this),shown:this.state.flyoutOpen,onBlur:this._hideFlyout},k.createElement(h,{bootloadPlaceholder:k.createElement('div',{style:{padding:'30px',textAlign:'center'}},k.createElement(m,null)),bootloadLoader:i('MessengerVoiceClipFlyout.react'),onShown:function(q){if(this.props.onFlyoutShown)this.props.onFlyoutShown(q);}.bind(this),onHidden:this._hideFlyout,onEscKeyDown:this._hideFlyout,shown:this.state.flyoutOpen,viewer:this.props.viewer,threadID:this.props.threadID,onVoiceClipCreate:this.props.onVoiceClipCreate}))));},_hideFlyout:function(){if(this.props.onFlyoutHidden)this.props.onFlyoutHidden();this.setState({flyoutOpen:false});},_handleMouseDown:function(q){this._clickGuard=this.state.flyoutOpen;},_handleClick:function(q){if(this.state.flyoutOpen||this._clickGuard)return;q.stopPropagation();this.setState({flyoutOpen:!this.state.flyoutOpen});}});f.exports=p;},null);
__d('P2PAbstractSendMoneyButton.react',['React','TooltipLink.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'P2PAbstractSendMoneyButton',propTypes:{button:m.object,isActive:m.bool.isRequired,isDisabled:m.bool,isMessenger:m.bool.isRequired,onClick:m.func.isRequired,onMouseOver:m.func,recipientName:m.string},_clickGuard:false,render:function(){return (h.createElement(i,{alignH:'center',className:l(this.props.className,(this.props.isActive?"open":'')+(this.props.isDisabled?' '+"disabled":'')+(this.props.isActive?' '+"_10gz":'')+(this.props.isDisabled?' '+"_10g-":'')+(!this.props.isMessenger&&!this.props.className?' '+"_5uqy":'')+(this.props.isMessenger?' '+"_3ggc":'')),href:'#',onClick:this._handleClick,onMouseDown:this._prepareForClick,onMouseOver:this.props.onMouseOver,position:'above',role:'button',title:this._getLinkTitle()},this.getButton()));},getButton:function(){if(this.props.button)return this.props.button;return h.createElement('i',{className:"_5s8l"});},_getLinkTitle:function(){if(this.props.isDisabled)return null;return k._("Send Money");},_prepareForClick:function(){this.props.onMouseDown&&this.props.onMouseDown();this._clickGuard=this.props.isActive;},_handleClick:function(o){o.stopPropagation();if(this._clickGuard){this._clickGuard=false;return;}this.props.onClick();}});f.exports=n;},null);
__d('P2PActionConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={CREDIT_CARDS_UPDATED:'credit_cards_updated',CREDIT_CARDS_UPDATED_ERROR:'credit_cards_updated_error',CHANNEL_EVENTS_ALLOWED:'channel_events_allowed',CHANNEL_EVENTS_IGNORED:'channel_events_ignored',CREDIT_CARD_SAVING:'credit_card_saving',CREDIT_CARD_ADDED:'credit_card_added',CREDIT_CARD_ADDED_ERROR:'credit_card_added_error',CREDIT_CARD_ADDED_ERROR_CLEARED:'credit_card_added_error_cleared',CREDIT_CARD_DELETED:'credit_card_deleted',CREDIT_CARD_DELETED_ERROR:'credit_card_deleted_error',CREDIT_CARD_UPDATED:'credit_card_updated',CREDIT_CARD_UPDATED_ERROR:'credit_card_updated_error',PRESET_CREDIT_CARD_UPDATED:'preset_credit_card_updated',PRESET_CREDIT_CARD_UPDATED_ERROR:'preset_credit_card_updated_error',CREDIT_CARD_VERIFIED:'credit_card_verified',CREDIT_CARD_VERIFIED_ERROR:'credit_card_verified_error',TRANSFERS_UPDATED:'transfers_updated',TRANSFERS_UPDATED_ERROR:'transfers_updated_error',NUX_TRANSFERS_UPDATED:'nux_transfers_updated',TRANSFER_ADDED:'transfer_added',TRANSFER_ADDED_ERROR:'transfer_added_error',TRANSFER_UPDATED:'transfer_updated',TRANSFER_UPDATED_ERROR:'transfer_updated_error',TRANSFER_ACCEPTED:'transfer_accepted',TRANSFER_DECLINED:'transfer_declined',CHAT_SEND_VIEW_OPENED:'chat_send_view_opened',CHAT_SEND_VIEW_CLOSED:'chat_send_view_closed',BIN_NUMBER_VALIDATED:'bin_number_validated',BIN_NUMBER_VALIDATED_ERROR:'bin_number_validated_error',USER_ELIGIBILITY_UDPATED:'user_eligibility_updated',FRIENDS_LIST_UPDATED:'friends_list_updated',DIALOG_SHOWN:'dialog_shown',DIALOG_CLOSED:'dialog_closed',BANNER_STATES_UPDATED:'banner_states_updated',BANNER_DISMISSED:'banner_dismissed',BANNER_VIEWED:'banner_viewed',BANNER_COMPLETED:'banner_completed',MONEYPENNY_TRANSFER_CREATED:'moneypenny_transfer_created',MONEYPENNY_TRANSFER_CREATED_ERROR:'moneypenny_transfer_created_error',PLATFORM_CONTEXT_ADDED:'platform_context_added',PLATFORM_CONTEXT_ADDED_ERROR:'platform_context_added_error',PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED:'platform_context_save_errors_cleared',PLATFORM_CONTEXT_BANNER_DISMISSED:'platform_context_banner_dismissed',PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:'platform_context_product_item_sold',PLATFORM_CONTEXT_CHANGED:'platform_context_changed',EXTENSIVE_TRANSFER_DETAILS_UPDATED:'extensive_transfer_details_updated',ADDRESS_SAVING:'address_saving',ADDRESSES_UPDATED:'addresses_updated',ADDRESS_ADDED:'address_added',ADDRESS_ADDED_ERROR:'address_added_error',ADDRESS_ADDED_ERROR_CLEARED:'address_added_error_cleared',CHECKOUT_CART_INITIATED:'checkout_cart_initiated',CHECKOUT_CART_CREATED:'checkout_cart_created',CHECKOUT_SHIPPING_OPTION_SELECTED:'checkout_shipping_option_selected',CHECKOUT_ADDRESS_SELECTED:'checkout_address_selected',CHECKOUT_CREDIT_CARD_SELECTED:'checkout_credit_card_selected',CHECKOUT_ADDRESS_FORM_TOGGLED:'checkout_address_form_toggled',CHECKOUT_CREDIT_CARD_FORM_TOGGLED:'checkout_credit_card_form_toggled',CHECKOUT_ADDRESS_EDIT_OPTIONS_TOGGLED:'checkout_address_options_toggled',CHECKOUT_CREDIT_CARD_EDIT_OPTIONS_TOGGLED:'checkout_credit_card_edit_options_toggled',CHECKOUT_ADDRESS_FORM_VALIDATED:'checkout_address_form_validated',CHECKOUT_CREDIT_CARD_FORM_VALIDATED:'checkout_credit_card_form_validated',CHECKOUT_EDIT_COMPLETED:'checkout_completed',CHECKOUT_PROCESSING:'checkout_processing',CHECKOUT_BUYER_PROFILE_UPDATED:'checkout_buyer_profile_updated',PAYMENT_REQUEST_INITIATED:'payment_request_initiated',PAYMENT_REQUEST_INITIATED_COMPLETE:'payment_request_initiated_completed',PAYMENT_REQUEST_CREATED:'payment_request_created',PAYMENT_REQUEST_CREATED_ERROR:'payment_request_created_error',PAYMENT_REQUEST_UPDATED:'payment_request_updated',PAYMENT_REQUEST_DECLINE_INITIATED:'payment_request_decline_initiated',PAYMENT_REQUEST_DECLINED:'payment_request_declined',PAYMENT_REQUEST_DECLINE_ERROR:'payment_request_decline_error',PAYMENT_REQUESTS_FETCHED:'payment_requests_fetched',PAYMENT_REQUEST_CANCEL_INITIATED:'payment_request_cancel_initiated',PAYMENT_REQUEST_CANCELED:'payment_request_canceled',PAYMENT_REQUEST_CANCEL_ERROR:'payment_request_cancel_error'};f.exports=h;},null);
__d('P2PDispatcher',['Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('P2PActions',['ChatOpenTab','CurrentEnvironment','MessengerActions','P2PActionConstants','P2PDispatcher','MercuryShareAttachmentRenderLocations'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={updateCreditCards:function(o){l.dispatch({type:k.CREDIT_CARDS_UPDATED,data:o});},updateCreditCardsError:function(){l.dispatch({type:k.CREDIT_CARDS_UPDATED_ERROR});},ignoreCreditCardChannelEvents:function(){l.dispatch({type:k.CHANNEL_EVENTS_IGNORED});},allowCreditCardChannelEvents:function(){l.dispatch({type:k.CHANNEL_EVENTS_ALLOWED});},creditCardSaving:function(){l.dispatch({type:k.CREDIT_CARD_SAVING});},addCreditCard:function(o){l.dispatch({type:k.CREDIT_CARD_ADDED,data:o});},addCreditCardError:function(o){l.dispatch({type:k.CREDIT_CARD_ADDED_ERROR,data:o});},addCreditCardErrorCleared:function(){l.dispatch({type:k.CREDIT_CARD_ADDED_ERROR_CLEARED});},updatePresetCreditCard:function(o){l.dispatch({type:k.PRESET_CREDIT_CARD_UPDATED,data:o});},updatePresetCreditCardError:function(o){l.dispatch({type:k.PRESET_CREDIT_CARD_UPDATED_ERROR,data:o});},updateCreditCard:function(o){l.dispatch({type:k.CREDIT_CARD_UPDATED,data:o});},updateCreditCardError:function(o){l.dispatch({type:k.CREDIT_CARD_UPDATED_ERROR,data:o});},deleteCreditCard:function(o){l.dispatch({type:k.CREDIT_CARD_DELETED,data:o});},deleteCreditCardError:function(o){l.dispatch({type:k.CREDIT_CARD_DELETED_ERROR,data:o});},verifyCreditCard:function(o){l.dispatch({type:k.CREDIT_CARD_VERIFIED,data:o});},verifyCreditCardError:function(o){l.dispatch({type:k.CREDIT_CARD_VERIFIED_ERROR,data:o});},updateTransfers:function(o){l.dispatch({type:k.TRANSFERS_UPDATED,data:o});},updateTransfersError:function(o){l.dispatch({type:k.TRANSFERS_UPDATED_ERROR,data:o});},updateNUXTransfers:function(o){l.dispatch({type:k.NUX_TRANSFERS_UPDATED,data:o});},transferAdded:function(o){l.dispatch({type:k.TRANSFER_ADDED,data:o});},transferAddedError:function(o){l.dispatch({type:k.TRANSFER_ADDED_ERROR,data:o});},transferUpdated:function(o){l.dispatch({type:k.TRANSFER_UPDATED,data:o});},transferUpdatedError:function(o){l.dispatch({type:k.TRANSFER_UPDATED_ERROR,data:o});},transferAccepted:function(){l.dispatch({type:k.TRANSFER_ACCEPTED});},transferDeclined:function(o){l.dispatch({type:k.TRANSFER_DECLINED,data:o});},chatSendViewOpened:function(o){function p(){l.dispatch({type:k.CHAT_SEND_VIEW_OPENED,data:o});}if(o.referrer===m.WEB_INBOX){p();}else if(h.canOpenTab()){h.openThread(o.threadID,null,null,p);}else if(i.messengerdotcom){j.selectThread(o.threadID);p();}else p();},chatSendViewClosed:function(o){l.dispatch({type:k.CHAT_SEND_VIEW_CLOSED,data:o});},binNumberValidated:function(o){l.dispatch({type:k.BIN_NUMBER_VALIDATED,data:o});},binNumberValidatedError:function(o){l.dispatch({type:k.BIN_NUMBER_VALIDATED_ERROR,data:o});},friendsListUpdated:function(o){l.dispatch({type:k.FRIENDS_LIST_UPDATED,data:o});},userEligibilityUpdated:function(o){l.dispatch({type:k.USER_ELIGIBILITY_UDPATED,data:o});},showDialog:function(o,p){l.dispatch({type:k.DIALOG_SHOWN,data:{dialogClass:o,dialogProps:p}});},hideDialog:function(){l.dispatch({type:k.DIALOG_CLOSED});},bannerStatesUpdated:function(o){l.dispatch({type:k.BANNER_STATES_UPDATED,data:o});},bannerDismissed:function(o){l.dispatch({type:k.BANNER_DISMISSED,data:o});},bannerCompleted:function(o){l.dispatch({type:k.BANNER_COMPLETED,data:o});},moneypennyTransferCreated:function(o){l.dispatch({type:k.MONEYPENNY_TRANSFER_CREATED,data:o});},moneypennyTransferCreatedError:function(o){l.dispatch({type:k.MONEYPENNY_TRANSFER_CREATED_ERROR,data:o});},addPlatformContext:function(o){l.dispatch({type:k.PLATFORM_CONTEXT_ADDED,data:o});},addPlatformContextError:function(o){l.dispatch({type:k.PLATFORM_CONTEXT_ADDED_ERROR,data:o});},clearPlatformContextSaveErrors:function(o){l.dispatch({type:k.PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED,data:o});},platformContextBannerDismissed:function(o){l.dispatch({type:k.PLATFORM_CONTEXT_BANNER_DISMISSED,data:o});},platformContextProductItemSold:function(o){l.dispatch({type:k.PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD,data:o});},platformContextChanged:function(o){l.dispatch({type:k.PLATFORM_CONTEXT_CHANGED,data:o});},extensiveTransferDetailsLoaded:function(o){l.dispatch({type:k.EXTENSIVE_TRANSFER_DETAILS_UPDATED,data:o});},updateAddresses:function(o){l.dispatch({type:k.ADDRESSES_UPDATED,data:o});},addressSaving:function(){l.dispatch({type:k.ADDRESS_SAVING});},addAddress:function(o){l.dispatch({type:k.ADDRESS_ADDED,data:o});},addAddressError:function(o){l.dispatch({type:k.ADDRESS_ADDED_ERROR,data:o});},addAddressErrorCleared:function(){l.dispatch({type:k.ADDRESS_ADDED_ERROR_CLEARED});},checkoutCartInitiated:function(){l.dispatch({type:k.CHECKOUT_CART_INITIATED});},checkoutCartCreated:function(o){l.dispatch({type:k.CHECKOUT_CART_CREATED,data:o});},checkoutShippingOptionSelected:function(o){l.dispatch({type:k.CHECKOUT_SHIPPING_OPTION_SELECTED,data:o});},checkoutAddressSelected:function(o){l.dispatch({type:k.CHECKOUT_ADDRESS_SELECTED,data:o});},checkoutCreditCardSelected:function(o){l.dispatch({type:k.CHECKOUT_CREDIT_CARD_SELECTED,data:o});},checkoutAddressFormToggled:function(o){l.dispatch({type:k.CHECKOUT_ADDRESS_FORM_TOGGLED,data:o});},checkoutCreditCardFormToggled:function(o){l.dispatch({type:k.CHECKOUT_CREDIT_CARD_FORM_TOGGLED,data:o});},checkoutAddressEditOptionsToggled:function(o){l.dispatch({type:k.CHECKOUT_ADDRESS_EDIT_OPTIONS_TOGGLED,data:o});},checkoutCreditCardEditOptionsToggled:function(o){l.dispatch({type:k.CHECKOUT_CREDIT_CARD_EDIT_OPTIONS_TOGGLED,data:o});},checkoutCreditCardFormValidated:function(o,p){l.dispatch({type:k.CHECKOUT_CREDIT_CARD_FORM_VALIDATED,data:{isValid:o,formData:p}});},checkoutAddressFormValidated:function(o,p){l.dispatch({type:k.CHECKOUT_ADDRESS_FORM_VALIDATED,data:{isValid:o,formData:p}});},checkoutEditCompleted:function(){l.dispatch({type:k.CHECKOUT_EDIT_COMPLETED});},checkoutProcessing:function(o){l.dispatch({type:k.CHECKOUT_PROCESSING,data:o});},checkoutBuyerProfileUpdated:function(o){l.dispatch({type:k.CHECKOUT_BUYER_PROFILE_UPDATED,data:o});},paymentRequestInitiated:function(){l.dispatch({type:k.PAYMENT_REQUEST_INITIATED});},paymentRequestInitiatedComplete:function(){l.dispatch({type:k.PAYMENT_REQUEST_INITIATED_COMPLETE});},paymentRequestCreated:function(o){l.dispatch({type:k.PAYMENT_REQUEST_CREATED,data:o});},paymentRequestCreatedError:function(o){l.dispatch({type:k.PAYMENT_REQUEST_CREATED_ERROR,data:o});},paymentRequestUpdated:function(o){l.dispatch({type:k.PAYMENT_REQUEST_UPDATED,data:o});},paymentRequestDeclineInitiated:function(){l.dispatch({type:k.PAYMENT_REQUEST_DECLINE_INITIATED});},paymentRequestDeclined:function(o){l.dispatch({type:k.PAYMENT_REQUEST_DECLINED,data:o});},paymentRequestDeclineError:function(o){l.dispatch({type:k.PAYMENT_REQUEST_DECLINE_ERROR,data:o});},paymentRequestCancelInitiated:function(){l.dispatch({type:k.PAYMENT_REQUEST_CANCEL_INITIATED});},paymentRequestCanceled:function(o){l.dispatch({type:k.PAYMENT_REQUEST_CANCELED,data:o});},paymentRequestCancelError:function(o){l.dispatch({type:k.PAYMENT_REQUEST_CANCEL_ERROR,data:o});},paymentRequestsFetched:function(o){l.dispatch({type:k.PAYMENT_REQUESTS_FETCHED,data:o});}};f.exports=n;},null);
__d('P2PLoadingMask.react',['React','XUISpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'P2PLoadingMask',propTypes:{visible:k.bool},getDefaultProps:function(){return {visible:false};},render:function(){if(!this.props.visible)return null;return (h.createElement('div',{className:"_3de"},h.createElement(i,{background:'dark',size:'large',className:"_3df"}),h.createElement('div',{className:"_3dg"})));}});f.exports=l;},null);
__d('P2PLogger',['BanzaiLogger'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='P2PPaymentLoggerConfig',j={log:function(k,l){l=babelHelpers['extends']({event:k},l);h.log(i,l);}};f.exports=j;},null);
__d('P2PSendMoneyDialogStore',['P2PActionConstants','EventEmitter','P2PDispatcher'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m,n;k=babelHelpers.inherits(o,i);l=k&&k.prototype;function o(){l.constructor.call(this);n={};m=j.register(this.onEventDispatched.bind(this));}o.prototype.onEventDispatched=function(p){var q=p.data,r=p.type;switch(r){case h.CHAT_SEND_VIEW_OPENED:this.handleChatSendViewOpened(q);this.emit('change');break;case h.CHAT_SEND_VIEW_CLOSED:this.handleChatSendViewClosed(q);this.emit('change');break;}};o.prototype.getStateByThreadID=function(p){return n[p];};o.prototype.handleChatSendViewOpened=function(p){n[p.threadID]={amount:p.amount,groupSendRecipientUserID:p.groupSendRecipientUserID,groupSendReceiptDetails:p.groupSendReceiptDetails,groupThreadFBID:p.groupThreadFBID,openRequestTab:p.openRequestTab,memoText:p.memoText,platformData:p.platformData,referrer:p.referrer,paymentRequestID:p.paymentRequestID,sendMoneyDialogShown:true,sendMoneyNUXDismissed:p.sendMoneyNUXDismissed,useModal:p.useModal};};o.prototype.handleChatSendViewClosed=function(p){n[p.threadID]={amount:'',groupSendRecipientUserID:null,groupSendReceiptDetails:null,groupThreadFBID:'',openRequestTab:false,memoText:null,platformData:null,referrer:null,paymentRequestID:null,sendMoneyDialogShown:false,sendMoneyNUXDismissed:false,useModal:false};};f.exports=new o();},null);
__d('P2PSendMoneyContainerBootloader.react',['Bootloader','CurrentEnvironment','DeferredComponent.react','MercuryIDs','MessengerContextualDialog.react','P2PAbstractSendMoneyButton.react','P2PActions','P2PLoadingMask.react','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','React','ReactLayeredComponentMixin','ReactDOM','Run','XUIContextualDialog.react','cx','emptyFunction','P2PSendMoneyDialogStore'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();c('P2PSendMoneyDialogStore');var z=s.PropTypes,aa=i.messengerdotcom,ba=s.createClass({displayName:'P2PSendMoneyContainerBootloader',propTypes:{button:z.node,className:z.string,flyoutAlignment:z.string,onTrigger:z.func,participantIDs:z.array,referrer:z.string,threadID:z.string},getInitialState:function(){return {showPlaceholderDialog:false};},mixins:[t],_clicked:false,log:function(ca,da){p.log(ca,babelHelpers['extends']({www_event_referrer:this.props.referrer,www_event_flow:r.UI_FLOW_P2P_SEND},da));},onPlaceholderClick:function(){var ca=this.props.threadID?k.tokenize(this.props.threadID).value:null;this._handleDialogVisibility(!this.state.showPlaceholderDialog);this.log(q.UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED,{object_id:ca});this._clicked=false;},_handleDialogVisibility:function(ca){if(!ca){n.chatSendViewClosed({threadID:this.props.threadID});}else n.chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID});this.setState({showPlaceholderDialog:ca});},renderLayers:function(){var ca={};if(this.state.showPlaceholderDialog){var da=i.messengerdotcom,ea=da?l:w,fa=da?282:260;ca.placeholderDialog=s.createElement(ea,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:da?'right':'left',context:u.findDOMNode(this.refs.placeholderButton),onBlur:function(){if(!this._clicked)this._handleDialogVisibility(false);this._clicked=false;}.bind(this),ref:'dialog',shown:true,width:fa,position:'above'},s.createElement('div',{className:"_c_5"},s.createElement(o,{visible:true})));}return ca;},render:function(){return (s.createElement(j,babelHelpers['extends']({deferredComponent:this._bootloadComponent,deferredPlaceholder:this._renderPlaceholder()},this.props)));},_renderPlaceholder:function(){return (s.createElement(m,{button:this.props.button,className:this.props.className,isActive:false,isDisabled:false,isMessenger:aa,onClick:this.onPlaceholderClick,onMouseDown:function(){return this._clicked=true;}.bind(this),onMouseOver:this._bootloadComponentNow,ref:'placeholderButton'}));},_bootloadComponent:function(ca){v.onAfterLoad(function(){h.loadModules(["P2PSendMoneyContainer.react"],function(){ca.apply(this,arguments);this.setState({showPlaceholderDialog:false});}.bind(this));}.bind(this));},_bootloadComponentNow:function(){h.loadModules(["P2PSendMoneyContainer.react"],y);}});f.exports=ba;},null);
__d('MessengerComposer.react',['BootloadedComponent.react','Bootloader','ChatContentSearchButton.react','ChatEmojiButton.react','ChatStickerButton.react','ChatPhotoUploader.react','DOMDimensions','EmoticonsList','FBRTCSupport','immutable','Link.react','JSResource','Locale','P2PGKValues','P2PSendMoneyContainerBootloader.react','ReactComponentWithPureRenderMixin','MercuryConfig','MercuryThreadActions','MessagingTag','MessengerActions','MessengerConfig','MessengerComposerInput.react','MessengerConstants','MessengerContextualDialog.react','MessengerFileSizeErrorDialog.react','MessengerView','MessengerHotLikeButton.react','MessengerVoiceClipButton.react','React','ReactDOM','MercuryShareAttachmentRenderLocations','Style','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){'use strict';if(c.__markCompiled)c.__markCompiled();var pa=ja.PropTypes,qa=ja.createClass({displayName:'MessengerComposer',mixins:[w],propTypes:{canReply:pa.bool,onMessageSend:pa.func,onPhotoUploadComplete:pa.func,onPhotoUploadCancel:pa.func,onPhotoUploadFail:pa.func,onPhotoUploadSubmit:pa.func,onResize:pa.func,onStickerSelect:pa.func.isRequired,onCustomLikeSelect:pa.func,participants:pa.instanceOf(q.Map),recipients:pa.instanceOf(q.List),threadID:pa.string,threadFBID:pa.string,thread:pa.object,view:pa.string,viewer:pa.string},getInitialState:function(){return {pendingActionsBypassed:false};},_getActions:function(){return y.getForFBID(this.props.viewer);},componentDidMount:function(){this._adjustRightColumnDimensions();},componentWillReceiveProps:function(ra){if(ra.threadID!==this.props.threadID)this.setState({pendingActionsBypassed:false});},componentDidUpdate:function(ra){this._adjustRightColumnDimensions();if(ra.canReply!==this.props.canReply)this.props.onResize&&this.props.onResize();},render:function(){if(!this.props.canReply){return this._renderCannotReply();}else if(this.props.thread&&(this.props.thread.folder===z.PENDING||this.props.thread.folder===z.OTHER)&&!this.state.pendingActionsBypassed)return this._renderPendingActions();var ra=this._isComposing();return (ja.createElement('div',{'aria-label':oa._("New message"),className:"_4rv3",role:'region'},ja.createElement('div',{className:"_5irm"},ja.createElement(ca,{handleOnlyImageUploads:false,isComposing:ra,ref:'input',onResize:this.props.onResize,onMessageSend:this.props.onMessageSend,participants:this.props.participants,thread:this.props.thread,threadID:ra?da.NEW_THREAD_KEY:this.props.threadID,viewer:this.props.viewer,onFileUpload:this.handleFileUpload}),ja.createElement('ul',{ref:'buttonsContainer',className:"_4rv4"},this._renderQuickCamTrigger(),this._renderUploader(),this._renderStickerButton(),this._renderContentSearch(),this._renderEmojiButton(),this._renderAudioClipTrigger(),this._renderP2PSendMoneyButton(),this._renderHotLike()))));},_showFileSizeErrorDialog:function(ra){aa.showDialog(fa,{error:ra.error});},handleFileUpload:function(ra){this.refs.uploader.uploadFiles(ra);this.exitCurrentMode();},handleTextDropped:function(ra){this.refs.input.handleTextDropped(ra);},_handleEmoticonSelect:function(ra){var sa=o.symbols[ra];if(!sa)return;this.refs.input.insertEmoticon(sa);},focusInput:function(){this.refs.input&&this.refs.input.focus();},_renderP2PSendMoneyButton:function(){if(!u.P2PEnabled||!this.props.threadID)return null;return (ja.createElement('li',null,ja.createElement(v,{className:"_30yy _25pc",threadID:this.props.threadID})));},_renderQuickCamTrigger:function(){if(ba.ComposerShowQuickCam)return (ja.createElement('li',null,ja.createElement(r,{className:"_4rv5"})));return null;},_renderAudioClipTrigger:function(){if(ba.ComposerShowAudioClip&&this._shouldShowVoiceClipButton())return (ja.createElement('li',null,ja.createElement(ia,{threadID:this.props.threadID,viewer:this.props.viewer,onVoiceClipCreate:this.props.onVoiceClipCreate})));return null;},_renderUploader:function(){return (ja.createElement('li',null,ja.createElement(m,{allowCrossPage:true,disabled:!(this.props.threadID||this._isComposingToRecipients()),ref:'uploader',imageClassName:"_5vn8",imagesOnly:false,linkClassName:"_30yy",onAllUploadsComplete:this.props.onPhotoUploadComplete,onLastUploadFail:this.props.onPhotoUploadFail,onLastUploadCancel:this.props.onPhotoUploadCancel,onSubmit:this.props.onPhotoUploadSubmit,onUploadError:this._showFileSizeErrorDialog})));},_renderHotLike:function(){return (ja.createElement('li',null,ja.createElement(ha,{className:"_4rv9"+(this.props.threadID?' '+"_30yy":''),disabled:!(this.props.threadID||this._isComposingToRecipients()),customColor:this.props.thread&&this.props.thread.custom_color,customLike:this.props.thread&&this.props.thread.custom_like_icon,sendSticker:this.props.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID})));},_renderStickerButton:function(){return (ja.createElement('li',null,ja.createElement(l,{className:(this.props.threadID?"_30yy":'')+(' '+"_4rv6"),ContextualDialogClass:ea,disabled:!(this.props.threadID||this._isComposingToRecipients()),getInput:function(){return this.refs.input;}.bind(this),flyoutAlignment:'right',flyoutClassName:"_293j",flyoutWidth:285,onStickerSelect:this.props.onStickerSelect,onEmoticonSelect:this._handleEmoticonSelect,threadID:this.props.threadID})));},_renderContentSearch:function(){if(!ba.ContentSearchEnabled)return null;return (ja.createElement('li',null,ja.createElement(j,{className:(this.props.threadID?"_30yy":'')+(' '+"_yht"),ContextualDialogClass:ea,getInput:function(){return this.refs.input;}.bind(this),getQuery:function(){return this.refs.input.getValue();}.bind(this),location:la.MESSENGER,onSelect:this._handleContentSearchSelect})));},_renderEmojiButton:function(){if(!x.WWWMessengerEmojiPickerEnabled)return null;return (ja.createElement('li',null,ja.createElement(k,{className:(this.props.threadID?"_30yy":'')+(' '+"_5s2p"),ContextualDialogClass:ea,getInput:function(){return this.refs.input;}.bind(this),onSelect:this._handleEmojiSelect})));},_renderPendingActions:function(){return (ja.createElement(h,{bootloadPlaceholder:ja.createElement('div',{style:{height:51}}),bootloadLoader:s('MessengerPendingActions.react'),folder:this.props.thread&&this.props.thread.folder,onAcceptClick:function(){this._getActions().changeFolder(this.props.threadID,z.INBOX);this.setState({pendingActionsBypassed:true});}.bind(this),onDeleteClick:function(){i.loadModules(["MessengerDeleteDialog.react"],function(ra){aa.showDialog(ra,{onArchive:this._handleDeleteDialogArchiveClick,onDelete:this._handleDeleteDialogDeleteClick,onToggle:this._handleDeleteDialogToggle.bind(this,ra)});}.bind(this));}.bind(this),onIgnoreClick:function(){this._getActions().changeFolder(this.props.threadID,z.OTHER);aa.selectThread(null);}.bind(this)}));},_renderCannotReply:function(){return this.props.view===ga.DETAIL.COMPOSE?null:ja.createElement('div',{className:"_4rv3"},ja.createElement('div',{className:"_2wy4"},oa._("You cannot reply to this conversation.")));},_adjustRightColumnDimensions:function(){if(!this.refs.buttonsContainer)return;var ra=n.getElementDimensions(ka.findDOMNode(this.refs.buttonsContainer)).width;ma.set(ka.findDOMNode(this.refs.input),t.isRTL()?'margin-left':'margin-right',ra+'px');},_handleDeleteDialogDeleteClick:function(){this._getActions()['delete'](this.props.threadID);aa.selectThread(null);},_handleDeleteDialogArchiveClick:function(){this._getActions().archive(this.props.threadID);aa.selectThread(null);},_handleDeleteDialogToggle:function(ra,sa){if(!sa)aa.hideDialog(ra);},exitCurrentMode:function(){this.refs.input.exitCurrentMode();},_handleContentSearchSelect:function(ra,sa){if(ra.platformFBID.toString()===x.MessengerAppID){this.props.onStickerSelect(ra.resultID.toString());}else this.refs.uploader.uploadURL({attribution_app_id:ra.platformFBID,external_image_url:ra.source.url,preview_url:ra.media.preview?ra.media.preview.url:ra.media.thumbnail.url,source:ra.source});},_handleEmojiSelect:function(ra){this.refs.input.handleTextDropped(ra);},_isComposing:function(){return this.props.view===ga.DETAIL.COMPOSE;},_isComposingToRecipients:function(){return !!(this._isComposing()&&this.props.recipients&&this.props.recipients.size);},_shouldShowVoiceClipButton:function(){return !!(p.isWebrtcSupported()&&p.isOSSupported());}});f.exports=qa;},null);
__d('MessengerComposerActions',['MessengerDispatcher','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i({ADD_TOKEN:null,REMOVE_TOKEN:null,FOCUS_COMPOSER:null,FOCUS_TYPEAHEAD:null,EXIT_COMPOSE_STATE:null}),k={Types:j,addToken:function(l){h.dispatch({type:j.ADD_TOKEN,entry:l});},moveDraftToNextThread:function(l){h.dispatch({type:j.MOVE_DRAFT,threadID:l});},removeToken:function(l){h.dispatch({type:j.REMOVE_TOKEN,entry:l});},focusComposer:function(){h.dispatch({type:j.FOCUS_COMPOSER});},focusTypeahead:function(){h.dispatch({type:j.FOCUS_TYPEAHEAD});},exitComposeState:function(){h.dispatch({type:j.EXIT_COMPOSE_STATE});}};f.exports=k;},null);
__d("PhotosUploadID",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=1024,i={getNewID:function(){return (h++).toString();}};f.exports=i;},null);
__d('MessengerComposerContainer.react',['AsyncUploadRequest','EmojiLikeUtils','immutable','MercuryAttachment','MercuryAttachmentType','MercuryConfig','MercuryThreadIDMap','MercuryThreadInformer','MercuryIDs','MercuryLocalIDs','MercuryMessageActions','MercuryMessageObject','MercurySendMessageHandler','MercurySourceType','MercuryThreads','MercuryThreadActions','MessagingTag','MessengerActions','MessengerComposer.react','MessengerComposerActions','MessengerView','PhotosUploadID','ReactComponentWithPureRenderMixin','React','ReactDOM','StickerActions','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){'use strict';if(c.__markCompiled)c.__markCompiled();var ia=ea.PropTypes,ja=ea.createClass({displayName:'MessengerComposerContainer',mixins:[da],propTypes:{canReply:ia.bool,onResize:ia.func,participants:ia.instanceOf(j.Map),recipients:ia.instanceOf(j.List),threadID:ia.string,threadFBID:ia.string,thread:ia.object,view:ia.string,viewer:ia.string},componentWillMount:function(){this._sendMessageHandler=t.getForFBID(this.props.viewer);this._messageActions=r.getForFBID(this.props.viewer);this._threads=v.getForFBID(this.props.viewer);this._messageBuilder=s.getForFBID(this.props.viewer);this._threadInformer=o.getForFBID(this.props.viewer);this._subscriptionsHandler=new ha();},componentWillUnmount:function(){this._subscriptionsHandler.release();},focusInput:function(){this.refs.composer.focusInput();},render:function(){return (ea.createElement(z,{canReply:this.props.canReply,onMessageSend:this._handleMessageSend,onPhotoUploadComplete:this._handlePhotoUploadComplete,onPhotoUploadCancel:this._handlePhotoUploadCancel,onPhotoUploadFail:this._handlePhotoUploadFail,onPhotoUploadSubmit:this._handlePhotoUploadSubmit,onResize:this.props.onResize,onStickerSelect:this._handleStickerSelect,onCustomLikeSelect:this._handleCustomLikeSelect,onVoiceClipCreate:this._handleAudioUpload,participants:this.props.participants,recipients:this.props.recipients,ref:'composer',threadID:this.props.threadID,threadFBID:this.props.threadFBID,thread:this.props.thread,view:this.props.view,viewer:this.props.viewer}));},_handleMessageSend:function(la,ma){if(!this.props.canReply)return false;return this._sendMessage(function(na){var oa=this._messageBuilder.constructUserGeneratedMessageObject(la,u.MESSENGER_WEB,na);if(ma)if(ma.shareable_attachment)oa.shareable_attachment=ma.shareable_attachment;return oa;}.bind(this));},_handlePhotoUploadCancel:function(la,ma){this._messageActions.cancelAttachmentPlaceholder(ma.upload_id,ma);},_handlePhotoUploadComplete:function(la,ma){this._messageActions.confirmAttachmentPlaceholder(ma.upload_id,ma);},_handlePhotoUploadFail:function(la,ma){this._messageActions.cancelAttachmentPlaceholder(ma.upload_id,ma);},_handlePhotoUploadSubmit:function(la,ma){return this._sendMessage(function(na){return this._messageBuilder.constructAttachmentMessageObject(u.MESSENGER_WEB,na);}.bind(this),function(na){this._messageActions.addAttachmentPlaceholder(na,ma.upload_id,ma);this._handleMessageSentToPendingThread();}.bind(this));},_handleAudioUpload:function(la){var ma='upload_'+ca.getNewID();this._sendMessageHandler.sendAttachment(this.props.threadID,ka(ma),u.MESSENGER_WEB);var na={};na[ma]=la;var oa=new h(m.upload_url).setAllowCrossOrigin(true).setRelativeTo(fa.findDOMNode(this)).setData({voice_clip:true}).setFiles(na);this._subscriptionsHandler.addSubscriptions(oa.subscribe('success',function(pa,qa){return this._onFileUploadSuccess(qa);}.bind(this)));oa.send();},_onFileUploadSuccess:function(la){var ma=la.getName(),na=la.getResponse().payload.metadata[0].audio_id;this._messageActions.confirmAttachmentPlaceholder(ma,{upload_id:ma,audio_ids:[na]});},handleFileUpload:function(la){var ma=la.reduce(function(na,oa){var pa=oa.type.split('/')[0];if(na[pa]){na[pa].push(oa);}else na.other.push(oa);return na;},{audio:[],image:[],other:[]});ma.audio.forEach(function(na){return this._handleAudioUpload(na);}.bind(this));this.refs.composer.handleFileUpload(ma.image.concat(ma.other));},handleTextDropped:function(la){this.refs.composer.handleTextDropped(la);},_handleStickerSelect:function(la){return this._sendMessage(function(ma){return (this._messageBuilder.constructStickerMessageObject(la,u.MESSENGER_WEB,ma));}.bind(this));},_handleCustomLikeSelect:function(la,ma){var na=this.props.threadID,oa=this._messageBuilder.constructUserGeneratedMessageObject(la.emoji,u.MESSENGER_WEB,na);oa.has_attachment=false;return this._sendMessage(function(pa){return i.setEmojiSize(oa,ma);});},_sendMessage:function(la,ma){var na=this.props.threadID,oa=this.props.recipients,pa=false;if(!na&&oa&&oa.size>1){na=q.generateThreadID();pa=true;}if(!na)return false;var qa=la(na);if(pa){var ra=oa.map(function(sa){return p.getParticipantIDFromUserID(sa.getUniqueID());}).toArray();this._threads.createNewLocalThread(na,ra);qa.offline_threading_id=p.tokenize(na).value;qa.specific_to_list=ra;}if(ma){ma(qa);}else this._messageActions.send(qa,this._handleMessageSentToPendingThread);if(this.props.view===ba.DETAIL.COMPOSE){ga.hideStickerTray();if(k.get(qa).length>0)aa.moveDraftToNextThread(na);aa.exitComposeState();if(p.isLocalThread(na)){this._subscriptionsHandler.addSubscriptions(this._threadInformer.subscribe('messages-updated',function(sa,ta){var ua=n.get();if(ua.canLinkExternally(na)){y.selectThread(na);this._subscriptionsHandler.release();}}.bind(this)));}else y.selectThread(na);}return true;},_handleMessageSentToPendingThread:function(){if(this.props.thread&&this.props.thread.folder===x.PENDING)w.getForFBID(this.props.viewer).movePendingToInbox(this.props.threadID);},resetDrag:function(){this.refs.composer.exitCurrentMode();}});function ka(la){return {upload_id:la,preview_attachments:[{upload_id:la,attach_type:l.PHOTO,preview_uploading:true}]};}f.exports=ja;},null);
__d('MessengerComposerState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.Record({step:null,recipients:h.List()});f.exports=i;},null);
__d('MessengerComposerSteps',['keyMirror'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({NULL:null,SELECT_RECIPIENTS:null,COMPOSE:null});f.exports=i;},null);
__d('MessengerComposerStore',['EditorState','immutable','MessengerActions','MessengerComposerActions','MessengerComposerState','MessengerComposerSteps','MessengerConstants','MessengerDispatcher','MessengerEditorStateManager','MessengerStateStore','MessengerStore','MessengerView'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t,u;if(c.__markCompiled)c.__markCompiled();var v=new l({step:m.NULL});t=babelHelpers.inherits(w,r);u=t&&t.prototype;function w(){u.constructor.call(this);this.$MessengerComposerStore1=v;}w.prototype.getState=function(){return this.$MessengerComposerStore1;};w.prototype.__onDispatch=function(x){o.waitFor([q.getDispatchToken()]);var y=q.getState().detailView,z=this.$MessengerComposerStore1.recipients,aa=this.$MessengerComposerStore1.step,ba=null,ca=null;switch(x.type){case k.Types.ADD_TOKEN:if(z.some(function(ha){return (ha.getUniqueID()===x.entry.getUniqueID());}))break;ba=z.push(x.entry);break;case k.Types.REMOVE_TOKEN:var da=x.entry.getUniqueID(),ea=z.findIndex(function(ha){return ha.getUniqueID()===da;});if(ea!==-1)ba=z['delete'](ea);break;case k.Types.FOCUS_COMPOSER:if(aa===m.SELECT_RECIPIENTS)ca=m.COMPOSE;break;case k.Types.FOCUS_TYPEAHEAD:if(aa===m.COMPOSE)ca=m.SELECT_RECIPIENTS;break;case j.Types.REPLACE_STATE:var fa=q.getPrevState().detailView;if(fa!==s.DETAIL.COMPOSE&&y===s.DETAIL.COMPOSE)ca=m.SELECT_RECIPIENTS;break;case k.Types.MOVE_DRAFT:p.set(x.threadID,p.get(n.NEW_THREAD_KEY));break;case k.Types.EXIT_COMPOSE_STATE:var ga=h.createEmpty();setTimeout(function(){p.set(n.NEW_THREAD_KEY,h.forceSelection(ga,ga.getSelection()));},0);ca=m.NULL;ba=i.List();break;}if(ba||ca){this.$MessengerComposerStore1=new l({step:ca||aa,recipients:ba||z});this.emitChange();}};f.exports=new w();},null);
__d('MercuryMessageList',['immutable','LogHistory','Map','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.getInstance('mercury_message_list');function m(o){this.$MercuryMessageList1=h.List(o||[]);this.$MercuryMessageList2();}m.prototype.append=function(o){var p;this.$MercuryMessageList1=(p=this.$MercuryMessageList1).push.apply(p,o);this.$MercuryMessageList2();n('append',o);};m.prototype.prepend=function(o){var p;this.$MercuryMessageList1=(p=this.$MercuryMessageList1).unshift.apply(p,o);this.$MercuryMessageList2();n('prepend',o);};m.prototype.update=function(o){var p=o.filter(function(q){return this.contains(q);}.bind(this));if(p.length===0)return;this.$MercuryMessageList1=this.$MercuryMessageList1.withMutations(function(q){p.forEach(function(r){var s=this.$MercuryMessageList3.get(r.message_id);if(s!==undefined)q.set(s,r);}.bind(this));}.bind(this));n('update',p);};m.prototype.reorder=function(o){this.$MercuryMessageList1=h.List(o);this.$MercuryMessageList2();n('reorder',o);};m.prototype.at=function(o){return this.$MercuryMessageList1.get(o);};m.prototype.contains=function(o){return this.$MercuryMessageList3.has(o.message_id);};m.prototype.toArray=function(){return this.$MercuryMessageList1.toArray();};m.prototype.toMap=function(){return new j(h.Seq(this.$MercuryMessageList1).map(function(o){return [o.message_id,o];}));};m.prototype.$MercuryMessageList2=function(){this.$MercuryMessageList3=new j(h.Seq(this.$MercuryMessageList1).map(function(o,p){return [o.message_id,p];}));};function n(event,o){k(function(){l.debug(event,JSON.stringify({messageIDs:o.map(function(p){return p.message_id;})}));},0);}f.exports=m;},null);
__d('MercuryMessageStore',['MercuryAPIArgsSource','LogHistory','MercuryMessages','MercuryViewer','MercuryMessageList','SubscriptionsHandler','MercuryThreadInformer','MercuryThreadlistConstants','mixInEventEmitter','setImmediate','setTimeoutAcrossTransitions','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=c('MercuryThreads').get(),t=i.getInstance('mercury_message_store');function u(w,x,y){this.$MercuryMessageStore1=w;this.$MercuryMessageStore2=new l();this.$MercuryMessageStore3=y?j.getForFBID(y):j.get();this.$MercuryMessageStore4=1;this.$MercuryMessageStore5=null;this.$MercuryMessageStore6=0;this.$MercuryMessageStore7=x||o.RECENT_MESSAGES_LIMIT;this.$MercuryMessageStore8=y?n.getForFBID(y):n.get();this.$MercuryMessageStore9=new m();this.$MercuryMessageStore9.addSubscriptions(this.$MercuryMessageStore8.subscribe('messages-received',function(z,aa){return this.$MercuryMessageStore10(aa);}.bind(this)),this.$MercuryMessageStore8.subscribe('messages-updated',function(z,aa){return aa[this.$MercuryMessageStore1]&&this.$MercuryMessageStore11(aa[this.$MercuryMessageStore1]);}.bind(this)),this.$MercuryMessageStore8.subscribe('messages-reordered',function(z,aa){return aa[this.$MercuryMessageStore1]&&this.$MercuryMessageStore12();}.bind(this)));t.debug('constructed',JSON.stringify({threadID:this.$MercuryMessageStore1}));this.$MercuryMessageStore13();}u.prototype.setNewThreadID=function(w){this.$MercuryMessageStore14=w;};u.prototype.destroy=function(){this.$MercuryMessageStore9&&this.$MercuryMessageStore9.release();t.debug('destroyed',JSON.stringify({threadID:this.$MercuryMessageStore1}));};u.prototype.subscribe=function(w){return this.addRetroactiveListener('updated',w);};u.prototype.fetchMoreMessages=function(){if(this.hasFetchedAll())return false;this.$MercuryMessageStore13();return true;};u.prototype.hasFetchedAll=function(){if(this.$MercuryMessageStore3.hasLoadedExactlyNMessages(this.$MercuryMessageStore1,this.$MercuryMessageStore6)&&this.$MercuryMessageStore3.hasLoadedAllMessages(this.$MercuryMessageStore1))return true;return s.isNewEmptyLocalThread(this.$MercuryMessageStore1);};u.prototype.$MercuryMessageStore13=function(){var w=this.$MercuryMessageStore6+this.$MercuryMessageStore7*this.$MercuryMessageStore4;t.debug('fetching',JSON.stringify({threadID:this.$MercuryMessageStore1,limit:w}));this.$MercuryMessageStore3.getThreadMessagesRange(this.$MercuryMessageStore1,0,w,this.$MercuryMessageStore15.bind(this),null,h.MERCURY);if(this.$MercuryMessageStore4<10)this.$MercuryMessageStore4+=1;if(this.$MercuryMessageStore3.hasLoadedNMessages(this.$MercuryMessageStore1,w))q(function(){this.$MercuryMessageStore12();}.bind(this));};u.prototype.$MercuryMessageStore15=function(w){if(w&&w.length){this.$MercuryMessageStore5=w[0].timestamp;this.$MercuryMessageStore6=w.length;t.debug('fetched',JSON.stringify({threadID:this.$MercuryMessageStore1,earliestMessageTimestamp:this.$MercuryMessageStore5,count:this.$MercuryMessageStore6}));}else if(w&&!w.length&&!this.$MercuryMessageStore6)this.$MercuryMessageStore16(u.THREAD_IS_EMPTY);};u.prototype.$MercuryMessageStore10=function(w){var x=[],y=w[this.$MercuryMessageStore1];if(y&&y.length)x=x.concat(y);if(this.$MercuryMessageStore14){var z=w[this.$MercuryMessageStore14];if(z&&z.length){x=x.concat(z);this.$MercuryMessageStore14=null;}}if(x.length){this.$MercuryMessageStore2.append(x);this.$MercuryMessageStore6+=x.length;var aa=x.every(function(ba){return ba.author!=k.getID();});this.$MercuryMessageStore16(u.MESSAGES_RECEIVED,{allFromOthers:aa});}};u.prototype.$MercuryMessageStore11=function(w){this.$MercuryMessageStore2.update(this.$MercuryMessageStore3.getMessagesFromIDs(Object.keys(w)));this.$MercuryMessageStore17();this.$MercuryMessageStore16(u.MESSAGES_CHANGED);};u.prototype.$MercuryMessageStore12=function(){if(!this.$MercuryMessageStore5)return;this.$MercuryMessageStore2.reorder(this.$MercuryMessageStore3.getThreadMessagesSinceTimestamp(this.$MercuryMessageStore1,this.$MercuryMessageStore5));this.$MercuryMessageStore17();this.$MercuryMessageStore16(u.MESSAGES_REORDERED);};u.prototype.$MercuryMessageStore16=function(w,x){var y=this.$MercuryMessageStore2.toArray();this.releaseHeldEventType('updated');this.emitAndHold('updated',babelHelpers['extends']({messages:y,eventType:w},x));v(this.$MercuryMessageStore1,w,y);};u.prototype.$MercuryMessageStore17=function(){var w=this.$MercuryMessageStore2.at(0);if(w)this.$MercuryMessageStore5=w.timestamp;};function v(w,x,y){r(function(){t.debug('update:'+x,JSON.stringify({threadID:w,messageIDs:y.map(function(z){return z.message_id;})}));},0);}Object.assign(u,{MESSAGES_FETCHED:'fetched',MESSAGES_CHANGED:'changed',MESSAGES_RECEIVED:'received',MESSAGES_REORDERED:'reordered',THREAD_IS_EMPTY:'thread-is-empty'});p(u,{updated:true});f.exports=u;},null);
__d('MercuryMeMessageProcessor',['ImmutableObject','MercuryActionType','MercuryConfig','MercuryLogMessageType','MercuryParticipants'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(o){if(!o)return false;if(!j.MessengerRenderMeAsAdminMessageGK)return false;if(o.action_type!==i.USER_GENERATED_MESSAGE)return false;var p=o.body;if(typeof p==='string'&&p.startsWith('/me ')&&p.length>4)return true;return false;}function n(o){var p=l.getOrFetch(o.author),q=p?p.short_name:'/me',r=o.body.replace('/me',q);o=h.set(o,{action_type:i.LOG_MESSAGE,body:r,log_message_body:r,log_message_data:{message_type:'',untypedData:{}},log_message_type:k.GENERIC_ADMIN_TEXT});return o;}f.exports={transform:n,shouldTransform:m};},null);
__d('MercuryMessageGroup',['MercuryActionType','MercuryAttachmentType','MercuryMeMessageProcessor','MercuryShareAttachmentRenderLocations','MercuryThreadlistConstants','enumerate'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={calculateMessageGroups:function(q,r){var s=[],t=null,u={value:null},v=m(q),w;while(!(w=v.next()).done){var x=n.canAppendMessageToLastGroup(u.value,w.value,r);if(!x){t=[];s.push(t);}t.push(w.value);u=w;}return s;},canAppendMessageToLastGroup:function(q,r,s){var t=l.GROUPING_THRESHOLD;if(!q||o(q,s)||o(r,s)||q.author!=r.author||q.timestamp<r.timestamp-t||q.is_spoof_warning!==r.is_spoof_warning||q.page_admin_notes)return false;return true;}};function o(q,r){var s=q.has_attachment;if(s&&(r===k.MESSENGER||r===k.CHAT))s=p(q);return !!(q.action_type==h.LOG_MESSAGE||j.shouldTransform(q)||s||q.forward_count||q.html_body||q.body&&q.body.length>l.MAX_CHARS_BEFORE_BREAK);}function p(q){var r=q.attachments[0];return (!r||r.attach_type===i.STICKER||r.attach_type===i.ANIMATED_IMAGE);}f.exports=n;},null);
__d('MessageList.react',['immutable','ImmutableObject','MercuryActionType','MercuryIDs','MercuryMeMessageProcessor','MercuryMessageGroup','MercuryShareAttachmentRenderLocations','MessengerDomIDs','ReactComponentWithPureRenderMixin','React','ReactDOM','FBRTCExperiment','MercuryLogMessageType','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=q.PropTypes,w=1000*60*60,x=q.createClass({displayName:'MessageList',mixins:[p],propTypes:{DateBreak:v.func.isRequired,deliveryTimestamp:v.number.isRequired,isCanonical:v.bool,isPageMessage:v.bool,location:v.string.isRequired,LogMessage:v.func.isRequired,loadMoreMessages:v.func,MessageGroup:v.func.isRequired,messages:v.instanceOf(h.List).isRequired,onAttachmentLoad:v.func,onStickerClick:v.func,readReceipts:v.instanceOf(h.OrderedMap).isRequired,viewer:v.string.isRequired,thread:v.object,threadID:v.string},getInitialState:function(){return {activeMessageID:null,messageGroups:m.calculateMessageGroups(this.props.messages,this.props.location)};},componentWillReceiveProps:function(da){if(da.messages!==this.props.messages)this.setState({messageGroups:m.calculateMessageGroups(da.messages,da.location)});},render:function(){var da=this.props,ea=da.DateBreak,fa=da.location,ga=da.MessageGroup,ha=[],ia=this.state.activeMessageID,ja=this.state.messageGroups,ka=ja.length,la=this.props.readReceipts,ma=la.last()||0,na=k.getParticipantIDFromUserID(this.props.viewer);for(var oa=0;oa<ka;oa++){var pa=oa>0?ja[oa-1]:null,qa=pa&&pa.length>0?pa[pa.length-1]:null,ra=ja[oa],sa=ra[0],ta=ra[ra.length-1],ua=false;if(!qa||sa.timestamp-qa.timestamp>w){ua=true;ha.push(q.createElement(ea,{date:new Date(sa.timestamp),key:'db:'+sa.message_id,ref:'db:'+sa.message_id}));}if(sa.action_type==j.LOG_MESSAGE){if((fa===n.CHAT||fa===n.MESSENGER)&&(sa.log_message_type===t.VIDEO_CALL||sa.log_message_type===t.PHONE_CALL)){var va=s.gen('rtc_www_xmas'),wa=va.getParam('show_xmas','0');if(wa==='1'){var xa=this._createRTCMessageGroup(sa,na,ja,ka,oa,la,ma,ta);ha.push(xa);}else{var ya=this._createLogMessageGroup(sa);ha.push(ya);}}else{var za=this._createLogMessageGroup(sa);ha.push(za);}continue;}if(l.shouldTransform(sa)){var ab=l.transform(sa);ha.push(this._createLogMessageGroup(ab));continue;}ra=h.List(ra);var bb=z(ja,ka,oa),cb=!ba(la,ra,bb),db=aa(ma,ta),eb=ca(this.props.deliveryTimestamp,ta);ha.push(q.createElement(ga,{activeMessageID:y(ia,ra),author:ra.first().author,deliveryTimestamp:eb,hasDateBreak:ua,isCanonical:this.props.isCanonical,isFromViewer:na===sa.author,isPageMessage:this.props.isPageMessage,key:'mg:'+sa.message_id,lastReadTimestamp:db,maxBubbleWidth:this.props.maxBubbleWidth,messages:ra,nextTimestamp:bb,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this._handleMessageDeselect,onMessageSelect:this._handleMessageSelect,onStickerClick:this.props.onStickerClick,readReceipts:cb?la:h.OrderedMap(),ref:'mg:'+sa.message_id,thread:this.props.thread,threadID:this.props.threadID}));}return (q.createElement('div',{id:fa===n.MESSENGER?o.CONVERSATION:null},ha));},getMessageElement:function(da,ea){if(ea){var fa=this.refs['db:'+da];if(fa)return r.findDOMNode(fa);}var ga=this.state.messageGroups.find(function(ja){return ja.some(function(ka){return ka.message_id===da;});});if(!ga)return null;var ha=ga[0].message_id,ia=this.refs['mg:'+ha];if(!ia)return null;if(ea&&ha===da)return r.findDOMNode(ia);return ia.getMessageElement(da);},_handleMessageDeselect:function(da){this.setState(function(ea){return {activeMessageID:ea.activeMessageID===da?null:ea.activeMessageID};});},_handleMessageSelect:function(da){this.setState({activeMessageID:da});},_createRTCMessageGroup:function(da,ea,fa,ga,ha,ia,ja,ka){var la=this.props.MessageGroup,ma={attach_type:'share',share:{style_list:['rtc_call_log','fallback'],log_message_body:da.log_message_body,log_message_data:da.log_message_data,log_message_type:da.log_message_type,timestamp:da.timestamp}},na=i.setProperty(da,'attachments',[ma]);na=i.setProperty(na,'body','');var oa=h.List([na]),pa=z(fa,ga,ha),qa=!ba(ia,oa,pa),ra=aa(ja,ka),sa=ca(this.props.deliveryTimestamp,ka);return (q.createElement(la,{author:oa.first().author,deliveryTimestamp:sa,isFromViewer:ea===da.author,key:da.message_id,lastReadTimestamp:ra,maxBubbleWidth:this.props.maxBubbleWidth,messages:oa,nextTimestamp:pa,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this._handleMessageDeselect,onMessageSelect:this._handleMessageSelect,onStickerClick:this.props.onStickerClick,readReceipts:qa?ia:h.OrderedMap(),thread:this.props.thread,threadID:this.props.threadID}));},_createLogMessageGroup:function(da){var ea=this.props.LogMessage;return (q.createElement(ea,{className:this.props.location===n.CHAT?"_5w0o":null,key:da.message_id,loadMoreMessages:this.props.loadMoreMessages,message:da,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread}));}});function y(da,ea){return ea.find(function(fa){return fa.message_id===da;})?da:null;}function z(da,ea,fa){return fa<ea-1?da[fa+1][0].timestamp:Infinity;}function aa(da,ea){return ea.timestamp>da?da:Infinity;}function ba(da,ea,fa){return (ea.isEmpty()||da.last()<ea.first().timestamp||da.first()>=fa);}function ca(da,ea){return ea.timestamp>da?da:Infinity;}f.exports=x;},null);
__d('MercuryParticipantsImage.react',['MercuryParticipants','React','SplitImage.react','areEqual'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'MercuryParticipantsImage',_bigImageToken:null,propTypes:{participants:l.array.isRequired,size:l.number},getInitialState:function(){return {participantImages:[]};},componentDidMount:function(){this._getParticipantImages(this.props);},componentWillReceiveProps:function(n){this._getParticipantImages(n);},componentWillUnmount:function(){this._bigImageToken&&this._bigImageToken.remove();},shouldComponentUpdate:function(n,o){return (n.size!==this.props.size||!o||!k(o.participantImages,this.state.participantImages));},render:function(){if(this.state.participantImages.length>0)return (i.createElement(j,{border:true,className:this.props.className,srcs:this.state.participantImages,size:this.props.size}));return null;},_getParticipantImages:function(n){this._bigImageToken&&this._bigImageToken.remove();this._bigImageToken=h.getOrderedBigImageMulti(n.participants,function(o){this.isMounted()&&this.setState({participantImages:o});}.bind(this));}});f.exports=m;},null);
__d('MessengerContextBanner.react',['ImageBlock.react','immutable','MercuryParticipantsConstants','MercuryParticipantsImage.react','MercuryThreadImage.react','ReactComponentWithPureRenderMixin','React','MercuryShareAttachmentRenderLocations','cx','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=n.PropTypes,s;q('MessengerThreadImage.react',function(u){s=u;});var t=n.createClass({displayName:'MessengerContextBanner',mixins:[m],propTypes:{contactName:r.string,connectionContext:r.string,contextItems:r.arrayOf(r.string).isRequired,location:r.string.isRequired,participantIDs:r.arrayOf(r.string),participants:r.instanceOf(i.Map),thread:r.object,viewer:r.string.isRequired},render:function(){return (n.createElement(h,{className:"_llj"+(this.props.location===o.MESSENGER?' '+"_2eu-":'')+(this.props.location===o.CHAT?' '+"_2eu_":'')+(this.props.location===o.WEB_INBOX?' '+"_2ev0":''),spacing:'medium',style:this.props.style},this._renderImage(),n.createElement('div',{className:"_lll"},this._renderName(),this._renderConnectionContext(),this._renderContextItems())));},_renderImage:function(){var u=this.props.location===o.MESSENGER,v=null;if(this.props.thread){var w=s&&u?s:l;v=n.createElement(w,{showBadge:false,participants:this.props.participants,size:u?60:null,thread:this.props.thread,viewer:this.props.viewer});}else if(this.props.participantIDs)v=n.createElement(k,{participants:this.props.participantIDs,size:j.BIG_IMAGE_SIZE});return (n.createElement('div',{className:"_llk"},v));},_renderName:function(){if(this.props.location!==o.MESSENGER)return null;return (n.createElement('div',{className:"_llq"},n.createElement('span',{className:"_3oh-"},this.props.contactName)));},_renderConnectionContext:function(){return (n.createElement('div',{className:"_1n-e _36zg"},this.props.connectionContext));},_renderContextItems:function(){if(!this.props.contextItems.length)return null;return (n.createElement('div',null,this.props.contextItems.map(function(u,v){return (n.createElement('div',{className:"_1n-e",key:'item:'+v},u));})));}});f.exports=t;},null);
__d("XMessengerContextBannerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/messenger\/context_banner\/",{profile_id:{type:"Int",required:true},max_context_items:{type:"Int",defaultValue:3}});},null);
__d('MessengerContextInformationStore',['AsyncRequest','EventEmitter','Map','XMessengerContextBannerController'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=new j(),o=new j();l=babelHelpers.inherits(p,i);m=l&&l.prototype;p.prototype.getOrFetch=function(q){var r=n.get(q);r||this.$MessengerContextInformationStore1(q);return r;};p.prototype.$MessengerContextInformationStore1=function(q){if(o.get(q))return;var r=k.getURIBuilder().setInt('profile_id',q).getURI(),s=new h().setAllowCrossPageTransition(true).setURI(r).setHandler(this.$MessengerContextInformationStore2.bind(this,q));o.set(q,s);s.send();};p.prototype.$MessengerContextInformationStore2=function(q,r){n.set(q,{connectionContext:r.payload.connection_context||'',contextItems:r.payload.context_items||[]});o['delete'](q);this.emit('change');};function p(){l.apply(this,arguments);}f.exports=new p();},null);
__d('MessengerContextBannerContainer.react',['DOMDimensions','immutable','MercuryIDs','MercuryParticipants','MercuryThreads','MessengerContextBanner.react','MessengerContextInformationStore','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'MessengerContextBannerContainer',mixins:[o,r(k,l,n)],propTypes:{location:s.string.isRequired,onResize:s.func,otherUserFBIDs:s.arrayOf(s.string),threadID:s.string,viewer:s.string.isRequired},statics:{calculateState:function(u){var v=null,w=null;if(u.threadID){v=l.getForFBID(u.viewer).getOrFetch(u.threadID);w=v&&v.participants;}else if(u.otherUserFBIDs&&u.otherUserFBIDs.length===1)w=u.otherUserFBIDs.map(function(z){return k.getIDFromVanityOrFBID(z);});var x=i.Map();if(w)x=x.withMutations(function(z){w&&w.forEach(function(aa){z.set(aa,k.getOrFetch(aa));});});var y=null;if(v){y=x.get(j.getParticipantIDFromFromThreadID(v.thread_id));}else y=w&&x.get(w[0]);return babelHelpers['extends']({contact:y,participantIDs:w,participants:x,thread:v},t.getContextInformation(y&&y.fbid&&y.fbid.toString()));},getContextInformation:function(u){var v;if(u)v=n.getOrFetch(u.toString());return v||{connectionContext:'',contextItems:[]};}},componentDidUpdate:function(){var u=q.findDOMNode(this);if(!u)return;var v=h.getElementDimensions(u).height;if(this.props.onResize)this.props.onResize(v);},render:function(){if(!this.state.contact||this.state.contact.type==='page')return null;return (p.createElement(m,{contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,style:this.props.style,thread:this.state.thread,viewer:this.props.viewer}));}});f.exports=t;},null);
__d('MessengerDateBreak.react',['React','cx','formatDate','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'MessengerDateBreak',propTypes:{date:l.instanceOf(Date).isRequired},shouldComponentUpdate:function(n){return this.props.date.getTime()!==n.date.getTime();},render:function(){var n=j(this.props.date,{today:'g:ia',withinWeek:'D g:ia',thisYear:'M jS, g:ia',older:'m/d/Y g:ia'});return (h.createElement('h4',{className:k(this.props.className,"_497p _2lpt")},h.createElement('time',{className:"_3oh-"},n)));}});f.exports=m;},null);
__d('MessengerFlexArea.react',['Event','MessengerSignals','React','ReactDOM','ResponsiveBlock.react','Style','SubscriptionsHandler','Vector','getScrollPosition','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=j.PropTypes,s=j.createClass({displayName:'MessengerFlexArea',propTypes:{beforeResize:r.func,onResize:r.func},_subscriptions:null,_onResizeTimeout:null,getInitialState:function(){return {height:0};},componentDidMount:function(){var t=new n();t.addSubscriptions(h.listen(window,'resize',q(this.recalculateHeight,51)),i.onResize(function(){this.recalculateHeight();}.bind(this)));this._subscriptions=t;this.recalculateHeight();},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();clearTimeout(this._onResizeTimeout);},render:function(){return (j.createElement(l,{className:this.props.className,onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+'px'}},this.props.children));},recalculateHeight:function(){if(!this.isMounted())return;var t=k.findDOMNode(this),u=t.parentNode,v=this.state.height,w=o.getViewportDimensions().y,x=false;if(u&&m.get(u,'display')==='none'){m.set(u,'display','initial');x=true;}w-=o.getElementPosition(u||t).y;var y=p(window);w+=y.y;if(u){Array.from(u.childNodes).forEach(function(z){if(z.nodeType===Node.COMMENT_NODE||m.get(z,'position')==='absolute')return;w-=o.getElementDimensions(z).y;});w+=o.getElementDimensions(t).y;}if(x)m.set(u,'display','');if(isNaN(w)||w<0)w=0;if(w!==v){this.props.beforeResize&&this.props.beforeResize();this.setState({height:w},this.props.onResize);}},_handleResponsiveBlockResize:q(function(t,u){if(!this.isMounted())return;if(u===this.state.height){this.props.beforeResize&&this.props.beforeResize();clearTimeout(this._onResizeTimeout);if(this.props.onResize)this._onResizeTimeout=setTimeout(this.props.onResize,0);}},51)});f.exports=s;},null);
__d('MessengerFlexScrollableArea.react',['MessengerFlexArea.react','MessengerScrollableArea.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l=j.createClass({displayName:'MessengerFlexScrollableArea',propTypes:{flexChildren:k.node,onScroll:k.func,shouldStickToBottom:k.bool},render:function(){return (j.createElement(h,{beforeResize:this._prepareForResize,className:this.props.className,onResize:this._handleResize,ref:'flexArea'},this.props.flexChildren,j.createElement(i,{height:'100%',onScroll:this.props.onScroll,ref:'scrollable',tabIndex:this.props.tabIndex},this.props.children)));},getArea:function(){return this.refs.scrollable.getArea();},_prepareForResize:function(){this._wasScrolledToBottom=this.refs.scrollable.isScrolledToBottom();},_handleResize:function(){if(this._wasScrolledToBottom&&this.props.shouldStickToBottom)this.refs.scrollable.scrollToBottom();},handleResize:function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight();},scrollToBottom:function(){this.refs.scrollable.scrollToBottom();},scrollToTop:function(m){this.refs.scrollable.scrollToTop(m);},scrollToPosition:function(m){this.refs.scrollable.scrollToPosition(m);},isScrolledToBottom:function(){return this.refs.scrollable.isScrolledToBottom();},isScrolledToBottomWithHeight:function(m){return this.refs.scrollable.isScrolledToBottomWithHeight(m);},isScrolledToTop:function(){return this.refs.scrollable.isScrolledToTop();},getScrollTop:function(){return this.refs.scrollable.getScrollTop();}});f.exports=l;},null);
__d('MNCommerceDialogStateActions',['MessengerDispatcher','MNCommerceActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={showDialog:function(k,l){h.dispatch({type:i.DIALOG.SHOW,dialogContainer:k,state:l});},hideDialog:function(){h.dispatch({type:i.DIALOG.HIDE});}};f.exports=j;},null);
__d('MNCommerceLoggingConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DIALOG_SURFACE:{CHECKOUT_ORDER_CONFIG:'checkout_order_config',SHIPMENT:'shipment',RECEIPT:'receipt',UNLINK:'unlink',UNLINK_ERROR:'unlink_error',MANAGE:'manage'}};f.exports=h;},null);
__d('MNCommercePromotionStateActions',['MessengerDispatcher','MNCommerceActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={stateLoaded:function(k){h.dispatch({type:i.PROMOTION_STATE.LOADED,state:k});},stateLoadError:function(k){h.dispatch({type:i.PROMOTION_STATE.LOAD_ERROR,pageID:k});},stateReload:function(k){h.dispatch({type:i.PROMOTION_STATE.RELOAD,pageID:k});}};f.exports=j;},null);
__d("XMNCommercePromotionBlockController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/promotion\/block\/",{page_id:{type:"String",required:true},type:{type:"String",required:true}});},null);
__d('MNCommercePromotionBlockDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionBlockController'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.prototype.block=function(l,m){var n=j.getURIBuilder().setString('page_id',l).setString('type',m).getURI();new h().setURI(n).setHandler(this.$MNCommercePromotionBlockDataManager1).setErrorHandler(this.$MNCommercePromotionBlockDataManager2).send();};k.prototype.$MNCommercePromotionBlockDataManager1=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;i.stateReload(n);};k.prototype.$MNCommercePromotionBlockDataManager2=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;i.stateLoadError(n);};function k(){}f.exports=new k();},null);
__d('MNCommerceButton.react',['CurrentEnvironment','MessengerDialogButton.react','React','XUIButton.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'MNCommerceButton',render:function(){var m=h.messengerdotcom,n=m?i:k,o=this.props.type;if(!o)o=this.props.type==='confirm'?'primary':'secondary';var p=m?'default':this.props.use,q=babelHelpers['extends']({},this.props,{type:o,use:p});return (j.createElement(n,q,this.props.children));}});f.exports=l;},null);
__d('MNCommerceAttachmentConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={XLARGE_IMAGE_DIMENSION:72,LARGE_IMAGE_DIMENSION:60,SMALL_IMAGE_DIMENSION:32,SINGLE_IMAGE_HEIGHT:108,BUBBLE_PADDING:6,IMAGE_HEIGHT:{CHAT:108,WEB_INBOX:130},UNLINK_ERROR_DIALOG:{WIDTH:300},DIALOG:{WIDTH:445,PADDING:12},MDOTCOMDIALOG:{WIDTH:495},ORDER_DETAIL:{SUB_TOTAL:'subTotal',SHIPPING:'shippingCost',TAX:'tax',TOTAL:'totalCost'}};f.exports=h;},null);
__d('MNCommerceDialog.react',['CurrentEnvironment','LayerFadeOnHide','LayerHideOnEscape','MNCommerceAttachmentConstants','MessengerDialog.react','React','XUIDialog.react','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=m.PropTypes,s=m.createClass({displayName:'MNCommerceDialog',propTypes:{onToggle:r.func,shown:r.bool,width:r.number.isRequired},getDefaultProps:function(){return {onToggle:p,repositionOnUpdate:true,shown:true,width:h.messengerdotcom?k.MDOTCOMDIALOG.WIDTH:k.DIALOG.WIDTH};},componentDidUpdate:function(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function(){var t=h.messengerdotcom,u=t?l:n;return (m.createElement(u,babelHelpers['extends']({behaviors:{LayerFadeOnHide:i,LayerHideOnEscape:j}},this.props,{className:q(this.props.className,t?"_3rx0":''),ref:'dialog'}),this.props.children));}});f.exports=s;},null);
__d('MNCommerceDialogBody.react',['CurrentEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'MNCommerceDialogBody',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('MNCommerceDialogTitle.react',['CurrentEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'MNCommerceDialogTitle',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('MNCommerceDetailsDialog.react',['React','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogTitle.react','XUISpinner.react','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=h.PropTypes,q=h.createClass({displayName:'MNCommerceDetailsDialog',propTypes:{error:p.object,errorMessage:p.string,loading:p.bool.isRequired,onToggle:p.func,onTryAgain:p.func,title:p.string,shown:p.bool.isRequired},getDefaultProps:function(){return {shown:false};},render:function(){var r=null;if(this.props.loading){r=this._renderLoading();}else if(this.props.error){r=this._renderError();}else r=this.props.children;return (h.createElement(i,{className:this.props.className,modal:true,onToggle:this.props.onToggle,shown:this.props.shown},this._renderTitle(),h.createElement(j,{useCustomPadding:true},r)));},_renderTitle:function(){return this.props.title?h.createElement(k,null,this.props.title):null;},_renderError:function(){return (h.createElement('div',{className:"_4y9b"},h.createElement('p',{className:"_4y9c"},o._("Sorry, Something Went Wrong")),h.createElement('p',{className:"_4y9d"},this.props.errorMessage),h.createElement(m,{onClick:this.props.onTryAgain,label:o._("Try Again")})));},_renderLoading:function(){return (h.createElement('div',{className:"_4y9e"},h.createElement(l,{background:'light',size:'large',paused:false})));}});f.exports=q;},null);
__d('MNCommerceDialogFooter.react',['CurrentEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.createClass({displayName:'MNCommerceDialogFooter',render:function(){var o=h.messengerdotcom,p=o?i:k,q,r=this.props.children;if(o){q=j.Children.count(this.props.children);r=j.Children.map(this.props.children,function(s,t){if(!s)return null;return j.cloneElement(s,{className:m(s.props.className,"_4ec0"),type:t===0&&q===2?'secondary':'primary'});});}return (j.createElement(p,this.props,r));}});f.exports=n;},null);
__d('MessengerRadioButton.react',['ReactComponentWithPureRenderMixin','React','XUIRadioInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'MessengerRadioButton',mixins:[h],render:function(){return (i.createElement(j,babelHelpers['extends']({},this.props,{className:"__rm"})));}});f.exports=l;},null);
__d('MessengerRadioList.react',['InputLabel.react','MessengerRadioButton.react','React','ReactChildren','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'MessengerRadioList',propTypes:{name:m.string,onValueChange:m.func,selectedValue:m.any},render:function(){var o=k.map(this.props.children,function(p){return j.cloneElement(p,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue});},this);return j.createElement('ul',babelHelpers['extends']({},this.props,{name:null}),o);}});n.Item=j.createClass({displayName:'Item',propTypes:{disabled:m.bool,name:m.string,onSelect:m.func,selectedValue:m.any,value:m.any},render:function(){return (j.createElement('li',{className:this.props.className},j.createElement(h,{display:'inline'},j.createElement(i,{checked:this.props.selectedValue===this.props.value,disabled:!!this.props.disabled,name:this.props.name,onChange:this._handleChange,value:this.props.value}),j.createElement('label',null,this.props.children))));},_handleChange:function(event){!(event.target instanceof HTMLInputElement)?l(0):undefined;this.props.onSelect&&this.props.onSelect(event.target.value);}});f.exports=n;},null);
__d('MNCommercePromotionManageBlockDialog.react',['CurrentEnvironment','Link.react','MessengerRadioList.react','MNCommerceButton.react','MNCommerceDetailsDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','MNCommerceBlockTypeJSInstance','React','XUIRadioList.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=j.Item,u=r.Item,v=q.PropTypes,w=q.createClass({displayName:'MNCommercePromotionManageBlockDialog',propTypes:{isAllBlocked:v.bool,isPromotionBlocked:v.bool,error:v.object,loading:v.bool.isRequired,merchantName:v.string,onCancelButtonClick:v.func,onConfirmButtonClick:v.func.isRequired,pageID:v.string},getInitialState:function(){return this._calculateState();},componentWillReceiveProps:function(x){this.setState(this._calculateState(x));},_calculateState:function(x){var y=x||this.props,z=p.ALL;if(y.isAllBlocked){z=p.NONE;}else if(y.isPromotionBlocked)z=p.PROMOTION;return {type:z};},onTypeChange:function(x){this.setState({type:x});},render:function(){var x=this.props.merchantName||'',y=s._("Manage messages from {label for merchant name}",[s.param('label for merchant name',x)]),z=s._("Cancel"),aa=s._("Confirm"),ba=s._("Manage Options couldn't be shown."),ca=q.createElement(i,{href:'https://www.facebook.com/help/389645087895231',target:'_blank'},s._("Learn More"));return (q.createElement(l,babelHelpers['extends']({errorMessage:ba,onToggle:this.props.onToggle,shown:this.props.shown},this.props),q.createElement(o,{showCloseButton:true},y),q.createElement(m,null,this._renderBody()),q.createElement(n,{leftContent:ca},q.createElement(k,{label:z,onClick:this.props.onCancelButtonClick,use:'default'}),q.createElement(k,{label:aa,onClick:this._onConfirm,use:'confirm'}))));},_renderBody:function(){var x=h.messengerdotcom,y=x?j:r,z=x?t:u;return (q.createElement(y,{selectedValue:this.state.type,onValueChange:this.onTypeChange},q.createElement(z,{value:p.ALL},s._("All messages")),q.createElement(z,{value:p.PROMOTION},s._("Only updates")),q.createElement(z,{value:p.NONE},s._("No Messages"))));},_onConfirm:function(x){var y=this.props;y.onToggle(false);if(!y.onConfirmButtonClick)return;var z=y.pageID;y.onConfirmButtonClick(z,this.state.type);}});f.exports=w;},null);
__d('MNCommerceCacheTimeoutLimits',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SUCCESS_TIMEOUT:10,ERROR_TIMEOUT:1};f.exports=h;},null);
__d("XMNCommercePromotionStateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/promotion\/state\/",{page_id:{type:"String",required:true}});},null);
__d('MNCommercePromotionStateDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionStateController'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.prototype.fetchPromotionState=function(l){var m=j.getURIBuilder().setString('page_id',l).getURI();new h().setURI(m).setHandler(this.$MNCommercePromotionStateDataManager1).setErrorHandler(this.$MNCommercePromotionStateDataManager2).send();};k.prototype.$MNCommercePromotionStateDataManager1=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;l.payload.pageID=n;i.stateLoaded(l.payload);};k.prototype.$MNCommercePromotionStateDataManager2=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;i.stateLoadError(n);};function k(){}f.exports=new k();},null);
__d('MNCommercePromotionStateStore',['Cache','FluxStore','LoadObject','MessengerDispatcher','MNCommerceActionTypes','MNCommerceCacheTimeoutLimits','MNCommercePromotionStateDataManager'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o,p;if(c.__markCompiled)c.__markCompiled();o=babelHelpers.inherits(q,i);p=o&&o.prototype;function q(){p.constructor.call(this,k);this.$MNCommercePromotionStateStore1=new h();}q.prototype.__onDispatch=function(r){var s=r.type,t=r.pageID||r.state&&r.state.pageID;switch(s){case l.PROMOTION_STATE.LOADED:var u=r.state;this.$MNCommercePromotionStateStore1.set(t,j.empty().setValue(u),null,m.SUCCESS_TIMEOUT);this.__emitChange();break;case l.PROMOTION_STATE.LOAD_ERROR:this.$MNCommercePromotionStateStore1.set(t,j.empty().setError(new Error('Unable to load permissions for: '+t)),null,m.ERROR_TIMEOUT);this.__emitChange();break;case l.PROMOTION_STATE.RELOAD:if(t){this.$MNCommercePromotionStateStore1.set(t,j.loading());n.fetchPromotionState(t);}this.__emitChange();break;}};q.prototype.getPromotionState=function(r){if(r&&!this.$MNCommercePromotionStateStore1.has(r)){this.$MNCommercePromotionStateStore1.set(r,j.loading().setValue({pageID:r}));n.fetchPromotionState(r);}return this.$MNCommercePromotionStateStore1.get(r)||j.empty();};f.exports=new q();},null);
__d('MNCommercePromotionManageBlockDialogContainer.react',['MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommercePromotionManageBlockDialog.react','MNCommercePromotionStateActions','MNCommercePromotionStateStore','PureStoreBasedStateMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.createClass({displayName:'MNCommercePromotionManageBlockDialogContainer',mixins:[m(l)],statics:{calculateState:function(){var p=i.getState(),q=null;if(p)q=p.pageID;var r=l.getPromotionState(q);return {shown:!!p,loading:r.isLoading(),onConfirmButtonClick:p&&p.onConfirmButtonClick,pageID:q,promotionState:r.getValue(),error:r.getError()};}},render:function(){var p=this.state.promotionState;return (n.createElement(j,{error:this.state.error,isAllBlocked:p&&p.is_all_blocked,isPromotionBlocked:p&&p.is_promotion_blocked,loading:this.state.loading,merchantName:p&&p.name,onCancelButtonClick:this._hideDialog,onToggle:this._onToggle,pageID:this.state.pageID,onTryAgain:this._onTryAgainClick,onConfirmButtonClick:this.state.onConfirmButtonClick,shown:this.state.shown}));},_onToggle:function(p){if(!p)this._hideDialog();},_onTryAgainClick:function(){k.stateReload(this.state.pageID);},_hideDialog:function(){h.hideDialog();}});f.exports=o;},null);
__d('MNCommerceUnlinkDialog.react',['MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'MNCommerceUnlinkDialog',propTypes:{onCancelButtonClick:o.func,onTurnOffButtonClick:o.func},render:function(){var q=n._("Cancel"),r=n._("Turn Off");return (m.createElement(i,{onToggle:this.props.onToggle,shown:this.props.shown},m.createElement(l,{showCloseButton:false},n._("Unlink account?")),m.createElement(j,null,m.createElement('div',null,n._("You can turn off updates if you didn't sign up or just don't want to get them anymore."))),m.createElement(k,null,m.createElement(h,{label:q,onClick:this.props.onCancelButtonClick,use:'default'}),m.createElement(h,{label:r,onClick:this.props.onTurnOffButtonClick,use:'confirm'}))));}});f.exports=p;},null);
__d('MNCommerceUnlinkErrorDialog.react',['MNCommerceAttachmentConstants','MNCommerceErrors','React','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=j.createClass({displayName:'MNCommerceUnlinkErrorDialog',propTypes:{errorType:q.number,onOkayButtonClick:q.func},render:function(){var s=p._("OK"),t=null,u=null;switch(this.props.errorType){case i.ALREADY_UNLINKED:u=j.createElement('div',null,p._("Updates Are Already Off"));t=j.createElement('div',null,p._("You aren't getting updates in Messenger."));break;default:u=j.createElement('div',null,p._("Couldn't Turn Off Updates"));t=j.createElement('div',null,p._("Sorry, something went wrong. Please try again."));break;}return (j.createElement(l,{onToggle:this.props.onToggle,shown:this.props.shown,width:h.UNLINK_ERROR_DIALOG.WIDTH},j.createElement(o,null,u),j.createElement(m,null,t),j.createElement(n,null,j.createElement(k,{label:s,onClick:this.props.onOkayButtonClick,use:'confirm'}))));}});f.exports=r;},null);
__d('MNCommerceUnlinkDialogContainer.react',['BanzaiLogger','MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceUnlinkDialog.react','MNCommerceUnlinkErrorDialog.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=o.createClass({displayName:'MNCommerceUnlinkDialogContainer',render:function(){var q=j.getState();if(q&&q.errorType){h.log('MessengerCommerceLoggerConfig',{event:l.DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:k.DIALOG_SURFACE.UNLINK_ERROR})});return (o.createElement(n,{onToggle:this._onToggle,shown:!!q,errorType:q.errorType,onOkayButtonClick:this._hideDialog}));}else{h.log('MessengerCommerceLoggerConfig',{event:l.DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:k.DIALOG_SURFACE.UNLINK})});return (o.createElement(m,{onToggle:this._onToggle,shown:!!q,onCancelButtonClick:this._hideDialog,onTurnOffButtonClick:q&&q.onTurnOffButtonClick}));}},_onToggle:function(q){if(!q)this._hideDialog();},_hideDialog:function(){i.hideDialog();}});f.exports=p;},null);
__d("XMNCommerceUnlinkController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/unlink\/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}});},null);
__d('MNCommerceUnlinkDataManager',['AsyncRequest','MNCommerceDialogStateActions','MNCommerceUnlinkDialogContainer.react','XMNCommerceUnlinkController'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();l.prototype.unlink=function(m,n){var o=k.getURIBuilder().setString('page_id',m).setString('user_id',n).getURI();new h().setURI(o).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send();};l.prototype.$MNCommerceUnlinkDataManager1=function(m){i.showDialog(j,{errorType:m.error});};function l(){}f.exports=new l();},null);
__d('MNCommerceLogMessageUtils',['BanzaiLogger','Link.react','MercuryConfig','MercuryIDs','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceDialogStateActions','MNCommerceReplyTypes','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialogContainer.react','MNCommerceUnlinkDataManager','MNCommerceUnlinkDialogContainer.react','React','cx','fbt','invariant','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=c('MercuryThreads').get();y.prototype.isCommercePageAdminMessage=function(z){return !!(z&&z.log_message_data&&(z.log_message_data.replyType===o.COMMERCE_LINK||z.log_message_data.replyType===o.COMMERCE_UNLINK));};y.prototype.getCommercePageManage=function(z,aa){var ba=null;if(j.WWWMessengerManageAdminGK){var ca=function(){var ea=k.getUserIDFromParticipantID(z.author),fa=function(ga,ha){return p.block(ga,ha);};n.showDialog(q,{pageID:ea,onConfirmButtonClick:fa});h.log('MessengerCommerceLoggerConfig',{event:m.DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:l.DIALOG_SURFACE.MANAGE})});};ba=t.createElement(i,{className:(!aa?"_2w2m":'')+(aa?' '+"_1jvn":''),onClick:ca},v._("Manage"));}else if(z.log_message_data.replyType===o.COMMERCE_LINK){var da=function(){var ea=k.getUserIDFromParticipantID(z.author),fa=x.getThreadMetaNow(z.thread_id);!fa?w(0):undefined;var ga=null;fa.participants.every(function(ia){if(ia!==z.author){ga=k.getUserIDFromParticipantID(ia);return false;}return true;});var ha=function(){n.hideDialog();r.unlink(ea,ga);};n.showDialog(s,{onTurnOffButtonClick:ha});h.log('MessengerCommerceLoggerConfig',{event:m.DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:l.DIALOG_SURFACE.UNLINK})});};ba=t.createElement(i,{className:(!aa?"_2w2m":'')+(aa?' '+"_1jvn":''),onClick:da},v._("Turn Off"));}return (t.createElement('span',null,z.log_message_body,' ',ba));};function y(){}f.exports=new y();},null);
__d('MercuryMessageDeliveryState',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1};f.exports=h;},null);
__d('MercuryMessageInfo',['MercuryActionStatus','MercuryMessageDeliveryState','MercuryViewer'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={isOutbound:function(l){return l.author===j.getID();},isInbound:function(l){return !k.isOutbound(l);},isSending:function(l){return (l.status===h.UNSENT||l.status===h.UNCONFIRMED||l.status===h.UNABLE_TO_CONFIRM||l.status===h.RESENDING);},isSent:function(l){return (l.status===undefined||l.status===h.SUCCESS);},hasError:function(l){return (l.status===h.FAILED_UNKNOWN_REASON||l.status===h.UNABLE_TO_CONFIRM||l.status===h.ERROR);},getDeliveryState:function(l,m){if(this.hasError(l))return i.ERROR;if(this.isSending(l))return i.SENDING;if(this.isSent(l)){if(l.timestamp<=m)return i.DELIVERED;return i.SENT;}return i.UNKNOWN;}};f.exports=k;},null);
__d('MercuryXMATRenderer',['MercuryIDs','MercuryParticipants','MessagingGenericAdminTextType','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={renderText:function(n){var o=n.log_message_body;switch(n.log_message_data.message_type){case j.TURN_ON_PUSH:var p=n.log_message_data.untypedData&&n.log_message_data.untypedData.recipient_id,q=p&&i.getNow(h.getParticipantIDFromUserID(p)),r=h.getUserIDFromParticipantID(n.author),s=i.getNow(h.getParticipantIDFromUserID(r));if(r!==n.other_user_fbid){if(q){o=l._("You asked {admin-text-message} to turn on notifications for Messenger on mobile.",[l.param('admin-text-message',q.name)]);}else o=l._("You asked a contact to turn on notifications for Messenger on mobile.");}else if(s){o=l._("{admin-text-message} asked you to turn on notifications for Messenger on mobile.",[l.param('admin-text-message',s.name)]);}else o=l._("A contact asked you to turn on notifications for Messenger on mobile.");break;case j.JOURNEY_PROMPT_COLOR:o=l._("You need to be on the latest version of Messenger on a mobile device to pick a color for this conversation.");break;case j.JOURNEY_PROMPT_NICKNAME:var t=null,u=h.getUserIDFromParticipantID(n.author);if(n.other_user_fbid&&u!==n.other_user_fbid){var v=h.getParticipantIDFromUserID(n.other_user_fbid);t=i.getOrFetch(v);}if(t&&t.short_name){o=l._("You need to be on the latest version of Messenger on a mobile device to set a nickname for {admin-text-message} .",[l.param('admin-text-message',t.short_name)]);}else o=l._("You need to be on the latest version of Messenger on a mobile device to set a nickname for yourself.");break;case j.JOURNEY_PROMPT_LIKE:o=l._("You need to be on the latest version of Messenger on a mobile device to pick an emoji for this conversation.");break;case j.JOURNEY_PROMPT_BOT:o=l._("You need to be on the latest version of Messenger on a mobile device to add a subscription to this conversation.");break;default:break;}return k.createElement('span',null,o);}};f.exports=m;},null);
__d('P2PAmountUtils',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=10000,i={isAmountOverLegalLimit:function(j){return parseFloat(this.sanitizeAmount(j))>=h;},isAmountZero:function(j){return parseFloat(this.sanitizeAmount(j))===0;},isValidSendAmount:function(j){return !this.isAmountOverLegalLimit(j)&&!this.isAmountZero(j);},sanitizeAmount:function(j){return j.replace(/[^0-9\.]+/g,'');}};f.exports=i;},null);
__d('P2PBigAmount.react',['CurrentEnvironment','Image.react','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'P2PBigAmount',propTypes:{amount:m.string.isRequired,isPending:m.bool,size:m.oneOf(['medium','large'])},getDefaultProps:function(){return {size:'medium'};},getImage:function(){if(this.isMessengerDotCom()){if(this.props.isPending){if(this.props.size==='large'){return l('/images/p2p/message-icon-dark-gray-large.png');}else return l('/images/p2p/message-icon-dark-gray.png');}else if(this.props.size==='large'){return l('/images/p2p/message-icon-messenger-blue.png');}else return l('/images/p2p/message-icon-blue.png');}else if(this.props.isPending){if(this.props.size==='large'){return l('/images/p2p/message-icon-gray-large.png');}else return l('/images/p2p/message-icon-gray.png');}else if(this.props.size==='large'){return l('/images/p2p/message-icon-facebook-blue.png');}else return l('/images/p2p/message-icon-www-blue.png');},isMessengerDotCom:function(){return h.messengerdotcom;},render:function(){var o=this.props.size==='large'?'24':'16';return (j.createElement('div',{className:"_8j6"+(this.isMessengerDotCom()?' '+"_8j7":'')+(this.props.size==='large'?' '+"_1fv":'')},j.createElement('div',{className:"_8j8"},j.createElement(i,{height:o,src:this.getImage(),width:o})),j.createElement('div',{className:"_8jc"+(this.props.isPending?' '+"_8jd":'')+(this.props.amount.length>=8?' '+"_8je":'')+(' '+"_3oh-")},this.props.amount)));}});f.exports=n;},null);
__d('P2PButton.react',['CurrentEnvironment','MessengerDialogButton.react','React','XUIButton.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'P2PButton',render:function(){var m=h.messengerdotcom,n=m?i:k,o=this.props.type;if(!o)o=this.props.use==='confirm'?'primary':'secondary';var p=m?'default':this.props.use,q=babelHelpers['extends']({},this.props,{type:o,use:p});return (j.createElement(n,q,this.props.children));}});f.exports=l;},null);
__d('P2PDialog.react',['CurrentEnvironment','LayerFadeOnHide','MessengerDialog.react','React','XUIDialog.react','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'P2PDialog',propTypes:{onToggle:n.func,shown:n.bool,width:n.number},getDefaultProps:function(){return {onToggle:m,repositionOnUpdate:false,shown:true,width:400};},componentDidUpdate:function(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function(){var p=h.messengerdotcom,q=p?j:l;return (k.createElement(q,babelHelpers['extends']({behaviors:{LayerFadeOnHide:i}},this.props,{ref:'dialog'}),this.props.children));}});f.exports=o;},null);
__d('P2PDialogBody.react',['CurrentEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'P2PDialogBody',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('P2PDialogFooter.react',['CurrentEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','joinClasses','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.createClass({displayName:'P2PDialogFooter',render:function(){var o=h.messengerdotcom,p=o?i:k,q,r=this.props.children;if(o){q=j.Children.count(this.props.children);r=j.Children.map(this.props.children,function(s,t){if(!s)return null;return j.cloneElement(s,{className:l(s.props.className,"_4ec0"),type:t===0&&q===2?'secondary':'primary'});});}return (j.createElement(p,this.props,r));}});f.exports=n;},null);
__d('P2PDialogTitle.react',['CurrentEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'P2PDialogTitle',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('MessengerText.react',['ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'MessengerText',mixins:[h],propTypes:{display:l.oneOf(['inline','block']),type:l.oneOf(['primary','secondary']).isRequired,size:l.oneOf(['small'])},render:function(){return (i.createElement('div',babelHelpers['extends']({},this.props,{className:k("_39r5"+(this.props.type==='primary'?' '+"_39r6":'')+(this.props.type==='secondary'?' '+"_39r7":'')+(this.props.size==='small'?' '+"_39r8":'')+(this.props.display==='inline'?' '+"__0d":''),this.props.className)}),this.props.children));}});f.exports=m;},null);
__d('P2PText.react',['CurrentEnvironment','MessengerText.react','React','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'P2PText',propTypes:{type:l.oneOf(['primary','secondary']).isRequired},render:function(){var n=h.messengerdotcom,o=n?i:k,p=this.props.type,q=this.props;if(!n){q=babelHelpers['extends']({},this.props,{display:this.props.display||'block',shade:p==='primary'?'dark':'light',size:this.props.size||'small'});}else{q=babelHelpers['extends']({},this.props,{size:'small'});delete q.size;}return (j.createElement(o,q,this.props.children));}});f.exports=m;},null);
__d('P2PGroupSendReceiptDialog.react',['CurrentEnvironment','Image.react','Link.react','P2PAmountUtils','P2PButton.react','P2PBigAmount.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLinkConstants','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PText.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=w.PropTypes,aa=w.createClass({displayName:'P2PGroupSendReceiptDialog',propTypes:{amount:z.string.isRequired,eventFlow:z.string,isGrayAmount:z.bool,onClose:z.func.isRequired,receiver:z.object.isRequired,sender:z.object.isRequired,title:z.node},getDefaultProps:function(){return {bodyText:y._("You can send money to friends in groups."),eventFlow:u.UI_FLOW_P2P_GROUP_SEND,isGrayAmount:false,title:y._("Payment Details")};},componentDidMount:function(){this.log(t.UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount});},log:function(ba,ca){s.log(ba,babelHelpers['extends']({www_event_flow:this.props.eventFlow},ca));},handleClose:function(){this.log(t.UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose();},renderParticipantRow:function(ba,ca){var da;if(ca){da=y._("From");}else da=y._("To");return (w.createElement('li',{className:"_2chg",key:ba.id},w.createElement('div',{className:"_2chh"},w.createElement(j,{href:ba.profile_uri,onClick:this.props.onClose},w.createElement(i,{height:50,src:ba.picture,width:50}))),w.createElement('div',{className:"_2chi"},w.createElement(v,{type:'primary'},w.createElement(v,{type:'secondary'},da),ba.full_name))));},render:function(){var ba=h.messengerdotcom,ca=ba?380:360,da=this.props.title;return (w.createElement(n,{className:ba?"_bpv":'',layerHideOnBlur:false,onToggle:this.props.onClose,width:ca},w.createElement(q,null,da),w.createElement(o,null,w.createElement('ul',null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),w.createElement('div',{className:"_bpy"},w.createElement(m,{amount:k.sanitizeAmount(this.props.amount),isPending:this.props.isGrayAmount,size:'large'})),w.createElement(v,{className:"_bpt",size:'small',type:'secondary'},this.props.bodyText,' ',w.createElement(j,{className:"_1ed3",href:r.helpCenterURI,target:'_blank'},y._("Learn More")))),w.createElement(p,null,w.createElement(l,{label:y._("OK"),onClick:this.handleClose,type:'primary'}))));}});f.exports=aa;},null);
__d('P2PGroupPaymentRequestReceiptDialog.react',['P2PActions','P2PPaymentLoggerEventFlow','P2PGroupSendReceiptDialog.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'P2PGroupPaymentRequestReceiptDialog',propTypes:{amount:m.string,onClose:m.func,requestee:m.object.isRequired,requester:m.object.isRequired},render:function(){return (k.createElement(j,{amount:this.props.amount,bodyText:l._("You can send payment requests to friends in groups"),eventFlow:i.UI_FLOW_P2P_GROUP_REQUEST,isGrayAmount:true,onClose:this.props.onClose||h.hideDialog,title:l._("Payment Request Details"),receiver:this.props.requestee,sender:this.props.requester}));}});f.exports=n;},null);
__d("XP2PPaymentRequestReceiptController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_request\/",{id:{type:"String",required:true}});},null);
__d("XP2PTransactionDetailController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transaction\/",{id:{type:"String",required:true}});},null);
__d('P2PMercuryLogMessage.react',['CurrentEnvironment','CurrentUser','Link.react','MercuryIDs','P2PGroupPaymentRequestReceiptDialog.react','P2PGroupSendReceiptDialog.react','P2PPaymentLogMessageSubtype','React','ReactLayeredComponentMixin','XP2PPaymentRequestReceiptController','XP2PTransactionDetailController','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=o.PropTypes,v=o.createClass({displayName:'P2PMercuryLogMessage',mixins:[p],propTypes:{amount:u.string,receiver:u.object.isRequired,sender:u.object.isRequired,subtype:u.oneOf(Object.keys(n).map(function(w){return n[w];})),transferID:u.string.isRequired,threadFBID:u.string,threadID:u.string},getDefaultProps:function(){return {amount:'',sender:null,receiver:null,subtype:null};},getInitialState:function(){return {groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false};},handleGroupDetailsLinkClicked:function(){this.setState({groupSendReceiptDetailsShown:true});},handleGroupPaymentRequestDetailsLinkClicked:function(){this.setState({groupPaymentRequestReceiptDetailsShown:true});},handleThirdPartyReceiptDialogClosed:function(){this.setState({groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false});},isViewerSender:function(){return (k.getUserIDFromParticipantID(this.props.sender.id)===i.getID());},isViewerReceiver:function(){return (k.getUserIDFromParticipantID(this.props.receiver.id)===i.getID());},renderPaymentRequestDetailsLink:function(){var w=q.getURIBuilder().setString('id',this.props.transferID).getURI();return (o.createElement(j,{className:"_kiq",href:w,target:'_blank'},t._("See details")));},renderTransferDetailsLink:function(){var w=r.getURIBuilder().setString('id',this.props.transferID).getURI();return (o.createElement(j,{className:"_kiq",href:w,target:'_blank'},t._("See details")));},renderGroupDetailsLink:function(){return (o.createElement(j,{className:"_kiq",href:'#',onClick:this.handleGroupDetailsLinkClicked},t._("See details")));},renderGroupPaymentRequestDetailsLink:function(){return (o.createElement(j,{className:"_kiq",href:'#',onClick:this.handleGroupPaymentRequestDetailsLinkClicked},t._("See details")));},renderLayers:function(){var w={},x={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},y={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};if(this.state.groupSendReceiptDetailsShown){w.groupSendReceiptDetailsDialog=o.createElement(m,{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:x,sender:y});}else if(this.state.groupPaymentRequestReceiptDetailsShown)w.groupPaymentRequestReceiptDetailsDialog=o.createElement(l,{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:x,requester:y});return w;},render:function(){var w=null,x=this.props.amount,y=this.props.subtype,z=this.isViewerSender(),aa=this.isViewerReceiver(),ba;if(!z&&!aa){ba=this.renderGroupDetailsLink();}else ba=this.renderTransferDetailsLink();switch(y){case n.SENT_IN_GROUP:w=t._("{sendername} sent {amount} to {receivername}. {details}",[t.param('sendername',this.props.sender.name),t.param('amount',x),t.param('receivername',this.props.receiver.name),t.param('details',ba)]);break;case n.CANCELED_EXPIRED:case n.CANCELED_SAME_CARD:case n.CANCELED_SENDER_RISK:case n.CANCELED_RECIPIENT_RISK:case n.CANCELED_CUSTOMER_SERVICE:if(z){w=t._("Your {amount} payment was canceled. {details}",[t.param('amount',x),t.param('details',this.renderTransferDetailsLink())]);}else if(aa){w=t._("{name}'s {amount} payment was canceled. {details}",[t.param('name',this.props.sender.name),t.param('amount',x),t.param('details',this.renderTransferDetailsLink())]);}else w=t._("{sender_name}'s {amount} payment to {receiver_name} was canceled. {details}",[t.param('sender_name',this.props.sender.name),t.param('amount',x),t.param('receiver_name',this.props.receiver.name),t.param('details',ba)]);w=o.createElement('span',{className:"_5rdx"},w);break;case n.CANCELED_DECLINED:if(z){w=t._("{name} didn't accept your {amount} payment. {details}",[t.param('name',this.props.receiver.name),t.param('amount',x),t.param('details',this.renderTransferDetailsLink())]);}else if(aa){w=t._("You didn't accept {name}'s {amount} payment. {details}",[t.param('name',this.props.sender.name),t.param('amount',x),t.param('details',this.renderTransferDetailsLink())]);}else w=t._("{receiver_name} didn't accept {sender_name}'s {amount} payment. {details}",[t.param('receiver_name',this.props.receiver.name),t.param('sender_name',this.props.sender.name),t.param('amount',x),t.param('details',ba)]);w=o.createElement('span',{className:"_5rdx"},w);break;case n.REQUEST_CANCELED_BY_REQUESTER:if(z){w=t._("You canceled your request for {payment request amount}. {details}",[t.param('payment request amount',x),t.param('details',this.renderPaymentRequestDetailsLink())]);}else if(aa){w=t._("{sender's name} canceled their request for {payment request amount}. {details}",[t.param('sender\'s name',this.props.sender.name),t.param('payment request amount',x),t.param('details',this.renderPaymentRequestDetailsLink())]);}else w=t._("{sender's name} canceled their request for {payment request amount} from {receiver's name}. {details}",[t.param('sender\'s name',this.props.sender.name),t.param('payment request amount',x),t.param('receiver\'s name',this.props.receiver.name),t.param('details',this.renderGroupPaymentRequestDetailsLink())]);w=o.createElement('span',{className:"_5rdx"},w);break;case n.REQUEST_DECLINED_BY_REQUESTEE:if(z){w=t._("{receiver's name} declined your request for {payment request amount}. {details}",[t.param('receiver\'s name',this.props.receiver.name),t.param('payment request amount',x),t.param('details',this.renderPaymentRequestDetailsLink())]);}else if(aa){w=t._("You declined {sender's name}'s request for {payment request amount}. {details}",[t.param('sender\'s name',this.props.sender.name),t.param('payment request amount',x),t.param('details',this.renderPaymentRequestDetailsLink())]);}else w=t._("{receiver's name} declined {sender's name}'s request for {payment request amount}. {details}",[t.param('receiver\'s name',this.props.receiver.name),t.param('sender\'s name',this.props.sender.name),t.param('payment request amount',x),t.param('details',this.renderGroupPaymentRequestDetailsLink())]);w=o.createElement('span',{className:"_5rdx"},w);break;case n.REQUEST_EXPIRED:if(z){w=t._("Your request for {payment request amount} expired so it was canceled. {details}",[t.param('payment request amount',x),t.param('details',this.renderPaymentRequestDetailsLink())]);}else if(aa){w=t._("{sender's name}'s request for {payment request amount} expired so it was canceled. {details}",[t.param('sender\'s name',this.props.sender.name),t.param('payment request amount',x),t.param('details',this.renderPaymentRequestDetailsLink())]);}else w=t._("{sender's name}'s request to {receiver's name} for {payment request amount} expired so it was canceled. {details}",[t.param('sender\'s name',this.props.sender.name),t.param('receiver\'s name',this.props.receiver.name),t.param('payment request amount',x),t.param('details',this.renderGroupPaymentRequestDetailsLink())]);w=o.createElement('span',{className:"_5rdx"},w);break;}return (o.createElement('div',{className:h.messengerdotcom?"_5rdy":''},w));}});f.exports=v;},null);
__d('MessengerLogMessageBody.react',['immutable','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryLogMessageType','P2PMercuryLogMessage.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=o.PropTypes,s=o.createClass({displayName:'MessengerLogMessageBody',_viewer:'',mixins:[n,p(k)],propTypes:{message:r.instanceOf(i).isRequired,viewer:r.string.isRequired},statics:{calculateState:function(t){var u=[],v=t.message,w=v.log_message_data,x=v.log_message_type;switch(x){case l.SUBSCRIBE:u=w.added_participants;break;case l.UNSUBSCRIBE:u=w.removed_participants;break;case l.ORION:u.push(w.senderId,w.receiverId);break;}if(!u||!u.length)return {};var y=h.Map().withMutations(function(z){u.forEach(function(aa){z.set(aa,k.getOrFetch(aa)||{});});});return {extraParticipants:y};}},render:function(){var t=this.props.message.log_message_type;this._viewer=j.getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&t!==l.ORION)return null;switch(t){case l.SUBSCRIBE:return (o.createElement('span',null,this._renderSubscribeMessage(this.props.message)));case l.UNSUBSCRIBE:return (o.createElement('span',null,this._renderUnsubscribeMessage(this.props.message)));case l.THREAD_NAME:var u=this.props.message.log_message_data;if(!u.name)return (o.createElement('span',null,q._("You removed the group name.")));return (o.createElement('span',null,q._("You named the group {the new name of the group}.",[q.param('the new name of the group',u.name)])));case l.THREAD_IMAGE:return (o.createElement('span',null,q._("You changed the group photo.")));case l.ORION:return this._renderP2PLogMessage(this.props.message);default:return null;}},_renderP2PLogMessage:function(t){var u=t.log_message_data,v=u.senderId,w=u.receiverId,x=this.state.extraParticipants,y=x.get(v),z=x.get(w);return (o.createElement(m,{amount:u.formattedAmount,receiver:z,sender:y,subtype:u.subtype,threadFBID:t.thread_fbid,threadID:t.thread_id,transferID:u.transfer_id}));},_renderSubscribeMessage:function(t){var u=this._moveCurrentUserToFront(t.log_message_data.added_participants),v=this.state.extraParticipants;switch(u.length){case 1:return q._("You added {subscriber1}.",[q.param('subscriber1',v.get(u[0]).name)]);case 2:return q._("You added {subscriber1} and {subscriber2}.",[q.param('subscriber1',v.get(u[0]).name),q.param('subscriber2',v.get(u[1]).name)]);case 3:return q._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[q.param('subscriber1',v.get(u[0]).name),q.param('subscriber2',v.get(u[1]).name),q.param('subscriber3',v.get(u[2]).name)]);default:var w=u.map(function(x){return v.get(x);});return q._("You added {subscriber1}, {subscriber2} and {num} other people.",[q.param('subscriber1',w[0].name),q.param('subscriber2',w[1].name),q.param('num',w.slice(2).length)]);}},_renderUnsubscribeMessage:function(t){var u=this.state.extraParticipants,v=t.log_message_data.removed_participants[0],w=u.get(v);if(!v||v===t.author){return q._("You left the conversation.");}else return q._("You removed {name} from the conversation.",[q.param('name',w.name)]);},_moveCurrentUserToFront:function(t){var u=this._viewer,v=t.indexOf(u);if(v>0){var w=t.filter(function(x){return x!==u;});return [u].concat(w);}return t;}});f.exports=s;},null);
__d('MessengerLogMessage.react',['Image.react','ImmutableObject','MercuryLogMessageType','MercuryMessageInfo','MercuryXMATRenderer','MessengerLogMessageBody.react','MNCommerceLogMessageUtils','React','ReactComponentWithPureRenderMixin','cx','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=o.PropTypes,u=r('/images/mercury/clients/messenger/message/messageStateFailed.png'),v=o.createClass({displayName:'MessengerLogMessage',mixins:[p],propTypes:{message:t.instanceOf(i).isRequired,viewer:t.string.isRequired},render:function(){return (o.createElement('div',{className:this._computeClass()},this._renderErrorState(),o.createElement('i',{className:"_uwa"}),o.createElement('span',{className:"_3oh-"},this._renderLogMessageBody())));},_renderLogMessageBody:function(){var w;if(this.props.message.log_message_type!==j.ORION)w=l.renderText(this.props.message);return (this._renderMNCommerceManage()||w||o.createElement(m,{message:this.props.message,viewer:this.props.viewer}));},_renderMNCommerceManage:function(){var w=this.props.message;if(n.isCommercePageAdminMessage(w))return n.getCommercePageManage(w,true);},_renderErrorState:function(){if(!k.hasError(this.props.message))return null;return (o.createElement(h,{className:"_41-9",src:u}));},_computeClass:function(){var w,x=this.props.message,y=x.log_message_type===j.UNSUBSCRIBE&&x.log_message_data.removed_participants.indexOf(x.author)!==-1,z=this.props.viewer;switch(x.log_message_type){case j.SUBSCRIBE:w="_uwb";break;case j.UNSUBSCRIBE:w=y?"_uwc":"_uwe";break;case j.PHONE_CALL:w=x.log_message_data.caller.indexOf(z)!==-1?"_uwf":"_uwg";break;case j.VIDEO_CALL:w=x.log_message_data.caller.indexOf(z)!==-1?"_uwh":"_uwi";break;case j.THREAD_NAME:w="_uwj";break;case j.THREAD_IMAGE:w="_uwk";break;case j.SERVER_ERROR:w="_uwl";break;case j.LIVE_LISTEN:w="_uwm";break;case j.WALLPAPER:w="_uwn";break;case j.ORION:w="_uwo";break;case j.SWITCH_TO_WORK:w="_uwp";break;case j.PAGE_REPLY:w="_uwq";break;}return s("_497p"+((x.log_message_type===j.PHONE_CALL||x.log_message_type===j.VIDEO_CALL)&&!x.log_message_data.answered?' '+"_3no3":''),w);}});f.exports=v;},null);
__d('MercuryAttachmentAttribution.react',['Image.react','ImmutableObject','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'MercuryAttachmentAttribution',mixins:[j],propTypes:{attachment:n.instanceOf(i)},render:function(){var p=this._getAttribution();if(!p)return null;return (k.createElement('div',{className:m(this.props.className,"_29ew")},k.createElement(h,{src:p.icon_url,className:"_29ex"}),k.createElement('span',{className:"_29ey"},p.name)));},_getAttribution:function(){return this.props.attachment&&this.props.attachment.app_attribution;}});f.exports=o;},null);
__d('MessengerAttachmentAttribution.react',['ImmutableObject','MercuryAttachmentAttribution.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'MessengerAttachmentAttribution',propTypes:{attachment:l.instanceOf(h)},render:function(){return (j.createElement(i,{attachment:this.props.attachment,className:"_2f5n _4br2"}));}});f.exports=m;},null);
__d('MessengerBubbleBlock.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'MessengerBubbleBlock',render:function(){return (h.createElement('div',{className:"_52mr _4h13 _3058"},this.props.children));}});f.exports=j;},null);
__d('MessengerCodeBubble.react',['Bootloader','immutable','MessengerCodePasteUtils','ReactComponentWithPureRenderMixin','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'MessengerCodeBubble',mixins:[k],propTypes:{attachments:n.instanceOf(i.List),body:n.string.isRequired,ranges:n.array.isRequired,threadID:n.string.isRequired},componentDidMount:function(){h.loadModules(["Prism.Complete"],function(p){for(var q in this.refs){var r=m.findDOMNode(this.refs[q]);p.highlightElement(r);}}.bind(this));},render:function(){var p=j.getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID);return l.createElement('div',null,p);}});f.exports=o;},null);
__d('ContextualLayerUpdateOnScroll',['Event'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this._layer=j;}i.prototype.enable=function(){'use strict';this._subscriptions=[this._layer.subscribe('show',this._attachScrollListener.bind(this)),this._layer.subscribe('hide',this._removeScrollListener.bind(this))];};i.prototype.disable=function(){'use strict';while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();};i.prototype._attachScrollListener=function(){'use strict';if(this._listener)return;var j=this._layer.getContextScrollParent();this._listener=h.listen(j,'scroll',this._layer.updatePosition.bind(this._layer));};i.prototype._removeScrollListener=function(){'use strict';this._listener&&this._listener.remove();this._listener=null;};Object.assign(i.prototype,{_subscriptions:[]});f.exports=i;},null);
__d('MessengerContextualActions.react',['ContextualLayerUpdateOnScroll','LayerHideOnBlur','Link.react','React','ReactAbstractContextualDialog','ReactLayer','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=m.createClass(l.createSpec({displayName:'MessengerContextualActionsDialog',theme:{wrapperClassName:"_hw2",arrowDimensions:{offset:12,length:12}}})),q=k.createClass({displayName:'MessengerContextualActions',propTypes:{onToggle:o.func},render:function(){var s=this.props,t=s.children,u=babelHelpers.objectWithoutProperties(s,['children']);return (k.createElement(p,babelHelpers['extends']({},u,{alignment:'center',behaviors:{ContextualLayerUpdateOnScroll:h,LayerHideOnBlur:i},onToggle:this.props.onToggle}),k.createElement('ul',{className:"_hw3"},t)));}}),r=k.createClass({displayName:'MessengerContextualActionsItem',propTypes:{onClick:o.func},render:function(){return (k.createElement('li',{className:"_hw4"},k.createElement(j,{className:"_hw5",onClick:this.props.onClick},this.props.children)));}});q.Item=r;f.exports=q;},null);
__d('MessengerDialogCancelButton.react',['MessengerDialogButton.react','ReactComponentWithPureRenderMixin','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'MessengerDialogCancelButton',mixins:[i],render:function(){return (j.createElement(h,babelHelpers['extends']({action:'cancel',label:k._("Cancel"),type:'secondary'},this.props)));}});f.exports=l;},null);
__d('MessengerDeleteMessageDialog.react',['MercuryConfig','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=p.PropTypes,s=p.createClass({displayName:'MessengerDeleteMessageDialog',mixins:[o],propTypes:{isFromViewer:r.bool,onDelete:r.func,onToggle:r.func},render:function(){return (p.createElement(i,{onToggle:this.props.onToggle},p.createElement(n,null,this._renderDialogHeaderMsg()),p.createElement(j,null,this._renderDialogBodyMsg()),p.createElement(m,null,p.createElement(l,{onClick:this._handleCancel}),p.createElement(k,{label:this._renderDialogButtonMsg(),onClick:this._handleDelete,type:'primary',use:'danger'}))));},_renderDialogHeaderMsg:function(){if(h.MessengerGlobalDeleteGK)if(this.props.isFromViewer){return q._("Delete Message?");}else return q._("Hide Message?");return q._("Delete Message");},_renderDialogBodyMsg:function(){if(h.MessengerGlobalDeleteGK)if(this.props.isFromViewer){return q._("If you delete this message, no one in this conversation can see it anymore and it can't be undone.");}else return q._("If you hide your copy of this message, you can't get it back. The other person in the conversation may still be able to see it.");return q._("Are you sure you want to delete this message?");},_renderDialogButtonMsg:function(){if(!this.props.isFromViewer&&h.MessengerGlobalDeleteGK)return q._("Hide");return q._("Delete");},_handleDelete:function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();},_handleCancel:function(){this.props.onCancel&&this.props.onCancel();}});f.exports=s;},null);
__d('MessengerMessageActionsWrapper.react',['DOMQuery','ImmutableObject','ReactLayeredComponentMixin','MercuryConfig','MercuryMessageActions','MercuryMessageInfo','MessengerActions','MessengerContextualActions.react','MessengerDeleteMessageDialog.react','Parent','React','ReactDOM','csx','cx','fbt','invariant','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=o.Item,z=r.PropTypes,aa="_ui9",ba="._ui9",ca=r.createClass({displayName:'MessengerMessageActionsWrapper',mixins:[j],propTypes:{isActive:z.bool,isDeletable:z.bool,isFromViewer:z.bool,message:z.instanceOf(i).isRequired,onDeselect:z.func.isRequired,onSelect:z.func.isRequired},getDefaultProps:function(){return {isDeletable:true};},render:function(){return (r.createElement('div',babelHelpers['extends']({onContextMenu:this._handleContextMenu},this.props),this.props.children));},renderLayers:function(){if(!this.props.isDeletable||!this.props.isActive)return {};var da=s.findDOMNode(this),ea=da&&h.scry(da,ba)[0];if(!ea)return {};return {contextualDialog:r.createElement(o,{context:ea,onToggle:this._handleActionsToggle,shown:this.props.isActive},this._renderRetry(),r.createElement(y,{onClick:this._handleDelete},this._renderActionItemMsg()))};},_renderActionItemMsg:function(){if(!this.props.isFromViewer&&k.MessengerGlobalDeleteGK)return v._("Hide");return v._("Delete");},_renderRetry:function(){if(!m.hasError(this.props.message))return null;return (r.createElement(y,{onClick:this._handleRetry},v._("Try Again")));},_handleActionsToggle:function(da){!da&&this._handleDeselect();},_handleDeselect:function(){this.props.onDeselect(this.props.message.message_id);},_handleDelete:function(){var da=this.props.message;n.showDialog(p,{onDelete:function(){l.get()['delete'](da.thread_id,[da.message_id]);},onToggle:this._handleDialogToggle,onCancel:this._handleDeselect,isFromViewer:this.props.isFromViewer});},_handleDialogToggle:function(da){if(!da)n.hideDialog();},_handleRetry:function(){this._handleDeselect();l.get().resend(this.props.message);},_handleContextMenu:function(da){if(!this._shouldAllowNativeContextMenu(da))da.preventDefault();x(function(){this.props.onSelect(this.props.message.message_id);}.bind(this));},_shouldAllowNativeContextMenu:function(da){!(da.target instanceof HTMLElement)?w(0):undefined;return (da.target.nodeName.toLowerCase()==='a'||window.getSelection().toString()!==''||!q.byClass(da.target,aa));}});f.exports=ca;},null);
__d('MessengerMessageSeenHeads.react',['Image.react','immutable','ImmutableObject','MercuryMessageInfo','MercuryTimestamp','MessengerConfig','ReactComponentWithPureRenderMixin','React','cssVar','cx','fbt','getViewportDimensions','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=o.PropTypes,v=m.MaxSeenHeadCount||8,w=o.createClass({displayName:'MessengerMessageSeenHeads',mixins:[n],propTypes:{isFromViewer:u.bool,message:u.instanceOf(j).isRequired,nextTimestamp:u.number.isRequired,participants:u.instanceOf(i.Map).isRequired,readReceipts:u.instanceOf(i.OrderedMap).isRequired},render:function(){var y=this.props,z=y.message,aa=y.nextTimestamp,ba=y.participants,ca=y.readReceipts;if(k.isSending(z)||ca.isEmpty()||k.hasError(z))return null;var da=i.Seq(ca).filter(function(la,ma){return (la>=z.timestamp&&la<aa);});if(da.isEmpty())return null;var ea=this.props.isFromViewer?v:x(),fa=da.count()>ea+1,ga=fa?da.slice(0,ea):da,ha=ga.map(function(la,ma){var na=ba.get(ma);if(!na)return null;var oa=la?r._("Seen by {full name} at {seen time}",[r.param('full name',na.name),r.param('seen time',l.getPreciseTimestamp(la))]):r._("Seen by {full name}",[r.param('full name',na.name)]);return (o.createElement(h,{alt:oa,className:"_jf2",key:ma,src:na.image_src,title:oa}));}).toArray(),ia=ha.length;if(!ia)return null;var ja=fa?da.slice(ea).count():0;if(ja>0){var ka=da.slice(ea).map(function(la,ma){var na=ba.get(ma);return na?na.name:null;}).filter(function(la){return !!la;}).join('\n')+' ';ha.unshift(o.createElement('span',{className:"_jf3",key:'overflow',title:ka},'+'+ja));}return (o.createElement('span',{className:t(this.props.className,"_jf4"+(ia+ja===1?' '+"_jf5":''))},ha));}});function x(){var y=s().width;if(y<parseInt("920px".replace('px',''),10))return Math.min(v,8);if(y<parseInt("1211px".replace('px',''),10))return Math.min(v,3);return v;}f.exports=w;},null);
__d('messengerRTLClasses',['cx','isRTL'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){var m=i(k||'');return l?m?"_4pv0":'':(!m?"direction_ltr":'')+(m?' '+"direction_rtl":'')+(!m?' '+"text_align_ltr":'')+(m?' '+"text_align_rtl":'')+(m?' '+"_4pv0":'');}f.exports=j;},null);
__d('MessengerMessage.react',['EmojiLikeUtils','MercuryDisplayTimeFilterMessageRenderer','immutable','ImmutableObject','MercuryAttachment','MercuryConfig','MercuryMessageActions','MercuryMessageDeliveryState','MercuryMessageInfo','MercuryTagHelper','MercuryTimestamp','MessagingGiftWrap.react','MessengerAttachmentAttribution.react','MessengerAttachmentRenderer','MessengerBubble.react','MessengerBubbleBlock.react','MessengerCodeBubble.react','MessengerCodePasteUtils','MessengerConfig','MessengerMessageActionsWrapper.react','MessengerMessageSeenHeads.react','React','cssVar','cx','emptyFunction','fbt','getViewportDimensions','joinClasses','messengerRTLClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){'use strict';if(c.__markCompiled)c.__markCompiled();var ka=ca.PropTypes;function la(oa){switch(oa){case o.SENDING:return ga._("Sending");case o.SENT:return ga._("Sent");case o.DELIVERED:return ga._("Delivered");case o.ERROR:return ga._("Error");}return null;}var ma=ca.createClass({displayName:'MessengerMessage',propTypes:{customColor:ka.string,deliveryTimestamp:ka.number.isRequired,isActive:ka.bool,isFromViewer:ka.bool,isGiftWrapped:ka.bool,isPageMessage:ka.bool,message:ka.instanceOf(k).isRequired,nextTimestamp:ka.number.isRequired,onAttachmentLoad:ka.func.isRequired,onDeselect:ka.func.isRequired,onSelect:ka.func.isRequired,participants:ka.instanceOf(j.Map).isRequired,readReceipts:ka.instanceOf(j.OrderedMap).isRequired,showDeliveryState:ka.bool},getDefaultProps:function(){return {onAttachmentLoad:fa};},shouldComponentUpdate:function(oa){return (oa.isActive!==this.props.isActive||oa.isFromViewer!==this.props.isFromViewer||oa.message!==this.props.message||oa.nextTimestamp!==this.props.nextTimestamp||oa.showDeliveryState!==this.props.showDeliveryState||oa.deliveryTimestamp!==this.props.deliveryTimestamp||!j.is(oa.readReceipts,this.props.readReceipts)||!j.is(oa.participants,this.props.participants)||oa.customColor!==this.props.customColor);},render:function(){var oa=this.props,pa=oa.isActive,qa=oa.isFromViewer,ra=oa.message,sa=z.SentTimestampEnabled&&qa?{'data-hover':'tooltip','data-tooltip-alignh':pa?'right':'center','data-tooltip-position':na(),'aria-label':ga._("{time}",[ga.param('time',r.getPreciseTimestamp(ra.timestamp))])}:null;return (ca.createElement(aa,{className:ia("_o46"+(' '+"_3erg")+(pa?' '+"_-5k":'')+(qa?' '+"_3i_m":'')+(qa?' '+"_nd_":'')+(!qa?' '+"_29_7":''),ja(ra.body)),isActive:pa,isDeletable:!this._isP2PAttachment()&&!this.props.isPageMessage,isFromViewer:qa,message:ra,onDeselect:this.props.onDeselect,onSelect:this.props.onSelect},ca.createElement('div',{className:'clearfix'},this._renderBubble(sa),this._renderAttachmentsOutsideBubble(sa)),this._renderErrorState(),this._renderDeliveryState(),ca.createElement(ba,{className:"_4jzq",isFromViewer:qa,message:ra,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})));},_attachmentsCanHaveTooltipWrap:function(oa){return oa.every(function(pa){var qa=pa&&(pa.type.displayName||pa.type.name);return qa!=='MercuryShareAttachment'&&qa!=='MessengerPhotosGroup';});},_renderAttachmentsOutsideBubble:function(oa){if(this.props.message.is_filtered_content)return null;var pa=u.getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,this.props.customColor,this._handleUnwrap);if(!pa||!pa.length)return null;if(oa)pa=this._attachmentsCanHaveTooltipWrap(pa)?ca.createElement('div',babelHelpers['extends']({},oa,{className:"_3zvs"}),pa):pa.map(function(sa){return (sa&&ca.cloneElement(sa,oa));});var qa=ca.createElement('div',{key:'renderedAttachments',className:"_3058 _15gf"},pa);if(this.props.message.attachments.length===1&&l.hasAttribution(this.props.message.attachments[0])){var ra=[qa,ca.createElement(t,{attachment:new k(this.props.message.attachments[0]),key:'attribution'})];if(this.props.isGiftWrapped)ra=[ca.createElement('div',{key:'blockContentWrapper'},ra),ca.createElement(s,{key:'giftwrap',onUnwrap:this._handleUnwrap})];return (ca.createElement(w,null,ra));}return qa;},_isP2PAttachment:function(){return (u.isP2PAttachment(this.props.message));},_renderBubble:function(oa){var pa=this.props.message,qa=j.List(u.getAttachmentsInsideBubble(pa,this.props.onAttachmentLoad));if(m.MessengerCodePaste&&y.containsCodeBlock(pa.body))return (ca.createElement(x,{attachments:qa,body:pa.body,className:"_3058 _ui9",ranges:pa.ranges||[],threadID:pa.thread_id||''}));if(pa.is_filtered_content)return (ca.createElement('div',{className:"_3058 _wiu _52mr uiBoxYellow clearfix"},i.renderFilteredContent(pa)));var ra=pa.body&&!h.isEmojiLike(pa);if(ra||!qa.isEmpty())return (ca.createElement(v,babelHelpers['extends']({attachments:qa,body:pa.body,className:"_3058 _ui9",customColor:this.props.isFromViewer?this.props.customColor:'',customLike:pa.customLike,isGiftWrapped:this.props.isGiftWrapped,isP2PAttachment:this._isP2PAttachment(),onUnwrap:this._handleUnwrap,ranges:pa.ranges,threadID:pa.thread_id},oa||{})));return null;},_renderDeliveryState:function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var oa=p.getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(oa===o.UNKNOWN)return null;var pa={};if(this.props.customColor&&(oa===o.SENT||oa===o.SENDING||oa===o.DELIVERED))pa.color=this.props.customColor;return (ca.createElement('span',{className:"_2her"+(oa===o.SENDING?' '+"_4jzp":'')+(oa===o.SENT?' '+"_3zzf":'')+(oa===o.DELIVERED?' '+"_9ah":'')+(oa===o.ERROR?' '+"_5ei9":''),onClick:oa===o.ERROR?this._handleSelect:null,style:pa,title:la(oa)},ca.createElement('i',{className:"_57e_"})));},_renderErrorState:function(){var oa=this.props.message;if(!p.hasError(oa))return null;return (ca.createElement('span',{className:"_3058 _2ygi",onClick:this._handleSelect},ga._("Message couldn't be sent.")));},_handleUnwrap:function(){var oa="2500ms";setTimeout(function(){return this._persistUnwrapping();}.bind(this),oa.substring(0,oa.length-2));},_persistUnwrapping:function(){n.get().unwrap(this.props.message);},_handleSelect:function(oa){oa.stopPropagation();this.props.onSelect(this.props.message.message_id);}});function na(){if(ha().width<=parseInt("640px".replace('px',''),10))return 'above';return 'right';}f.exports=ma;},null);
__d('MessengerPageAdminNoteList.react',['LeftRight.react','MessengerBubble.react','PagesMessengerCreatorInfo.react','ReactComponentWithPureRenderMixin','React','enumerate','classWithMixins','cx','fbt','immutable','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';var s,t;if(c.__markCompiled)c.__markCompiled();var u=l.PropTypes;s=babelHelpers.inherits(v,n(l.Component,r(k)));t=s&&s.prototype;v.prototype.render=function(){var w=[],x=this.calculateGroups(this.props.notes);x.forEach(function(y,z){w.push(l.createElement('li',{className:"_4kd2",key:'group:'+z},this.$MessengerPageAdminNoteList1(y)));}.bind(this));return (l.createElement('ul',{className:"_4kd3"},w));};v.prototype.$MessengerPageAdminNoteList1=function(w){var x=[];w.forEach(function(y,z){x.push(l.createElement('div',{className:"_4kd4",key:'note:'+z},this.$MessengerPageAdminNoteList2(y,w)));}.bind(this));return x;};v.prototype.$MessengerPageAdminNoteList2=function(w,x){var y=q.List([l.createElement(h,{className:"_561k"},l.createElement('div',{className:"_561l"},p._("Private Note")),l.createElement(j,{key:'creator_info',creator_info:x[0].creator_info,isNote:true}))]);return (l.createElement('div',{className:"_o46 _3i_m _nd_"},l.createElement('div',{className:'clearfix'},l.createElement(i,{body:w.body.text,attachments:y,className:"_3058 _4kd5"}))));};v.prototype.calculateGroups=function(w){var x=[],y=null,z=null,aa=m(w),ba;while(!(ba=aa.next()).done){var ca=z&&z.value.creator_info.creatorID===ba.value.creator_info.creatorID;if(!ca){y=[];x.push(y);}if(y)y.push(ba.value);z=ba;}return x;};function v(){s.apply(this,arguments);}v.propTypes={notes:u.arrayOf(u.shape({id:u.string,body:u.object.isRequired,creator_info:u.shape({creatorID:u.string.isRequired,creatorName:u.string.isRequired,creatorType:u.string.isRequired,labelType:u.string.isRequired,pageID:u.string.isRequired,profileURI:u.string}),timestamp:u.number.isRequired})).isRequired};f.exports=v;},null);
__d('MessengerURIUtils',['MercuryIDs','MessengerStateStore','MessengerURISerializer','MessengerView'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={getURIForThreadID:function(m){return j.serialize(babelHelpers['extends']({},i.getState(),{activeThreadID:m,detailView:k.DETAIL.THREAD}));},getURIForUserID:function(m){return l.getURIForThreadID(h.getThreadIDFromUserID(m));}};f.exports=l;},null);
__d('MessengerMessageGroup.react',['immutable','ImmutableObject','Image.react','Link.react','MercuryIDs','MercuryParticipants','MercuryParticipantSilhouettes','MercuryTimestamp','MessagingGiftWrapChecker','MessengerActions','MessengerConfig','MessengerDateBreak.react','MessengerMessage.react','MessengerPageAdminNoteList.react','MessengerProfileImageWrapper.react','MessengerStickerUtils','MessengerURIUtils','PagesMessengerCreatorInfo.react','React','ReactDOM','StoreAndPropBasedStateMixin','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=h.List,fa=h.OrderedMap,ga=z.PropTypes,ha=32,ia=new i({image_src:n.neutralSilhouette,is_messenger_user:true,name:''}),ja=z.createClass({displayName:'MessengerMessageGroup',mixins:[ba(m)],propTypes:{activeMessageID:ga.string,deliveryTimestamp:ga.number.isRequired,hasDateBreak:ga.bool,isCanonical:ga.bool,isFromViewer:ga.bool,isPageMessage:ga.bool,lastReadTimestamp:ga.number.isRequired,messages:ga.instanceOf(h.List).isRequired,onAttachmentLoad:ga.func,nextTimestamp:ga.number.isRequired,onMessageDeselect:ga.func.isRequired,onMessageSelect:ga.func.isRequired,readReceipts:ga.instanceOf(fa).isRequired,thread:ga.object},statics:{calculateState:function(ma){return {participants:ka(ma)};}},shouldComponentUpdate:function(ma,na){return (this.props.activeMessageID!==ma.activeMessageID||this.props.isFromViewer!==ma.isFromViewer||this.props.deliveryTimestamp!==ma.deliveryTimestamp||this.props.lastReadTimestamp!==ma.lastReadTimestamp||!h.is(this.props.messages,ma.messages)||!h.is(this.props.readReceipts,ma.readReceipts)||!h.is(this.state.participants,na.participants)||!!(ma.thread&&this.props.thread&&this.props.thread!==ma.thread));},render:function(){return (z.createElement('div',null,z.createElement('div',{className:"_1t_p"+(' '+"clearfix")+(w.isStickerMessageGroup(this.props.messages)?' '+"_5tx1":'')+(this._hasSeenHeadsAtBottom()?' '+"_35fy":'')},this._renderProfileColumn(),this._renderName(),z.createElement('div',{className:"_1t_s"},this._renderMessages())),this.props.isPageMessage?this._renderNotes():null));},_renderProfileColumn:function(){if(this.props.isFromViewer)return null;var ma=this.props.messages.last(),na=this.state.participants.get(ma.author)||ia,oa=da._("{name} {time}",[da.param('name',na.name),da.param('time',o.getPreciseTimestamp(ma.timestamp))]),pa=z.createElement(v,{className:"_1t_r",isMessengerUser:na.is_messenger_user,size:ha,showBadge:true,tooltipContent:oa},z.createElement(j,{alt:na.name,src:na.image_src,height:ha,width:ha}));if(!this.props.isCanonical&&na.fbid){var qa=x.getURIForUserID(na.fbid);pa=z.createElement(k,{className:"_5f0v",href:qa.toString(),onClick:this._handleContactSelect.bind(this,na),tabIndex:-1},pa);}return (z.createElement('div',{className:"_1t_q"},pa));},_renderMessages:function(){var ma=this.props.messages.size,na=[];this.props.messages.forEach(function(oa,pa,qa){var ra=oa.message_id===this.props.activeMessageID;if(ra&&!(pa===0&&this.props.hasDateBreak)&&!r.SentTimestampEnabled)na.push(z.createElement(s,{className:"_5r8z",date:new Date(oa.timestamp),key:'db:'+oa.message_id}));na.push(z.createElement(t,{customColor:this.props.thread?this.props.thread.custom_color:'',deliveryTimestamp:this.props.deliveryTimestamp,isActive:ra,isFromViewer:this.props.isFromViewer,isGiftWrapped:p.shouldRenderWithGiftWrap(oa),isPageMessage:this.props.isPageMessage,key:oa.message_id,message:oa,onAttachmentLoad:this.props.onAttachmentLoad,participants:this.state.participants,nextTimestamp:this._getNextTimestamp(qa,ma,pa),onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,readReceipts:this.props.readReceipts,showDeliveryState:oa.timestamp>this.props.lastReadTimestamp,ref:oa.message_id}));if(la(this.props.isPageMessage,qa,pa,oa))na.push(z.createElement(y,{key:'creator_info:'+pa,creator_info:oa.creator_info}));}.bind(this));return na;},_renderNotes:function(){var ma=[];this.props.messages.forEach(function(na,oa,pa){if(this.props.isPageMessage&&na.page_admin_notes)ma.push(z.createElement(u,{key:'notes:'+na.message_id,notes:na.page_admin_notes}));}.bind(this));return ma;},_renderName:function(){var ma=this.state.participants.get(this.props.messages.first().author);if(!ma)return null;var na=ma.short_name;if(this.props.thread){var oa=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,pa=l.getUserIDFromParticipantID(ma.id);if(oa&&pa&&oa[pa])na=oa[pa];}return (z.createElement('h5',{className:"_ih3"+(this.props.isCanonical||this.props.isFromViewer?' '+"_-ne":'')},z.createElement('span',{className:"_3oh-"},na)));},getMessageElement:function(ma){return aa.findDOMNode(this.refs[ma]);},_hasSeenHeadsAtBottom:function(){var ma=this.props,na=ma.messages,oa=ma.nextTimestamp,pa=ma.readReceipts,qa=na.last().timestamp,ra=0;pa.forEach(function(sa){if(sa>=qa&&sa<oa)if(++ra===2)return false;});return ra===2;},_getNextTimestamp:function(ma,na,oa){return oa<na-1?ma.get(oa+1).timestamp:this.props.nextTimestamp;},_handleContactSelect:function(ma){var na=l.getThreadIDFromParticipantID(ma.id);na&&q.selectThread(na);}});function ka(ma){var na=ma.messages.first().author;return h.Map().withMutations(function(oa){ma.readReceipts.forEach(function(pa,qa){oa.set(qa,m.getOrFetch(qa));});oa.set(na,m.getOrFetch(na));});}function la(ma,na,oa,pa){if(!ma||!pa.creator_info)return false;if(oa===na.size-1)return true;var qa=na.get(oa+1).creator_info;if(!qa)return true;return pa.creator_info.creatorID!==qa.creatorID;}f.exports=ja;},null);
__d('MessengerNewMessagesNotice.react',['Image.react','Link.react','ReactComponentWithPureRenderMixin','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=n('/images/mercury/clients/messenger/threadlist/newMessageIndicator.png'),q=k.createClass({displayName:'MessengerNewMessagesNotice',mixins:[j],propTypes:{isOpen:o.bool.isRequired,label:o.string,onClick:o.func},getDefaultProps:function(){return {label:m._("New Messages")};},render:function(){return (k.createElement('div',{'aria-hidden':!this.props.isOpen,className:"_4wzq"+(this.props.isOpen?' '+"_4wzr":'')},k.createElement(i,{className:"_5f0v _4wzs",onClick:this.props.onClick,tabIndex:this.props.isOpen?0:-1},k.createElement(h,{className:"_4wzt",src:p}),k.createElement('div',{className:"_1bqr"},this.props.label))));}});f.exports=q;},null);
__d('MessengerPhraseSubscriptionsEvents',['mixInEventEmitter'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={PHRASE_CLICKED:'phrase_clicked'};h(i,{phrase_clicked:true});f.exports=i;},null);
__d('MessengerTypingIndicator.react',['Image.react','immutable','MercuryParticipants','MercuryTypingAnimation.react','MessengerProfileImageWrapper.react','MessengerBubble.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=o.PropTypes,s=32,t=o.createClass({displayName:'MessengerTypingIndicator',mixins:[n,p(j)],propTypes:{userID:r.string,showName:r.bool},statics:{calculateState:function(u){return {author:j.getOrFetch(u.userID)};}},render:function(){if(!this.state.author)return null;var u=this.state.author;return (o.createElement('div',{className:"_1t_p _1hbw"},o.createElement('div',{className:"_1t_q"},o.createElement(l,{className:"_1t_r",isMessengerUser:u.is_messenger_user,size:s,showBadge:true},o.createElement(h,{alt:'',src:u.image_src,height:s,width:s}))),o.createElement('div',{className:"_1t_s"},o.createElement('div',{className:"_o46 _3erg _29_7"},o.createElement('div',{className:'clearfix'},o.createElement(m,{attachments:i.List([o.createElement(k,{key:'animation'})]),body:'',className:"_3058",ref:'bubble'}))))));},getBubble:function(){return this.refs.bubble;}});f.exports=t;},null);
__d('MessengerConversation.react',['ChatTypingIndicators.react','DOM','DOMDimensions','Event','Focus','immutable','ImmutableObject','KeyEventController','MercuryIDs','MercuryShareAttachmentRenderLocations','MessageList.react','MessengerConfig','MessengerContextBannerContainer.react','MessengerDateBreak.react','MessengerFlexScrollableArea.react','MessengerLogMessage.react','MessengerMessageGroup.react','MessengerNewMessagesNotice.react','MessengerPhraseSubscriptionsActions','MessengerPhraseSubscriptionsEvents','MessengerPhraseSubscriptionsStore','MessengerPhraseSubscriptionsUtils','MessengerSpinner.react','MessengerTypingIndicator.react','Parent','ReactComponentWithPureRenderMixin','React','ReactDOM','Set','SubscriptionsHandler','UserActivity','cx','csx','fbt','throttle','MercuryDeliveryReceipts','MercuryRoger'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa){'use strict';if(c.__markCompiled)c.__markCompiled();var qa=c('MercuryDeliveryReceipts').get(),ra=c('MercuryRoger').get(),sa=m.OrderedMap,ta=ha.PropTypes,ua=20;function va(event,ab){return !!(o.filterEventTypes(event,ab)&&o.filterEventModifiers(event,ab)&&fa.bySelector(event.target,"._4_j4"));}var wa=ha.createClass({displayName:'MessengerConversation',mixins:[ga],propTypes:{contact:ta.instanceOf(n),fetchMessages:ta.func.isRequired,isCanonical:ta.bool,isLoaded:ta.bool,isLoading:ta.bool,messages:ta.instanceOf(m.List).isRequired,participants:ta.instanceOf(m.Map),thread:ta.object,threadID:ta.string.isRequired,viewer:ta.string.isRequired},_subscriptions:null,_wasScrolledToBottomBeforeUpdate:null,_originalScrollHeight:0,_originalScrollTop:0,_activeToken:null,getInitialState:function(){return {readReceipts:xa(this.props),deliveryTimestamp:0,phraseToScrollTo:null,scrollingToUnreadMessage:false,showUnreadNotice:false,unreadCount:this.props.thread?this.props.thread.unread_count:0,width:0};},componentDidMount:function(){var ab=new ka();ab.addSubscriptions(k.listen(window,'resize',pa(this.handleResize,50)),o.registerKey('PAGE_UP',this._handlePageUpKey,va),o.registerKey('PAGE_DOWN',this._handlePageDownKey,va),o.registerKey('HOME',this._handleHomeKey,va),o.registerKey('END',this._handleEndKey,va),ra.subscribe('change',function(bb,cb){cb[this.props.threadID]&&this.setState({readReceipts:xa(this.props)});}.bind(this)),qa.subscribe('change',function(bb,cb){this.setState({deliveryTimestamp:this.props.threadID?qa.getDeliveryTime(this.props.threadID):0});}.bind(this)));if(s.PhraseSubscriptionsEnabled)ab.addSubscriptions(aa.addListener(aa.PHRASE_CLICKED,this._scrollToPhrase,this));this._subscriptions=ab;this.handleResize();this._tryMarkAsRead();},componentWillReceiveProps:function(ab){var bb=ab.threadID!==this.props.threadID;if(bb){this._removeActiveToken();this.setState({phraseToScrollTo:null,scrollingToUnreadMessage:false,showUnreadNotice:false,unreadCount:ab.thread?ab.thread.unread_count:0});}if(bb||ab.messages!==this.props.messages)this.setState({readReceipts:xa(ab),deliveryTimestamp:ab.threadID?qa.getDeliveryTime(ab.threadID):0});},componentWillUnmount:function(){this._removeActiveToken();this._subscriptions&&this._subscriptions.release();},componentWillUpdate:function(){var ab=this._getScrollableArea();if(ab){this._wasScrolledToBottomBeforeUpdate=this.refs.scrollable.isScrolledToBottom();this._originalScrollHeight=ab.getScrollHeight();this._originalScrollTop=ab.getScrollTop();}else this._wasScrolledToBottomBeforeUpdate=true;},componentDidUpdate:function(ab){if(!this.refs.scrollable)return;if(this._wasScrolledToBottomBeforeUpdate||this.props.threadID!==ab.threadID||za(ab,this.props)){this.scrollToBottom();this._handleImageLoad();}else{var bb=this._getScrollableArea();if(bb){var cb=bb.getScrollHeight()-this._originalScrollHeight+this._originalScrollTop;this.refs.scrollable.scrollToPosition(cb);}}if(this.props.messages!==ab.messages){this._tryMarkAsRead();if(this.state.scrollingToUnreadMessage){this._scrollToFirstUnreadMessage();}else if(this.state.phraseToScrollTo)this._scrollToPhrase(this.state.phraseToScrollTo);}setTimeout(function(){var db=this._getScrollableArea();if(db&&this.state.unreadCount&&!this.state.scrollingToUnreadMessage&&!this.props.isLoading)if(this._isFirstUnreadMessageVisible(db)){this.setState({showUnreadNotice:false,unreadCount:0});}else this.setState({showUnreadNotice:true});}.bind(this),0);},render:function(){if(this.props.isLoading&&this.props.messages.isEmpty())return this._renderFullPageLoadingIndicator();var ab=oa._("Messages"),bb;return (ha.createElement(v,{className:this.props.className,flexChildren:this._renderNewMessagesNotice(),onScroll:this._handleScroll,ref:'scrollable',tabIndex:0,shouldStickToBottom:true},ha.createElement('div',{'aria-label':ab,className:"__i_",role:'region'},ha.createElement('h3',{className:"accessible_elem"},ab),this._renderContextBanner(),this._renderLoadingIndicator(),ha.createElement(r,{DateBreak:u,deliveryTimestamp:this.state.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:w,MessageGroup:x,messages:this.props.messages,onAttachmentLoad:this._handleAttachmentLoad(this.props.threadID),readReceipts:this.state.readReceipts,ref:'messageList',location:q.MESSENGER,viewer:this.props.viewer,thread:this.props.thread}),ha.createElement(h,{indicatorClass:ea,indicatorsWillShow:function(){bb=this._wasScrolledToBottomBeforeUpdate;}.bind(this),indicatorsDidShow:function(){bb&&this.scrollToBottom();}.bind(this),rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}))));},isScrolledToBottom:function(){return !!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom());},isScrolledToBottomWithHeight:function(ab){return !!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(ab));},_renderNewMessagesNotice:function(){return (ha.createElement(y,{isOpen:this.state.showUnreadNotice,label:oa._({"*":"{count} unread messages"},[oa.param('count',this.state.unreadCount,[0])]),onClick:this._handleUnreadNoticeClick}));},_renderContextBanner:function(){if(!this.props.isLoaded||!s.ShowContextBanner)return null;return (ha.createElement(t,{location:q.MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer}));},_renderLoadingIndicator:function(){if(this.props.isLoaded)return null;return (ha.createElement('div',{className:"_2k8v"},this.props.isLoading?ha.createElement(da,null):null));},_renderFullPageLoadingIndicator:function(){return (ha.createElement('div',{className:"_4xu0"},ha.createElement(da,{className:"_4xu1",size:da.Sizes.LARGE})));},scrollToBottom:function(){this.refs.scrollable&&this.refs.scrollable.scrollToBottom();},scrollToTop:function(ab){this.refs.scrollable&&this.refs.scrollable.scrollToTop(ab);},_handlePageUpKey:function(){var ab=this._getScrollableArea();ab&&ab.pageUp();return false;},_handlePageDownKey:function(){var ab=this._getScrollableArea();ab&&ab.pageDown();return false;},_handleHomeKey:function(ab){if(ab.target===document.body){this.scrollToTop();return false;}},_handleEndKey:function(ab){if(ab.target===document.body){this.scrollToBottom();return false;}},_handleScroll:function(){if(!this.refs.scrollable)return;var ab=this._getScrollableArea();if(ab&&ab.getScrollTop()<ua)this.props.fetchMessages();this._tryMarkAsRead();this._wasScrolledToBottomBeforeUpdate=this.refs.scrollable.isScrolledToBottom();if(ab&&this.state.unreadCount&&this._isFirstUnreadMessageVisible(ab))this.setState({showUnreadNotice:false,unreadCount:0});},_handleUnreadNoticeClick:function(ab){ab.preventDefault();this.setState({showUnreadNotice:false});this._scrollToFirstUnreadMessage();},_handleAttachmentLoad:function(ab){return function(bb){if(this.props.threadID!==ab)return;if(this.isScrolledToBottomWithHeight(bb))this.scrollToBottom();}.bind(this);},_handleImageLoad:function(){i.scry(ia.findDOMNode(this),'img').forEach(function(ab){if(ab.complete)return;var bb=this.props.threadID,cb=k.listen(ab,'load',function(){if(this.props.threadID===bb)this.scrollToBottom();cb.remove();}.bind(this));}.bind(this));},_getFirstUnreadMessage:function(){var ab=this.props.messages,bb=this.state.unreadCount;if(!bb||bb>ab.size)return null;return ab.get(ab.size-bb);},_isFirstUnreadMessageVisible:function(ab){var bb=this._getFirstUnreadMessage();if(!bb)return false;var cb=this.refs.messageList.getMessageElement(bb.message_id);if(!cb)return false;var db=cb.getBoundingClientRect().top,eb=ab.getElement().getBoundingClientRect().top;if(db-eb<0)return false;return true;},_isMessageLoaded:function(ab){return !!this.props.messages.find(function(bb){return bb.message_id===ab;});},_scrollToFirstUnreadMessage:function(){if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:true});var ab=this._getFirstUnreadMessage();if(!ab){this.scrollToTop(true);return;}this._scrollToMessage(ab.message_id,function(){this.setState({scrollingToUnreadMessage:false,unreadCount:0});}.bind(this));},_scrollToPhrase:function(ab){var bb=this.props.threadID;if(!bb)return;var cb=ba.getFirstNotfication(bb,ab);if(!cb)return;if(!this._isMessageLoaded(cb)){this.setState({phraseToScrollTo:ab});this.scrollToTop(true);return;}this._scrollToMessage(cb,function(){var db=this.refs.messageList.getMessageElement(cb),eb=db.firstChild.firstChild;l.set(eb);ya(eb.firstChild.firstChild,ab);z.clearNotification(bb,ab,cb);this.setState({phraseToScrollTo:null});}.bind(this));},_scrollToMessage:function(ab,bb){var cb=this.refs.messageList.getMessageElement(ab,true),db=this._getScrollableArea();if(!cb||!db)return;var eb=cb.getBoundingClientRect().top,fb=ia.findDOMNode(this.refs.messageList).getBoundingClientRect().top,gb=db.getElement().getBoundingClientRect().top,hb=eb+Math.abs(fb)+gb;db.setScrollTop(hb,true,{callback:bb});},_tryMarkAsRead:function(){if(!this.refs.scrollable||!this.refs.scrollable.isScrolledToBottom()||this.props.messages.size===0)return;if(la.isOnTab()&&la.isActive()){this.props.onRead(this.props.threadID);}else if(!this._activeToken)this._activeToken=la.subscribe(function(){if(la.isOnTab()){this._removeActiveToken();this.props.onRead(this.props.threadID);}}.bind(this));},handleResize:function(){if(this.refs.scrollable){this.refs.scrollable.handleResize();var ab=j.getElementDimensions(ia.findDOMNode(this.refs.scrollable)).width;if(ab!==this.state.width)this.setState({width:ab});}if(this._wasScrolledToBottomBeforeUpdate)this.scrollToBottom();},_getScrollableArea:function(){return this.refs.scrollable&&this.refs.scrollable.getArea();},_removeActiveToken:function(){this._activeToken&&this._activeToken.unsubscribe();this._activeToken=null;}});function xa(ab){var bb=p.getParticipantIDFromUserID(ab.viewer),cb=ra.getSeenTimestamps(ab.threadID),db=new ja(ab.thread?ab.thread.participants:cb.keys());db['delete'](bb);return cb.withMutations(function(eb){m.Seq(ab.messages).reverse().forEach(function(fb){if(db.size===0)return false;if(!db.has(fb.author))return;eb.update(fb.author,function(gb){return Math.max(gb||0,fb.timestamp);});db['delete'](fb.author);});});}function ya(ab,bb){var cb=ca.computePhraseRegexPattern(bb),db=new RegExp(cb,'ig'),eb=[],fb=ab.textContent,gb=window.getSelection();for(;;){var hb=db.exec(fb);if(hb===null)break;var ib=document.createRange();ib.setStart(ab,hb.index);ib.setEnd(ab,db.lastIndex);eb.push(ib);}gb.removeAllRanges();for(var jb=0;jb<eb.length;jb++)gb.addRange(eb[jb]);}function za(ab,bb){var cb=p.getParticipantIDFromUserID(bb.viewer);return (bb.threadID===ab.threadID&&bb.messages!==ab.messages&&!bb.messages.isEmpty()&&bb.messages.last()!==ab.messages.last()&&bb.messages.last().author===cb);}f.exports=wa;},null);
__d('MessengerConversationContainer.react',['immutable','ImmutableObject','MercuryIDs','MercuryMessageStore','MessengerConfig','MessengerConversation.react','MessengerHotLikePreviewEvents','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=p.PropTypes,s=p.createClass({displayName:'MessengerConversationContainer',_store:undefined,_subscriptions:undefined,_keepLikePreview:false,_likePreview:undefined,_scrollToBottomInterval:undefined,mixins:[o],propTypes:{contact:r.instanceOf(i),onMarkRead:r.func.isRequired,participants:r.instanceOf(h.Map),thread:r.object,threadID:r.string.isRequired,viewer:r.string.isRequired},getInitialState:function(){return {isLoaded:false,isLoading:true,messages:h.List()};},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},componentDidMount:function(){this._updateStore(this.props.threadID);},componentWillReceiveProps:function(t){if(this.props.threadID!==t.threadID){this.setState({isLoading:true,messages:h.List()});this._updateStore(t.threadID);}},render:function(){return (p.createElement(m,{className:this.props.className,contact:this.props.contact,fetchMessages:this._fetchMoreMessages,isCanonical:j.isCanonical(this.props.threadID),isLoading:this.state.isLoading,isLoaded:this.state.isLoaded,messages:this.state.messages,onRead:this.props.onMarkRead,participants:this.props.participants,ref:'conversation',thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer}));},handleResize:function(){this.refs.conversation.handleResize();},isScrolledToBottom:function(){return !!(this.refs.conversation&&this.refs.conversation.isScrolledToBottom());},_fetchMoreMessages:function(){if(this.state.isLoading||this.state.isLoaded)return;this.setState({isLoading:true});if(!this._store.fetchMoreMessages())this.setState({isLoading:false,isLoaded:true});},_updateStore:function(t){if(!t)return;this.setState({isLoaded:false});this._store&&this._store.destroy();this._store=new k(t,l.MessageLoadCount);this._subscriptions&&this._subscriptions.release();this._subscriptions=new q();this._subscriptions.addSubscriptions(this._store.subscribe(function(u){this.setState({messages:this._normalizeMessages(h.List(u.messages)),isLoading:false});}.bind(this)),n.addListener(n.START,function(u){this._keepLikePreview=true;this._likePreview=u;this.setState({messages:this._normalizeMessages(this.state.messages)});clearInterval(this._scrollToBottomInterval);this._scrollToBottomInterval=setInterval(this.refs.conversation.scrollToBottom,50);}.bind(this)),n.addListener(n.FINISH_ANIMATION,function(u){clearInterval(this._scrollToBottomInterval);}.bind(this)),n.addListener(n.STOP,function(){this._keepLikePreview=false;this._likePreview=null;}.bind(this)),n.addListener(n.REMOVE,function(){clearInterval(this._scrollToBottomInterval);this._keepLikePreview=false;this.setState({messages:this._normalizeMessages(this.state.messages)});}.bind(this)));},_normalizeMessages:function(t){if(this._keepLikePreview){t=t.set(t.size,this._likePreview);}else{t=t.filterNot(function(u){return u.is_like_preview;});this._likePreview=null;}return t;}});f.exports=s;},null);
__d('MessengerSearchSource',['ChatSearchSource','MercuryIDs','MercuryParticipants','MercuryParticipantTypes','MercurySingletonProvider','MessengerConfig','OrderedFriendsList','SearchableEntry','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q,r;if(c.__markCompiled)c.__markCompiled();var s=50;q=babelHelpers.inherits(t,h);r=q&&q.prototype;t.getForFBID=function(v){return u.getForFBID(v);};t.get=function(){return u.get();};function t(v){r.constructor.call(this,{queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});n.getSearchableEntries(s,function(x){this.$MessengerSearchSource1=x;r.addLocalEntries.call(this,x);}.bind(this));var w=i.getParticipantIDFromUserID(v);j.get(w,function(x){r.addLocalEntries.call(this,[new o({uniqueID:x.fbid.toString(),title:x.name,type:k.FRIEND,photo:x.big_image_src||x.image_src,uri:x.href,auxiliaryData:{isMessengerUser:x.is_messenger_user}})]);}.bind(this));}t.prototype.bootstrapImpl=function(v){r.bootstrapImpl.call(this,p);v();};t.prototype.searchImpl=function(v,w,x){x=x||{};if(v===''&&x.showDefaultEntries){w(this.$MessengerSearchSource1,v);var y=x&&x.onQueryFinished;y&&y(v);return;}x.threadLimit=m.MaxThreadResults;r.searchImpl.call(this,v,w,x);};var u=new l(t);f.exports=t;},null);
__d('MessengerTypeaheadUtils',['immutable','MercuryConfig','MercuryTypeaheadConstants','ReactDOM','fbt','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n;if(c.__markCompiled)c.__markCompiled();var o=h.OrderedMap,p=[j.FRIEND_TYPE,j.FB4C_TYPE,j.THREAD_TYPE,j.PAGE_TYPE,j.NON_FRIEND_TYPE],q=(n={},n[j.FRIEND_TYPE]={header:''},n[j.FB4C_TYPE]={header:l._("Co-workers")},n[j.THREAD_TYPE]={header:l._("Group Conversations")},n[j.PAGE_TYPE]={header:l._("Businesses")},n[j.NON_FRIEND_TYPE]={header:l._("More People")},n),r={sortEntries:function(s,t){var u=[],v=[],w=[],x=[],y=[];s.forEach(function(z){switch(z.getType()){case j.FRIEND_TYPE:u.push(z);break;case j.FB4C_TYPE:v.push(z);break;case j.THREAD_TYPE:w.push(z);break;case j.PAGE_TYPE:case j.COMMERCE_PAGE_TYPE:y.push(z);break;case j.NON_FRIEND_TYPE:x.push(z);break;}});if(r._shouldHoistPages(t))return y.concat(u,v,w,x);return u.concat(v,w,y,x);},sortEntriesWithoutPages:function(s){var t=[],u=[],v=[],w=[];s.forEach(function(x){switch(x.getType()){case j.FRIEND_TYPE:t.push(x);break;case j.FB4C_TYPE:u.push(x);break;case j.THREAD_TYPE:v.push(x);break;case j.NON_FRIEND_TYPE:w.push(x);break;}});return t.concat(u,v,w);},sortEntriesWithoutGroupsOrViewer:function(s,t){var u=[],v=[],w=[];s.forEach(function(x){if(x.getUniqueID()===t)return;switch(x.getType()){case j.FRIEND_TYPE:u.push(x);break;case j.FB4C_TYPE:v.push(x);break;case j.NON_FRIEND_TYPE:w.push(x);break;}});return u.concat(v,w);},buildListSections:function(s,t){var u=arguments.length<=2||arguments[2]===undefined?p:arguments[2];if(!s.length)return o();var v=m(q,function(w){return babelHelpers['extends']({},w,{entries:[]});});v[j.COMMERCE_PAGE_TYPE]=v[j.PAGE_TYPE];if(r._shouldHoistPages(t)){v[j.FRIEND_TYPE].header=l._("Friends");u=[].concat(u);u.splice(u.indexOf(j.PAGE_TYPE));u.unshift(j.PAGE_TYPE);}s.forEach(function(w){var x=w.getType();if(v[x])v[x].entries.push(w);});return o(u.filter(function(w){return v[w].entries.length;}).map(function(w){return [v[w].header,v[w].entries];}));},scrollEntryIntoView:function(s,t){var u=k.findDOMNode(t),v=t.getScrollTop(),w=s.offsetTop-v,x=u.offsetHeight-s.offsetHeight;if(w>=x){t.scrollToPosition(v+w-x);}else if(w<0)t.scrollToPosition(v+w);},_shouldHoistPages:function(s){if(!s)return false;return !!(i.HoistAgentsKeywords&&i.HoistAgentsKeywords.indexOf(s.toLowerCase().trim())!==-1);}};f.exports=r;},null);
__d('MessengerThreadImage.react',['immutable','ImmutableObject','MercuryIDs','MercuryThreadImage.react','MessengerProfileImageWrapper.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.PropTypes,p=n.createClass({displayName:'MessengerThreadImage',mixins:[m],propTypes:{participants:o.instanceOf(h.Map).isRequired,showBadge:o.bool,size:o.number,thread:o.instanceOf(i).isRequired,viewer:o.string.isRequired},getDefaultProps:function(){return {showBadge:true};},render:function(){return (n.createElement(l,{className:this.props.className,isMessengerUser:this._getIsMessengerUser(),size:this.props.size,showBadge:this.props.showBadge&&j.isCanonical(this.props.thread.thread_id)},n.createElement(k,{size:this.props.size,thread:this.props.thread,viewer:this.props.viewer,useBackground:true})));},_getIsMessengerUser:function(){if(!j.isCanonical(this.props.thread.thread_id)||this.props.participants.size===0)return null;var q=this.props.thread.other_user_fbid,r=j.getParticipantIDFromUserID(q),s=this.props.participants.get(r);return s&&s.is_messenger_user;}});f.exports=p;},null);
__d('MessengerContactListRow.react',['Image.react','ImageBlock.react','ImmutableObject','Link.react','MercuryTypeaheadConstants','MessengerContactActions','MessengerContactImage.react','MessengerThreadImage.react','ReactComponentWithPureRenderMixin','React','ReactDOM','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=q.PropTypes,w=u('/images/mercury/clients/messenger/core/Checkmark.png'),x=32,y=q.createClass({displayName:'MessengerContactListRow',mixins:[p],propTypes:{actionsClass:v.func,contact:v.instanceOf(j).isRequired,disableRole:v.bool,extraActionsEnabled:v.bool.isRequired,isHighlighted:v.bool,isOriginal:v.bool,isSelected:v.bool,onMouseEnter:v.func,onScrollIntoView:v.func,onAction:v.func,presenceStatus:v.bool,viewer:v.string.isRequired,isAdmin:v.bool},getInitialState:function(){return {isActionsOpen:false};},componentDidMount:function(){if(this.props.isHighlighted&&this.props.onScrollIntoView){var z=r.findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(z);this.props.onRenderHighlight&&this.props.onRenderHighlight(z);}},componentDidUpdate:function(z){if(this.props.isHighlighted&&!z.isHighlighted){var aa=r.findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(aa);this.props.onRenderHighlight&&this.props.onRenderHighlight(aa);}},render:function(){var z=this.props.disableRole?{}:{'aria-selected':this.props.isHighlighted,role:'option'};return (q.createElement('li',babelHelpers['extends']({},z,{className:"_5l37"+(this.props.isHighlighted?' '+"_1k1p":'')+(this.state.isActionsOpen?' '+"_rwn":'')}),q.createElement(k,{className:"_5f0v",onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseEnter:this.props.onMouseEnter,tabIndex:this.props.actionsClass?0:-1},q.createElement(i,{contentClassName:"_5l38",spacing:'medium'},this._renderContactImage(),this._renderContactText(),this._renderActions()))));},_handleMouseDown:function(z){if(this.props.actionsClass)return;z.stopPropagation();z.preventDefault();},_handleClick:function(z){z.stopPropagation();this._handleContactAction(m.SELECT,z);},_renderContactImage:function(){if(this.props.contact.photo){return (q.createElement(n,{className:"_5l39 _5rmm",isMessengerUser:this.props.contact.isMessengerUser,size:x,src:this.props.contact.photo}));}else if(this.props.contact.type===l.THREAD_TYPE)return (q.createElement(o,{className:"_5l39",participants:this.props.contact.participants,size:x,thread:this.props.contact.thread,viewer:this.props.viewer}));},_renderContactText:function(){if(this.props.contact.subtitle){return (q.createElement('div',null,q.createElement('div',{className:"_3q34"},this.props.contact.title),q.createElement('div',{className:"_3q35"},this.props.contact.subtitle)));}else return (q.createElement('div',{className:"_364g"},this.props.contact.title));},_renderActions:function(){if(this.props.isOriginal)return (q.createElement('span',{className:"_5rh4"},t._("Added")));if(this.props.isSelected)return (q.createElement(h,{className:"_1kqm",src:w}));if(this.props.presenceStatus)return (q.createElement('div',{className:"_jg2"}));var z=null;if(this.props.isAdmin)z=q.createElement('span',{className:"_5qsj"},t._("Owner"));if(this.props.actionsClass){var aa=this.props.actionsClass;return (q.createElement('div',null,z,q.createElement(aa,{className:"_rwo",contact:this.props.contact,extrasEnabled:this.props.extraActionsEnabled,isOpen:this.state.isActionsOpen,onAction:this._handleContactAction,onToggle:this._handleActionsToggle,viewer:this.props.viewer})));}return z;},_handleContactAction:function(z,event){this.props.onAction&&this.props.onAction(z,event);},_handleActionsToggle:function(z){this.setState({isActionsOpen:z});}});f.exports=y;},null);
__d('MessengerContactListRowContainer.react',['AvailableListConstants','immutable','MercuryIDs','MercuryParticipantTypes','MessengerContactActions','MessengerContactListRow.react','PresenceStatus','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=p.PropTypes,r=p.createClass({displayName:'MessengerContactListRowContainer',mixins:[o],propTypes:{actionsClass:q.func,contactAdapter:q.func.isRequired,disableRole:q.bool,extraActionsEnabled:q.bool.isRequired,hasHoverState:q.bool,isHighlighted:q.bool,onAction:q.func,onHighlight:q.func,onScrollIntoView:q.func,onSelect:q.func.isRequired,rawContact:q.object.isRequired,originalEntryIDs:q.instanceOf(i.Set),selectedEntryIDs:q.instanceOf(i.Set),showPresence:q.bool,viewer:q.string.isRequired,isAdmin:q.bool},getInitialState:function(){return {contact:this.props.contactAdapter(this.props.rawContact)};},componentWillReceiveProps:function(s){if(s.rawContact!==this.props.rawContact)this.setState({contact:s.contactAdapter(s.rawContact)});},render:function(){return (p.createElement(m,{actionsClass:this.props.actionsClass,contact:this.state.contact,disableRole:this.props.disableRole,extraActionsEnabled:this.props.extraActionsEnabled,isHighlighted:this.props.isHighlighted,isOriginal:this.props.originalEntryIDs&&this.props.originalEntryIDs.contains(this.state.contact.uid),isSelected:this.props.selectedEntryIDs&&this.props.selectedEntryIDs.contains(this.state.contact.uid),onAction:this._handleAction,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onMouseEnter:this._handleMouseEnter,onSelect:this._handleSelect,presenceStatus:this._getPresenceStatus(),viewer:this.props.viewer,isAdmin:this.props.isAdmin}));},_handleMouseEnter:function(){if(!this.props.hasHoverState)return;this.props.onHighlight&&this.props.onHighlight(this.props.rawContact);},_handleAction:function(s,event){switch(s){case l.SELECT:this.props.onSelect(this.props.rawContact,event);break;default:this.props.onAction&&this.props.onAction(s,this.props.rawContact);break;}},_getPresenceStatus:function(){var s=this.state.contact;if(!this.props.showPresence||s.type!==k.FRIEND&&s.type!==k.USER)return false;var t=j.getUserIDFromParticipantID(s.uid);return n.get(t)==h.ACTIVE;}});f.exports=r;},null);
__d('MessengerContactList.react',['MessengerContactListRowContainer.react','ImageBlock.react','immutable','MessengerSpinner.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=m.createClass({displayName:'MessengerContactList',mixins:[l],propTypes:{actionsClass:p.func,ariaOwneeID:p.string,contactAdapter:p.func.isRequired,disableRole:p.bool,extraActionsEnabled:p.bool,hasHoverState:p.bool,highlightedEntry:p.object,isLoading:p.bool,listSections:p.instanceOf(j.OrderedMap).isRequired,onHighlight:p.func,onRenderHighlight:p.func,onScrollIntoView:p.func,onSelect:p.func.isRequired,onAction:p.func,originalEntryIDs:p.instanceOf(j.Set),selectedEntryIDs:p.instanceOf(j.Set),showPresence:p.bool,viewer:p.string.isRequired,adminIds:p.arrayOf(p.string)},render:function(){return (m.createElement('div',{className:this.props.className},this.props.listSections.map(this._renderListSection).toArray(),this._renderSpinner(),this._renderEmptyResult()));},_renderListSection:function(r,s){return (m.createElement('div',{key:s},m.createElement('ul',{id:this.props.ariaOwneeID,role:this.props.disableRole?undefined:'listbox'},this._renderHeader(s),r.map(function(t){return (m.createElement(h,{actionsClass:this.props.actionsClass,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,isHighlighted:this.props.highlightedEntry===t,key:t.id||t.getUniqueID(),onHighlight:this.props.onHighlight,onAction:this.props.onAction,onRenderHighlight:this.props.onRenderHighlight,onSelect:this.props.onSelect,onScrollIntoView:this.props.onScrollIntoView,rawContact:t,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,viewer:this.props.viewer,isAdmin:this._isAdmin(t)}));}.bind(this)))));},_isAdmin:function(r){var s=r.fbid;if(!this.props.adminIds)return false;return this.props.adminIds.indexOf(s)!==-1;},_renderHeader:function(r){if(!r)return null;return (m.createElement('div',{className:"_225b"},r));},_renderSpinner:function(){if(!this.props.isLoading)return null;return (m.createElement(i,{className:"_225c",spacing:'medium'},m.createElement(k,{className:"_2i59",color:'grey'}),m.createElement('div',{className:"_4g0h"},o._("Searching..."))));},_renderEmptyResult:function(){if(this.props.isLoading||this.props.listSections.size>0)return null;return (m.createElement('div',{className:"_3xcx"},o._("No results found")));}});f.exports=q;},null);
__d('MessengerTypeaheadView.react',['immutable','MessengerContactAdapters','MessengerContactList.react','MessengerTypeaheadUtils','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=m.createClass({displayName:'MessengerTypeaheadView',mixins:[l],propTypes:{ariaOwneeID:p.string,entries:p.array.isRequired,hasHoverState:p.bool,highlightedEntry:p.object,isLoading:p.bool,onHighlight:p.func,onRenderHighlight:p.func,onScrollIntoView:p.func,onSelect:p.func,order:p.array,originalEntryIDs:p.instanceOf(h.Set),queryString:p.string,selectedEntryIDs:p.instanceOf(h.Set),viewer:p.string.isRequired},render:function(){return (m.createElement(j,{ariaOwneeID:this.props.ariaOwneeID,className:o(this.props.className,"_5t4c"),contactAdapter:i.fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:this.props.highlightedEntry,isLoading:this.props.isLoading,listSections:k.buildListSections(this.props.entries,this.props.queryString,this.props.order),onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer}));}});f.exports=q;},null);
__d('MessengerScrollableTypeaheadView.react',['MessengerScrollableArea.react','MessengerTypeaheadUtils','MessengerTypeaheadView.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=l.createClass({displayName:'MessengerScrollableTypeaheadView',mixins:[k],render:function(){var n=this.props,o=n.className,p=n.width,q=babelHelpers.objectWithoutProperties(n,['className','width']);return (l.createElement(h,{className:o,ref:'scrollable',width:p},l.createElement(j,babelHelpers['extends']({},q,{onScrollIntoView:this._handleScrollIntoView}))));},_handleScrollIntoView:function(n){i.scrollEntryIntoView(n,this.refs.scrollable);}});f.exports=m;},null);
__d('MessengerTokenizer.react',['AbstractTokenizer.react','immutable','Keys','React','SearchableEntry','MessengerScrollableTypeaheadView.react','MessengerTypeaheadUtils','ReactComponentWithPureRenderMixin','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=k.PropTypes,t=30,u=100,v=k.createClass({displayName:'MessengerTokenizer',mixins:[o],propTypes:{autoFocus:s.bool,className:s.string,context:s.object,entries:s.instanceOf(i.List).isRequired,excludeGroups:s.bool,extraRendererProps:s.object,hasHoverState:s.bool,hideViewWithEntries:s.bool,onAddEntryAttempt:s.func.isRequired,onEntriesFound:s.func,onRemoveEntryAttempt:s.func.isRequired,onReorderEntryAttempt:s.func,originalEntryIDs:s.instanceOf(i.Set),placeholder:s.string,searchSource:s.object.isRequired,tabIndex:s.number,useLayer:s.bool,viewer:s.string.isRequired},getDefaultProps:function(){return {excludeGroups:false,hideViewWithEntries:true};},getInitialState:function(){return {isLoading:false,isLoaded:false,queryString:''};},componentDidMount:function(){if(this.props.autoFocus)this.focusInput();},render:function(){return (k.createElement('div',{className:r(this.props.className,"_14-7")},k.createElement(h,{autoHighlight:this.props.hasHoverState,context:this.props.context,entries:this.props.entries.toArray(),excludeTokenEntries:!!this.state.queryString,hideViewWithEntries:this.props.hideViewWithEntries,onAddEntryAttempt:this._handleAddEntryAttempt,onEntriesFound:this.props.onEntriesFound,onQueryStringChange:this._handleQueryStringChange,onRemoveEntryAttempt:this.props.onRemoveEntryAttempt,onReorderEntryAttempt:this.props.onReorderEntryAttempt,placeholder:this.props.placeholder,presenter:{ViewRenderer:m,TokenRenderer:w,alwaysVisibleOnFocus:(this.state.isLoading||this.state.isLoaded)&&!!this.state.queryString,useLayer:this.props.useLayer,extraRendererProps:babelHelpers['extends']({hasHoverState:this.props.hasHoverState,isLoading:this.state.isLoading,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:i.Seq(this.props.entries).map(function(x){return x.getUniqueID();}).toSet(),viewer:this.props.viewer},this.props.extraRendererProps),maxEntries:t,sortEntries:this._sortEntries},queryString:this.state.queryString,ref:'tokenizer',searchSource:this.props.searchSource,searchSourceOptions:{onQueryFinished:this._handleQueryFinished,onQueryStarted:this._handleQueryStarted,showDefaultEntries:this.props.showDefaultEntries},showEntriesOnFocus:true,tabIndex:this.props.tabIndex&&this.props.tabIndex.toString()})));},_handleAddEntryAttempt:function(x){this.setState({isLoaded:false,queryString:''});var y=x.getUniqueID();if(this.props.entries.some(function(z){return (z.getUniqueID()===y);})){this.props.onRemoveEntryAttempt(x);return;}if(this.props.originalEntryIDs&&this.props.originalEntryIDs.contains(y))return;this.props.onAddEntryAttempt(x);},_sortEntries:function(x){if(this.props.entries.size||this.props.excludeGroups)return n.sortEntriesWithoutGroupsOrViewer(x,this.props.viewer);return n.sortEntries(x,this.state.queryString);},focusInput:function(){setTimeout(function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput();}.bind(this));},_handleQueryStarted:function(x){if(x===this.state.queryString)this.setState({isLoading:true});},_handleQueryFinished:function(x){if(x===this.state.queryString)this.setState({isLoaded:true,isLoading:false});},_handleQueryStringChange:function(event){!(event.target instanceof HTMLInputElement)?q(0):undefined;this.setState({isLoaded:false,queryString:event.target.value});}}),w=k.createClass({displayName:'MessengerTokenizerToken',propTypes:{className:s.string,entry:s.instanceOf(l),index:s.number,label:s.string.isRequired,onRemove:s.func},render:function(){return (k.createElement('span',{className:r(this.props.className,"_14-8"),label:null,onClick:this._handleClick,onKeyDown:this._handleKeyDown,tabIndex:this.props.index+u},k.createElement('span',{'aria-label':this.props.label,title:this.props.label,className:"_14-9"},this.props.label)));},_handleClick:function(event){event.stopPropagation();},_handleKeyDown:function(event){if(event.keyCode===j.BACKSPACE){event.preventDefault();this.props.onRemove&&this.props.onRemove(this.props.entry);}}});f.exports=v;},null);
__d('MessengerComposeViewHeader.react',['immutable','MessengerSearchSource','MessengerTabIndices','MessengerTokenizer.react','ReactComponentWithPureRenderMixin','React','clearImmediate','cx','fbt','joinClasses','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=m.PropTypes,t=320,u=m.createClass({displayName:'MessengerComposeViewHeader',mixins:[l],propTypes:{onAddRecipient:s.func.isRequired,onRemoveRecipient:s.func.isRequired,onResize:s.func.isRequired,recipients:s.instanceOf(h.List).isRequired,viewer:s.string.isRequired},_timer:null,getInitialState:function(){return {tokenizerContext:null};},componentDidMount:function(){this._focusTokenizer();this.setState({tokenizerContext:this.refs.tokenizerContext});},componentDidUpdate:function(v){if(this.props.recipients!==v.recipients)this.props.onResize();},componentWillUnmount:function(){this._timer&&n(this._timer);},render:function(){return (m.createElement('div',{className:q("_2y8y _5l-3",this.props.className)},m.createElement('div',{className:"_2y8z"},p._("To:")),m.createElement('div',null,m.createElement(k,{className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,extraRendererProps:{className:"_2y8_",width:t},hasHoverState:true,onAddEntryAttempt:this.props.onAddRecipient,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:p._("Type the name of a person or group"),ref:'tokenizer',searchSource:i.getForFBID(this.props.viewer),tabIndex:j.NEW_MESSAGE_TOKENIZER,useLayer:true,viewer:this.props.viewer}),m.createElement('div',{ref:'tokenizerContext'}))));},_focusTokenizer:function(){this._timer=r(function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput();}.bind(this));}});f.exports=u;},null);
__d('MessengerPresenceStatus.react',['React','ReactComponentWithPureRenderMixin','fbt'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'MessengerPresenceStatus',mixins:[i],propTypes:{isUserActive:k.bool.isRequired,lastActive:k.string,platform:k.string},render:function(){var m;if(this.props.isUserActive){m=j._("Active on {platform}",[j.param('platform',this.props.platform)]);}else if(this.props.lastActive){m=j._("Active {time} ago",[j.param('time',this.props.lastActive)]);}else m=this.props.platform;return (h.createElement('span',{className:this.props.className},m));}});f.exports=l;},null);
__d('FBRTCAvailability',['ChannelConstants','PresenceStatus'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={isCallable:function(k){var l=i.getCapabilities(k),m=h.CAPABILITY_VOIP_INTEROP;return !!(l&m);}};f.exports=j;},null);
__d('FBRTCCallActions',['FBRTCDispatcher','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i({START_CALL:null}),k={Types:j,startCall:function(l,m,n,o){h.dispatch({type:j.START_CALL,peerID:l,callID:m,isCaller:n,audioOnly:o});}};f.exports=k;},null);
__d('FBRTCCallUI',['BanzaiLogger','UserAgent','FBRTCCallActions','FBRTCCallSummary','FBRTCCallSummaryStore','FBRTCConfig','FBRTCConstants','FBRTCLogger','FBRTCMessageListener','FBRTCUrlManager','pageID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=null,t={openGroupCallAsCaller:function(u,v,w,x){if(!s&&window.rtcCallChildWindow){s=window.rtcCallChildWindow;window.rtcCallChildWindow=null;}if(this._shouldFocusCallWindow(u)){s.focus();return;}if(this._shouldCloseCallWindow())s.close();var y=true;this._openGroupCall(u,v,y,x,null);},openGroupCallAsCallee:function(u,v){var w=false,x=true;this._openGroupCall(u,[],w,x,v);},openGroupCallAsCalleeWithoutURL:function(u,v){if(!s&&window.rtcCallChildWindow){s=window.rtcCallChildWindow;window.rtcCallChildWindow=null;}if(this._shouldFocusCallWindow(u)){s.focus();return;}if(this._shouldCloseCallWindow())s.close();var w=false;this._openGroupCall(u,[],w,!v,null);},_openGroupCall:function(u,v,w,x,y){var z=this._windowPosition(),aa=['menubar=no','location=no','scrollbars=no','status=no','personalbar=no',z.height,z.width,z.top,z.left].join(',');if(this._isSparkBrowser())aa='';if(y){s=window.open(y,'Group Call',aa);}else{s=window.open('','Group Call',aa);q.getGroupCallUri(u,v,w,x,function(ba){s.location=ba;},function(){});}if(window.focus)s.focus();},openAsCaller:function(u,v,w,x){if(!s&&window.rtcCallChildWindow){s=window.rtcCallChildWindow;window.rtcCallChildWindow=null;}if(this._shouldFocusCallWindow(u)){s.focus();return;}if(this._shouldCloseCallWindow())s.close();h.log('VideoCallLoggerConfig',{event:'open_as_caller'});o.getInstance().logCallAction(u,v,o.CallAction.START_CALL,null,w);var y=new k({peerID:u,callID:v,isCaller:true});y.onCallStarted(w);this._open(u,v,true,y,false,x);},openAsCallee:function(u,v,w,x,y){h.log('VideoCallLoggerConfig',{event:'open_as_callee'});this._open(u,v,false,w,x,y);},_shouldFocusCallWindow:function(u){return s&&!s.closed&&s.rtcCallInProgessWith===u;},_shouldCloseCallWindow:function(){return s&&!s.closed&&!s.rtcCallInProgessWith;},_open:function(u,v,w,x,y,z){x.addExtraInfo(o.Key.INITIATED_BY_PAGE_ID,r);x.onCallEnded(n.CallEndReason.CLIENT_ERROR,false,true,'PopupPending');x.save(l.getInstance());if(m.useCurrentWindow()){p.removeMessageHandler();j.startCall(u,v,w,z);return;}var aa=this._windowPosition(),ba=['menubar=no','location=no','scrollbars=no','status=no','personalbar=no',aa.height,aa.width,aa.top,aa.left].join(',');if(this._isSparkBrowser())ba='';y=q.getNonceUri(u,v,w,z,p.generateNewNonce());h.log('VideoCallLoggerConfig',{event:'open_popup'});if(!y){s=window.open('','Video Call',ba);this._setUri(s,u,v,w,z);}else{o.getInstance().logCallAction(u,v,o.CallAction.OPEN_POPUP);s=window.open(y,'Video Call',ba);}s.focus&&s.focus();},_setUri:function(u,v,w,x,y){q.getCallUri(v,w,x,y,function(z){o.getInstance().logCallAction(v,w,o.CallAction.OPEN_POPUP);u.location=z;},function(){o.getInstance().logCallAction(v,w,o.CallAction.FAILED_GETTING_URI);});},_windowPosition:function(){var u=960,v=540,w,x,y,z;if(screen&&screen.width>1280){u=1280;v=720;}if(window.innerWidth!==undefined){x=window.innerWidth;w=window.innerHeight;}else{x=screen.width;w=screen.height;}if(window.screenLeft!==undefined){y=window.screenLeft;z=window.screenTop;}else{y=window.screenX;z=window.screenY;}var aa=Math.floor(x/2-u/2+y),ba=Math.floor(w/2-v/2+z);return {height:'height='+v.toString(),width:'width='+u.toString(),top:'top='+ba.toString(),left:'left='+aa.toString()};},_isSparkBrowser:function(){return i.isBrowser('Chrome < 34')&&i.isBrowser('Chrome > 33');}};f.exports=t;},null);
__d('FBRTCCore',['Bootloader','FBRTCAvailability','FBRTCCallUI','FBRTCSupport','invariant','randomInt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=false,o={startOutgoingCall:function(p,q,r){!!isNaN(parseInt(p,10))?l(0):undefined;if(n)return;n=true;setTimeout(function(){n=false;},1000);if(k.isWebrtcSupported()){var s=this._generateCallID();j.openAsCaller(p,s,q,r);}else h.loadModules(["FBRTCUnsupportedBrowserMessage"],function(t){t.showForOutgoingCall();});},startMultiwayCall:function(p,q,r,s){!(q.length>0)?l(0):undefined;if(n)return;n=true;setTimeout(function(){n=false;},1000);if(k.isWebrtcSupported()){j.openGroupCallAsCaller(p,q,r,s);}else h.loadModules(["FBRTCUnsupportedBrowserMessage"],function(t){t.showForOutgoingCall();});},joinMultiwayCall:function(p,q){if(k.isWebrtcSupported()){j.openGroupCallAsCalleeWithoutURL(p,q);}else h.loadModules(["FBRTCUnsupportedBrowserMessage"],function(r){r.showForOutgoingCall();});},isAvailableForWebrtcCalling:function(p){return i.isCallable(p);},shouldEnableVideoCalling:function(){return k.isOSSupported();},_generateCallID:function(){return m(0,4294967295);}};f.exports=o;},null);
__d('FBRTCCallabilityActions',['keyMirror'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({CALLABILITY_FETCHED:null,CALLABILITY_FETCH_ERROR:null});function j(k){this.$FBRTCCallabilityActions1=k;}j.prototype.callabilityFetched=function(k,l){this.$FBRTCCallabilityActions1.dispatch({type:i.CALLABILITY_FETCHED,userID:k,callability:l});};j.prototype.callabilityFetchError=function(k){this.$FBRTCCallabilityActions1.dispatch({type:i.CALLABILITY_FETCH_ERROR,userID:k});};j.Types=i;f.exports=j;},null);
__d("XRTCCallabilityController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/rtc\/callability\/",{user_id:{type:"Int",required:true}});},null);
__d('FBRTCCallabilityDataManager',['AsyncRequest','FBRTCCallabilityActions','XRTCCallabilityController'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){this.$FBRTCCallabilityDataManager1=new i(l);}k.prototype.fetchCallability=function(l){var m=j.getURIBuilder().setInt('user_id',parseInt(l,10)).getURI(),n=this.$FBRTCCallabilityDataManager2.bind(this,l),o=this.$FBRTCCallabilityDataManager3.bind(this,l);new h().setURI(m).setHandler(n).setErrorHandler(o).setAllowCrossPageTransition(true).send();};k.prototype.$FBRTCCallabilityDataManager2=function(l,m){this.$FBRTCCallabilityDataManager1.callabilityFetched(l,m.payload);};k.prototype.$FBRTCCallabilityDataManager3=function(l,m){this.$FBRTCCallabilityDataManager1.callabilityFetchError(l);};f.exports=k;},null);
__d('RTCCallabilityStore',['Cache','FBRTCAvailability','FluxStore','FBRTCCallabilityActions','FBRTCCallabilityDataManager','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o;if(c.__markCompiled)c.__markCompiled();var p=.5,q=5;n=babelHelpers.inherits(r,j);o=n&&n.prototype;function r(s){o.constructor.call(this,s);this.$RTCCallabilityStore2=new l(s);this.$RTCCallabilityStore1=new h();}r.prototype.__onDispatch=function(s){var t=s.type;switch(t){case k.Types.CALLABILITY_FETCHED:var u=s.userID,v=s.callability;this.$RTCCallabilityStore1.set(u,v.is_callable,null,v.is_callable?q:p);this.__emitChange();break;case k.Types.CALLABILITY_FETCH_ERROR:this.$RTCCallabilityStore1.set(s.userID,false,null,p);this.__emitChange();break;}};r.prototype.isCallable=function(s){if(i.isCallable(s))return true;if(!this.$RTCCallabilityStore1.has(s)){this.$RTCCallabilityStore2.fetchCallability(s);this.$RTCCallabilityStore1.set(s,false,null,p);}return !!this.$RTCCallabilityStore1.get(s);};r.prototype.callButtonTooltip=function(s,t){if(this.isCallable(s))return m._("Start a video call with {shortname}",[m.param('shortname',t)]);return m._("{shortname} is currently unavailable for video calling",[m.param('shortname',t)]);};r.prototype.voiceCallButtonTooltip=function(s,t){if(this.isCallable(s))return m._("Start a voice call with {shortname}",[m.param('shortname',t)]);return m._("{shortname} is currently unavailable for voice calling",[m.param('shortname',t)]);};f.exports=r;},null);
__d('MNRTCCallabilityStore',['MessengerDispatcher','RTCCallabilityStore'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new i(h);},null);
__d('MessengerRTCUnavailableDialog.react',['MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=n.PropTypes,q=n.createClass({displayName:'MessengerRTCUnavailableDialog',propTypes:{name:p.string.isRequired},render:function(){return (n.createElement(i,{onToggle:this._handleToggle},n.createElement(m,null,o._("Can't Make Call")),n.createElement(j,null,this._renderDialogBody()),n.createElement(l,null,n.createElement(k,{action:'cancel',label:o._("OK"),type:'primary'}))));},_renderDialogBody:function(){return (n.createElement('div',null,o._("{name} is not available right now.",[o.param('name',this.props.name)])));},_handleToggle:function(r){if(!r)h.hideDialog();}});f.exports=q;},null);
__d('MessengerRTCCallButton.react',['Link.react','MessengerActions','MessengerRTCUnavailableDialog.react','MNRTCCallabilityStore','React','StoreAndPropBasedStateMixin','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'MessengerRTCCallButton',mixins:[m(k)],statics:{calculateState:function(s){var t=s.calleeID.toString();return {isCallable:k.isCallable(t)};}},propTypes:{isVideo:q.bool.isRequired,calleeID:q.oneOfType([q.number,q.string]).isRequired},render:function(){var s=o._("Start a video call"),t=o._("Start a voice call");return (l.createElement(h,{'aria-label':this.props.isVideo?s:t,className:this._className(),onClick:this._handleStartCall,title:this.props.isVideo?s:t}));},_className:function(){var s=this.props.isVideo,t=this.state.isCallable;return p("_31tl"+(!s&&t?' '+"_31tm":'')+(!s&&!t?' '+"_31tn":'')+(s&&t?' '+"_31to":'')+(s&&!t?' '+"_31tp":''),this.props.className);},_handleStartCall:function(s){s.preventDefault();if(this.state.isCallable){e(['FBRTCCore'],function(t){t.startOutgoingCall(this.props.calleeID,'messenger_dot_com',!this.props.isVideo);}.bind(this));}else i.showDialog(j,{name:this.props.calleeName});}});f.exports=r;},null);
__d('MessengerDetailViewHeader.react',['Event','immutable','ImmutableObject','Link.react','MercuryParticipantTypes','MercuryThreadTitle.react','MessengerDomIDs','MessengerInfoPanelVisibility','MessengerPresenceStatus.react','MessengerRTCCallButton.react','ReactComponentWithPureRenderMixin','FBRTCSupport','React','ReactDOM','Style','cx','fbt','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=t.PropTypes,aa=t.createClass({displayName:'MessengerDetailViewHeader',mixins:[r],propTypes:{contactData:z.object,infoPanelVisibility:z.number.isRequired,onInfoPanelToggle:z.func.isRequired,participants:z.instanceOf(i.Map).isRequired,thread:z.instanceOf(j),viewer:z.string.isRequired},componentDidMount:function(){this._resizeCallback=h.listen(window,'resize',y(this._calculateTruncationState,20,this));},componentWillUnmount:function(){this._resizeCallback.remove();},componentDidUpdate:function(){this._calculateTruncationState();},render:function(){var ba=this.props,ca=ba.thread,da=ba.viewer,ea=ba.infoPanelVisibility,fa=ba.onInfoPanelToggle;if(!ca)return null;var ga=x._("Conversation Information"),ha=this._renderPresenceStatus();return (t.createElement('div',{className:"_5742"+(ha===null?' '+"_1_fz":''),ref:'root'},t.createElement('div',{className:"_5743",key:'threadTitle',ref:'title'},t.createElement('h2',{className:"_17w2",id:n.THREAD_TITLE},t.createElement(m,{className:"_3oh-",ref:'mercuryTitle',thread:ca,viewer:da})),ha),t.createElement('ul',{className:"_fl2",key:'buttonsContainer',ref:'buttons'},this._renderAudioCallButton(),this._renderVideoCallButton(),t.createElement('li',null,t.createElement(k,{'aria-expanded':ea===o.VISIBLE,'aria-label':ga,className:"_fl3"+(ea===o.AUTO?' '+"_20na":'')+(ea===o.HIDDEN?' '+"_20nb":'')+(' '+"_30yy"),onClick:fa,role:'button',title:ga}),t.createElement('div',{'aria-owns':n.THREAD_INFO_PANEL})))));},_renderAudioCallButton:function(){if(this._shouldShowCallButton())return (t.createElement('li',null,t.createElement(q,{className:"_30yy",isVideo:false,calleeID:this.props.thread.other_user_fbid,calleeName:this.props.contactData.contact.name})));},_renderVideoCallButton:function(){if(this._shouldShowCallButton())return (t.createElement('li',null,t.createElement(q,{className:"_30yy",isVideo:true,calleeID:this.props.thread.other_user_fbid,calleeName:this.props.contactData.contact.name})));},_shouldShowCallButton:function(){var ba=this.props.thread;return !!(s.isWebrtcSupported()&&s.isOSSupported()&&this.props.contactData&&this.props.contactData.contact.type!==l.PAGE&&ba&&ba.is_canonical&&ba.participants.length>1);},_renderPresenceStatus:function(){if(!this.props.contactData)return null;return (t.createElement(p,{className:"_2v6o",isUserActive:this.props.contactData.isUserActive,lastActive:this.props.contactData.lastActive,platform:this.props.contactData.platform}));},_calculateTruncationState:function(){var ba=u.findDOMNode(this.refs.root),ca=u.findDOMNode(this.refs.title),da=u.findDOMNode(this.refs.buttons),ea=u.findDOMNode(this.refs.mercuryTitle);if(!ea||!ca)return;var fa=Math.ceil(.5*(ba.offsetWidth+ea.offsetWidth)),ga=ba.offsetWidth-da.offsetWidth-12;if(fa<=ga){v.set(ba,'text-align','center');v.set(ca,'width','auto');}else{v.set(ba,'text-align','left');var ha=Math.max(ba.offsetWidth-da.offsetWidth-11,0);v.set(ca,'width',ha+'px');}}});f.exports=aa;},null);
__d('MessengerDetailViewHeaderContainer.react',['immutable','ImmutableObject','MercuryIDs','MercuryThreadIDMap','MercuryTypeaheadConstants','MessengerActions','MessengerComposerActions','MessengerComposeViewHeader.react','MessengerDetailViewHeader.react','MessengerView','React','shallowEqual'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=r.PropTypes,u=r.createClass({displayName:'MessengerDetailViewHeaderContainer',propTypes:{contactData:t.object,infoPanelVisibility:t.number.isRequired,onInfoPanelToggle:t.func.isRequired,onResize:t.func.isRequired,participants:t.instanceOf(h.Map).isRequired,recipients:t.instanceOf(h.List).isRequired,thread:t.instanceOf(i),view:t.string,viewer:t.string.isRequired},shouldComponentUpdate:function(v){var w=v.contactData,x=babelHelpers.objectWithoutProperties(v,['contactData']),y=this.props,z=y.contactData,aa=babelHelpers.objectWithoutProperties(y,['contactData']);return (!s(x,aa)||!s(w,z));},render:function(){return (this.props.view===q.DETAIL.COMPOSE?r.createElement(o,{onAddRecipient:this._handleAddRecipient,onRemoveRecipient:this._handleRemoveRecipient,onResize:this.props.onResize,recipients:this.props.recipients,viewer:this.props.viewer}):r.createElement(p,{contactData:this.props.contactData,infoPanelVisibility:this.props.infoPanelVisibility,onInfoPanelToggle:this.props.onInfoPanelToggle,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer}));},_handleAddRecipient:function(v){var w=v.getUniqueID(),x=v.getType();if(x===l.THREAD_TYPE){var y=k.getForFBID(this.props.viewer);y.getClientIDFromServerID(w,function(z){n.moveDraftToNextThread(z);m.selectThread(z);});n.exitComposeState();}else if(w===this.props.viewer||x===l.PAGE_TYPE){n.moveDraftToNextThread(j.getThreadIDFromUserID(w));n.exitComposeState();m.selectThread(j.getThreadIDFromUserID(w));}else n.addToken(v);},_handleRemoveRecipient:function(v){n.removeToken(v);}});f.exports=u;},null);
__d('MessengerPresenceStatusUtils',['AvailableListConstants','LastActiveTimes','MercuryIDs','PresenceStatus','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m={getStatusFromCanonicalThread:function(n,o){var p=null;if(o&&o.is_canonical){var q=n.get(j.getParticipantIDFromFromThreadID(o.thread_id));if(q){var r=k.get(q.fbid),s,t,u=q.is_messenger_user?l._("Messenger"):l._("Facebook");if(r!==h.ACTIVE){s=i.get(q.fbid);t=i.getShortDisplay(q.fbid);}p={contact:q,platform:u,isUserActive:r===h.ACTIVE,lastActiveTS:s,lastActive:t};}}return p;}};f.exports=m;},null);
__d('MessengerConfirmLeaveGroupDialog.react',['MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=o.PropTypes,r=o.createClass({displayName:'MessengerConfirmLeaveGroupDialog',propTypes:{onCancel:q.func,onLeave:q.func.isRequired},render:function(){return (o.createElement(i,{onToggle:this._handleToggle},o.createElement(n,null,p._("Leave Conversation?")),o.createElement(j,null,p._("You will stop receiving messages from this conversation and people will see that you left.")),o.createElement(m,null,o.createElement(l,null),o.createElement(k,{label:p._("Leave"),onClick:this._handleLeaveClick,type:'primary',use:'danger'}))));},_handleLeaveClick:function(s){s.stopPropagation();this.props.onLeave();h.hideDialog();},_handleToggle:function(s){if(!s)h.hideDialog();}});f.exports=r;},null);
__d('MessengerAddToConversationDialog.react',['immutable','ImmutableObject','MercuryIDs','MercuryLogMessageType','MercurySourceType','MercuryMessageActions','MercuryMessageObject','MessengerActions','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerSearchSource','MessengerTokenizer.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=x.PropTypes,ba=460,ca=x.createClass({displayName:'MessengerAddToConversationDialog',mixins:[w],propTypes:{thread:aa.instanceOf(i).isRequired,viewer:aa.string.isRequired},getInitialState:function(){return {selectedEntries:h.List()};},render:function(){return (x.createElement(p,{shown:true,onToggle:this._handleToggle,ref:'dialog',type:'default',width:ba},x.createElement('div',{className:"_4jgp"},x.createElement(s,null,x.createElement(r,null),x.createElement(t,null,z._("Add More People")),x.createElement(q,{label:z._("Done"),onClick:this._handleSave,type:'primary'})),x.createElement(v,{autoFocus:true,className:"_4jgt",entries:this.state.selectedEntries,excludeGroups:true,extraRendererProps:{className:"_4jgu",width:ba},hasHoverState:false,hideViewWithEntries:false,onAddEntryAttempt:this._handleAddEntryAttempt,onRemoveEntryAttempt:this._handleRemoveEntryAttempt,originalEntryIDs:h.Set(this.props.thread.participants.map(function(da){return (j.getUserIDFromParticipantID(da));})),placeholder:z._("Add to group:"),searchSource:u.getForFBID(this.props.viewer),showDefaultEntries:true,useLayer:false,viewer:this.props.viewer}))));},_handleAddEntryAttempt:function(da){this.setState({selectedEntries:this.state.selectedEntries.push(da)});},_handleRemoveEntryAttempt:function(da){var ea=da.getUniqueID(),fa=this.state.selectedEntries,ga=fa.findIndex(function(ha){return ha.getUniqueID()===ea;});if(ga!==-1)this.setState({selectedEntries:fa['delete'](ga)});},_handleToggle:function(da){if(!da)o.hideDialog();},_handleSave:function(event){if(this.state.selectedEntries.size)this._getMessageActions().send(this._getMessageObject().constructLogMessageObject(l.MESSENGER_WEB,this.props.thread.thread_id,k.SUBSCRIBE,{added_participants:this.state.selectedEntries.map(function(da){return (j.getParticipantIDFromUserID(da.getUniqueID()));}).toArray()}));event.preventDefault();o.hideDialog();},_getMessageActions:function(){return m.getForFBID(this.props.viewer);},_getMessageObject:function(){return n.getForFBID(this.props.viewer);}});f.exports=ca;},null);
__d('MessengerCheckboxInput.react',['AbstractCheckboxInput.react','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'MessengerCheckboxInput',mixins:[i],render:function(){return (j.createElement(h,babelHelpers['extends']({},this.props,{className:l(this.props.className,"_55sg _4ng2")})));}});f.exports=m;},null);
__d('MercuryThreadMuter',['AsyncDialog','AsyncRequest','DOM','MercuryThreadInfo'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={showMuteChangeDialog:function(m,n){h.send(new i('/ajax/mercury/mute_thread_dialog.php').setRelativeTo(n),function(o){o.subscribe('confirm',function(){this.hide();var p;j.scry(this.getRoot(),'input[type="radio"]').forEach(function(q){if(q.checked)p=q.value;});p=l.convertRawMuteSetting(p);e(['MercuryThreadActions'],function(q){q.get().updateMuteSetting(m,p);});}.bind(o));});},convertRawMuteSetting:function(m){switch(m){case 'always':return -1;case '30minutes':return 1800;case '1hour':return 3600;case '8hours':return 8*3600;case '24hours':return 24*3600;case '8am':var n,o=new Date(),p=new Date();p.setHours(8);p.setMinutes(0);p.setSeconds(0);if(p>o){n=p-o;}else n=p-o+24*3600*1000;return n/1000;default:return 0;}}};f.exports=l;},null);
__d('MessengerMuteDialog.react',['MercuryThreadMuter','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDomIDs','MessengerRadioList.react','React','ReactDOM','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=p.Item,u=q.PropTypes,v=q.createClass({displayName:'MessengerMuteDialog',propTypes:{onMute:u.func.isRequired,onToggle:u.func},getInitialState:function(){return {muteSetting:'30minutes'};},componentDidMount:function(){var w=r.findDOMNode(this.refs.confirmButton);if(w&&w.focus)w.focus();},render:function(){return (q.createElement(i,{onToggle:this.props.onToggle,titleID:o.MUTE_DIALOG_TITLE},q.createElement(n,{id:o.MUTE_DIALOG_TITLE},s._("Mute Conversation")),q.createElement(j,null,q.createElement(p,{name:'messengerMuteOptions',selectedValue:this.state.muteSetting,onValueChange:this._handleMuteSettingChange},q.createElement(t,{value:'30minutes'},s._("For 30 minutes")),q.createElement(t,{value:'1hour'},s._("For 1 hour")),q.createElement(t,{value:'8hours'},s._("For 8 hours")),q.createElement(t,{value:'24hours'},s._("For 24 hours")),q.createElement(t,{value:'always'},s._("Indefinitely")))),q.createElement(m,null,q.createElement(l,null),q.createElement(k,{label:s._("Mute"),onClick:this._handleMute,ref:'confirmButton',type:'primary'}))));},_handleMute:function(){this.props.onMute(h.convertRawMuteSetting(this.state.muteSetting));this.props.onToggle&&this.props.onToggle(false);},_handleMuteSettingChange:function(w){this.setState({muteSetting:w});}});f.exports=v;},null);
__d('MessengerInfoPanelMuteSettings.react',['BootloadedComponent.react','ImmutableObject','JSResource','LeftRight.react','MessengerActions','MessengerCheckboxInput.react','MessengerConfig','MessengerMuteDialog.react','ReactComponentWithPureRenderMixin','React','ReactDOM','cx','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=q.PropTypes,w=q.createClass({displayName:'MessengerInfoPanelMuteSettings',mixins:[p],propTypes:{isMuted:v.bool.isRequired,mutedUntil:v.number,onMuteChange:v.func.isRequired,thread:v.instanceOf(i).isRequired},render:function(){var x=t._("Mute Notifications");return (q.createElement('div',{className:"_3szn",ref:'dialogContext'},q.createElement('div',{className:"_3szo"},q.createElement('div',{className:"_3szp"},q.createElement(m,{checked:this.props.isMuted,onChange:this._handleClick,ref:'muteCheckbox',tooltip:x})),q.createElement(k,{className:"_3szq"},q.createElement('span',{onClick:this._handleClick},x),this._renderMutedUntil())),this._renderPhraseSubscriptions()));},_handleClick:function(x){x.preventDefault();x.stopPropagation();if(this.props.isMuted){this.props.onMuteChange(0);}else l.showDialog(o,{onMute:this.props.onMuteChange,onToggle:this._handleDialogToggle});},_renderMutedUntil:function(){var x=this.props.mutedUntil,y;if(!x)return null;if(x>0){if(x<86401)return null;var z=new Date(x*1000).getDay()===new Date().getDay();if(!z){y=t._("Off until {time} tomorrow",[t.param('time',u(x,'g:ia'))]);}else y=t._("Off until {time}",[t.param('time',u(x,'g:ia'))]);}else if(x===-1)y=t._("Off indefinitely");return y?q.createElement('span',{className:"_3x6v"},y):null;},_renderPhraseSubscriptions:function(){if(!this.props.isMuted||!n.PhraseSubscriptionsEnabled)return null;return (q.createElement(h,{bootloadLoader:j('MessengerInfoPanelPhraseSubscriptions.react'),bootloadPlaceholder:q.createElement('div',{style:{height:67}}),threadID:this.props.thread.thread_id}));},_handleDialogToggle:function(x){if(!x){l.hideDialog();r.findDOMNode(this.refs.muteCheckbox).focus();}}});f.exports=w;},null);
__d('MessengerInfoPanelMuteSettingsContainer.react',['MercuryThreadInfo','ImmutableObject','MessengerInfoPanelMuteSettings.react','React'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.PropTypes,m=k.createClass({displayName:'MessengerInfoPanelMuteSettingsContainer',propTypes:{thread:l.instanceOf(i).isRequired,onChange:l.func.isRequired},render:function(){var n=this.props.thread;return (k.createElement(j,{isMuted:h.isMuted(n),mutedUntil:h.getMuteSetting(n)||undefined,onMuteChange:this._handleMuteChange,thread:n}));},_handleMuteChange:function(n){this.props.onChange(n);}});f.exports=m;},null);
__d('MessengerInfoPanelContactNameSection.react',['ImmutableObject','MessengerPresenceStatus.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'MessengerInfoPanelContactNameSection',mixins:[j],propTypes:{contact:m.instanceOf(h).isRequired,isUserActive:m.bool.isRequired,lastActive:m.string,platform:m.string,renderedImage:m.element.isRequired},render:function(){return (k.createElement('div',{className:"_2jnq"},this.props.renderedImage,k.createElement('div',{className:"_2jnt"},k.createElement('div',{className:"_3eur"},k.createElement('span',{className:"_3oh-"},this.props.contact.name)),k.createElement('div',{className:"_3eus"},k.createElement(i,{isUserActive:this.props.isUserActive,lastActive:this.props.lastActive,platform:this.props.platform})))));}});f.exports=n;},null);
__d('DOMClone',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={shallowClone:function(j){return i(j,false);},deepClone:function(j){return i(j,true);}};function i(j,k){var l=j.cloneNode(k);if(typeof l.__FB_TOKEN!=='undefined')delete l.__FB_TOKEN;return l;}f.exports=h;},null);
__d('FileInput',['ArbiterMixin','DOM','DOMClone','Event','Focus','Keys','UserAgent_DEPRECATED','cx','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r;if(c.__markCompiled)c.__markCompiled();var s=n.ie();q=babelHelpers.inherits(t,p(h));r=q&&q.prototype;function t(u,v,w){'use strict';r.constructor.call(this);this.container=u;this.control=v;var x=i.scry(this.container,'a')[0];x&&x.removeAttribute('href');var y=i.create('div',{className:"_3jk"},w);i.appendContent(this.control,y);this._boundHandleChange=this._handleChange.bind(this);if(s)this._boundHandleIEKeyDown=this._handleIEKeyDown.bind(this);this._setInputElement(w);}t.prototype.getValue=function(){'use strict';return this.input.value;};t.prototype.getInput=function(){'use strict';return this.input;};t.prototype.getContainer=function(){'use strict';return this.container;};t.prototype.getControl=function(){'use strict';return this.control;};t.prototype.clear=function(){'use strict';if(s){var u=j.deepClone(this.input);i.replace(this.input,u);this._setInputElement(u);}else this.input.value='';};t.prototype.destroy=function(){'use strict';this._focus.remove();this._focus=null;this._listener.remove();this._listener=null;if(s){this._IEKeyDownListener.remove();this._IEKeyDownListener=null;}this.container=null;this.control=null;this.input=null;};t.prototype._setInputElement=function(u){'use strict';this.input=u;this._focus&&this._focus.remove();this._focus=l.relocate(u,this.control);this._listener&&this._listener.remove();this._listener=k.listen(u,'change',this._boundHandleChange);if(s){this._IEKeyDownListener&&this._IEKeyDownListener.remove();this._IEKeyDownListener=k.listen(u,'keydown',this._boundHandleIEKeyDown);}};t.prototype._handleChange=function(event){'use strict';this.inform('change',event);var u=this.input.form;if(u&&s<9)k.fire(u,'change',event);};t.prototype._handleIEKeyDown=function(event){'use strict';if(event.keyCode===m.RETURN){event.preventDefault();var u=document.createEvent('MouseEvents');u.initEvent('click',true,true);this.input.dispatchEvent(u);}};f.exports=t;},null);
__d('FileForm',['ArbiterMixin','AsyncRequest','AsyncResponse','AsyncUploadRequest','BehaviorsMixin','CurrentUser','DataStore','DOMQuery','Event','Form','JSONPTransport','Parent','URI','isElementNode','mixin','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x,y;if(c.__markCompiled)c.__markCompiled();function z(ca){var da={},ea=o.scry(ca,'input[type="file"]');ea.forEach(function(fa){da[fa.name]=fa.files;});return da;}function aa(ca){var da=o.scry(ca,'input[type="file"]');da.forEach(function(ea){ea.files=null;});}x=babelHelpers.inherits(ba,v(h,l));y=x&&x.prototype;function ba(ca,da,ea){'use strict';y.constructor.call(this);if(ca.getAttribute('rel')==='async')throw new Error('FileForm cannot be used with Primer forms.');if(ca.getAttribute('method').toUpperCase()!=='POST')throw new Error('FileForm must be used with POST forms.');this._form=ca;this._previousEncoding=this._form.enctype;this._form.enctype=this._form.encoding='multipart/form-data';this._files=null;da&&this.enableBehaviors(da);this._options=ea||{};this.setAllowCrossOrigin(this._options.allowCrossOrigin);this.setAllowCrossPageTransition(this._options.allowCrossPageTransition);this.setUploadInParallel(this._options.uploadInParallel);this.setConcurrentLimit(this._options.concurrentLimit);this.setPreprocessHandler(this._options.preprocessHandler);this.setNetworkErrorRetryLimit(this._options.networkErrorRetryLimit);this._listeners=[p.listen(document.documentElement,'submit',this._submit.bind(this)),p.listen(this._form,'click',this._click.bind(this))];n.set(this._form,'FileForm',this);}ba.prototype.getRoot=function(){'use strict';return this._form;};ba.prototype.setAllowCrossOrigin=function(ca){'use strict';this._allowCrossOrigin=!!ca;return this;};ba.prototype.setAllowCrossPageTransition=function(ca){'use strict';this._allowCrossPageTransition=!!ca;return this;};ba.prototype.setUploadInParallel=function(ca){'use strict';this._uploadInParallel=!!ca;return this;};ba.prototype.setConcurrentLimit=function(ca){'use strict';this._concurrentLimit=ca;return this;};ba.prototype.setPreprocessHandler=function(ca){'use strict';this._preprocessHandler=ca;return this;};ba.prototype.setNetworkErrorRetryLimit=function(ca){'use strict';this._retryLimit=ca;return this;};ba.prototype.setFiles=function(ca){'use strict';this._files=ca;return this;};ba.prototype.canUseXHR=function(){'use strict';var ca='FormData' in window;if(ca)if(!new t(this._form.action).isSameOrigin()&&!this._allowCrossOrigin)ca=false;return ca;};ba.prototype._submit=function(event){'use strict';if(event.isDefaultPrevented()||event.getTarget()!==this._form)return;if(this.inform('submit')===false){event.prevent();return;}return this.canUseXHR()?this._sendViaXHR(event):this._sendViaFrame(event);};ba.prototype._click=function(event){'use strict';var ca=event.getTarget();while(u(ca)){if(ca.type==='submit'){this._clickTarget=ca;setTimeout(this._unclick.bind(this),0);break;}ca=ca.parentNode;}};ba.prototype._unclick=function(){'use strict';this._clickTarget=null;};ba.prototype._sendViaFrame=function(event){'use strict';var ca=this._request=new i();ca.setStatusElement(this._getStatusElement());ca.addStatusIndicator();ca.setOption('useIframeTransport',true);var da=ca.handleResponse.bind(ca),ea=new r('iframe',this._form.action,da),fa=ea.getTransportFrame(),ga=ea.getRequestURI().addQueryData({__iframe:true,__user:m.getID()});this._form.setAttribute('action',ga.toString());this._form.setAttribute('target',fa.name);ca.setJSONPTransport(ea);ca.setURI(ga);ca.setHandler(this.success.bind(this,null));ca.setErrorHandler(this.failure.bind(this,null));ca.setInitialHandler(w(this.initial,this,null));};ba.prototype._sendViaXHR=function(event){'use strict';var ca;if(this._uploadInParallel&&k.isSupported()){ca=new k().setPreprocessHandler(this._preprocessHandler).setData(q.serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);if(this._concurrentLimit)ca.setLimit(this._concurrentLimit);if(this._files){ca.setFiles(this._files);}else ca.setFiles(z(this._form));var da=[ca.subscribe('progress',function(ia,ja){this.progress(ja,ja.getProgressEvent());}.bind(this)),ca.subscribe('initial',function(ia,ja){this.initial(ja,ja.getResponse());}.bind(this)),ca.subscribe('success',function(ia,ja){this.success(ja,ja.getResponse());}.bind(this)),ca.subscribe('start',function(ia,ja){this.inform('start',{upload:ja});}.bind(this)),ca.subscribe('failure',function(ia,ja){this.failure(ja,ja.getResponse());return false;}.bind(this)),ca.subscribe('complete',function(){while(da.length)da.pop().unsubscribe();})];}else{var ea;if(this._files){ea=q.createFormData(q.serialize(this._form,this._clickTarget));var fa=k.parseFiles(this._files);for(var ga in fa){var ha=fa[ga];if(ha.length===1){ea.append(ga,ha[0]);}else{ga=ga+'[]';ha.forEach(function(ia){ea.append(ga,ia);});}}}else ea=q.createFormData(this._form,this._clickTarget);ca=new i().setRawData(ea).setHandler(this.success.bind(this,null)).setErrorHandler(this.failure.bind(this,null)).setUploadProgressHandler(this.progress.bind(this,null)).setInitialHandler(w(this.initial,this,null));}ca.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=ca;event&&event.prevent();};ba.prototype.forceSendViaXHR=function(){'use strict';return this._sendViaXHR(null);};ba.prototype.initial=function(ca){'use strict';return this.inform('initial',{upload:ca});};ba.prototype.success=function(ca,da){'use strict';var ea={response:da,upload:ca};if(this.inform('success',ea)!==false)p.fire(this._form,'success',ea);this._cleanup();};ba.prototype.failure=function(ca,da){'use strict';var ea={response:da,upload:ca};if(this.inform('failure',ea)!==false)if(p.fire(this._form,'error',ea)!==false)j.defaultErrorHandler(da);this._cleanup();};ba.prototype.progress=function(ca,event){'use strict';this.inform('progress',{event:event,upload:ca});};ba.prototype.abort=function(){'use strict';if(this._request){this._request.abort();this._cleanup();}};ba.prototype.clear=function(){'use strict';aa(this._form);};ba.prototype.destroy=function(){'use strict';this._cleanup();while(this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;n.remove(this._form,'FileForm');};ba.prototype._cleanup=function(){'use strict';this._request=null;};ba.prototype._getStatusElement=function(){'use strict';return s.byClass(this._form,'stat_elem')||this._form;};ba.getInstance=function(ca){'use strict';return n.get(ca,'FileForm');};Object.assign(ba,{EVENTS:['start','submit','initial','progress','success','failure']});f.exports=ba;},null);
__d('submitForm',['DOM'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function(j){var k=h.scry(j,'input[type="submit"]')[0];if(k){k.click();}else{k=h.create('input',{type:'submit',className:'hidden_elem'});h.appendContent(j,k);k.click();h.remove(k);}};f.exports=i;},null);
__d('FileInputUploader',['ArbiterMixin','DOM','DTSG','FileForm','Form','mixin','submitForm'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p;if(c.__markCompiled)c.__markCompiled();o=babelHelpers.inherits(q,m(h));p=o&&o.prototype;function q(r){'use strict';p.constructor.call(this);this._inputElem=r;this._data={};}q.prototype.setInput=function(r){'use strict';this._inputElem=r;return this;};q.prototype.setURI=function(r){'use strict';this._uri=r;return this;};q.prototype.setData=function(r){'use strict';this._data=r;return this;};q.prototype.setPreprocessHandler=function(r){'use strict';this._preprocessHandler=r;return this;};q.prototype.setNetworkErrorRetryLimit=function(r){'use strict';this._retryLimit=r;return this;};q.prototype.setFiles=function(r){'use strict';this._files=r;return this;};q.prototype.setAllowCrossOrigin=function(r){'use strict';this._allowCrossOrigin=!!r;return this;};q.prototype.setAllowCrossPageTransition=function(r){'use strict';this._allowCrossPageTransition=!!r;return this;};q.prototype.setUploadInParallel=function(r){'use strict';this._uploadInParallel=!!r;return this;};q.prototype.setConcurrentLimit=function(r){'use strict';this._concurrentLimit=r;return this;};q.prototype.abort=function(){'use strict';if(this._fileForm){this._fileForm.abort();this._destroyFileForm();}};q.prototype.send=function(){'use strict';this._createForm();var r=this._inputElem.cloneNode(false);i.replace(this._inputElem,r);i.appendContent(this._formElem,this._inputElem);i.appendContent(document.body,this._formElem);n(this._formElem);i.replace(r,this._inputElem);this._removeFormEl();};q.prototype._onFileFormEvent=function(r,s){'use strict';if(r==='success'||r==='failure')this._destroyFileForm();this.inform(r,s);};q.prototype._createForm=function(){'use strict';this._destroyFileForm();this._formElem=i.create('form',{action:this._uri,method:'post'});this._fileForm=new k(this._formElem,null,{allowCrossOrigin:this._allowCrossOrigin,allowCrossPageTransition:this._allowCrossPageTransition,uploadInParallel:this._uploadInParallel,concurrentLimit:this._concurrentLimit,preprocessHandler:this._preprocessHandler,networkErrorRetryLimit:this._retryLimit});if(this._files)this._fileForm.setFiles(this._files);this._fileForm.subscribe(k.EVENTS,this._onFileFormEvent.bind(this));l.createHiddenInputs(babelHelpers['extends']({fb_dtsg:j.getToken()},this._data),this._formElem);};q.prototype._removeFormEl=function(){'use strict';i.remove(this._formElem);this._formElem=null;};q.prototype._destroyFileForm=function(){'use strict';if(this._fileForm){this._fileForm.destroy();this._fileForm=null;}};f.exports=q;},null);
__d('MessengerThreadPhotoUploader.react',['FileInput','FileInputUploader','Link.react','MercuryConfig','React','ReactDOM','SubscriptionsHandler','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'MessengerThreadPhotoUploader',_fileInput:null,_subscriptions:null,_uploader:null,_uploadIsInProgress:false,propTypes:{onComplete:q.func.isRequired,onFail:q.func,onStart:q.func,uri:q.string},getDefaultProps:function(){return {uri:k.upload_url};},componentDidMount:function(){var s=m.findDOMNode(this.refs.input),t=new h(m.findDOMNode(this.refs.form),m.findDOMNode(this.refs.uploadButton),s),u=new i(s).setURI(this.props.uri).setAllowCrossOrigin(true).setAllowCrossPageTransition(true).setData({images_only:true}),v=new n();v.addSubscriptions(u.subscribe('success',this._handleAllUploadsCompleted),u.subscribe('failure',this._handleLastUploadFailed));this._subscriptions=v;this._uploader=u;this._fileInput=t;},componentWillUnmount:function(){if(!this._uploadIsInProgress)this._doUnmountComponents();},render:function(){return (l.createElement('form',{action:this.props.uri,method:'post',ref:'form'},l.createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),l.createElement('input',{type:'hidden',name:'images_only',value:'true'}),l.createElement('div',{className:"_m _4q60 _2lyy"},l.createElement(j,{className:"_4q61 _2lyz",ref:'uploadButton'},p._("edit")),l.createElement('input',{type:'file',className:"_n",name:'attachment[]',accept:'.jpg,.png,.jpeg,.bmp,.tif,.tiff',ref:'input',onChange:this._handleFileInputChange}))));},_handleAllUploadsCompleted:function(s,t){this._uploadIsInProgress=false;this.props.onComplete&&this.props.onComplete(s,t.response.payload);if(!this.isMounted())this._doUnmountComponents();},_handleLastUploadFailed:function(s,t){this._uploadIsInProgress=false;this.props.onFail&&this.props.onFail(s,t);if(!this.isMounted())this._doUnmountComponents();},_handleFileInputChange:function(s){if(s.target.value&&this._uploader){this._uploader.send();this._uploadIsInProgress=true;this.props.onStart&&this.props.onStart();}},_doUnmountComponents:function(){this._subscriptions&&this._subscriptions.release();this._fileInput&&this._fileInput.destroy();delete this._subscriptions;delete this._uploader;}});f.exports=r;},null);
__d('MessengerInfoPanelThreadNameSection.react',['AbstractTextInput.react','immutable','ImmutableObject','Keys','MercuryThreadTitle.react','MessengerButton.react','MessengerSpinner.react','MessengerThreadPhotoUploader.react','ReactComponentWithPureRenderMixin','React','ReactDOM','cx','fbt','invariant','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=q.PropTypes,x=q.createClass({displayName:'MessengerInfoPanelThreadNameSection',mixins:[p],propTypes:{actionsEnabled:w.bool.isRequired,onThreadNameChange:w.func.isRequired,onThreadPhotoChange:w.func.isRequired,participants:w.instanceOf(i.Map).isRequired,renderedImage:w.element.isRequired,thread:w.instanceOf(j).isRequired,viewer:w.string.isRequired},_clickGuard:false,getInitialState:function(){return {isEditingName:false,isUploadingPhoto:false,nameValue:''};},componentWillReceiveProps:function(y){if(this.props.thread!==y.thread){var z=this.getInitialState();if(this.state.isEditingName){z.nameValue=this.state.nameValue;z.isEditingName=this.state.isEditingName;}this.setState(z);}},componentDidUpdate:function(y,z){if(z&&this.state.isEditingName&&!z.isEditingName)v(function(){return this.refs.threadNameInput.focusInput();}.bind(this));},render:function(){var y=this.state,z=y.isEditingName,aa=y.isUploadingPhoto;return (q.createElement('div',{className:"_2jnq"},q.createElement('div',{className:"_2jnr"+(aa?' '+"_2jns":'')},this.props.renderedImage,aa?this._renderSpinner():null,this.props.actionsEnabled?q.createElement(o,{onComplete:this._handleThreadPhotoUploadComplete,onFail:this._handleThreadPhotoUploadFail,onStart:this._handleThreadPhotoUploadStart}):null),q.createElement('div',{className:"_2jnt"+(!z?' '+"_1sw_":'')+(!this.props.actionsEnabled?' '+"disabled":''),onClick:this._handleThreadTitleClick,onKeyPress:this._handleThreadTitleKeyPress,ref:'editThreadNameButton',role:z?null:'button',tabIndex:0},q.createElement('div',{className:"_2jnu"},z?this._renderNameInput():q.createElement(l,{className:"_2jnv",showUnreadCount:false,thread:this.props.thread,useShortName:false,viewer:this.props.viewer})))));},_renderSpinner:function(){return (q.createElement('div',{className:"_2jnw"},q.createElement(n,null)));},_handleThreadPhotoUploadComplete:function(y,z){if(this.isMounted())this.setState({isUploadingPhoto:false});this.props.onThreadPhotoChange(this.props.thread.thread_id,z);},_handleThreadPhotoUploadFail:function(y,z){if(this.isMounted())this.setState({isUploadingPhoto:false});},_handleThreadPhotoUploadStart:function(){if(this.isMounted())this.setState({isUploadingPhoto:true});},_handleNameInputChange:function(y){!(y.target instanceof HTMLInputElement)?u(0):undefined;this.setState({nameValue:y.target.value});},_handleNameEdited:function(y){y.stopPropagation();var z=this.state.nameValue;if(z.trim().length===0)return;if(z!==this.props.thread.name)this.props.onThreadNameChange(z);this.setState({isEditingName:false},function(){v(function(){r.findDOMNode(this.refs.editThreadNameButton).focus();}.bind(this));}.bind(this));},_handleThreadTitleClick:function(y){y.stopPropagation();if(!this.props.actionsEnabled)return;if(!this.state.isEditingName)this.setState({isEditingName:true,nameValue:this.props.thread.name});},_handleThreadTitleKeyPress:function(y){if(this.state.isEditingName)return;if(y.charCode===k.RETURN||y.charCode===k.SPACE){y.preventDefault();this._handleThreadTitleClick(y);}},_handleEditAbandoned:function(y){if(y.currentTarget.contains(y.relatedTarget)){y.stopPropagation();return;}if(this._clickGuard){y.preventDefault();y.stopPropagation();this._clickGuard=false;return;}this.setState({isEditingName:false});},_handleMouseDown:function(y){this._clickGuard=true;},_renderNameInput:function(){return (q.createElement('div',{className:"_2jnx",onBlur:this._handleEditAbandoned},q.createElement('div',{className:"_2jny"},q.createElement(h,{className:"_2jnz",onEnter:this._handleNameEdited,placeholder:t._("Name This Conversation"),ref:'threadNameInput',onChange:this._handleNameInputChange,value:this.state.nameValue})),q.createElement(m,{className:"_2jn-",disabled:this.state.nameValue&&this.state.nameValue.trim().length===0,label:t._("Done"),onClick:this._handleNameEdited,onMouseDown:this._handleMouseDown,ref:'threadNameDoneButton',role:'button',type:'primary'})));}});f.exports=x;},null);
__d('MessengerDeleteDialog.react',['MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=n.PropTypes,q=n.createClass({displayName:'MessengerDeleteDialog',propTypes:{onArchive:p.func,onDelete:p.func,onToggle:p.func},render:function(){return (n.createElement(h,{onToggle:this.props.onToggle},n.createElement(m,null,o._("Delete Conversation")),n.createElement(i,null,o._("This will permanently delete the conversation history.")),n.createElement(l,null,n.createElement(k,null),n.createElement(j,{label:o._("Archive"),onClick:this._handleArchive,type:'secondary'}),n.createElement(j,{label:o._("Delete"),onClick:this._handleDelete,type:'primary',use:'danger'}))));},_handleArchive:function(){this.props.onToggle&&this.props.onToggle(false);this.props.onArchive&&this.props.onArchive();},_handleDelete:function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();}});f.exports=q;},null);
__d('MessengerMarkSpamDialog.react',['MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=p.PropTypes,s=p.createClass({displayName:'MessengerMarkSpamDialog',mixins:[o],propTypes:{onMarkSpam:r.func,onToggle:r.func},render:function(){return (p.createElement(i,{onToggle:this.props.onToggle},p.createElement(n,null,q._("Mark as Spam")),p.createElement(j,null,q._("This conversation will be reported as spam and removed.")),p.createElement(m,null,p.createElement(l,null),p.createElement(k,{label:q._("Mark as Spam"),onClick:this._handleMarkSpam,type:'primary',use:'danger'}))));},_handleMarkSpam:function(t){t.stopPropagation();this.props.onToggle&&this.props.onToggle(false);this.props.onMarkSpam&&this.props.onMarkSpam();h.hideDialog();}});f.exports=s;},null);
__d('MessengerMenu.react',['Keys','MenuSeparator.react','ReactXUIMenu','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();function o(q){q.isReactLegacyFactory={};q.type=q;}m=babelHelpers.inherits(p,j);n=m&&m.prototype;function p(q){var r=q.className,s=babelHelpers.objectWithoutProperties(q,['className']);n.constructor.call(this,babelHelpers['extends']({className:l(r,"_2i-c _150g")},s));}p.prototype.handleKeydown=function(q,r){if(q===h.DOWN||q===h.UP||q===h.SPACE)return n.handleKeydown.call(this,q,r);return true;};o(p);p.Item=j.Item;p.Separator=i;f.exports=p;},null);
__d('MessengerPopoverMenu.react',['ContextualDialogArrow','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','PopoverMenu.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.createClass({displayName:'MessengerPopoverMenu',mixins:[l],render:function(){var p=this.props,q=p.children,r=p.isOpen,s=babelHelpers.objectWithoutProperties(p,['children','isOpen']),t=m.Children.only(q);return (m.createElement(k,babelHelpers['extends']({className:!s.disableArrowKeyActivation||r?"_150g":'',enableActivationOnEnter:true,layerBehaviors:[i,j,h]},s),t));}});f.exports=o;},null);
__d('MessengerThreadlistRowActions.react',['MessengerActions','MessengerDeleteDialog.react','MessengerMarkSpamDialog.react','MessengerMenu.react','MessengerMuteDialog.react','MessengerPopoverMenu.react','ReactComponentWithPureRenderMixin','React','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=k.Item,t=k.Separator,u=o.PropTypes,v=o.createClass({displayName:'MessengerThreadlistRowActions',mixins:[n],propTypes:{isMuted:u.bool.isRequired,isOpen:u.bool.isRequired,isUnread:u.bool.isRequired,onArchive:u.func.isRequired,onDelete:u.func.isRequired,onLeaveGroup:u.func,onMarkRead:u.func.isRequired,onMarkSpam:u.func.isRequired,onMarkUnread:u.func.isRequired,onMute:u.func.isRequired,onToggle:u.func.isRequired,onUnmute:u.func.isRequired,showLeaveGroup:u.bool.isRequired,showMute:u.bool.isRequired},render:function(){var w=this.props,x=w.className,y=w.isOpen,z=w.isUnread,aa=w.onLeaveGroup,ba=w.onToggle,ca=w.showLeaveGroup,da=w.showMute,ea=o.createElement(k,null,da&&o.createElement(s,{label:this.props.isMuted?q._("Unmute"):q._("Mute"),onclick:this._handleMuteClick}),da&&o.createElement(t,null),ca&&o.createElement(s,{label:q._("Leave Group"),onclick:aa}),o.createElement(s,{label:q._("Delete"),onclick:this._handleDeleteClick}),o.createElement(t,null),o.createElement(s,{label:z?q._("Mark as Read"):q._("Mark as Unread"),onclick:this._handleMarkReadClick}),o.createElement(s,{label:q._("Mark as Spam"),onclick:this._handleMarkSpamClick}));return (o.createElement('div',{className:"_3d85"},o.createElement(m,{disableArrowKeyActivation:true,isOpen:y,menu:ea,onHide:function(){return ba(false);},onShow:function(){return ba(true);}},o.createElement('div',{'aria-label':q._("Conversation actions"),className:r(x,"_4-0h"+(y?' '+"_4-0i":'')),onClick:this._handleClick,role:'button',ref:'button',tabIndex:-1}))));},_handleClick:function(w){w.preventDefault();w.stopPropagation();},_handleDeleteClick:function(){h.showDialog(i,{onArchive:this.props.onArchive,onDelete:this.props.onDelete,onToggle:this._handleDialogToggle});},_handleMuteClick:function(){if(this.props.isMuted){this.props.onUnmute&&this.props.onUnmute();}else h.showDialog(l,{onMute:this.props.onMute,onToggle:this._handleDialogToggle});},_handleMarkReadClick:function(){if(this.props.isUnread){this.props.onMarkRead&&this.props.onMarkRead();}else this.props.onMarkUnread&&this.props.onMarkUnread();},_handleMarkSpamClick:function(){h.showDialog(j,{onMarkSpam:this.props.onMarkSpam,onToggle:this._handleDialogToggle});},_handleDialogToggle:function(w){if(!w)h.hideDialog();}});f.exports=v;},null);
__d('MessengerInfoPanelNameSection.react',['immutable','ImmutableObject','MercuryThreadInfo','MessengerInfoPanelContactNameSection.react','MessengerInfoPanelThreadNameSection.react','MessengerThreadImage.react','MessengerThreadlistRowActions.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=p.PropTypes,s=50,t=p.createClass({displayName:'MessengerInfoPanelNameSection',mixins:[o],propTypes:{contact:r.object,isUserActive:r.bool.isRequired,lastActive:r.string,onArchive:r.func.isRequired,onDelete:r.func.isRequired,onLeaveGroup:r.func,onMarkRead:r.func.isRequired,onMarkSpam:r.func.isRequired,onMarkUnread:r.func.isRequired,onMute:r.func.isRequired,onThreadNameChange:r.func.isRequired,onThreadPhotoChange:r.func.isRequired,onUnmute:r.func.isRequired,participants:r.instanceOf(h.Map).isRequired,platform:r.string,showLeaveGroup:r.bool.isRequired,thread:r.instanceOf(i).isRequired,viewer:r.string.isRequired},getInitialState:function(){return {actionsOpen:false};},render:function(){var u=this.props.thread.is_subscribed||this.props.thread.is_canonical;return (p.createElement('div',{className:"_1jt6"},this.props.contact?this._renderContactImageBlock(this.props.contact):this._renderThreadImageBlock(),u&&this._renderActions()));},_handleActionsToggle:function(u){this.setState({actionsOpen:u});},_renderActions:function(){return (p.createElement('div',{className:"_3-ne"},p.createElement(n,{className:"_5blh",isMuted:j.isMuted(this.props.thread),isOpen:this.state.actionsOpen,isUnread:this.props.thread.unread_count>0,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onToggle:this._handleActionsToggle,onUnmute:this.props.onUnmute,showLeaveGroup:this.props.showLeaveGroup,showMute:false})));},_renderContactImageBlock:function(u){return (p.createElement(k,{contact:u,isUserActive:this.props.isUserActive,lastActive:this.props.lastActive,platform:this.props.platform,renderedImage:this._renderImage()}));},_renderThreadImageBlock:function(){return (p.createElement(l,{actionsEnabled:this.props.thread.is_subscribed,onThreadNameChange:this.props.onThreadNameChange,onThreadPhotoChange:this.props.onThreadPhotoChange,participants:this.props.participants,renderedImage:this._renderImage(),thread:this.props.thread,viewer:this.props.viewer}));},_renderImage:function(){return (p.createElement('div',{className:"_1jt8"},p.createElement(m,{participants:this.props.participants,size:s,thread:this.props.thread,viewer:this.props.viewer})));}});f.exports=t;},null);
__d('MessengerRemoveFromGroupDialog.react',['MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=o.PropTypes,r=o.createClass({displayName:'MessengerRemoveFromGroupDialog',mixins:[n],propTypes:{onRemove:q.func,onToggle:q.func},render:function(){return (o.createElement(h,{onToggle:this.props.onToggle},o.createElement(m,null,p._("Remove from Group")),o.createElement(i,null,p._("Are you sure you want to remove this person from the group?")),o.createElement(l,null,o.createElement(k,null),o.createElement(j,{label:p._("Remove"),onClick:this._handleDelete,type:'primary',use:'danger'}))));},_handleDelete:function(s){this.props.onToggle&&this.props.onToggle(false);this.props.onRemove&&this.props.onRemove(s);}});f.exports=r;},null);
__d('MessengerInfoPanelContactActions.react',['ImmutableObject','MercuryIDs','MessengerActions','MessengerContactActions','MessengerMenu.react','MessengerPopoverMenu.react','MessengerRemoveFromGroupDialog.react','ReactComponentWithPureRenderMixin','React','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=l.Item,u=l.Separator,v=p.PropTypes,w=p.createClass({displayName:'MessengerInfoPanelContactActions',mixins:[o],propTypes:{extrasEnabled:v.bool.isRequired,contact:v.instanceOf(h).isRequired,isOpen:v.bool,onAction:v.func.isRequired,onToggle:v.func.isRequired,viewer:v.string.isRequired},render:function(){if(i.getUserIDFromParticipantID(this.props.contact.uid)===this.props.viewer)return null;var x=p.createElement(l,null,p.createElement(t,{label:r._("Message"),onclick:this._makeActionHandler(k.MESSAGE)}),this.props.contact.href?p.createElement(t,{label:r._("View Profile"),onclick:this._makeActionHandler(k.PROFILE)}):null,this._renderExtras());return (p.createElement(m,{menu:x,onHide:function(){return this.props.onToggle(false);}.bind(this),onShow:function(){return this.props.onToggle(true);}.bind(this)},p.createElement('div',{className:s(this.props.className,"_57gs"+(this.props.isOpen?' '+"_57gt":'')),onClick:this._handleClick,tabIndex:0})));},_renderExtras:function(){if(!this.props.extrasEnabled)return null;return [p.createElement(u,{key:'separator'}),p.createElement(t,{key:'remove-from-group',label:r._("Remove from Group"),onclick:this._handleRemoveClick})];},_handleClick:function(x){x.stopPropagation();x.preventDefault();},_makeActionHandler:function(x){return function(y){this._handleClick(y);this.props.onAction(x,y);}.bind(this);},_handleRemoveClick:function(x){this._handleClick(x);j.showDialog(n,{onToggle:this._handleDialogToggle,onRemove:this._handleDialogRemoveClick});},_handleDialogRemoveClick:function(x){this.props.onAction(k.REMOVE,x);},_handleDialogToggle:function(x){if(!x)j.hideDialog();}});f.exports=w;},null);
__d('MessengerInfoPanelSection.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'MessengerInfoPanelSection',propTypes:{isCollapsible:k.bool,isCollapsed:k.bool,onToggle:k.func,title:k.string},render:function(){var m=this.props,n=m.isCollapsible,o=m.isCollapsed;return (h.createElement('div',{className:"_1lix"+(n?' '+"_1liy":'')+(n&&o?' '+"_1liz":'')},h.createElement('div',{className:"_1li-"}),this._renderHeader(),h.createElement('div',{className:"_1li_"},this.props.children)));},_renderHeader:function(){var m=this.props.title;if(!m)return null;return (h.createElement('h4',{className:"_1lj0"},m,this._renderToggle()));},_renderToggle:function(){var m=this.props,n=m.isCollapsible,o=m.isCollapsed,p=m.onToggle;if(!n)return null;return (h.createElement('div',{className:"_1lj1 _30yy"},h.createElement('div',{onClick:p},o?j._("Show"):j._("Hide"))));}});f.exports=l;},null);
__d('MessengerInfoPanelPeopleSection.react',['ImageBlock.react','immutable','Link.react','MessengerContactList.react','MessengerInfoPanelContactActions.react','MessengerInfoPanelSection.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=o.PropTypes,s=o.createClass({displayName:'MessengerInfoPanelPeopleSection',mixins:[n],propTypes:{canViewerReply:r.bool.isRequired,contactAdapter:r.func.isRequired,isCollapsed:r.bool.isRequired,isViewerSubscribed:r.bool.isRequired,onAddPeopleClick:r.func.isRequired,onContactAction:r.func.isRequired,onContactSelect:r.func.isRequired,onToggle:r.func.isRequired,participants:r.instanceOf(i.Map).isRequired,viewer:r.string.isRequired,adminIds:r.arrayOf(r.string)},render:function(){var u=this.props,v=u.contactAdapter,w=u.isCollapsed,x=u.isViewerSubscribed,y=u.onContactAction,z=u.onContactSelect,aa=u.onToggle,ba=u.participants,ca=u.viewer,da=u.adminIds;return (o.createElement(m,{isCollapsible:true,isCollapsed:w,onToggle:aa,title:q._("People")},o.createElement(k,{actionsClass:l,className:"_4wc-",contactAdapter:v,disableRole:true,extraActionsEnabled:x,listSections:i.OrderedMap([[null,t(ba)]]),onSelect:z,onAction:y,viewer:ca,adminIds:da}),this._renderAddPeopleLink()));},_renderAddPeopleLink:function(){if(!this.props.canViewerReply)return null;return (o.createElement(j,{className:"_4rph",onClick:this.props.onAddPeopleClick},o.createElement(h,null,o.createElement('div',{className:"_4rpi"}),o.createElement('div',{className:"_4rpj"},q._("Add People")))));}});function t(u){return u.filter(function(v){return !!v;}).toArray().sort(function(v,w){return v.name.localeCompare(w.name);});}f.exports=s;},null);
__d('MessengerCustomThreadColorButton.react',['ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'MessengerCustomThreadColorButton',mixins:[h],propTypes:{colorChoice:k.string.isRequired,onChoose:k.func.isRequired},render:function(){return (i.createElement('div',{className:"_5dr3",onClick:this._handleClick},i.createElement('div',{className:"_5dr4",style:{backgroundColor:this.props.colorChoice}})));},_handleClick:function(){this.props.onChoose(this.props.colorChoice);}});f.exports=l;},null);
__d('MessengerChangeColorDialog.react',['ix','Grid.react','Image.react','MessagingThreadCustomizationConfig','MessengerActions','MessengerCustomThreadColorButton.react','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React','cssVar','cx','fbglyph','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=i.GridItem,z=t.PropTypes,aa=t.createClass({displayName:'MessengerChangeColorDialog',mixins:[s],propTypes:{currentColor:z.string.isRequired,onSave:z.func},render:function(){var ba=["#0084ff"].concat(k.colorChoices),ca=ba.map(function(da){return (t.createElement(y,{key:da,className:"_gs0"},t.createElement('div',null,da==this.props.currentColor?t.createElement(j,{className:"_gs2",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/checkmark_20_white.png")}):null,t.createElement(m,{colorChoice:da,onChoose:this._handleChooseColor}))));}.bind(this));return (t.createElement(n,{onToggle:this._handleToggle,className:"_gs3",width:335},t.createElement(r,null,x._("Pick a color for this conversation")),t.createElement(o,null,x._("Everyone in this conversation will see this."),t.createElement(i,{cols:5,className:"_gs4"},ca)),t.createElement(q,null,t.createElement(p,null))));},_handleChooseColor:function(ba){if(ba!=this.props.currentColor)this.props.onSave&&this.props.onSave(ba);this._handleToggle(false);},_handleToggle:function(ba){if(!ba)l.hideDialog();}});f.exports=aa;},null);
__d('MessengerInfoPanelCustomColor.react',['ImmutableObject','MercuryConfig','MessengerActions','MessengerChangeColorDialog.react','ReactComponentWithPureRenderMixin','React','cx','cssVar','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=m.createClass({displayName:'MessengerInfoPanelCustomColor',mixins:[l],propTypes:{thread:q.instanceOf(h).isRequired,viewer:q.string.isRequired,onChange:q.func.isRequired},render:function(){if(!i.WWWMessengerChangeThreadColorGK)return null;var s=this.props.thread.custom_color||"#0084ff";return (m.createElement('div',{className:"_3szn _3szo",onClick:this._handleChangeColorClick},m.createElement('div',{className:"_3szp"},m.createElement('div',{className:"_4k4l",style:{backgroundColor:s}})),m.createElement('div',{className:"_3szq"},p._("Change Color"))));},_handleChangeColorClick:function(event){event.preventDefault();j.showDialog(k,{currentColor:this.props.thread.custom_color?this.props.thread.custom_color:"#0084ff",onSave:this.props.onChange});}});f.exports=r;},null);
__d('MessengerChangeEmojiDialog.react',['ChatEmojiPicker.react','EmojiLikeConstants','MessagingThreadCustomizationConfig','MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=r.PropTypes,v=r.createClass({displayName:'MessengerChangeEmojiDialog',mixins:[q],propTypes:{currentEmoji:u.string.isRequired,onSave:u.func},render:function(){var w=[i.THUMBS_UP_EMOJI].concat(j.emojiChoices);return (r.createElement(l,{onToggle:this._handleToggle,className:"_-lj",width:335},r.createElement(p,null,t._("Pick an emoji for this conversation")),r.createElement(m,{className:"_-lk"},t._("Everyone in this conversation will see this."),r.createElement(h,{currentEmoji:this.props.currentEmoji,emojiChoices:w,onSelect:this._handleChooseEmoji})),r.createElement(o,null,r.createElement(n,null))));},_handleChooseEmoji:function(w){if(w!=this.props.currentEmoji)this.props.onSave&&this.props.onSave(w);this._handleToggle(false);},_handleToggle:function(w){if(!w)k.hideDialog();}});f.exports=v;},null);
__d('MessengerInfoPanelEmoji.react',['EmojiLikeConstants','EmojiLikeUtils','Image.react','ImmutableObject','MercuryConfig','MessengerActions','MessengerChangeEmojiDialog.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'MessengerInfoPanelEmoji',mixins:[o],propTypes:{thread:s.instanceOf(k).isRequired,viewer:s.string.isRequired,onChange:s.func.isRequired},render:function(){if(!l.WWWMessengerChangeThreadEmojiGK)return null;var u=i.getURI(this.props.thread.custom_like_icon?this.props.thread.custom_like_icon.emoji:h.THUMBS_UP_EMOJI,h.size.SMALL);return (p.createElement('div',{className:"_3szn _3szo",onClick:this._handleChangeEmojiClick},p.createElement('div',{className:"_3szp"},p.createElement(j,{src:u,className:"_12_p"})),p.createElement('div',{className:"_3szq"},r._("Change Emoji"))));},_handleChangeEmojiClick:function(event){event.preventDefault();m.showDialog(n,{currentEmoji:this.props.thread.custom_like_icon?this.props.thread.custom_like_icon.emoji:h.THUMBS_UP_EMOJI,onSave:this.props.onChange});}});f.exports=t;},null);
__d('MessengerInfoPanelManageMessages.react',['ImmutableObject','MercuryConfig','MercuryIDs','MercuryParticipants','MNCommerceDialogStateActions','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialogContainer.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'MessengerInfoPanelManageMessages',mixins:[o],propTypes:{thread:s.instanceOf(h).isRequired,viewer:s.string.isRequired},render:function(){if(!this._isBusinessEnabled()||!i.WWWMessengerManageButtonGK)return null;return (p.createElement('div',{className:"_3szn _3szo"},p.createElement('div',{className:"_3szp"}),p.createElement('span',{className:"_3szq",onClick:this._handleManageMessageClick},r._("Manage Messages"))));},_isBusinessEnabled:function(){var u=j.getParticipantIDFromFromThreadID(this.props.thread.thread_id),v=k.getNow(u);return !!(v&&v.is_business_enabled);},_onConfirmButtonClick:function(u,v){return m.block(u,v);},_handleManageMessageClick:function(event){event.preventDefault();l.showDialog(n,{pageID:this.props.thread.other_user_fbid,onConfirmButtonClick:this._onConfirmButtonClick});}});f.exports=t;},null);
__d('MessengerEditNicknameDialog.react',['AbstractTextInput.react','ImmutableObject','MercuryIDs','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=r.PropTypes,w=r.createClass({displayName:'MessengerEditNicknameDialog',mixins:[q],propTypes:{contact:v.instanceOf(i).isRequired,currentNickname:v.string,onSave:v.func.isRequired,onToggle:v.func,viewer:v.string.isRequired},getInitialState:function(){return {nickname:this.props.currentNickname};},render:function(){var x=this.props.contact.name,y=null,z=j.getUserIDFromParticipantID(this.props.contact.id);if(z==this.props.viewer){y=t._("Edit Your Nickname");}else y=t._("Edit Nickname for {personName}",[t.param('personName',x)]);return (r.createElement(k,{onToggle:this.props.onToggle,className:"_2c1u"},r.createElement(p,null,y),r.createElement(l,null,t._("Everyone in this conversation will see this."),r.createElement(h,{className:"_2c1v",onEnter:this._handleSave,placeholder:x,onChange:this._handleInputChange,value:this.state.nickname})),r.createElement(o,null,r.createElement(n,null),r.createElement(m,{label:t._("Save"),onClick:this._handleSave,type:'primary'}))));},_handleInputChange:function(x){!(x.target instanceof HTMLInputElement)?u(0):undefined;this.setState({nickname:x.target.value});},_handleSave:function(x){if(this.state.nickname!=this.props.currentNickname)this.props.onSave(j.getUserIDFromParticipantID(this.props.contact.id),this.state.nickname);this.props.onToggle&&this.props.onToggle(false);}});f.exports=w;},null);
__d('MessengerEditNicknamesDialog.react',['immutable','ImmutableObject','MercuryIDs','MessengerActions','MessengerContactList.react','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerEditNicknameDialog.react','MessengerScrollableArea.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=u.PropTypes,y=350,z=u.createClass({displayName:'MessengerEditNicknamesDialog',mixins:[t],propTypes:{participants:x.instanceOf(h.Map).isRequired,thread:x.instanceOf(i).isRequired,viewer:x.string.isRequired,onSave:x.func.isRequired},render:function(){return (u.createElement(m,{className:"_4h9n",shown:true,onToggle:this._handleToggle,ref:'dialog',type:'default',width:y},u.createElement(p,null,u.createElement(o,null),u.createElement(q,null,w._("Edit Nicknames"))),u.createElement(n,{className:"_4h9o"},u.createElement(s,{height:'100%',ref:'scrollable'},u.createElement(l,{contactAdapter:this._fromMercuryParticipant,disableRole:true,listSections:h.OrderedMap([[null,this.props.participants.filter(function(aa){return !!aa;}).toArray()]]),onSelect:this._handleContactSelect,viewer:this.props.viewer})))));},_fromMercuryParticipant:function(aa){var ba=j.getUserIDFromParticipantID(aa.id),ca=aa.name,da='';if(this.props.thread.custom_nickname&&this.props.thread.custom_nickname[ba]){ca=this.props.thread.custom_nickname[ba];da=aa.name;}return new i({alias:aa.alias,uid:aa.id,photo:aa.image_src,title:ca,subtitle:da,type:aa.type,isMessengerUser:aa.is_messenger_user,href:aa.href});},_handleContactSelect:function(aa){var ba=j.getUserIDFromParticipantID(aa.id);k.showDialog(r,{contact:aa,currentNickname:this.props.thread.custom_nickname&&this.props.thread.custom_nickname[ba],onToggle:this._handleToggle,onSave:this._handleDialogEditNicknameClick,viewer:this.props.viewer});},_handleDialogEditNicknameClick:function(aa,ba){this.props.onSave(aa,ba);},_handleToggle:function(aa){if(!aa)k.hideDialog();}});f.exports=z;},null);
__d('MessengerInfoPanelNicknames.react',['immutable','ImmutableObject','MercuryConfig','MessengerActions','MessengerEditNicknamesDialog.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=n.createClass({displayName:'MessengerInfoPanelNicknames',mixins:[m],propTypes:{participants:q.instanceOf(h.Map).isRequired,thread:q.instanceOf(i).isRequired,viewer:q.string.isRequired,onChange:q.func.isRequired},render:function(){if(!j.WWWMessengerChangeNicknamesGK)return null;return (n.createElement('div',{className:"_3szn _3szo",onClick:this._handleEditNicknamesClick},n.createElement('div',{className:"_3szp"},n.createElement('div',{className:"_5y1w"})),n.createElement('div',{className:"_3szq"},p._("Edit Nicknames"))));},_handleEditNicknamesClick:function(event){event.preventDefault();k.showDialog(l,{thread:this.props.thread,participants:this.props.participants,viewer:this.props.viewer,onSave:this.props.onChange});}});f.exports=r;},null);
__d('MessengerInfoPanelThreadOptionsContainer.react',['immutable','ImmutableObject','MercuryThreadActions','MessagingThreadCustomizationSource','MessengerInfoPanelManageMessages.react','MessengerInfoPanelMuteSettingsContainer.react','MessengerInfoPanelCustomColor.react','MessengerInfoPanelEmoji.react','MessengerInfoPanelNicknames.react','MessengerInfoPanelSection.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=s.PropTypes,u=s.createClass({displayName:'MessengerInfoPanelThreadOptionsContainer',mixins:[r],propTypes:{participants:t.instanceOf(h.Map).isRequired,thread:t.instanceOf(i).isRequired,viewer:t.string.isRequired},render:function(){if(!this.props.thread.is_subscribed)return null;return (s.createElement(q,null,s.createElement(n,{thread:this.props.thread,viewer:this.props.viewer,onChange:this._handleColorChange}),s.createElement(o,{thread:this.props.thread,viewer:this.props.viewer,onChange:this._handleEmojiChange}),s.createElement(p,{participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer,onChange:this._handleNicknameChange}),s.createElement(l,{thread:this.props.thread,viewer:this.props.viewer}),s.createElement(m,{thread:this.props.thread,viewer:this.props.viewer,onChange:this._handleMuteChange})));},_getThreadActions:function(){return j.getForFBID(this.props.viewer);},_handleMuteChange:function(v){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,v);},_handleColorChange:function(v){this._getThreadActions().changeThreadColor(this.props.thread.thread_id,v,k.SETTINGS);},_handleEmojiChange:function(v){this._getThreadActions().changeThreadEmoji(this.props.thread.thread_id,v,k.SETTINGS);},_handleNicknameChange:function(v,w){this._getThreadActions().changeThreadNicknames(this.props.thread.thread_id,v,w,k.SETTINGS);}});f.exports=u;},null);
__d('MessengerSharedPhoto.react',['ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'MessengerSharedPhoto',mixins:[h],propTypes:{fbid:k.string.isRequired,onClick:k.func.isRequired,uri:k.string.isRequired},render:function(){return (i.createElement('a',{className:"_3m31",href:'#',onClick:this._handleClick,style:{backgroundImage:'url('+this.props.uri+')'}}));},_handleClick:function(){this.props.onClick(this.props.fbid);}});f.exports=l;},null);
__d('MessengerSharedPhotos.react',['MessengerSharedPhoto.react','MessengerSpinner.react','MessagesViewer','MessagesViewerSetID','React','URI','cancelAnimationFrame','cx','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=10,s=l.createClass({displayName:'MessengerSharedPhotos',propTypes:{allPhotosDisplayed:q.bool.isRequired,isLoadingImages:q.bool.isRequired,onAllPhotosDisplayed:q.func.isRequired,sharedPhotos:q.object.isRequired,threadFBID:q.string.isRequired},_rafID:null,getInitialState:function(){return {imagesLoaded:r};},componentDidMount:function(){this._graduallyLoadPhotos();},componentWillReceiveProps:function(t){if(t.threadFBID!==this.props.threadFBID)this.setState({imagesLoaded:r});},componentDidUpdate:function(){this._graduallyLoadPhotos();},componentWillUnmount:function(){n(this._rafID);},_graduallyLoadPhotos:function(){n(this._rafID);var t=this.props.sharedPhotos.message_images.edges;if(this.state.imagesLoaded<t.length){this._rafID=p(function(){this.setState({imagesLoaded:Math.min(this.props.sharedPhotos.message_images.edges.length,this.state.imagesLoaded+r)});}.bind(this));}else if(!this.props.allPhotosDisplayed)this.props.onAllPhotosDisplayed();},_viewFullImage:function(t){var u=this.props,v=u.threadFBID,w=u.sharedPhotos.message_images,x=new m('/ajax/messaging/attachments/sharedphotos.php').setQueryData({thread_id:v,image_id:t}),y=w.edges.find(function(z){var aa=z.node;return aa.legacy_attachment_id===t;}).node;j.bootstrapWithConfig({dimensions:y.original_dimensions.x+','+y.original_dimensions.y,disablePaging:w.edges.length===1,fbid:t,snapToPhoto:true,src:y.image.uri,endpoint:x,setID:k.MESSAGES_VIEW_ALL_IN_THREAD});},render:function(){var t=this.props,u=t.isLoadingImages,v=t.sharedPhotos.message_images.edges,w=this.state.imagesLoaded,x;if(u)x=l.createElement('div',{className:"_2n20"},l.createElement(i,null));return (l.createElement('div',null,l.createElement('div',{className:"_40jj _5l-3"},v.slice(0,w).map(function(y){var z=y.node;return (l.createElement(h,{fbid:z.legacy_attachment_id,key:z.legacy_attachment_id,onClick:this._viewFullImage,uri:z.image.uri}));}.bind(this))),x));}});f.exports=s;},null);
__d('Relay',['RelayPublic','RelayGraphQLBatchNetworkLayer','createRelayRouteURI'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();h.injectNetworkLayer(new i());h.Route.injectURICreator(j);f.exports=babelHelpers['extends']({},h,{DefaultNetworkLayer:i});},null);
__d('MessengerSharedPhotosContainer.react',['MessengerInfoPanelSection.react','MessengerSharedPhotos.react','React','Relay','RelayRootContainer','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o,p;if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=10,s=j.createClass({displayName:'MessengerSharedPhotosContainer',propTypes:{getIsScrolledToBottom:q.func.isRequired,getScrollableHeight:q.func.isRequired,isCollapsed:q.bool.isRequired,onToggle:q.func.isRequired,sharedPhotos:q.object,threadFBID:q.string},getInitialState:function(){return {allPhotosDisplayed:false,isLoadingImages:false};},componentWillReceiveProps:function(w){if(w.threadFBID!==this.props.threadFBID)this.setState({allPhotosDisplayed:false});},componentDidMount:function(){this._maybeLoadMore();},componentDidUpdate:function(){this._maybeLoadMore();},_maybeLoadMore:function(){var w=this.props,x=w.getIsScrolledToBottom,y=w.getScrollableHeight,z=w.isCollapsed,aa=w.sharedPhotos,ba=this.state.isLoadingImages;if(ba||z||!aa||!aa.message_images.page_info.has_next_page||!this.state.allPhotosDisplayed||!x()||!y())return;this.setState({isLoadingImages:true},function(){this.props.relay.setVariables({count:this.props.relay.variables.count+r},function(ca){if(ca.done||ca.aborted)if(this.isMounted())this.setState({allPhotosDisplayed:false,isLoadingImages:false});}.bind(this));}.bind(this));},_handleAllPhotosDisplayed:function(){this.setState({allPhotosDisplayed:true});},render:function(){var w=this.props,x=w.isCollapsed,y=w.onToggle,z=w.sharedPhotos,aa=w.threadFBID,ba=this.state.isLoadingImages;if(!aa||!z)return null;var ca=z.message_images,da=ca.edges,ea=ca.page_info;if(!ea.has_next_page&&da.length===0)return null;return (j.createElement(h,{isCollapsible:true,isCollapsed:x,onToggle:y,title:n._("Shared Photos")},j.createElement(i,{isLoadingImages:ba,sharedPhotos:z,threadFBID:aa,onAllPhotosDisplayed:this._handleAllPhotosDisplayed,allPhotosDisplayed:this.state.allPhotosDisplayed})));}});o=babelHelpers.inherits(t,k.Route);p=o&&o.prototype;function t(){o.apply(this,arguments);}t.routeName='RootRoute';t.path='/';t.paramDefinitions={threadFBID:{type:'String',required:false}};t.queries={sharedPhotos:function(w){return function(x){return {calls:[{kind:'Call',metadata:{},name:'id',value:{kind:'CallVariable',callVariableName:'threadFBID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},k.QL.__frag(x)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id'},name:'MessengerSharedPhotosContainer_react',type:'MessageThread'};}(w.getFragment('sharedPhotos'));}};var u=j.createClass({displayName:'Route',propTypes:{getIsScrolledToBottom:q.func.isRequired,getScrollableHeight:q.func.isRequired,isCollapsed:q.bool.isRequired,onToggle:q.func.isRequired,threadFBID:q.string},render:function(){var w=new t({getIsScrolledToBottom:this.props.getIsScrolledToBottom,getScrollableHeight:this.props.getScrollableHeight,isCollapsed:this.props.isCollapsed,onToggle:this.props.onToggle,threadFBID:this.props.threadFBID});return (j.createElement(l,{Component:v,renderLoading:function(){return null;},route:w}));}}),v=k.createContainer(s,{initialVariables:{count:r},fragments:{sharedPhotos:function(){return function(){return {children:[{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{children:[{children:[{fieldName:'legacy_attachment_id',kind:'Field',metadata:{},type:'ID'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{calls:[{kind:'Call',metadata:{},name:'size__width',value:{kind:'CallValue',callValue:250}},{kind:'Call',metadata:{},name:'size__height',value:{kind:'CallValue',callValue:250}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'},{fieldName:'height',kind:'Field',metadata:{},type:'Int'},{fieldName:'width',kind:'Field',metadata:{},type:'Int'}],directives:[{kind:'Directive',name:'fixme_call_args',args:[]}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageImage'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessageImagesEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isRequisite:true},type:'PageInfo'}],fieldName:'message_images',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessageImagesConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:'N8gvxrF1Cct/:o',kind:'Fragment',metadata:{},name:'MessengerSharedPhotosContainer_react_SharedPhotosRelayQL',type:'MessageThread'};}();}}});f.exports=u;},null);
__d('MessengerThreadInfoPanel.react',['Image.react','ImageBlock.react','immutable','ImmutableObject','Link.react','MercuryConfig','MercuryThreadInfo','MessengerActions','MessengerAddToConversationDialog.react','MessengerContactAdapters','MessengerConfig','MessengerDomIDs','MessengerInfoPanelMuteSettingsContainer.react','MessengerInfoPanelNameSection.react','MessengerInfoPanelPeopleSection.react','MessengerInfoPanelSection.react','MessengerInfoPanelThreadOptionsContainer.react','MessengerSharedPhotosContainer.react','ReactComponentWithPureRenderMixin','React','cssVar','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=aa.PropTypes,fa=aa.createClass({displayName:'MessengerThreadInfoPanel',mixins:[z],propTypes:{contact:ea.instanceOf(k),getIsScrolledToBottom:ea.func.isRequired,getScrollableHeight:ea.func.isRequired,isUserActive:ea.bool.isRequired,isBusinessEnabled:ea.bool,lastActive:ea.string,onArchive:ea.func.isRequired,onContactAction:ea.func.isRequired,onContactSelect:ea.func.isRequired,onDelete:ea.func.isRequired,onLeaveGroup:ea.func,onMarkRead:ea.func.isRequired,onMarkSpam:ea.func.isRequired,onMarkUnread:ea.func.isRequired,onMute:ea.func.isRequired,onPeopleSectionToggle:ea.func.isRequired,onPhotosSectionToggle:ea.func.isRequired,onThreadNameChange:ea.func.isRequired,onThreadPhotoChange:ea.func.isRequired,onUnmute:ea.func.isRequired,participants:ea.instanceOf(j.Map).isRequired,peopleSectionCollapsed:ea.bool.isRequired,photosSectionCollapsed:ea.bool.isRequired,platform:ea.string,prevIsScrolledToBottom:ea.bool.isRequired,prevScrollableHeight:ea.number.isRequired,showLeaveGroup:ea.bool.isRequired,thread:ea.instanceOf(k).isRequired,viewer:ea.string.isRequired},render:function(){return (aa.createElement('div',{className:"_3tkv",id:s.THREAD_INFO_PANEL},aa.createElement('h3',{className:"accessible_elem"},da._("Conversation Information")),aa.createElement(u,{contact:this.props.contact,isUnread:this.props.isUnread,isUserActive:this.props.isUserActive,lastActive:this.props.lastActive,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onThreadNameChange:this.props.onThreadNameChange,onThreadPhotoChange:this.props.onThreadPhotoChange,onUnmute:this.props.onUnmute,participants:this.props.participants,platform:this.props.platform,showLeaveGroup:this.props.showLeaveGroup,thread:this.props.thread,viewer:this.props.viewer}),aa.createElement(x,{participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer}),this.props.thread.is_canonical?this._renderFacebookProfile():this._renderMembers(),this._renderSharedPhotos()));},_renderSharedPhotos:function(){var ga=this.props,ha=ga.getIsScrolledToBottom,ia=ga.getScrollableHeight,ja=ga.onPhotosSectionToggle,ka=ga.photosSectionCollapsed,la=ga.thread;return (aa.createElement(y,{getIsScrolledToBottom:ha,getScrollableHeight:ia,isCollapsed:ka,onToggle:ja,threadFBID:la.thread_fbid}));},_renderMembers:function(){return (aa.createElement(v,{canViewerReply:n.canReply(this.props.thread),contactAdapter:q.fromMercuryParticipant,isCollapsed:this.props.peopleSectionCollapsed,isViewerSubscribed:this.props.thread.is_subscribed,onAddPeopleClick:this._handleAddPeopleClick,onContactAction:this._handleContactAction,onContactSelect:this._handleContactSelect,onToggle:this.props.onPeopleSectionToggle,participants:this.props.participants,viewer:this.props.viewer,adminIds:this.props.thread.admin_ids}));},_renderFacebookProfile:function(){if(!this.props.contact||!this.props.contact.href||this.props.contact.fbid.toString()===r.MoneyPennyFBID)return null;var ga=this.props.contact.href,ha=this.props.contact.type==='page'?da._("Facebook Page"):da._("Facebook Profile");return (aa.createElement(w,{title:ha},aa.createElement(l,{className:"_3oh-",href:ga,target:'_blank'},ga.replace('www.',''))));},_handleContactSelect:function(ga){this.props.onContactSelect(q.fromMercuryParticipant(ga));},_handleContactAction:function(ga,ha){this.props.onContactAction(ga,q.fromMercuryParticipant(ha));},_handleAddPeopleClick:function(event){event.preventDefault();o.showDialog(p,{thread:this.props.thread,viewer:this.props.viewer});}});f.exports=fa;},null);
__d('MessengerThreadInfoPanelScrollableArea.react',['MessengerFlexArea.react','MessengerScrollableArea.react','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'MessengerThreadInfoPanelScrollableArea',propTypes:{children:l.func.isRequired},_dimensionsCheckInterval:null,getInitialState:function(){return {prevHeight:-1,prevIsScrolledToBottom:false};},render:function(){return (j.createElement(h,{className:this.props.className,onResize:this._updateStateIfNeeded},j.createElement(i,{height:'100%',onScroll:this._updateStateIfNeeded,ref:'scrollable'},this.props.children(this.state.prevHeight,this.state.prevIsScrolledToBottom,this.isScrolledToBottom,this.getHeight))));},isScrolledToBottom:function(){return this.refs.scrollable.isScrolledToBottom();},getHeight:function(){return k.findDOMNode(this.refs.scrollable).offsetHeight;},_updateStateIfNeeded:function(){var n=this.isScrolledToBottom(),o=this.getHeight();if(this.state.prevIsScrolledToBottom!==n||this.state.prevHeight!==o)this.setState({prevHeight:o,prevIsScrolledToBottom:n});}});f.exports=m;},null);
__d('MessengerThreadInfoPanelContainer.react',['AsyncRequest','immutable','ImmutableObject','MercuryAPIArgsSource','MercuryIDs','MercuryLogMessageType','MercuryMessageActions','MercuryMessageObject','MercuryParticipants','MercurySourceType','MercuryThreadActions','MercuryThreadInfo','MessagingThreadCustomizationSource','MessengerActions','MessengerConfirmLeaveGroupDialog.react','MessengerContactActions','MessengerThreadInfoPanelScrollableArea.react','MessengerSettingsActions','MessengerSettingsStore','MessengerThreadInfoPanel.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){'use strict';if(c.__markCompiled)c.__markCompiled();var fa=ca.PropTypes,ga=ca.createClass({displayName:'MessengerThreadInfoPanelContainer',mixins:[ba,da(z)],propTypes:{contactData:fa.object,participants:fa.instanceOf(i.Map).isRequired,thread:fa.instanceOf(j).isRequired,viewer:fa.string.isRequired},statics:{calculateState:function(){var ha=z.getSettings(),ia=ha.people_section_collapsed,ja=ha.photos_section_collapsed;return {people_section_collapsed:ia,photos_section_collapsed:ja};}},render:function(){var ha=this.props.contactData||{},ia=this.state,ja=ia.people_section_collapsed,ka=ia.photos_section_collapsed;return (ca.createElement(x,{className:this.props.className},function(la,ma,na,oa){return (ca.createElement(aa,{contact:ha.contact,getIsScrolledToBottom:na,getScrollableHeight:oa,isUserActive:ha.isUserActive||false,lastActive:ha.lastActive,onArchive:this._handleArchive,onContactAction:this._handleContactAction,onContactSelect:this._handleContactSelect,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onMuteChange:this._handleMuteChange,onPeopleSectionToggle:this._handlePeopleSectionToggle,onPhotosSectionToggle:this._handlePhotosSectionToggle,onThreadNameChange:this._handleThreadNameChange,onThreadPhotoChange:this._handleThreadPhotoChange,onUnmute:this._handleUnmute,participants:this.props.participants,peopleSectionCollapsed:ja,photosSectionCollapsed:ka,platform:ha.platform,prevIsScrolledToBottom:ma,prevScrollableHeight:la,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical,thread:this.props.thread,viewer:this.props.viewer}));}.bind(this)));},_handleArchive:function(){this._getThreadActions().archive(this.props.thread.thread_id);u.selectThread(null);},_handleDelete:function(){this._getThreadActions()['delete'](this.props.thread.thread_id);u.selectThread(null);},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id);},_handleMarkSpam:function(){this._getThreadActions().markSpam(this.props.thread.thread_id);u.selectThread(null);},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id);},_handleMute:function(ha){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,ha);},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id);},_handleMuteChange:function(ha){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,ha);},_handleContactSelect:function(ha){if(l.getUserIDFromParticipantID(ha.uid)!==this.props.viewer){var ia=l.getThreadIDFromParticipantID(ha.uid);ia&&u.selectThread(ia);}},_handleContactAction:function(ha,ia){if(l.getUserIDFromParticipantID(ia.uid)!==this.props.viewer)switch(ha){case w.MESSAGE:this._handleContactSelect(ia);break;case w.PROFILE:var ja=this.props.participants.get(ia.uid);if(ja&&ja.href){window.open(ja.href);}else this._handleContactSelect(ia);break;case w.REMOVE:if(!s.isEmptyLocalThread(this.props.thread)){var ka=new ea('/chat/remove_participants/');ka.addQueryData({uid:l.getUserIDFromParticipantID(ia.uid),tid:this.props.thread.thread_fbid});var la=new h(ka);la.send();}break;}},_handleLeaveGroup:function(){u.showDialog(v,{onLeave:this._onLeaveGroupConfirm});},_onLeaveGroupConfirm:function(){if(!s.isEmptyLocalThread(this.props.thread)){var ha=this._getMessageObject().constructLogMessageObject(q.MESSENGER_WEB,this.props.thread.thread_id,m.UNSUBSCRIBE,{removed_participants:[l.getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(ha);}},_handleThreadNameChange:function(ha){this._getMessageActions().send(this._getMessageObject().constructLogMessageObject(q.MESSENGER_WEB,this.props.thread.thread_id,m.THREAD_NAME,{name:ha}),null,k.MESSENGER);},_handleThreadPhotoChange:function(ha,ia){this._getMessageActions().send(this._getMessageObject().constructLogMessageObject(q.MESSENGER_WEB,ha,m.THREAD_IMAGE,{image:ia.metadata[0]}));},_handlePeopleSectionToggle:function(){y.changeSettings({people_section_collapsed:!this.state.people_section_collapsed});},_handlePhotosSectionToggle:function(){y.changeSettings({photos_section_collapsed:!this.state.photos_section_collapsed});},_getThreadActions:function(){return r.getForFBID(this.props.viewer);},_getMessageActions:function(){return n.getForFBID(this.props.viewer);},_getMessageObject:function(){return o.getForFBID(this.props.viewer);}});f.exports=ga;},null);
__d('P2PNUXRendererUtils',['CurrentUser','ImmutableObject','MercuryAttachmentType','P2PTransferParam','P2PTransferStatus','StoryAttachmentStyle'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={getTransferFromMessage:function(o){var p,q;if(!o||!o.attachments||!o.attachments.length)return null;q=o.attachments[0];if(this.isShareAttachment(q))p=q.share.target;if(p)p=new i(p);return p;},isSuccessfulReceivedTransfer:function(o){return (o&&o.receiver&&o.receiver.id===h.getID()&&(o.status===l.COMPLETED||o.status===l.PENDING_RECIPIENT_NUX));},isShareAttachment:function(o){return !!(typeof o!=='string'&&o.attach_type==j.SHARE&&o.share&&o.share.style_list&&o.share.style_list.indexOf(m.ORION)>=0);},doesNUXNeedCreditCards:function(o){var p=h.getID()===o.sender.id;return (!p&&o[k.STATUS]===l.PENDING_RECIPIENT_NUX);},isRecipientActionableStatus:function(o){var p=o[k.STATUS],q=h.getID()===o.sender.id;return (!q&&(p===l.PENDING_RECIPIENT_NUX||p===l.PENDING_RECIPIENT_VERIFICATION||p===l.PENDING_PUSH_FAIL));}};f.exports=n;},null);
__d('P2PRainContainer.react',['Event','Map','React','ReactCSSTransitionGroup','Visibility','cx','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=j.PropTypes,p=3000,q=new i(),r=j.createClass({displayName:'P2PRainContainer',propTypes:{items:o.arrayOf(o.node),duration:o.number,secondsBetweenRepeatShow:o.number,uniqueID:o.string},getInitialState:function(){return {height:0,visible:!l.isHidden()};},getDefaultProps:function(){return {duration:p};},_mounted:false,_onAnimationCompleteTimeout:0,_windowResizeListener:null,componentWillReceiveProps:function(s){if(s.items!==this.props.items){this.setState({visible:false},function(){if(!l.isHidden())this.setState({visible:true});}.bind(this));clearTimeout(this._onAnimationCompleteTimeout);}},componentWillMount:function(){this._mounted=true;l.addListener(l.VISIBLE,function(){if(this._mounted)this.setState({visible:true});}.bind(this));l.addListener(l.HIDDEN,function(){if(this._mounted){this.setState({visible:false});clearTimeout(this._onAnimationCompleteTimeout);}}.bind(this));this._windowResizeListener=h.listen(window,'resize',n(this.setHeight,1000));this.setHeight();},componentWillUnmount:function(){this._mounted=false;if(this._windowResizeListener){this._windowResizeListener.remove();this._windowResizeListener=null;}},componentDidMount:function(){this._run();if(this.state.visible)this._updateLastShown();},componentDidUpdate:function(s,t){if(this.props.items!==s.items||this.state.visible!==t.visible)this._run();if(this.state.visible&&!t.visible)this._updateLastShown();},shouldComponentUpdate:function(s,t){if(this.state.visible===false&&t.visible===true&&!this.canRepeat())return false;if(this.state.height!==t.height)return false;return true;},_updateLastShown:function(){q.set(this.props.uniqueID,Math.round(Date.now()/1000));},canRepeat:function(){var s=this.props.secondsBetweenRepeatShow,t=q.get(this.props.uniqueID);if(!s||!t)return true;var u=Math.round(Date.now()/1000);return u>t+s;},setHeight:function(){if(this._mounted)this.setState({height:document.documentElement.clientHeight+100});},_run:function(){if(!this.state.visible)return false;if(this.state.items&&this.state.items.length)this.setState({visible:true});this._onAnimationCompleteTimeout=setTimeout(function(){if(this._mounted)this.setState({visible:false});}.bind(this),this.props.duration);},render:function(){if(!this.state.visible)return null;var s=this.props,t=s.duration;return (j.createElement('div',{className:"_1rx4",style:{height:this.state.height}},j.createElement(k,{component:'div',transitionAppear:true,transitionName:{enter:"_3qq",enterActive:"_3qs",leave:"_3qt",leaveActive:"_3-y",appear:"_3--",appearActive:"_3_1"},transitionAppearTimeout:t,transitionEnterTimeout:t,transitionLeaveTimeout:t},s.items)));}});f.exports=r;},null);
__d('P2PRainMoneyItem.react',['Image.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'P2PRainMoneyItem',propTypes:{animateRotation:k.bool,dropDuration:k.string.isRequired,frameData:k.shape({duration:k.number.isRequired,frameHeight:k.number.isRequired,frames:k.array.isRequired,frameWidth:k.number.isRequired,frameRotation:k.string}),left:k.number,right:k.number,sway:k.oneOf(['normal'])},getInitialState:function(){var m=this.props.frameData,n=null;if(m)n=Math.floor(Math.random()*m.frames.length);return {imageIndex:n,rainRotateDuration:Math.random()*3+2.7+'s',swayRight:Math.random()>.5?1:-1};},_isMounted:false,_sequenceIntervalID:0,componentWillMount:function(){var m=this.props.frameData;this._isMounted=true;if(m)this._startSequence();},componentWillUnmount:function(){this._isMounted=false;clearInterval(this._sequenceIntervalID);},render:function(){var m=(this.props.left||0)+'',n=this.props,o=this.state.rainRotateDuration,p=this.props.children,q=this.props.frameData;if(q)p=i.createElement(h,{height:q.frameHeight,src:q.frames[this.state.imageIndex],style:{transform:q.frameRotation},width:q.frameWidth});return (i.createElement('div',{className:"_1i9",style:{transform:'translate('+m+'px, 0px)'}},i.createElement('div',{className:"_1x5y",style:{MozAnimationDuration:n.dropDuration,msAnimationDuration:n.dropDuration,WebkitAnimationDuration:n.dropDuration}},i.createElement('div',{className:n.animateRotation?"_1x5z":'',style:{MozAnimationDuration:o,msAnimationDuration:o,WebkitAnimationDuration:o}},i.createElement('div',{className:(n.sway==='normal'&&this.state.swayRight?"_1x5-":'')+(n.sway==='normal'&&!this.state.swayRight?' '+"_1x5_":'')},p)))));},_setNextImageIndex:function(){var m=this.props.frameData;if(!m)return;if(this._isMounted)this.setState({imageIndex:this.state.imageIndex+1===m.frames.length?0:this.state.imageIndex+1});},_startSequence:function(){var m=this.props.frameData;if(this._sequenceIntervalID||!m)return;this._sequenceIntervalID=setInterval(function(){return this._setNextImageIndex();}.bind(this),Math.round(m.duration/m.frames.length));}});f.exports=l;},null);
__d('P2PRainMoneyCent.react',['P2PRainMoneyItem.react','React','ix'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=600,m=[j('/images/p2p/rain_money/MNParticleCoin1.png'),j('/images/p2p/rain_money/MNParticleCoin2.png'),j('/images/p2p/rain_money/MNParticleCoin3.png')],n=i.createClass({displayName:'P2PRainMoneyCent',propTypes:{dropDuration:k.string.isRequired,left:k.number},render:function(){return (i.createElement(h,{animateRotation:true,dropDuration:this.props.dropDuration,dropSpeed:'fast',frameData:{duration:l,frameHeight:21.5,frames:m,frameWidth:21.5},left:this.props.left}));}});f.exports=n;},null);
__d('P2PRainMoneyContainer.react',['MercuryMessages','P2PNUXRendererUtils','P2PRainContainer.react','P2PRainMoneyCent.react','P2PRainMoneyDollar.react','React','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'P2PRainMoneyContainer',propTypes:{threadID:o.string,width:o.number.isRequired},mixins:[n(h)],statics:{calculateState:function(q){var r=h.get().getCurrentlyLoadedMessages(q.threadID),s=r&&r[r.length-1],t;if(s){t=i.getTransferFromMessage(s);if(t&&!i.isSuccessfulReceivedTransfer(t))t=null;}return {transfer:t};}},renderItems:function(){var q=this.state.transfer&&this.state.transfer.amount;if(!q)return [];var r=this.props.width,s=[],t=q.replace('$','').replace(/\,/g,'').split('.'),u=t[0],v=t[1];u=Math.min(parseInt(u,10)||0,100);v=Math.min(parseInt(v,10)||0,25);if(v&&u+v>100)u=Math.min(u,75);for(var w=0;w<u;w++)s.push(m.createElement(l,{dropDuration:Math.random()*2.8+2.7+'s',key:'dollar'+w+q,rotationDegrees:Math.floor(Math.random()*20)*(Math.floor(Math.random()*2)===1?1:-1),left:Math.floor(Math.random()*r)}));for(w=0;w<v;w++)s.push(m.createElement(k,{dropDuration:Math.random()*1.4+1.3+'s',key:'cent'+w+q,left:Math.floor(Math.random()*r)}));return s;},shouldComponentUpdate:function(q,r){var s=this.state.transfer&&this.state.transfer.amount,t=r.transfer&&r.transfer.amount;return s!==t;},render:function(){var q=this.renderItems();if(!q.length)return null;var r=0;q.forEach(function(s){var t=parseFloat(s.props.dropDuration,10);if(r<t)r=t;});r=r*1000+500;return (m.createElement(j,{duration:r,items:q,ref:'container',secondsBetweenRepeatShow:600,uniqueID:this.props.threadID}));}});f.exports=p;},null);
__d('MessengerDetailView.react',['Bootloader','DataTransfer','immutable','MercuryIDs','MercuryConfig','MercuryCanonicalGroupThreadManager','MercuryParticipants','MercuryThreadActions','MercuryThreadInfo','MercuryThreads','MessengerComposerStore','MessengerComposerContainer.react','MessengerConversationContainer.react','MessengerDetailViewHeaderContainer.react','MessengerDomIDs','MessengerInfoPanelVisibility','MessengerPresenceStatusUtils','MessengerStateStore','MessengerThreadInfoPanelContainer.react','MessengerView','P2PGKValues','P2PRainMoneyContainer.react','PresenceStatus','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin','SubscriptionsHandler','cssVar','cx','fbt','invariant','AvailableList'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma){'use strict';if(c.__markCompiled)c.__markCompiled();c('AvailableList');var na=fa.PropTypes,oa=fa.createClass({displayName:'MessengerDetailView',_canonicalGroupSearchSubscriptionID:null,_subscriptions:null,mixins:[ea,ha(r,y,q,n,da)],propTypes:{activeThreadID:na.string,view:na.string,viewer:na.string.isRequired},statics:{calculateState:function(pa){var qa=pa.activeThreadID,ra=q.getForFBID(pa.viewer),sa=qa?ra.getOrFetch(qa):null,ta=j.Map();if(sa)ta=ta.withMutations(function(ua){sa&&sa.participants&&sa.participants.forEach(function(va){ua.set(va,n.getOrFetch(va));});});return {composerState:r.getState(),messengerState:y.getState(),contactData:x.getStatusFromCanonicalThread(ta,sa),activeThread:sa,participants:ta};}},getInitialState:function(){return {dropTargetOverlayVisible:false,infoPanelVisibility:w.AUTO,canonicalGroupID:null};},componentDidUpdate:function(pa,qa){if(this.props.view===aa.DETAIL.COMPOSE&&l.MessengerSnapCanonicalGroupGK)if(qa.composerState.recipients!==this.state.composerState.recipients){this.setState({canonicalGroupID:null});this._searchForCanonicalGroupThreads();}},componentDidMount:function(){h.loadModules(["MercuryThreadInformer"],function(pa){var qa=pa.getForFBID(this.props.viewer),ra=new ia();ra.addSubscriptions(qa.subscribe('threads-deleted',function(sa,ta){this._handleThreadsDeleted(ta);}.bind(this)));this._subscriptions=ra;}.bind(this));},componentWillUnmount:function(){if(l.MessengerSnapCanonicalGroupGK&&this._canonicalGroupSearchSubscriptionID){var pa=m.getForFBID(this.props.viewer);pa.unsubscribe(this._canonicalGroupSearchSubscriptionID);}this._subscriptions&&this._subscriptions.release();},render:function(){var pa=this._getThreadID(),qa=this._getMainLabelDetails();return (fa.createElement('div',{'aria-labelledby':qa.labelIDs,className:"_1q5-",role:'main'},fa.createElement('div',{className:"hidden_elem",id:v.MAIN_LABEL},qa.labelText),fa.createElement(u,{contactData:this.state.contactData,recipients:this.state.composerState.recipients,participants:this.state.participants,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer,onResize:this._handleResize,onInfoPanelToggle:this._handleInfoPanelToggle,infoPanelVisibility:this.state.infoPanelVisibility}),fa.createElement('div',{className:"_20bp"},this._renderInfoPanel(),fa.createElement('div',{className:"_4_j4",onClick:this._handleConversationClick,onDragEnter:this._showDropTargetOverlay,onDragLeave:this._hideDropTargetOverlay,onDragOver:this._showDropTargetOverlay,onDrop:this._handleDrop},this._renderRainMoneyContainer(pa),this._renderMainView(pa),this._renderFooterView(pa),fa.createElement('div',{className:(!this.state.dropTargetOverlayVisible?"hidden_elem":'')+(' '+"_2fg6")})))));},_renderMainView:function(pa){if(!pa)return fa.createElement('div',{className:"_1ut7"});return (fa.createElement(t,{className:"_1wfr",contact:this.state.contactData?this.state.contactData.contact:null,onMarkRead:this._handleMarkRead,participants:this.state.participants,ref:'conversationContainer',thread:this.state.activeThread,threadID:pa,viewer:this.props.viewer}));},_renderFooterView:function(pa){return (fa.createElement(s,{canReply:!!(this.props.view===aa.DETAIL.COMPOSE||this.state.activeThread&&p.canReply(this.state.activeThread)),onResize:this._handleResize,participants:this.state.participants,recipients:this.state.composerState.recipients,ref:'composer',threadID:pa,threadFBID:this.state.activeThread?this.state.activeThread.thread_fbid:null,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer}));},_renderInfoPanel:function(){var pa=this.state,qa=pa.activeThread,ra=pa.contactData,sa=pa.infoPanelVisibility,ta=pa.participants;if(!qa||!ta)return null;return (fa.createElement('div',{className:(sa===w.HIDDEN?"hidden_elem":'')+(sa===w.AUTO?' '+"_4t9y":'')+(' '+"_4_j5")},fa.createElement(z,{className:"_4_j9",contactData:ra,participants:ta,thread:qa,viewer:this.props.viewer})));},_renderRainMoneyContainer:function(pa){if(!pa||!ba.P2PEnabled||!ba.P2PRainMoneyWWW)return null;var qa=this.refs.conversationContainer,ra=qa&&ga.findDOMNode(qa).offsetWidth;if(!ra)return null;return (fa.createElement('div',{className:"_3bpu"},fa.createElement(ca,{threadID:pa,width:ra})));},_getMainLabelDetails:function(){if(this.props.view===aa.DETAIL.COMPOSE)return {labelText:la._("New Message"),labelIDs:v.MAIN_LABEL};return {labelText:la._("Conversation with"),labelIDs:v.MAIN_LABEL+' '+v.THREAD_TITLE};},_handleConversationClick:function(pa){if(this.props.activeThreadID&&this.refs.conversationContainer&&this.refs.conversationContainer.isScrolledToBottom())this._handleMarkRead(this.props.activeThreadID);if(window.getSelection().toString()!=='')return;!(typeof pa.target.nodeName==='string')?ma(0):undefined;if(pa.target.nodeName.toLowerCase()==='a')return;this.refs.composer.focusInput();},_showDropTargetOverlay:function(pa){pa&&pa.preventDefault();this.setState({dropTargetOverlayVisible:true});},_hideDropTargetOverlay:function(pa){pa&&pa.preventDefault();this.setState({dropTargetOverlayVisible:false});this.refs.composer.resetDrag();},_handleDrop:function(pa){this._hideDropTargetOverlay(pa);!(pa.nativeEvent.dataTransfer instanceof Object)?ma(0):undefined;var qa=new i(pa.nativeEvent.dataTransfer),ra=qa.getFiles();if(ra.length){this.refs.composer.handleFileUpload(ra);}else{var sa=qa.getText();if(sa)this.refs.composer.handleTextDropped(sa);}},_handleResize:function(){var pa=this.refs.conversationContainer,qa=this.refs.emptyContainer;if(pa){pa.handleResize();}else if(qa)qa.recalculateHeight();},_getThreadID:function(){var pa=this.state.composerState.recipients;if(this.props.view===aa.DETAIL.COMPOSE&&pa.size===1)return k.getThreadIDFromUserID(pa.first().getUniqueID());if(this.props.view===aa.DETAIL.THREAD)return this.props.activeThreadID;if(l.MessengerSnapCanonicalGroupGK&&this.props.view===aa.DETAIL.COMPOSE&&pa.size>1)return this.state.canonicalGroupID;return null;},_handleInfoPanelToggle:function(){var pa=this.state.infoPanelVisibility,qa;if(pa===w.AUTO){var ra=parseInt("1211px",10);qa=window.innerWidth<=ra?w.VISIBLE:w.HIDDEN;}else qa=pa===w.VISIBLE?w.HIDDEN:w.VISIBLE;this.setState({infoPanelVisibility:qa});},_handleMarkRead:function(pa){o.getForFBID(this.props.viewer).markRead(pa);},_handleThreadsDeleted:function(pa){if(this.state.canonicalGroupID&&pa[this.state.canonicalGroupID])this._updateCanonicalGroupID(null);},_searchForCanonicalGroupThreads:function(){var pa=this.state.composerState.recipients;if(l.MessengerSnapCanonicalGroupGK){var qa=m.getForFBID(this.props.viewer);qa.unsubscribe(this._canonicalGroupSearchSubscriptionID);if(pa.size>1){var ra=pa.map(function(sa){return sa.getUniqueID();});this._canonicalGroupSearchSubscriptionID=qa.getCanonicalGroupThreadIDForParticipants(Array.from(ra),this._updateCanonicalGroupID);}}},_updateCanonicalGroupID:function(pa){this.setState({canonicalGroupID:pa});}});f.exports=oa;},null);
__d('MessengerDialogStore',['MessengerActions','MessengerStore'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){'use strict';k.constructor.call(this);this.$MessengerDialogStore1={dialogClass:null,dialogProps:null};}l.prototype.getState=function(){'use strict';return this.$MessengerDialogStore1;};l.prototype.__onDispatch=function(m){'use strict';switch(m.type){case h.Types.SHOW_DIALOG:this.$MessengerDialogStore1.dialogClass=m.dialogClass;this.$MessengerDialogStore1.dialogProps=m.dialogProps;this.emitChange();break;case h.Types.HIDE_DIALOG:if(m.dialogClass&&this.$MessengerDialogStore1.dialogClass!=m.dialogClass)break;this.$MessengerDialogStore1.dialogClass=null;this.$MessengerDialogStore1.dialogProps=null;this.emitChange();break;}};f.exports=new l();},null);
__d('MessengerDialogContainer.react',['MessengerDialogStore','PureStoreBasedStateMixin','React','ReactLayeredComponentMixin'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'MessengerDialogContainer',mixins:[i(h),k],statics:{calculateState:function(){return h.getState();}},renderLayers:function(){if(!this.state.dialogClass)return {};var m=this.state.dialogClass;return {dialog:j.createElement(m,this.state.dialogProps)};},render:function(){return null;}});f.exports=l;},null);
__d('MessengerSettingsDialog.react',['ImageBlock.react','Link.react','MercuryIDs','MercuryParticipants','MessengerActions','MessengerButton.react','MessengerCheckboxInput.react','MessengerConfig','MessengerContactImage.react','MessengerDesktopNotifications','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerSettingsActions','MessengerSettingsStore','MessengerSpinner.react','React','StoreAndPropBasedStateMixin','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){'use strict';if(c.__markCompiled)c.__markCompiled();var da=y.PropTypes,ea=50,fa=y.createClass({displayName:'MessengerSettingsDialog',mixins:[z(k,w)],propTypes:{viewer:da.string.isRequired},statics:{calculateState:function(ga){return {viewerParticipant:k.getOrFetch(j.getParticipantIDFromUserID(ga.viewer)),settings:w.getSettings()};}},getInitialState:function(){return {desktopNotifsDenied:q.isDenied(),desktopNotifsGranted:q.isGranted()};},render:function(){return (y.createElement(r,{onToggle:this._handleToggle,ref:'dialog',type:'default',width:544},y.createElement(t,null,y.createElement(u,null,ba._("Settings")),y.createElement(s,{label:ba._("Done"),onClick:this._handleDone,type:'primary'})),y.createElement('div',{className:"_374b"},y.createElement('div',{className:"_374c"},ba._("Account")),y.createElement('div',{className:"_374d"},this._renderAccountSection())),y.createElement('div',{className:"_374b"},y.createElement('div',{className:"_374c"},ba._("Sounds")),y.createElement('div',{className:"_374d"},y.createElement(n,{checked:this.state.settings.sound_enabled,onChange:this._handleSoundChange}),y.createElement('span',{className:"_1pr_"},this.state.settings.sound_enabled?ba._("On"):ba._("Off")))),this._renderNotificationsSection(),y.createElement('div',{className:"_374b"},y.createElement('div',{className:"_374c"},ba._("Blocking")),y.createElement('div',{className:"_374d"},y.createElement(i,{href:'https://www.facebook.com/settings?tab=blocking',target:'_blank'},ba._("Manage on Facebook"))))));},_renderAccountSection:function(){if(!this.state.viewerParticipant)return y.createElement(x,null);var ga=this.state.viewerParticipant;return (y.createElement(h,null,y.createElement(p,{isMessengerUser:ga.is_messenger_user,size:ea,src:ga.big_image_src||ga.image_src}),y.createElement('div',{className:"_1ps0"},ga.name)));},_renderNotificationsSection:function(){if(!q.isSupported())return null;return (y.createElement('div',{className:"_374b"+(this.state.desktopNotifsDenied?' '+"_2bd0":'')},y.createElement('div',{className:"_374c"},ba._("Notifications")),y.createElement('div',{className:"_374d"},this._renderNotificationsContent())));},_renderNotificationsContent:function(){if(this.state.desktopNotifsDenied){return ba._("You can allow Messenger to send you desktop notifications from your browser preferences.");}else return (y.createElement(m,{label:this.state.settings.desktopNotifsEnabled&&this.state.desktopNotifsGranted?ba._("Turn off desktop notifications"):ba._("Turn on desktop notifications"),onClick:this._handleNotificationsChange,type:'secondary'}));},_handleSoundChange:function(event){!(event.target instanceof HTMLInputElement)?ca(0):undefined;v.changeSettings({sound_enabled:event.target.checked});},_handleNotificationsChange:function(){v.changeDesktopNotifs(!this.state.settings.desktopNotifsEnabled,this._handleDenied);},_handleDenied:function(){this.setState({desktopNotifsDenied:true});},_handleDone:function(event){event.preventDefault();l.hideDialog();},_handleToggle:function(ga){if(!ga)l.hideDialog();}});f.exports=fa;},null);
__d("XMessengerDotComLogoutController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/logout\/",{next:{type:"String"}});},null);
__d('MessengerSettingsMenu.react',['AsyncDialog','AsyncRequest','CacheStorage','Form','Link.react','MercuryFilters','MessagingTag','MessengerActions','MessengerConfig','MessengerMenu.react','MessengerPopoverMenu.react','MessengerSettingsDialog.react','MessengerView','ReactComponentWithPureRenderMixin','React','Run','XMessengerDotComLogoutController','fbt','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=q.Item,ba=q.Separator,ca=v.PropTypes,da=v.createClass({displayName:'MessengerSettingsMenu',mixins:[u],propTypes:{filter:ca.string.isRequired,folder:ca.string.isRequired,view:ca.string.isRequired,viewer:ca.string.isRequired},render:function(){var ea=v.createElement(q,null,v.createElement(aa,{label:y._("Settings"),onclick:this._handleSettingsClick}),v.createElement(ba,null),this._renderPeopleTabEntryPoint(),this._renderFolderChange(),this._renderFilterChange(),v.createElement(ba,null),v.createElement(aa,{href:'https://www.messenger.com/about',label:y._("About"),target:'_blank'}),v.createElement(aa,{href:'https://www.facebook.com/policies',label:y._("Terms"),target:'_blank'}),v.createElement(aa,{href:'https://www.facebook.com/privacy/explanation',label:y._("Privacy Policy"),target:'_blank'}),v.createElement(aa,{href:'https://www.facebook.com/help/cookies',label:y._("Cookie Policy"),target:'_blank'}),v.createElement(ba,null),v.createElement(aa,{href:'https://www.facebook.com/help/735006619902401',label:y._("Help"),target:'_blank'}),v.createElement(aa,{label:y._("Report a Problem"),onclick:this._handleReportBugClick}),v.createElement(ba,null),v.createElement(aa,{label:y._("Log Out"),onclick:this._handleLogOut})),fa=y._("Settings, privacy policy, help and more");return (v.createElement(r,{menu:ea},v.createElement(l,{'aria-label':fa,className:"_30yy _2fug",title:fa})));},_renderFolderChange:function(){if(this.props.view!==t.MASTER.RECENT)return null;return (v.createElement(aa,{label:y._("Message Requests"),onclick:this._handleChangeFolderClick}));},_handleSettingsClick:function(ea){ea.preventDefault();o.showDialog(s,{viewer:this.props.viewer});},_handleShowViewClick:function(ea){ea.preventDefault();o.changeMasterView(this.props.view===t.MASTER.RECENT?t.MASTER.PEOPLE:t.MASTER.RECENT);},_handleReportBugClick:function(ea){ea.preventDefault();h.send(new i('/ajax/bugs/report'));},_handleLogOut:function(){var ea=new j('localstorage');w.onUnload(function(){ea.clear();});k.post(x.getURIBuilder().getURI(),{});},_handleChangeFolderClick:function(){o.changeFolder(this.props.folder===n.INBOX?n.PENDING:n.INBOX);},_renderPeopleTabEntryPoint:function(){if(!p.PeopleTabEnabled)return null;return (v.createElement(aa,{label:this.props.view===t.MASTER.RECENT?y._("People"):y._("Recent Messages"),onclick:this._handleShowViewClick}));},_renderFilterChange:function(){if(!p.UnreadFilter)return null;return (v.createElement(aa,{label:this.props.filter===m.UNREAD?y._("All Threads"):y._("Unread Threads"),onclick:this._handleFilterClick}));},_handleFilterClick:function(){o.changeFilter(this.props.filter===m.UNREAD?m.ALL:m.UNREAD);}});f.exports=da;},null);
__d('MessengerMasterViewHeader.react',['Link.react','MessagingTag','MessengerActions','MessengerConfig','MessengerSettingsMenu.react','MessengerURIConstants','MessengerView','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'MessengerMasterViewHeader',mixins:[o],propTypes:{filter:s.string.isRequired,folder:s.string.isRequired,view:s.string.isRequired,viewer:s.string.isRequired},_renderComposeButton:function(){var u=r._("New Message");return (p.createElement(h,{'aria-label':u,className:"_30yy _2oc8",href:m.COMPOSE_SUBPATH,onClick:this._handleAddClick,title:u}));},_renderSettingsMenu:function(){return (p.createElement('div',{className:"_4kzu"},p.createElement(l,{filter:this.props.filter,folder:this.props.folder,view:this.props.view,viewer:this.props.viewer})));},render:function(){var u=r._("Messenger"),v=this.props.folder===i.INBOX?this._renderSettingsMenu():this._renderFolderBackArrow();if(k.IsMessengerDesktop)return (p.createElement('div',null,p.createElement('div',{className:"_5s4x"},u),p.createElement('div',{className:"_36ic _5l-3",role:'banner'},p.createElement('div',{className:"_1tqi"},this._renderHeaderTitle()),this._renderComposeButton(),v)));return (p.createElement('div',{className:"_36ic _5l-3",role:'banner'},v,p.createElement('div',{className:"_1tqi"},this._renderHeaderTitle()),this._renderComposeButton()));},_renderHeaderTitle:function(){switch(this.props.folder){case i.PENDING:return r._("Message Requests");case i.OTHER:return r._("Filtered Requests");default:return k.IsMessengerDesktop?r._("Recents"):r._("Messenger");}},_renderFolderBackArrow:function(){var u=this.props.folder===i.PENDING,v=u?this._handleMessageRequestsBackArrowClick:this._handleFilteredRequestsBackArrowClick,w=u?r._("Back to Recent Messages"):r._("Back to Message Requests");return (p.createElement(h,{'aria-label':w,className:"_30yy _2oc9",onClick:v,title:w}));},_handleAddClick:function(u){u.preventDefault();j.changeDetailView(n.DETAIL.COMPOSE);},_handleMessageRequestsBackArrowClick:function(u){u.preventDefault();j.changeFolder(i.INBOX);},_handleFilteredRequestsBackArrowClick:function(u){u.preventDefault();j.changeFolder(i.PENDING);}});f.exports=t;},null);
__d('MessengerProgressiveRendererListSlicerMixin',['MessengerSpinner.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={_maybeSlice:function(l,m){if(this.props.renderOnly){var n=m+l.length>this.props.renderOnly?this.props.renderOnly-m:l.length;return l.slice(0,n);}return l;},_getIncrementalDisplaySpinner:function(l){if(l<=this.props.renderOnly)return null;return (i.createElement('div',{className:"_4pfj"},i.createElement(h,null)));}};f.exports=k;},null);
__d('MessengerChatOnOffToggle.react',['Link.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'MessengerChatOnOffToggle',mixins:[i],propTypes:{isUserAvailable:l.bool.isRequired,onAvailabilityChange:l.func},render:function(){var n=this.props.isUserAvailable;return (j.createElement(h,{onClick:this._handleClick},j.createElement('div',{className:"_3dwl"+(n?' '+"_337l":'')},j.createElement('div',{className:"_3dwf"+(n?' '+"_3dwk":'')}))));},_handleClick:function(){this.props.onAvailabilityChange&&this.props.onAvailabilityChange(!this.props.isUserAvailable);}});f.exports=m;},null);
__d('MessengerViewerCard.react',['ImageBlock.react','ImmutableObject','LeftRight.react','MessengerChatOnOffToggle.react','MessengerContactImage.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=34,s=n.createClass({displayName:'MessengerViewerCard',mixins:[m],propTypes:{isUserAvailable:q.bool.isRequired,onAvailabilityChange:q.func,viewerData:q.instanceOf(i)},render:function(){var t=this.props.viewerData;if(!t)return n.createElement('div',null);return (n.createElement(h,{className:"_1u5d",spacing:'medium'},n.createElement(l,{className:"_1u5h",size:r,src:t.image_src}),n.createElement('div',{className:"_1u5i"},n.createElement('div',{className:"_364g"},t.name),n.createElement('div',{className:"_1u5k"},this.props.isUserAvailable?p._("Chat on"):p._("Chat off"))),n.createElement(j,{className:"_1u5l",direction:j.DIRECTION.right},n.createElement(k,{isUserAvailable:this.props.isUserAvailable,onAvailabilityChange:this.props.onAvailabilityChange}))));}});f.exports=s;},null);
__d('MessengerActiveUsersList.react',['ImmutableObject','MercuryIDs','MessengerActions','MessengerContactListRowContainer.react','MessengerViewerCard.react','ReactComponentWithPureRenderMixin','React','MessengerProgressiveRendererListSlicerMixin','cx','fbt','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=c('MercuryThreads').get(),s=n.PropTypes,t=n.createClass({displayName:'MessengerActiveUsersList',mixins:[m,o],propTypes:{contactAdapter:s.func.isRequired,contacts:s.array.isRequired,isUserAvailable:s.bool.isRequired,onAvailabilityChange:s.func,renderOnly:s.number,viewer:s.string.isRequired,viewerData:s.instanceOf(h)},render:function(){var u;if(this.props.isUserAvailable)u=n.createElement('div',null,n.createElement('div',{className:"_3ggt"},q._("Active Facebook Friends ({number_of_contacts})",[q.param('number_of_contacts',this.props.contacts.length)])),n.createElement('ul',null,this._maybeSlice(this.props.contacts,0).map(function(v){return (n.createElement(k,{contactAdapter:this.props.contactAdapter,extraActionsEnabled:false,key:v.id,onSelect:this._handleSelect,rawContact:v,showPresence:true,viewer:this.props.viewer}));}.bind(this))),this._getIncrementalDisplaySpinner(this.props.contacts.length));return (n.createElement('div',null,n.createElement(l,{isUserAvailable:this.props.isUserAvailable,onAvailabilityChange:this.props.onAvailabilityChange,viewerData:this.props.viewerData}),u));},_handleSelect:function(u){r.getThreadMeta(i.getThreadIDFromUserID(u.fbid),function(v){j.selectThread(v.thread_id);});}});f.exports=t;},null);
__d('PresenceOrderedList',['ChatSortUsers','immutable','InitialChatFriendsList','PresencePrivacy','PresenceStatus'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(){'use strict';this.$PresenceOrderedList1=this.$PresenceOrderedList2();}m.prototype.getSorted=function(n){'use strict';var o=[];this.$PresenceOrderedList1.forEach(function(p){var q=p[0],r=p[1];if(o.length>=n)return false;if(k.getFriendVisibility(q)==k.BLACKLISTED)return true;if(r==l.get(q))o.push(q);});return i.OrderedSet(o);};m.prototype.getAvailableSorted=function(n){'use strict';var o=i.Set(l.getOnlineIDs());if(n)o=o.subtract(n);return o.sort(h.sortAlphabetical);};m.prototype.$PresenceOrderedList2=function(){'use strict';var n=j.list||[];return n.map(function(o){var p=o.slice(0,-2),q=Number(o.slice(-1));return [p,q];});};f.exports=new m();},null);
__d('MessengerActiveUsersListContainer.react',['AvailableList','AvailableListConstants','immutable','MercuryIDs','MercuryParticipants','MessengerActiveUsersList.react','MessengerContactAdapters','MessengerFlexScrollableArea.react','PresenceOrderedList','PresencePrivacy','PresenceStatus','React','SubscriptionsHandler','createObjectFrom'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=s.PropTypes,w=20,x=60,y=s.createClass({displayName:'MessengerActiveUsersListContainer',propTypes:{viewer:v.string.isRequired},_subscriptions:null,_setContactsTimeout:null,getInitialState:function(){return {isUserAvailable:q.getVisibility()===q.ONLINE,contacts:[],renderOnly:x/2,viewerData:null};},componentWillMount:function(){var z=new t();z.addSubscriptions(h.subscribe(i.ON_AVAILABILITY_CHANGED,this._setContacts),q.subscribe('privacy-changed',this._handlePresencePrivacyChanged));this._subscriptions=z;},componentDidMount:function(){this._setViewerData();this._setContactsTimeout=setTimeout(this._setContacts,500);},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();clearTimeout(this._setContactsTimeout);},render:function(){return (s.createElement(o,{onScroll:this._handleScroll,ref:'scrollable'},s.createElement(m,{isUserAvailable:this.state.isUserAvailable,contactAdapter:n.fromMercuryParticipant,contacts:this.state.isUserAvailable?this.state.contacts:[],onAvailabilityChange:this._handleChangeAvailability,renderOnly:this.state.renderOnly,viewerData:this.state.viewerData,viewer:this.props.viewer})));},_handleScroll:function(){if(this.refs.scrollable.isScrolledToBottom())this.setState({renderOnly:this.state.renderOnly+x});},_setContacts:function(){var z=p.getSorted(w).filter(function(da){return r.get(da)===i.ACTIVE;}).map(function(da){return k.getParticipantIDFromUserID(da);}),aa=p.getAvailableSorted(z).map(function(da){return k.getParticipantIDFromUserID(da);}),ba=z.concat(aa),ca={};ba.forEach(function(da){var ea=l.getNow(da);if(ea)ca[da]=ea;});this._loadContacts(z,aa,ca);l.getMulti(ba.toArray(),this._loadContacts.bind(this,z,aa));},_loadContacts:function(z,aa,ba){var ca=z.map(function(fa){return ba[fa];}).filter(function(fa){return !!fa;}),da=aa.map(function(fa){return ba[fa];}).filter(function(fa){return !!fa;}),ea=ca.concat(da).toArray();this.isMounted()&&this.setState({contacts:ea});},_handleChangeAvailability:function(z){q.setVisibility(z?q.ONLINE:q.OFFLINE);},_setViewerData:function(){var z=l.getNow(k.getParticipantIDFromUserID(this.props.viewer));this.setState({viewerData:z});},_handlePresencePrivacyChanged:function(){setTimeout(this._setContacts,500);this.setState({isUserAvailable:q.getVisibility()===q.ONLINE});}});f.exports=y;},null);
__d('MessengerButtonGroup.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'MessengerButtonGroup',render:function(){return (h.createElement('div',{className:j("_2lp-",this.props.className)},this.props.children));}});f.exports=k;},null);
__d('MessengerContactListContainer.react',['AvailableList','AllChatFriendsList','immutable','MercuryIDs','MercuryParticipants','MessengerActions','MessengerContactList.react','MessengerContactAdapters','MessengerFlexScrollableArea.react','PresencePrivacy','PresenceStatus','React','MessengerProgressiveRendererListSlicerMixin','SubscriptionsHandler','fbt','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=c('MercuryThreads').get(),x=s.PropTypes,y=60,z=s.createClass({displayName:'MessengerContactListContainer',mixins:[t],propTypes:{viewer:x.string.isRequired},_orderedList:[],getInitialState:function(){return {contacts:j.Map(),limit:y/2,loadedContacts:false};},componentWillMount:function(){var aa=new u();aa.addSubscriptions(h.subscribe(h.ON_AVAILABILITY_CHANGED,this._setContacts),q.subscribe('privacy-changed',this._setContacts));this._subscriptions=aa;},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},render:function(){return (s.createElement(p,{onScroll:this._handleScroll,ref:'scrollable'},s.createElement(n,{contactAdapter:o.fromMercuryParticipant,isLoading:!this.state.loadedContacts||this.state.contacts.size>this.state.limit,listSections:this._loadContacts(),onSelect:this._handleSelect,showPresence:false,viewer:this.props.viewer})));},_handleScroll:function(){if(!this.refs.scrollable.isScrolledToBottom())return;if(this.state.contacts.size>this.state.limit)this.setState({limit:this.state.limit+y});},_handleSelect:function(aa){w.getThreadMeta(k.getThreadIDFromUserID(aa.fbid),function(ba){m.selectThread(ba.thread_id);});},_setContacts:function(){this._orderedList=i.all_friends.filter(function(aa){return (q.getFriendVisibility(aa)!==q.BLACKLISTED);}).map(function(aa){return k.getParticipantIDFromUserID(aa);});l.getMulti(this._orderedList,function(aa){if(!this.isMounted())return;this.setState({contacts:j.Map(aa),loadedContacts:true});}.bind(this));},_loadContacts:function(){var aa=this._orderedList.slice(0,5).map(function(ca){return this.state.contacts.get(ca);}.bind(this)).filter(function(ca){return !!ca;}),ba=this._sortContactsIntoAlphaOrderedGroups(this.state.contacts);return this._getListSections(ba,aa);},_sortContactsIntoAlphaOrderedGroups:function(aa){var ba={};aa.forEach(function(da){var ea=da.name.charAt(0);if(!ba[ea])ba[ea]=[];ba[ea].push(da);});for(var ca in ba)ba[ca].sort(function(da,ea){return da.name>ea.name?1:-1;});return j.Map(ba);},_getListSections:function(aa,ba){var ca=[];if(ba.length)ca.push({header:v._("Favorites"),contacts:ba});var da=0,ea=Object.keys(aa.toObject()).sort();ea.forEach(function(fa){var ga=aa.get(fa)||[];if(!this.state.limit||da<this.state.limit){ga=this._maybeSlice(ga,da);if(ga.length)ca.push({header:fa,contacts:ga});da+=ga.length;}}.bind(this));return j.OrderedMap(ca.map(function(fa){return [fa.header,fa.contacts];}));}});f.exports=z;},null);
__d('MessengerPeopleTabConst',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={CONTACTS_TAB:'Contacts',ACTIVES_TAB:'Active'};f.exports=h;},null);
__d('MessengerPeopleToggleButton.react',['Link.react','MessengerPeopleTabConst','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'MessengerPeopleToggleButton',mixins:[j],propTypes:{isSelected:n.bool.isRequired,onSelect:n.func,tab:n.string.isRequired},render:function(){return (k.createElement(h,{onClick:this._handleClick},k.createElement('span',{className:"_48ui"+(this.props.isSelected?' '+"_48uj":'')},this.props.tab===i.CONTACTS_TAB?m._("All"):m._("Active"))));},_handleClick:function(p){p.preventDefault();if(this.props.isSelected||!this.props.onSelect)return;this.props.onSelect(this.props.tab);}});f.exports=o;},null);
__d('MessengerPeopleList.react',['MessengerContactListContainer.react','MessengerActiveUsersListContainer.react','MessengerButtonGroup.react','MessengerPeopleTabConst','MessengerPeopleToggleButton.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=n.PropTypes,q=n.createClass({displayName:'MessengerPeopleList',mixins:[m],propTypes:{viewer:p.string.isRequired},getInitialState:function(){return {currentView:k.CONTACTS_TAB,isLoading:true};},render:function(){var r=this.state.currentView===k.CONTACTS_TAB?n.createElement(h,{viewer:this.props.viewer}):n.createElement(i,{viewer:this.props.viewer});return (n.createElement('div',null,n.createElement('div',{className:"_2a8m"},n.createElement(j,null,n.createElement(l,{onSelect:this._handleToggleViews,isSelected:this.state.currentView===k.CONTACTS_TAB,tab:k.CONTACTS_TAB}),n.createElement(l,{onSelect:this._handleToggleViews,isSelected:this.state.currentView===k.ACTIVES_TAB,tab:k.ACTIVES_TAB}))),r));},_handleToggleViews:function(r){this.setState({currentView:r});}});f.exports=q;},null);
__d('P2PAPIUtils',['CreditCardFormParam','fbt','guid'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=[1001,1004,1006,1002],l={getRandomDigits:function(m){return Math.random().toString().slice(2,2+m);},genRequestID:function(){return 'id:'+j()+':'+Date.now();},genOfflineThreadingID:function(){return Date.now()+''+l.getRandomDigits(6);},getUncaughtErrorMessage:function(m){if(m&&k.indexOf(m)!==-1)return i._("Sorry, we were unable to complete your request. Please check that you are connected to the internet or refresh this page and try again.");return i._("Sorry, something went wrong. Please try again later.");},prepareCardMutationData:function(m){var n={},o=m[h.CARD_NUMBER].replace(/ /g,'');n[h.CARD_NUMBER]=o;if(typeof m[h.CARD_EXPIRATION]==='string'){var p=m[h.CARD_EXPIRATION].split('/');n[h.MONTH]=p[0];n[h.YEAR]=p[1];n[h.CARD_EXPIRATION]={};n[h.CARD_EXPIRATION][h.MONTH]=n[h.MONTH];n[h.CARD_EXPIRATION][h.YEAR]=n[h.YEAR];}else{n[h.MONTH]=m[h.CARD_EXPIRATION][h.MONTH];n[h.YEAR]=m[h.CARD_EXPIRATION][h.YEAR];}return babelHelpers['extends']({},m,n);}};f.exports=l;},null);
__d("XMoneypennyPaymentsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/moneypenny\/payments\/_create\/",{});},null);
__d("XP2PAddressCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/address\/_create\/",{});},null);
__d("XP2PAddressesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/addresses\/",{});},null);
__d("XP2PBannerDismissalsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_dismissals\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PBannerStatesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_states\/",{});},null);
__d("XP2PBannerViewsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_views\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PCardBINValidateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/card_bin\/validate\/",{bin_number:{type:"String",required:true}});},null);
__d("XP2PCreditCardCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_create\/",{});},null);
__d("XP2PCreditCardDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_delete\/",{});},null);
__d("XP2PCreditCardUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_update\/",{});},null);
__d("XP2PCreditCardVerifyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_verify\/",{});},null);
__d("XP2PCreditCardsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/",{});},null);
__d("XP2PCurrentUserProfileDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/current_user_profile_data\/",{});},null);
__d("XP2PExtensiveTransferDetailsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transaction\/details\/",{id:{type:"String",required:true}});},null);
__d("XP2PFriendPickerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/friend_picker\/",{limit:{type:"Int",defaultValue:100},query:{type:"String"}});},null);
__d("XP2PPasswordProtectionStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/",{});},null);
__d("XP2PPasswordProtectionStatusUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/_update\/",{});},null);
__d("XP2PPaymentRequestCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_cancel\/",{});},null);
__d("XP2PPaymentRequestCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requests\/_create\/",{});},null);
__d("XP2PPaymentRequestDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_decline\/",{});},null);
__d("XP2PPendingPaymentRequestsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/pending_payment_requests\/",{});},null);
__d("XP2PPlatformMsgrCommerceCartCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/msgr_commerce\/create\/",{});},null);
__d("XP2PPlatformSetShippingAddressController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/set_shipping_address\/",{});},null);
__d("XP2PPresetCreditCardSetController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/preset_credit_card\/_set\/",{});},null);
__d("XP2PProductItemBannerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/",{other_user_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerDismissalController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_dismiss\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerMarkSoldController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_mark_sold\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PTransactionsCampaignCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/campaign\/_create\/",{});},null);
__d("XP2PTransactionsCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_cancel\/",{});},null);
__d("XP2PTransactionsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/",{since:{type:"Int"}});},null);
__d("XP2PTransactionsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_create\/",{});},null);
__d("XP2PTransactionsDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_decline\/",{});},null);
__d("XP2PUserEligibilityController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/user_eligibility\/",{user_ids:{type:"StringVector",required:true}});},null);
__d('P2PAPI',['AsyncRequest','CreditCardFormParam','P2PActions','P2PAPIUtils','P2PLogger','P2PGKValues','P2PPasswordProtectionParam','P2PPaymentCampaignNames','P2PPaymentLoggerEvent','P2PPaymentRequestStatus','P2PTransferParam','PaymentTokenProxyUtils','ImmutableObject','XMoneypennyPaymentsCreateController','XP2PAddressesController','XP2PAddressCreateController','XP2PBannerDismissalsUpdateController','XP2PBannerStatesController','XP2PBannerViewsUpdateController','XP2PCardBINValidateController','XP2PCreditCardDeleteController','XP2PCreditCardUpdateController','XP2PCreditCardCreateController','XP2PCreditCardVerifyController','XP2PCreditCardsController','XP2PCurrentUserProfileDataController','XP2PExtensiveTransferDetailsController','XP2PFriendPickerController','XP2PPasswordProtectionStatusController','XP2PPasswordProtectionStatusUpdateController','XP2PPaymentRequestCancelController','XP2PPaymentRequestCreateController','XP2PPaymentRequestDeclineController','XP2PPendingPaymentRequestsController','XP2PPlatformMsgrCommerceCartCreateController','XP2PPlatformSetShippingAddressController','XP2PPresetCreditCardSetController','XP2PProductItemBannerController','XP2PProductItemBannerDismissalController','XP2PProductItemBannerMarkSoldController','XP2PTransactionsCampaignCreateController','XP2PTransactionsCancelController','XP2PTransactionsCreateController','XP2PTransactionsController','XP2PTransactionsDeclineController','XP2PUserEligibilityController','emptyFunction','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb){'use strict';if(c.__markCompiled)c.__markCompiled();var db=function(fb,event){if(m.P2PWWWClientExceptionLogging)l.log(event,{exception_message:fb.getErrorDescription(),exception_code:fb.getError()});},eb={getAllCreditCards:function(){var fb=fa.getURIBuilder().getURI();new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload(),ib=!hb.error?hb:[];j.updateCreditCards(ib);}).setErrorHandler(function(gb){j.updateCreditCardsError();}).send();},createTransaction:function(fb){var gb=xa.getURIBuilder().getURI(),hb={},ib=fb.formData,jb=fb.success||bb,kb=fb.error||bb;hb[i.CREDENTIAL_ID]=ib[i.CREDENTIAL_ID];hb.amount=ib.amount;hb.receiver_id=ib.receiverId;hb.offline_threading_id=k.genOfflineThreadingID();hb.group_thread_fbid=ib.group_thread_fbid;hb.platform_context_id=ib.platform_context_id;hb.shipping_address_id=ib.shippingAddressID;hb.shipping_option_id=ib.shippingOptionID;hb.memo_text=ib.memoText;hb.memo_image_ids=ib.memoPhotoIDs;hb.payment_request_id=ib.paymentRequestID;new h().setData(hb).setMethod('POST').setURI(gb).setAllowCrossPageTransition(true).setHandler(function(lb){var mb=lb?lb.getPayload():{};if(mb.error){kb(mb.error);}else{jb(mb);this.getAllCreditCards();if(hb.payment_request_id)j.paymentRequestUpdated({id:hb.payment_request_id,currentStatus:q.TRANSFER_COMPLETED});}}.bind(this)).setErrorHandler(function(lb){kb({message:k.getUncaughtErrorMessage(lb.getError())});db(lb,p.UI_ACTN_CREATE_TRANSFER_EXCEPTION);}).send();},addCreditCard:function(fb){j.ignoreCreditCardChannelEvents();var gb=da.getURIBuilder().getURI().getPath(),hb=fb.onSuccess||bb,ib=fb.onError||bb,jb=s.getURI({tpe:gb});fb=k.prepareCardMutationData(fb);var kb=new t(fb),lb=fb.hasPlatformContext;delete fb.onSuccess;delete fb.onError;j.creditCardSaving();new h().setAllowCrossOrigin(true).setURI(jb).setData(fb).setMethod('POST').setHandler(function(mb){var nb=mb.getPayload();if(!nb.errors){kb=t.set(kb,nb);j.addCreditCard(kb);if(nb.isPreset)j.transferAccepted();if(lb)j.checkoutCreditCardSelected(nb[i.CREDENTIAL_ID]);hb();}else{j.addCreditCardError(babelHelpers['extends']({requestID:kb.requestID},nb));ib(nb);}j.allowCreditCardChannelEvents();}).setErrorHandler(function(mb){j.addCreditCardError({requestID:kb.requestID,errors:{general:{message:k.getUncaughtErrorMessage(mb.getError())}}});j.allowCreditCardChannelEvents();db(mb,p.UI_ACTN_ADD_CARD_EXCEPTION);}).send();},getTransactions:function(fb){fb=fb||{};var gb={},hb=fb,ib=ya.getURIBuilder().getURI(),jb=new t(hb);if(hb.since)gb.since=hb.since;return new h().setData(gb).setURI(ib).setMethod('GET').setReadOnly(true).setHandler(function(kb){var lb=kb.getPayload();if(!lb.error){j.updateTransfers(lb);}else j.updateTransfersError(babelHelpers['extends']({requestID:jb.requestID},lb));}).setErrorHandler(function(kb){j.updateTransfersError({error:{message:k.getUncaughtErrorMessage(kb.getError())},requestID:jb.requestID});}).send();},getExtensiveTransferDetailsByID:function(fb){var gb=ha.getURIBuilder().setString('id',fb).getURI();new h().setURI(gb).setMethod('GET').setReadOnly(true).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error)j.extensiveTransferDetailsLoaded(ib);}).send();},getNUXTransactions:function(){var fb=new Date(),gb=Math.round(fb.setDate(fb.getDate()-15)/1000),hb=ya.getURIBuilder().getURI();return new h().setData({since:gb}).setURI(hb).setMethod('GET').setReadOnly(true).setHandler(function(ib){var jb=ib.getPayload();if(!jb.error)j.updateNUXTransfers(jb);}).send();},updatePresetCreditCard:function(fb){var gb=ra.getURIBuilder().getURI();new h().setData(fb).setURI(gb).setMethod('POST').setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.updatePresetCreditCard(babelHelpers['extends']({},ib,{requestID:fb.requestID}));j.transferAccepted();}else j.updatePresetCreditCardError(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}).setErrorHandler(function(hb){j.updatePresetCreditCardError({error:{message:k.getUncaughtErrorMessage(hb.getError())},requestID:fb.requestID});db(hb,p.UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION);}).send();},updateCreditCard:function(fb){j.ignoreCreditCardChannelEvents();var gb=ca.getURIBuilder().getURI().getPath(),hb=s.getURI({tpe:gb});fb=k.prepareCardMutationData(fb);var ib=new t(fb);new h().setAllowCrossOrigin(true).setURI(hb).setData(fb).setMethod('POST').setHandler(function(jb){var kb=jb.getPayload();if(!kb.errors){j.updateCreditCard(ib);}else j.updateCreditCardError(babelHelpers['extends']({},kb,{requestID:ib.requestID}));j.allowCreditCardChannelEvents();}).setErrorHandler(function(jb){j.updateCreditCardError({errors:{general:{message:k.getUncaughtErrorMessage(jb.getError())}},requestID:ib.requestID});j.allowCreditCardChannelEvents();db(jb,p.UI_ACTN_UPDATE_CARD_EXCEPTION);}).send();},deleteCreditCard:function(fb){var gb=ba.getURIBuilder().getURI();new h().setData(fb).setMethod('POST').setURI(gb).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.deleteCreditCard(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}else j.deleteCreditCardError(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}).setErrorHandler(function(hb){j.deleteCreditCardError({error:{message:k.getUncaughtErrorMessage(hb.getError())},requestID:fb.requestID});}).send();},getPasswordProtectionSetting:function(fb){var gb=ja.getURIBuilder().getURI(),hb=fb.success||bb,ib=fb.error||bb;new h().setURI(gb).setMethod('GET').setReadOnly(true).setHandler(function(jb){var kb=jb?jb.getPayload():[];if(kb.error){ib();}else hb(kb);}).setErrorHandler(function(jb){ib();}).send();},setPasswordProtectionSetting:function(fb){var gb=ka.getURIBuilder().getURI(),hb=fb.formData,ib=fb.success||bb,jb=fb.error||bb,kb={};kb[n.STATUS]=hb[n.STATUS];new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb?lb.getPayload():{};if(mb.error){jb(mb.error);}else ib();}).setErrorHandler(function(lb){jb();}).send();},declineTransaction:function(fb){var gb=za.getURIBuilder().getURI(),hb=fb.formData,ib=fb.success||bb,jb=fb.error||bb,kb={};kb[r.TRANSFER_ID]=hb[r.TRANSFER_ID];new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb?lb.getPayload():{},nb={};if(mb.error){jb(mb.error);}else{ib();nb[r.TRANSFER_ID]=kb[r.TRANSFER_ID];j.transferDeclined(nb);}}).setErrorHandler(function(lb){jb();db(lb,p.UI_ACTN_DECLINE_TRANSFER_EXCEPTION);}).send();},cancelTransaction:function(fb){var gb=wa.getURIBuilder().getURI(),hb=fb.formData,ib=fb.success||bb,jb=fb.error||bb,kb={};kb[r.TRANSFER_ID]=hb[r.TRANSFER_ID];new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb?lb.getPayload():{};if(mb.error){jb(mb.error);}else ib();}).setErrorHandler(function(lb){jb();}).send();},verifyCreditCard:function(fb){var gb=ea.getURIBuilder().getURI().getPath(),hb=s.getURI({tpe:gb});new h().setAllowCrossOrigin(true).setURI(hb).setData(fb).setMethod('POST').setHandler(function(ib){var jb=ib.getPayload();if(!jb.error){j.verifyCreditCard(babelHelpers['extends']({},jb,{requestID:fb.requestID}));}else j.verifyCreditCardError(babelHelpers['extends']({},jb,{requestID:fb.requestID}));}).setErrorHandler(function(ib){j.verifyCreditCardError({error:{message:k.getUncaughtErrorMessage(ib.getError())},requestID:fb.requestID});db(ib,p.UI_ACTN_VERIFY_CARD_EXCEPTION);}).send();},validateBINNumber:function(fb){fb=fb||{};var gb=new t(fb),hb=aa.getURIBuilder().setString('bin_number',fb.binNumber).getURI();return new h().setURI(hb).setMethod('GET').setReadOnly(true).setHandler(function(ib){var jb=ib.getPayload();if(!jb.error){j.binNumberValidated(babelHelpers['extends']({},jb,{requestID:fb.requestID}));}else j.binNumberValidatedError(babelHelpers['extends']({},jb,{requestID:gb.requestID}));}).send();},getUserEligibility:function(fb){fb=fb||{};var gb=ab.getURIBuilder().setStringVector('user_ids',fb.userIDs).getURI();return new h().setURI(gb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error)j.userEligibilityUpdated(ib);}).send();},getFriendsList:function(fb,gb){var hb=ia.getURIBuilder().setInt('limit',fb).setString('query',gb).getURI();return new h().setURI(hb).setMethod('GET').setReadOnly(true).setHandler(function(ib){var jb=ib.getPayload();if(!jb.error)j.friendsListUpdated({friends:jb,query:gb});}).send();},getBannerStates:function(){var fb=y.getURIBuilder().getURI();new h().setURI(fb).setMethod('GET').setReadOnly(true).setHandler(function(gb){var hb=gb.getPayload();if(!hb.error)j.bannerStatesUpdated(hb);}).send();},incrementBannerViews:function(fb){var gb=z.getURIBuilder().setString('banner_type',fb).getURI();new h().setMethod('POST').setURI(gb).send();},incrementBannerDismissals:function(fb){var gb;j.bannerDismissed(fb);gb=x.getURIBuilder().setString('banner_type',fb).getURI();new h().setMethod('POST').setURI(gb).send();},createMoneypennyTransfer:function(fb){var gb=u.getURIBuilder().getURI();new h().setMethod('POST').setURI(gb).setData({item_id:fb.item_id,credential_id:fb.credential_id,amount:fb.amount,external_request_id:fb.external_request_id}).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.moneypennyTransferCreated(babelHelpers['extends']({},ib,{requestID:fb.requestID}));this.getAllCreditCards();}else j.moneypennyTransferCreatedError(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}.bind(this)).setErrorHandler(function(hb){j.moneypennyTransferCreatedError({error:{message:k.getUncaughtErrorMessage(hb.getError())},requestID:fb.requestID});db(hb,p.UI_ACTN_CREATE_M_TRANSFER_EXCEPTION);}).send();},createFinancialIncentivesTransfer:function(fb){var gb=va.getURIBuilder().getURI(),hb=fb.success||bb,ib=fb.error||bb,jb={};jb[i.CREDENTIAL_ID]=fb.credential_id;jb.external_request_id=k.genOfflineThreadingID();jb.campaign_name=o.SEVIPER;new h().setData(jb).setURI(gb).setMethod('POST').setHandler(function(kb){var lb=kb.getPayload();if(lb.error){ib(lb.error);}else hb();}).send();},getPlatformContextByOtherUserID:function(fb){fb=fb||{};var gb=sa.getURIBuilder().setString('other_user_id',fb.otherUserID).getURI();return new h().setURI(gb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error&&!cb(ib))j.addPlatformContext(ib);}).send();},dismissPlatformContextBanner:function(fb){var gb;j.platformContextBannerDismissed(fb);gb=ta.getURIBuilder().setString('platform_context_id',fb).getURI();new h().setMethod('POST').setURI(gb).send();},markSoldPlatformContextProductItem:function(fb){var gb;j.platformContextProductItemSold(fb);gb=ua.getURIBuilder().setString('platform_context_id',fb).getURI();new h().setMethod('POST').setURI(gb).send();},getAddresses:function(){var fb=v.getURIBuilder().getURI();return new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload();if(!hb.error)j.updateAddresses(hb);}).send();},addAddress:function(){var fb=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],gb=w.getURIBuilder().getURI(),hb,ib=fb.platformContext,jb=fb.onSuccess||bb,kb=fb.onError||bb;hb={label:fb.label,care_of:fb.care_of,city:fb.city,street1:fb.street1,street2:fb.street2,state:fb.state,zip:fb.zip};j.addressSaving();return new h().setData(hb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb.getPayload();if(!mb.errors){j.addAddress(babelHelpers['extends']({},mb,hb,{requestID:fb.requestID}));if(ib){j.checkoutAddressSelected(mb.id);this.setPlatformContextShippingAddress({platformContextID:ib.id,shippingAddressID:mb.id});}jb();}else{j.addAddressError(babelHelpers['extends']({},mb,{requestID:fb.requestID}));kb(mb);}}.bind(this)).setErrorHandler(function(lb){j.addAddressError({errors:{general:{message:k.getUncaughtErrorMessage(lb.getError())}},requestID:fb.requestID});db(lb,p.UI_ACTN_ADD_ADDRESS_EXCEPTION);}).send();},createMCCart:function(fb){var gb=pa.getURIBuilder().getURI(),hb,ib=fb.productItemID;fb=fb||{};hb={item_id:ib};j.checkoutCartInitiated();return new h().setData(hb).setURI(gb).setMethod('POST').setHandler(function(jb){var kb=jb.getPayload();if(!kb.error){j.addPlatformContext(babelHelpers['extends']({},kb));j.checkoutCartCreated({sellerID:fb.sellerID,productItemID:ib});}else j.addPlatformContextError(babelHelpers['extends']({itemID:ib},kb));}).setErrorHandler(function(jb){j.addPlatformContextError({itemID:ib,error:{message:k.getUncaughtErrorMessage(jb.getError())}});db(jb,p.UI_ACTN_CREATE_CART_EXCEPTION);}).send();},setPlatformContextShippingAddress:function(fb){var gb=qa.getURIBuilder().getURI(),hb,ib=fb.platformContextID,jb=fb.shippingAddressID;fb=fb||{};hb={platform_context_id:ib,shipping_address_id:jb};j.checkoutProcessing(true);return new h().setData(hb).setURI(gb).setMethod('POST').setHandler(function(kb){j.checkoutProcessing(false);var lb=kb.getPayload();if(!lb.error)j.addPlatformContext(babelHelpers['extends']({},lb));}).setErrorHandler(function(kb){db(kb,p.UI_ACTN_SET_CART_ADDRESS_EXCEPTION);}).send();},getCurrentUserProfileData:function(){var fb=ga.getURIBuilder().getURI();return new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload();if(!hb.error){j.checkoutBuyerProfileUpdated(hb);}else j.checkoutBuyerProfileUpdated({});}).setErrorHandler(function(gb){j.checkoutBuyerProfileUpdated({});}).send();},createPaymentRequest:function(fb){var gb=ma.getURIBuilder().getURI(),hb=fb.formData,ib=hb.amount,jb=hb.requesteeID,kb=hb.memoText,lb=hb.group_thread_fbid,mb={amount:ib,memo_text:kb,offline_threading_id:k.genOfflineThreadingID(),requestee_id:jb,group_thread_fbid:lb};j.paymentRequestInitiated();return new h().setData(mb).setURI(gb).setMethod('POST').setHandler(function(nb){var ob=nb.getPayload();if(!ob.error){j.paymentRequestCreated(babelHelpers['extends']({},ob,{amount:ib,memoText:kb,requesteeID:jb}));fb.success(ob);}else{j.paymentRequestCreatedError(ob);fb.error(ob);}j.paymentRequestInitiatedComplete();}).setErrorHandler(function(nb){fb.error({error:{message:k.getUncaughtErrorMessage(nb.getError())}});j.paymentRequestInitiatedComplete();db(nb,p.UI_ACTN_CREATE_REQUEST_EXCEPTION);}).send();},declinePaymentRequest:function(fb){var gb=na.getURIBuilder().getURI(),hb=fb.paymentRequestID,ib=fb.success||bb,jb=fb.error||bb,kb={payment_request_id:hb};j.paymentRequestDeclineInitiated();return new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb.getPayload();if(!mb.error){j.paymentRequestDeclined(hb);j.hideDialog();ib(mb);}else{j.paymentRequestDeclineError(mb);jb(mb);}}).setErrorHandler(function(lb){j.paymentRequestDeclineError({error:{message:k.getUncaughtErrorMessage(lb.getError())}});jb();db(lb,p.UI_ACTN_DECLINE_REQUEST_EXCEPTION);}).send();},cancelPaymentRequest:function(fb){var gb=la.getURIBuilder().getURI(),hb=fb.paymentRequestID,ib=fb.success||bb,jb=fb.error||bb,kb={payment_request_id:hb};j.paymentRequestCancelInitiated();return new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb.getPayload();if(!mb.error){j.paymentRequestCanceled(hb);j.hideDialog();ib(mb);}else{j.paymentRequestCancelError(mb);jb(mb);}}).setErrorHandler(function(lb){j.paymentRequestCancelError({error:{message:k.getUncaughtErrorMessage(lb.getError())}});jb();db(lb,p.UI_ACTN_CANCEL_REQUEST_EXCEPTION);}).send();},getPendingPaymentRequests:function(){var fb=oa.getURIBuilder().getURI();new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload(),ib=!hb.error?hb:[];j.paymentRequestsFetched(ib);}).send();}};f.exports=eb;},null);
__d('P2PBannerStore',['EventEmitter','P2PActionConstants','P2PAPI','P2PDispatcher','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();var o,p={},q=false,r=false;m=babelHelpers.inherits(s,h);n=m&&m.prototype;function s(){n.constructor.call(this);o=k.register(this.onEventDispatched.bind(this));}s.prototype.onEventDispatched=function(t){var u=t.type,v=t.data;switch(u){case i.BANNER_STATES_UPDATED:this.handleBannerStatesUpdated(v);this.emit('change');break;case i.BANNER_DISMISSED:this.handleBannerDismissed(v);this.emit('change');break;case i.BANNER_COMPLETED:this.handleBannerCompleted(v);this.emit('change');break;}};s.prototype.handleBannerStatesUpdated=function(t){q=true;p=t;};s.prototype.handleBannerDismissed=function(t){var u=this.getBannerState(t);u.hasBeenDismissed=true;};s.prototype.shouldShowBanner=function(t){var u;if(!r){j.getBannerStates();r=true;return false;}if(!q)return false;u=this.getBannerState(t);return (u.eligible&&!u.hasBeenDismissed);};s.prototype.handleBannerCompleted=function(t){var u=this.getBannerState(t);u.eligible=false;};s.prototype.getBannerState=function(t){var u=p[t];!u?l(0):undefined;return u;};f.exports=new s();},null);
__d('P2PUser',['immutable'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h.Record({id:'',name:'',full_name:'',profile_uri:''}));j=i&&i.prototype;function k(){i.apply(this,arguments);}f.exports=k;},null);
__d('P2PPaymentRequest',['P2PPaymentRequestStatus','P2PUser','immutable'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=Math.round(Date.now()/1000);k=babelHelpers.inherits(n,j.Record({amount:'',amountWithSymbol:'',creationTime:m,currency:'',currentStatus:h.INITED,groupThreadFBID:'',id:'',memoText:'',requestee:{},requester:{},transferID:'',updatedTime:m}));l=k&&k.prototype;function n(){k.apply(this,arguments);}f.exports=n;},null);
__d('P2PPaymentRequestsStore',['P2PActionConstants','Arbiter','ChannelConstants','CurrentUser','EventEmitter','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PDispatcher','P2PPaymentRequest','P2PPaymentRequestStatus','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t,u;if(c.__markCompiled)c.__markCompiled();var v=c('immutable').List,w=null,x=false,y=null,z=false,aa=null,ba=new v(),ca=false,da=false;t=babelHelpers.inherits(ea,l);u=t&&t.prototype;function ea(){u.constructor.call(this);i.subscribe(j.getArbiterType(p.PAYMENT_REQUEST_STATUS_CHANGED),this.handleChannelPaymentRequestStatusChanged.bind(this));q.register(this.onEventDispatched.bind(this));}ea.prototype.onEventDispatched=function(fa){var ga=fa.data,ha=fa.type;switch(ha){case h.PAYMENT_REQUEST_INITIATED:ca=true;aa=null;this.emit('change');break;case h.PAYMENT_REQUEST_INITIATED_COMPLETE:ca=false;this.emit('change');break;case h.PAYMENT_REQUEST_CREATED:this.handlePaymentRequestCreated(ga);this.emit('change');break;case h.PAYMENT_REQUEST_CREATED_ERROR:aa=new m(ga.error);this.emit('change');break;case h.PAYMENT_REQUEST_UPDATED:this.handlePaymentRequestUpdated(ga);this.emit('change');break;case h.PAYMENT_REQUEST_DECLINE_INITIATED:z=true;y=null;this.emit('change');break;case h.PAYMENT_REQUEST_DECLINED:z=false;y=null;this.handlePaymentRequestDeclined(ga);this.emit('change');break;case h.PAYMENT_REQUEST_DECLINE_ERROR:z=false;y=new m(ga.error);this.emit('change');break;case h.PAYMENT_REQUEST_CANCEL_INITIATED:x=true;w=null;this.emit('change');break;case h.PAYMENT_REQUEST_CANCELED:x=false;w=null;this.handlePaymentRequestCanceled(ga);this.emit('change');break;case h.PAYMENT_REQUEST_CANCEL_ERROR:x=false;w=new m(ga.error);this.emit('change');break;case h.DIALOG_CLOSED:y=null;this.emit('change');break;case h.PAYMENT_REQUESTS_FETCHED:this.handlePaymentRequestsFetched(ga);this.emit('change');break;}};ea.prototype.handlePaymentRequestCreated=function(fa){var ga=ba.toArray();ga.push(new r(fa));ga.sort(function(ha,ia){return ha.creationTime-ia.creationTime;});ba=new v(ga);};ea.prototype.handlePaymentRequestUpdated=function(fa){this.updateRequest(fa.id,fa);};ea.prototype.handlePaymentRequestDeclined=function(fa){this.updateRequest(fa,{currentStatus:s.DECLINED});};ea.prototype.handlePaymentRequestCanceled=function(fa){this.updateRequest(fa,{currentStatus:s.CANCELED});};ea.prototype.handleChannelPaymentRequestStatusChanged=function(fa,ga){var ha=ga.obj;n.paymentRequestUpdated({id:ha.id,currentStatus:ha.current_status});};ea.prototype.handlePaymentRequestsFetched=function(fa){this.$P2PPaymentRequestsStore1(fa);};ea.prototype.$P2PPaymentRequestsStore1=function(fa){fa=fa.sort(function(ha,ia){return ha.creationTime-ia.creationTime;});fa.forEach(function(ha,ia){if(!this.getPaymentRequestByID(ha.id))ba=ba.push(new r(ha));}.bind(this));var ga=ba.toArray();ga.sort(function(ha,ia){return ha.creationTime-ia.creationTime;});ba=new v(ga);};ea.prototype.isPaymentRequestInitiated=function(){return ca;};ea.prototype.isPaymentRequestDeclining=function(){return z;};ea.prototype.isPaymentRequestCanceling=function(){return x;};ea.prototype.getPaymentRequestByID=function(fa){return ba.find(function(ga){return fa===ga.id;});};ea.prototype.getPaymentRequestError=function(){return aa;};ea.prototype.getPaymentRequestDeclineError=function(){return y;};ea.prototype.getPaymentRequestCancelError=function(){return w;};ea.prototype.getPendingPaymentRequest=function(){if(!da){da=true;o.getPendingPaymentRequests();}return ba.filter(function(fa){return (fa.requestee.id===k.getID()&&fa.currentStatus===s.INITED);}).last();};ea.prototype.updateRequest=function(fa,ga){ba.forEach(function(ha,ia){if(fa===ha.id)ba=ba.set(ia,ha.merge(ha,ga));});};ea.prototype.getPaymentRequests=function(){return ba;};f.exports=new ea();},null);
__d('P2PJewelBanner.react',['Image.react','Layout.react','P2PButton.react','React','TooltipLink.react','URI','XUIGrayText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=i.FillColumn,s=i.Column,t=k.PropTypes,u=k.createClass({displayName:'P2PJewelBanner',propTypes:{bodyText:t.oneOfType([t.string,t.object]),isDismissable:t.bool,onClose:t.func,primaryActionConfig:t.shape({onClick:t.func,text:t.string.isRequired,uri:t.oneOfType([t.string,t.object])}).isRequired,secondaryActionConfig:t.shape({onClick:t.func.isRequired,text:t.string.isRequired}),titleText:t.string.isRequired},getDefaultProps:function(){return {isDismissable:false};},handleCloseClick:function(v){v.stopPropagation();if(this.props.onClose)this.props.onClose();},handleClick:function(){this.execPrimaryClick();},handlePrimaryClick:function(v){v.stopPropagation();this.execPrimaryClick();},execPrimaryClick:function(){if(this.props.primaryActionConfig.uri)new m(this.props.primaryActionConfig.uri).go();this.props.primaryActionConfig.onClick&&this.props.primaryActionConfig.onClick();},handleSecondaryActionClick:function(v){v.stopPropagation();this.props.secondaryActionConfig&&this.props.secondaryActionConfig.onClick&&this.props.secondaryActionConfig.onClick();},renderCloseButton:function(){return (k.createElement(l,{alignH:'center',className:"_47d8",href:'#',onClick:this.handleCloseClick,position:'above',tooltip:p._("Dismiss")},k.createElement(h,{className:"_47dg",height:7,src:q('/images/p2p/jewel-banner-close.png'),width:7})));},renderActions:function(){var v=this.props.primaryActionConfig,w,x=this.props.secondaryActionConfig;if(x)w=k.createElement(j,{className:"_5d0t",href:'#',label:x.text,onClick:this.handleSecondaryActionClick,size:'large',target:'_blank',type:'primary'});return (k.createElement('div',null,w,k.createElement(j,{className:"_5d0t",href:v.uri||'#',label:v.text,onClick:this.handlePrimaryClick,size:'large',target:'_blank',type:'primary',use:'confirm'})));},render:function(){var v;if(this.props.isDismissable)v=this.renderCloseButton();return (k.createElement('div',{className:"_5d0n",onClick:this.handleClick},v,k.createElement(i,null,k.createElement(s,{className:"_400i"},k.createElement('div',{className:"_400j"},k.createElement(h,{className:"_5d0q",height:50,src:q('/images/p2p/jewel-banner-coin.png'),width:50}))),k.createElement(r,{className:"_47di"},k.createElement('div',{className:"_400j"},k.createElement(n,{display:'block',shade:'dark',weight:'bold'},this.props.titleText),k.createElement(n,{display:'block',shade:'light'},this.props.bodyText))),k.createElement(s,{className:"_400k"},k.createElement('div',{className:"_400j"},this.renderActions())))));}});f.exports=u;},null);
__d('P2PSimpleDialog.react',['FBPaymentsErrorNotice.react','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLoadingMask.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=o.PropTypes,r=o.createClass({displayName:'P2PSimpleDialog',propTypes:{bodyText:q.string.isRequired,cancelButtonText:q.string,confirmButtonText:q.string,error:q.object,loading:q.bool,onCancel:q.func.isRequired,onConfirm:q.func.isRequired,title:q.string.isRequired,width:q.number},getDefaultProps:function(){return {cancelButtonText:p._("Cancel"),confirmButtonText:p._("Confirm"),width:300};},handleToggle:function(s){if(!s)this.props.onCancel();},render:function(){var s;if(this.props.error)s=o.createElement(h,{error:this.props.error});return (o.createElement(j,{behaviors:this.props.behaviors,layerHideOnBlur:false,onToggle:this.handleToggle,repositionOnUpdate:true,shown:true,width:this.props.width},o.createElement(m,null,this.props.title),o.createElement(k,null,s,this.props.bodyText,o.createElement(n,{visible:this.props.loading})),o.createElement(l,null,o.createElement(i,{disabled:this.props.loading,label:this.props.cancelButtonText,onClick:this.props.onCancel,size:'medium'}),o.createElement(i,{disabled:this.props.loading,label:this.props.confirmButtonText,onClick:this.props.onConfirm,size:'medium',use:'confirm'}))));}});f.exports=r;},null);
__d('P2PPaymentRequestCancelDialogContainer.react',['P2PActions','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequest','P2PPaymentRequestsStore','P2PSimpleDialog.react','React','StoreAndPropBasedStateMixin','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'P2PPaymentRequestCancelDialogContainer',mixins:[q(n)],propTypes:{paymentRequest:s.instanceOf(m).isRequired},statics:{calculateState:function(u){return {error:n.getPaymentRequestCancelError(),loading:n.isPaymentRequestCanceling()};}},log:function(u,v){j.log(u,{www_event_flow:l.UI_FLOW_P2P_REQUEST,request_id:this.props.paymentRequest.id});},componentDidMount:function(){this.log(k.UI_ACTN_INITIATE_CANCEL_REQUEST);},handleCancel:function(){h.hideDialog();},handleConfirm:function(){i.cancelPaymentRequest({error:function(){this.log(k.UI_ACTN_CANCEL_REQUEST_FAIL);}.bind(this),paymentRequestID:this.props.paymentRequest.id,success:function(){this.log(k.UI_ACTN_CANCEL_REQUEST_SUCCESS);}.bind(this)});this.log(k.UI_ACTN_CONFIRM_CANCEL_REQUEST);},renderBodyText:function(){var u=this.props.paymentRequest.requestee.name;return r._("{Name of requestee} will be notified that the request was canceled.",[r.param('Name of requestee',u)]);},render:function(){return (p.createElement(o,{bodyText:this.renderBodyText(),error:this.state.error,loading:this.state.loading,cancelButtonText:r._("Back"),confirmButtonText:r._("Cancel"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,title:r._("Cancel Request?")}));}});f.exports=t;},null);
__d('P2PPaymentRequestDeclineDialogContainer.react',['P2PActions','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequest','P2PPaymentRequestsStore','P2PSimpleDialog.react','React','StoreAndPropBasedStateMixin','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'P2PPaymentRequestDeclineDialogContainer',mixins:[q(n)],propTypes:{paymentRequest:s.instanceOf(m).isRequired},statics:{calculateState:function(u){return {error:n.getPaymentRequestDeclineError(),loading:n.isPaymentRequestDeclining()};}},log:function(u,v){j.log(u,{www_event_flow:l.UI_FLOW_P2P_REQUEST,request_id:this.props.paymentRequest.id});},componentDidMount:function(){this.log(k.UI_ACTN_INITIATE_DECLINE_REQUEST);},handleCancel:function(){h.hideDialog();},handleConfirm:function(){i.declinePaymentRequest({error:function(){this.log(k.UI_ACTN_DECLINE_REQUEST_FAIL);}.bind(this),paymentRequestID:this.props.paymentRequest.id,success:function(){this.log(k.UI_ACTN_DECLINE_REQUEST_SUCCESS);}.bind(this)});this.log(k.UI_ACTN_CONFIRM_DECLINE_REQUEST);},renderBodyText:function(){var u=this.props.paymentRequest.requester.name;return r._("{Name of requester} will be notified that the request was declined.",[r.param('Name of requester',u)]);},render:function(){return (p.createElement(o,{bodyText:this.renderBodyText(),error:this.state.error,loading:this.state.loading,cancelButtonText:r._("Back"),confirmButtonText:r._("Decline"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,title:r._("Decline Request?")}));}});f.exports=t;},null);
__d('P2PPaymentRequestActionHelper',['MercuryIDs','P2PActions','P2PPaymentRequest','P2PPaymentRequestCancelDialogContainer.react','P2PPaymentRequestStatus','P2PPaymentRequestDeclineDialogContainer.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={initDeclinePaymentRequestFlow:function(p){i.showDialog(m,{paymentRequest:p});},initPayForPaymentRequestFlow:function(p,q){var r=p.groupThreadFBID,s=undefined,t=undefined;if(r){t=p.requester.id;s=h.getThreadIDFromThreadFBID(r);}else s=h.getThreadIDFromUserID(p.requester.id);i.chatSendViewOpened({amount:p.amount,memoText:p.memoText,paymentRequestID:p.id,threadID:s,useModal:true,referrer:q,groupSendRecipientUserID:t,groupThreadFBID:r});},initCancelPaymentRequestFlow:function(p){i.showDialog(k,{paymentRequest:p});},getStatusText:function(p){var q=p.currentStatus,r=n._("Canceled"),s=n._("Paid"),t=n._("Declined"),u=n._("Unpaid"),v;switch(q){case l.DECLINED:v=t;break;case l.CANCELED:case l.TRANSFER_FAILED:v=r;break;case l.TRANSFER_COMPLETED:v=s;break;default:v=u;break;}return v;}};f.exports=o;},null);
__d('P2PPendingPaymentRequestJewelBanner.react',['P2PJewelBanner.react','P2PPaymentRequest','P2PPaymentRequestActionHelper','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'P2PPendingPaymentRequestJewelBanner',propTypes:{paymentRequest:m.instanceOf(i).isRequired},handleDeclineClick:function(){j.initDeclinePaymentRequestFlow(this.props.paymentRequest);},handlePayClick:function(){j.initPayForPaymentRequestFlow(this.props.paymentRequest,'banner');},renderBodyText:function(){var o=this.props.paymentRequest,p=o.memoText;if(!p)return null;return l._("For {What the user paid for}",[l.param('What the user paid for',p)]);},render:function(){var o=this.props.paymentRequest;return (k.createElement(h,{bodyText:this.renderBodyText(),primaryActionConfig:{onClick:this.handlePayClick,text:l._("Pay")},secondaryActionConfig:{onClick:this.handleDeclineClick,text:l._("Decline")},titleText:l._("{requester_name} requested {amount}",[l.param('requester_name',o.requester.name),l.param('amount',o.amountWithSymbol)])}));}});f.exports=n;},null);
__d('P2PPendingPushFailJewelBanner.react',['P2PJewelBanner.react','P2PLinkConstants','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'P2PPendingPushFailJewelBanner',propTypes:{transfer:l.object.isRequired},getActionText:function(){return k._("Update Card");},render:function(){var n=this.props.transfer;return (j.createElement(h,{bodyText:k._("It looks like your card is expired or invalid. Please update it to get {currency}{amount} from {sender_name}.",[k.param('currency',n.currency),k.param('amount',n.amount),k.param('sender_name',n.sender.name)]),primaryActionConfig:{text:k._("Update"),uri:i.paymentMethodsURI},titleText:k._("Update Your Card")}));}});f.exports=m;},null);
__d('P2PAcceptMoneyDialog.react',['BootloadedComponent.react','Bootloader','CurrentEnvironment','P2PDialog.react','P2PLoadingMask.react','JSResource','React','Run','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=j.messengerdotcom,s=n.createClass({displayName:'P2PAcceptMoneyDialog',propTypes:{creditCards:q.array.isRequired,useRedesignForm:q.bool,onClose:q.func,transfer:q.object},statics:{preload:function(){o.onAfterLoad(function(){i.loadModules(["P2PAcceptMoneyDialogImpl.react"],function(){});});}},render:function(){return (n.createElement(h,babelHelpers['extends']({bootloadLoader:m('P2PAcceptMoneyDialogImpl.react'),bootloadPlaceholder:this._renderPlaceholder()},this.props)));},_renderPlaceholder:function(){return (n.createElement(k,{className:"_309"+(r?' '+"_5ktw":''),layerHideOnBlur:false,repositionOnUpdate:true,shown:true,width:r?400:350},n.createElement('div',{className:"_3w2b"},n.createElement(l,{visible:true}))));}});f.exports=s;},null);
__d('P2PCreditCard',['CreditCardFormParam','CreditCardTypeEnum','PaymentMethodUtils','P2PPaymentMethodCategory','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={visa:{image:m('/images/payments/icons/visa.png'),imageLarge:m('/images/payments/icons/visa-lg.png'),name:'Visa'},mc:{image:m('/images/payments/icons/mc.png'),imageLarge:m('/images/payments/icons/mc-lg.png'),name:'MasterCard'},disc:{image:m('/images/payments/icons/disc.png'),imageLarge:m('/images/payments/icons/disc-lg.png'),name:'Discover'},jcb:{image:m('/images/payments/icons/jcb.png'),imageLarge:m('/images/payments/icons/jcb-lg.png'),name:'JCB'},amex:{image:m('/images/payments/icons/amex.png'),imageLarge:m('/images/payments/icons/amex-lg.png'),name:'American Express'},unknown:{image:m('/images/brands/credit_card/credit_32.png'),imageLarge:m('/images/brands/credit_card/credit_32.png'),name:l._("Unknown Card Type")}};function o(p){this.setCredentialId(p[h.CREDENTIAL_ID]);this.setCardType(p[h.CARD_TYPE]);this.setCreditCardNumber(p[h.CARD_NUMBER]);this.setSelected(p.selected);this.setZipCode(p[h.ZIP]);this.setCSC(p[h.CSC]);this.setExp(p[h.CARD_EXPIRATION]);this.setIsPreset(p.isPreset);this.setIsVerified(p.isVerified);this.setIsMobileVerified(p.isMobileVerified);this.setIsPersonalTransferEligible(p.isPersonalTransferEligible);this.setCategory(p.category);}o.prototype.getCreditCardNumber=function(){return this[h.CARD_NUMBER];};o.prototype.setCreditCardNumber=function(p){p=p.replace(/ /g,'');this.setCardProviderProps(this[h.CARD_TYPE],p);p=p.substr(p.length-4);this[h.CARD_NUMBER]=p;};o.prototype.setCardProviderProps=function(p,q){var r=this.$P2PCreditCard1(p,q);if(n[r]){this.setImage(n[r].image);this.setImageLarge(n[r].imageLarge);this.setName(n[r].name);}};o.prototype.getExp=function(){return this[h.CARD_EXPIRATION];};o.prototype.getExpFormatted=function(){var p=this[h.CARD_EXPIRATION];return p?p[h.MONTH]+'/'+p[h.YEAR]:'';};o.prototype.getExpFormattedShort=function(){var p=this[h.CARD_EXPIRATION],q='';if(p&&p[h.MONTH]&&p[h.YEAR]){q=p[h.MONTH]+'/';if(p[h.YEAR].length===4){q+=p[h.YEAR].substr(2);}else q+=p[h.YEAR];}return q;};o.prototype.setExp=function(p){if(!p)return;var q,r,s={};s[h.MONTH]=p[h.MONTH];s[h.YEAR]=p[h.YEAR];if(s[h.MONTH]&&s[h.MONTH].length===1)s[h.MONTH]='0'+s[h.MONTH];if(s[h.YEAR]&&s[h.YEAR].length===2){q=new Date().getFullYear()+'';r=q.substr(0,2);s[h.YEAR]=r+s[h.YEAR];}this[h.CARD_EXPIRATION]=s;};o.prototype.getCSC=function(){return this[h.CSC];};o.prototype.setCSC=function(p){this[h.CSC]=p;};o.prototype.getZipCode=function(){return this[h.ZIP];};o.prototype.setZipCode=function(p){this[h.ZIP]=p;};o.prototype.getSelected=function(){return this.$P2PCreditCard2;};o.prototype.setSelected=function(p){this.$P2PCreditCard2=p;};o.prototype.getCardType=function(){return this[h.CARD_TYPE];};o.prototype.setCardType=function(p){this[h.CARD_TYPE]=p;this.setCardProviderProps(p,this[h.CARD_NUMBER]);};o.prototype.getCredentialId=function(){return this[h.CREDENTIAL_ID];};o.prototype.setCredentialId=function(p){this[h.CREDENTIAL_ID]=p;};o.prototype.$P2PCreditCard1=function(p,q){var r='default',s,t;if(p){s=Object.keys(i).filter(function(u){return i[u]===p;})[0];r=this.$P2PCreditCard3(s);}else if(q){t=j.getCardType(q);if(t)r=t.name;}return r;};o.prototype.getImage=function(){return this.$P2PCreditCard4||n.unknown.image;};o.prototype.setImage=function(p){this.$P2PCreditCard4=p;};o.prototype.getImageLarge=function(){return this.$P2PCreditCard5||n.unknown.imageLarge;};o.prototype.setImageLarge=function(p){this.$P2PCreditCard5=p;};o.prototype.getName=function(){return this.$P2PCreditCard6||n.unknown.name;};o.prototype.setName=function(p){this.$P2PCreditCard6=p;};o.prototype.getIsPreset=function(){return this.$P2PCreditCard7;};o.prototype.setIsPreset=function(p){this.$P2PCreditCard7=p||false;};o.prototype.$P2PCreditCard3=function(p){switch(p){case 'VISA':p='visa';break;case 'AMERICANEXPRESS':p='amex';break;case 'MASTERCARD':p='mc';break;case 'DISCOVER':p='disc';break;case 'JCB':p='jcb';break;default:p='unknown';break;}return p;};o.prototype.getCreditCardNumberFormatted=function(){return '*'+this[h.CARD_NUMBER];};o.prototype.getDetailsFormatted=function(){return (this.getName()+' '+this.getCreditCardNumberFormatted());};o.prototype.getCreditCardNumberMask=function(){return '**** **** **** '+this[h.CARD_NUMBER];};o.prototype.getMaxCSCLength=function(){var p=this.$P2PCreditCard1(this[h.CARD_TYPE],this[h.CARD_NUMBER]);return p==='amex'?4:3;};o.prototype.getIsVerified=function(){return this.$P2PCreditCard8||false;};o.prototype.setIsVerified=function(p){this.$P2PCreditCard8=p;};o.prototype.getIsMobileVerified=function(){return this.$P2PCreditCard9||false;};o.prototype.setIsMobileVerified=function(p){this.$P2PCreditCard9=p;};o.prototype.getIsPersonalTransferEligible=function(){return !!this.$P2PCreditCard10;};o.prototype.setIsPersonalTransferEligible=function(p){this.$P2PCreditCard10=p;};o.prototype.getCategory=function(){return this.$P2PCreditCard11;};o.prototype.setCategory=function(p){this.$P2PCreditCard11=p;};o.prototype.getCategoryName=function(){switch(this.$P2PCreditCard11){case k.DEBIT_CARD:return l._("Debit");case k.CREDIT_CARD:return l._("Credit");case k.PREPAID_CARD:return l._("Prepaid");default:return null;}};o.prototype.isExpired=function(){var p=this.getExp();if(!p)return false;var q=p.month,r=p.year,s=new Date(),t=s.getFullYear()+'',u=s.getMonth()+1+'';u=u.length===1?'0'+u:u;return r<t||t===r&&q<u;};f.exports=o;},null);
__d('P2PCreditCardStore',['P2PActionConstants','Arbiter','CreditCardFormParam','ChannelConstants','EventEmitter','ImmutableObject','MessengerPaymentProductType','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t,u;if(c.__markCompiled)c.__markCompiled();var v,w,x,y,z,aa,ba=null,ca=false,da=false;function ea(ha,ia){if(ha)aa[ha]=new m(ia);}function fa(ha,ia){ba=ia;if(ha)aa[ha]={error:ia};}t=babelHelpers.inherits(ga,l);u=t&&t.prototype;function ga(){u.constructor.call(this);x=false;y=false;v=[];z=true;aa={};w=s.register(this.onEventDispatched.bind(this));i.subscribe(k.getArbiterType(q.CREDIT_CARD_CHANGED),this.handleChannelCreditCardChanged.bind(this));i.subscribe(k.getArbiterType(q.CREDIT_CARD_DELETED),this.handleChannelCreditCardDeleted.bind(this));}ga.prototype.onEventDispatched=function(ha){var ia=ha.data,ja=ha.type;switch(ja){case h.CREDIT_CARD_SAVING:this.handleCreditCardSaving();this.emit('change');break;case h.CREDIT_CARDS_UPDATED:this.handleCreditCardsUpdated(ia);this.emit('change');break;case h.CREDIT_CARDS_UPDATED_ERROR:this.handleCreditCardsUpdatedError();this.emit('change');break;case h.CHANNEL_EVENTS_ALLOWED:this.handleChannelEventsAllowed();break;case h.CHANNEL_EVENTS_IGNORED:this.handleChannelEventsIgnored();break;case h.CREDIT_CARD_ADDED:this.handleCreditCardAdded(ia);this.emit('change');break;case h.CREDIT_CARD_ADDED_ERROR:this.handleCreditCardAddedError(ia);this.emit('change');break;case h.CREDIT_CARD_ADDED_ERROR_CLEARED:this.handleCreditCardAddedErrorCleared();this.emit('change');break;case h.CREDIT_CARD_DELETED:this.handleCreditCardDeleted(ia);this.emit('change');break;case h.CREDIT_CARD_DELETED_ERROR:this.handleCreditCardDeletedError(ia);this.emit('change');break;case h.CREDIT_CARD_UPDATED:this.handleCreditCardUpdated(ia);this.emit('change');break;case h.CREDIT_CARD_UPDATED_ERROR:this.handleCreditCardUpdatedError(ia);this.emit('change');break;case h.PRESET_CREDIT_CARD_UPDATED:this.handlePresetCreditCardUpdated(ia);this.emit('change');break;case h.PRESET_CREDIT_CARD_UPDATED_ERROR:this.handlePresetCreditCardUpdatedError(ia);this.emit('change');break;case h.CREDIT_CARD_VERIFIED:this.handleCreditCardVerified(ia);this.emit('change');break;case h.CREDIT_CARD_VERIFIED_ERROR:this.handleCreditCardVerifiedError(ia);this.emit('change');break;case h.BIN_NUMBER_VALIDATED:this.handleBINNumberValidated(ia);this.emit('change');break;case h.BIN_NUMBER_VALIDATED_ERROR:this.handleBINNumberValidatedError(ia);this.emit('change');break;}};ga.prototype.handleCreditCardSaving=function(){ca=true;ba=null;};ga.prototype.getAsyncRequestState=function(){return aa;};ga.prototype.isCreditCardsFetchComplete=function(){return x;};ga.prototype.handleCreditCardsUpdated=function(ha){x=true;da=false;v=ha.map(function(ia){return new r(ia);});};ga.prototype.handleCreditCardsUpdatedError=function(){x=true;da=true;};ga.prototype.handleCreditCardAdded=function(ha){ca=false;ea(ha.requestID,ha);if(!this.getCreditCardByCredentialID(ha[j.CREDENTIAL_ID]))v.push(new r(ha));};ga.prototype.handleChannelEventsIgnored=function(){z=false;};ga.prototype.handleChannelEventsAllowed=function(){z=true;};ga.prototype.handleChannelCreditCardChanged=function(ha,ia){if(z&&!this.getCreditCardByCredentialID(ia[j.CREDENTIAL_ID]))p.getAllCreditCards();};ga.prototype.handleCreditCardAddedError=function(ha){ca=false;fa(ha.requestID,ha.errors);};ga.prototype.handleCreditCardAddedErrorCleared=function(){ba=null;};ga.prototype.handleCreditCardDeleted=function(ha){var ia=ha[j.CREDENTIAL_ID];ea(ha.requestID,ha);v=v.filter(function(ja){return ja.getCredentialId()!==ia;});};ga.prototype.handleChannelCreditCardDeleted=function(ha,ia){ia=ia.obj;o.deleteCreditCard(ia);};ga.prototype.handleCreditCardDeletedError=function(ha){fa(ha.requestID,ha.error);};ga.prototype.handleCreditCardUpdated=function(ha){ea(ha.requestID,ha);var ia=this.getCreditCardByCredentialID(ha[j.CREDENTIAL_ID]);if(ia){ia.setExp(ha[j.CARD_EXPIRATION]);ia.setZipCode(ha[j.ZIP]);}};ga.prototype.handleCreditCardUpdatedError=function(ha){fa(ha.requestID,ha.errors);};ga.prototype.handlePresetCreditCardUpdated=function(ha){var ia=ha[j.CREDENTIAL_ID];ea(ha.requestID,ha);var ja=v.filter(function(la){return la.getIsPreset();})[0];if(ja)ja.setIsPreset(false);var ka=this.getCreditCardByCredentialID(ia);if(ka)ka.setIsPreset(true);};ga.prototype.handlePresetCreditCardUpdatedError=function(ha){fa(ha.requestID,ha.error);};ga.prototype.handleCreditCardVerified=function(ha){ea(ha.requestID,ha);var ia=this.getCreditCardByCredentialID(ha[j.CREDENTIAL_ID]);if(ia)ia.setIsVerified(true);};ga.prototype.handleCreditCardVerifiedError=function(ha){fa(ha.requestID,ha.error);};ga.prototype.handleBINNumberValidated=function(ha){ea(ha.requestID,ha);};ga.prototype.handleBINNumberValidatedError=function(ha){fa(ha.requestID,ha.error);};ga.prototype.getAll=function(ha){ha=ha===undefined?n.P2P:ha;if(!y){y=true;p.getAllCreditCards();}return v.filter(function(ia){if(ha===n.P2P)return ia.getIsPersonalTransferEligible();return ia;});};ga.prototype.getCreditCardByCredentialID=function(ha){return v.filter(function(ia){return ia.getCredentialId()===ha;})[0];};ga.prototype.getDispatchToken=function(){return w;};ga.prototype.getSaveErrors=function(){return ba;};ga.prototype.isSaving=function(){return ca;};ga.prototype.failedCreditCardFetch=function(){return da;};f.exports=new ga();},null);
__d('P2PTimeBasedAcceptMessage.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'P2PTimeBasedAcceptMessage',propTypes:{transfer:j.object.isRequired},render:function(){var l=this.props.transfer,m=l.creationTime*1000,n=1000*60*60*24,o=Date.now(),p=(o-m)/n,q=l.expirationTimestamp*1000-o,r=Math.round(Math.max(q/n,1)),s;if(p<=2){s=i._("Add a debit card and it'll go straight to your bank.");}else if(p<=4){s=i._("This money will be sent back in {days left} days. Add a debit card to accept it.",[i.param('days left',r)]);}else if(p<=5){s=i._({"day":"You have {days left} day to add a debit card before the money is sent back to {sender_name}.","days":"You have {days left} days to add a debit card before the money is sent back to {sender_name}."},[i.param('days left',r),i['enum'](r===1?'day':'days',{day:'day',days:'days'}),i.param('sender_name',l.sender.name)]);}else s=i._("You have 24 hours to add a debit card before the money is sent back to {sender_name}.",[i.param('sender_name',l.sender.name)]);return h.createElement('div',null,s);}});f.exports=k;},null);
__d('P2PPendingRecipientNUXJewelBanner.react',['P2PAcceptMoneyDialog.react','P2PActions','P2PCreditCardStore','P2PJewelBanner.react','P2PTimeBasedAcceptMessage.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'P2PPendingRecipientNUXJewelBanner',propTypes:{transfer:o.object.isRequired},getInitialState:function(){return {creditCards:j.getAll()};},creditCardStoreSub:null,componentDidMount:function(){this.creditCardStoreSub=j.addListener('change',this.onCreditCardStoreChange);},componentWillUnmount:function(){if(this.creditCardStoreSub){this.creditCardStoreSub.remove();this.creditCardStoreSub=null;}},onCreditCardStoreChange:function(){var q={creditCards:j.getAll()};if(this.isMounted())this.setState(q);},handleClick:function(){this.showAcceptMoneyDialog();},showAcceptMoneyDialog:function(){i.showDialog(h,{creditCards:this.state.creditCards,onClose:i.hideDialog,transfer:this.props.transfer});},renderTimeBasedMessage:function(){return (m.createElement(l,{transfer:this.props.transfer}));},render:function(){var q=this.props.transfer;if(!j.isCreditCardsFetchComplete())return null;return (m.createElement(k,{bodyText:this.renderTimeBasedMessage(),primaryActionConfig:{onClick:this.handleClick,text:n._("Add Card")},titleText:n._("Accept {currency}{amount} from {sender_name}.",[n.param('currency',q.currency),n.param('amount',q.amount),n.param('sender_name',q.sender.name)])}));}});f.exports=p;},null);
__d('P2PVerificationFlowHelper',['AsyncDialog','AsyncRequest','P2PAPI','P2PTransferParam','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=null,n=null,o=null,p={startVerificationFlow:function(q,r,s){m=q;n=r;o=s||l;h.send(new i('/p2p/verify/dialog/?id='+q));},setupFlowExitHandler:function(q,r,s,t){var u=function(x){o(x);m=null;n=null;o=null;q.destroy();r.destroy();};if(s){q.subscribe('hide',function(){u(t);});}else{var v=false,w=false;q.subscribe('confirm',function(){v=true;});q.subscribe('hide',function(){if(v){q.destroy();r.destroy();}else if(n){r.show();}else u(false);});r.subscribe('confirm',function(){w=true;var x={};x[k.TRANSFER_ID]=m;j.cancelTransaction({formData:x});u(false);});r.subscribe('hide',function(){if(!w)q.show();});}}};f.exports=p;},null);
__d('P2PPendingRecipientVerificationJewelBanner.react',['P2PJewelBanner.react','P2PTransferParam','P2PVerificationFlowHelper','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'P2PPendingRecipientVerificationJewelBanner',propTypes:{transfer:m.object.isRequired},handleClick:function(){j.startVerificationFlow(this.props.transfer[i.TRANSFER_ID],false);},render:function(){return (k.createElement(h,{bodyText:l._("To accept the money {sender_name} sent you, please confirm your information.",[l.param('sender_name',this.props.transfer.sender.name)]),primaryActionConfig:{onClick:this.handleClick,text:l._("Confirm Info")},titleText:l._("Please Confirm Your Info")}));}});f.exports=n;},null);
__d('P2PTransferStore',['Arbiter','P2PActionConstants','ChannelConstants','CurrentUser','CreditCardFormParam','EventEmitter','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher','P2PGKValues','P2PNUXRendererUtils','P2PTransferParam','P2PTransferStatus','Set','MercuryThreadInformer'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';var y,z;if(c.__markCompiled)c.__markCompiled();var aa=c('MercuryThreadInformer').get(),ba=false,ca,da=[],ea,fa={},ga=false,ha=false,ia=new x(),ja=false;function ka(na,oa){if(oa)fa[oa]=new n(na);}function la(na,oa){if(oa)fa[oa]={error:na};}y=babelHelpers.inherits(ma,m);z=y&&y.prototype;function ma(){z.constructor.call(this);h.subscribe(j.getArbiterType(q.TRANSFER_STATUS_CHANGED),this.handleChannelTransferStatusChanged.bind(this));aa.subscribe('messages-received',this.handleMessageReceived.bind(this));s.register(this.onEventDispatched.bind(this));}ma.prototype.onEventDispatched=function(na){var oa=na.data,pa=na.type;switch(pa){case i.TRANSFERS_UPDATED:this.handleTransfersUpdated(oa);this.emit('change');break;case i.TRANSFERS_UPDATED_ERROR:this.handleTransfersUpdatedError(oa);this.emit('change');break;case i.NUX_TRANSFERS_UPDATED:this.handleNUXTransfersUpdated(oa);this.emit('change');break;case i.TRANSFER_ADDED:this.handleTransferAdded(oa);this.emit('change');break;case i.TRANSFER_UPDATED:this.handleTransferUpdated(oa);this.emit('change');break;case i.TRANSFER_ACCEPTED:this.handleTransferAccepted();this.emit('change');break;case i.TRANSFER_DECLINED:this.handleTransferDeclined(oa);this.emit('change');break;case i.EXTENSIVE_TRANSFER_DETAILS_UPDATED:this.handleTransferWithExtensiveDetails(oa);this.emit('change');break;}};ma.prototype.getAsyncRequestState=function(){return fa;};ma.prototype.handleTransfersUpdated=function(na){ea=null;ga=true;var oa=[],pa=na.map(function(ra){var sa={},ta=this.getTransferByID(ra[v.TRANSFER_ID]),ua={};if(ra.creditCard){sa[l.CREDENTIAL_ID]=ra.creditCard[l.CREDENTIAL_ID];sa[l.CARD_NUMBER]=ra.creditCard[l.CARD_NUMBER];sa[l.CARD_TYPE]=ra.creditCard[l.CARD_TYPE];ra.creditCard=new r(sa);}if(ta)for(var va in ta)ua[va]=ra[va]!==null?ra[va]:ta[va];oa.push(ra[v.TRANSFER_ID]);return new n(ra,ua);}.bind(this)),qa=da.filter(function(ra){return oa.indexOf(ra[v.TRANSFER_ID])===-1;});da=pa.concat(qa);da=da.sort(function(ra,sa){return sa.creationTime-ra.creationTime;});};ma.prototype.handleTransfersUpdatedError=function(na){ea=na.error;la(na.requestID,na.error);};ma.prototype.handleNUXTransfersUpdated=function(na){if(!ga)this.handleTransfersUpdated(na);};ma.prototype.handleTransferAdded=function(na){var oa=null;ka(na,na.requestID);if(na&&na.sender&&na.sender.id===k.getID())ja=true;oa=da.filter(function(pa){return (pa[v.TRANSFER_ID]===na[v.TRANSFER_ID]);})[0];if(oa)return;da.push(new n(na));da=da.sort(function(pa,qa){return qa.creationTime-pa.creationTime;});};ma.prototype.handleTransferAddedError=function(na){la(na.requestID,na.errors);};ma.prototype.handleChannelTransferStatusChanged=function(na,oa){oa=oa.obj;o.transferUpdated(oa);};ma.prototype.handleMessageReceived=function(na,oa){for(var pa in oa)if(oa.hasOwnProperty(pa)){var qa=oa[pa];for(var ra=0;ra<qa.length;ra++)if(qa[ra].attachments&&qa[ra].attachments.length){var sa=u.getTransferFromMessage(qa[ra]);if(sa){if(!this.hasReceived()&&sa.receiver.id===k.getID())p.getBannerStates();o.transferAdded(sa);return;}}}};ma.prototype.handleTransferUpdated=function(na){for(var oa=0,pa=da.length;oa<pa;oa++)if(da[oa][v.TRANSFER_ID]===na[v.TRANSFER_ID])da[oa]=n.set(da[oa],na);};ma.prototype.handleTransferAccepted=function(){var na;for(var oa=0,pa=da.length;oa<pa;oa++)if(da[oa][v.STATUS]===w.PENDING_RECIPIENT_NUX){na={};na[v.STATUS]=w.COMPLETED;da[oa]=n.set(da[oa],na);}ha=true;};ma.prototype.handleTransferDeclined=function(na){var oa;for(var pa=0,qa=da.length;pa<qa;pa++)if(da[pa][v.TRANSFER_ID]===na[v.TRANSFER_ID]&&da[pa][v.STATUS]===w.PENDING_RECIPIENT_NUX){oa={};oa[v.STATUS]=w.CANCELED_DECLINED;da[pa]=n.set(da[pa],oa);break;}};ma.prototype.handleTransferUpdatedError=function(na){la(na.requestID,na.errors);};ma.prototype.getTransferByID=function(na){return da.filter(function(oa){return na===oa[v.TRANSFER_ID];})[0];};ma.prototype.getAll=function(na){if(!ba){ba=true;p.getTransactions(na);}return da;};ma.prototype.getNUXTransfer=function(){var na=da.filter(function(oa){return u.isRecipientActionableStatus(oa);})[0];if(!na&&!ca&&!ba){ca=true;p.getNUXTransactions();}return na;};ma.prototype.hasTransfers=function(){return da.length>0;};ma.prototype.hasAccepted=function(){return ha;};ma.prototype.hasReceivedFromSender=function(na){for(var oa=0,pa=da.length;oa<pa;oa++)if(da[oa].sender.id===na)return true;return false;};ma.prototype.hasReceived=function(){for(var na=0,oa=da.length;na<oa;na++)if(da[na].receiver.id===k.getID())return true;return false;};ma.prototype.getTransferFetchError=function(){return ea;};ma.prototype.getTransferWithExtensiveDetailsByID=function(na){if(!ia.has(na)){ia.add(na);p.getExtensiveTransferDetailsByID(na);}};ma.prototype.handleTransferWithExtensiveDetails=function(na){if(this.getTransferByID(na.transfer_id)){this.handleTransferUpdated(na);}else this.handleTransferAdded(na);};ma.prototype.getAllLocal=function(){return da;};ma.prototype.hasSentDuringSession=function(){return ja;};ma.prototype.shouldShowSenderNUX=function(){return (!t.P2PUserAddedCredentialBefore&&!this.hasSentDuringSession());};f.exports=new ma();},null);
__d('P2PJewelBannerContainer.react',['CurrentUser','P2PBannerStore','P2PPaymentRequestsStore','P2PPendingPaymentRequestJewelBanner.react','P2PPendingPushFailJewelBanner.react','P2PPendingRecipientNUXJewelBanner.react','P2PPendingRecipientVerificationJewelBanner.react','P2PTransferParam','P2PTransferStatus','P2PTransferStore','PureStoreBasedStateMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=s.createClass({displayName:'P2PJewelBannerContainer',mixins:[r(i,j,q)],statics:{calculateState:function(){var v=q.getNUXTransfer(),w=j.getPendingPaymentRequest();return {paymentRequest:w,paymentRequestBannerShown:!!w,transfer:v,transferBannerShown:v&&v.receiver.id==h.getID()};}},renderTransferBanner:function(){var v=this.state.transfer,w=v[o.STATUS];switch(w){case p.PENDING_RECIPIENT_NUX:return (s.createElement(m,{transfer:v}));case p.PENDING_RECIPIENT_VERIFICATION:return (s.createElement(n,{transfer:v}));case p.PENDING_PUSH_FAIL:return (s.createElement(l,{transfer:v}));}},renderPaymentRequestBanner:function(){return (s.createElement(k,{paymentRequest:this.state.paymentRequest}));},render:function(){var v;if(this.state.transferBannerShown){v=this.renderTransferBanner();}else if(this.state.paymentRequestBannerShown)v=this.renderPaymentRequestBanner();return (s.createElement('div',{className:"_1xfk"},v));}});f.exports=u;},null);
__d('MercuryThreadlistContainer.react',['Bootloader','immutable','MercuryAPIArgsSource','MercuryFilters','MercuryThreadlistConstants','MessagingTag','P2PJewelBannerContainer.react','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=o.PropTypes,r='search',s=o.createClass({displayName:'MercuryThreadlistContainer',propTypes:{ChildClass:q.func.isRequired,folder:q.string.isRequired,showCount:q.bool,showPresence:q.bool,source:q.string,threadCount:q.number,viewer:q.string.isRequired},getDefaultProps:function(){return {source:j.JEWEL};},getInitialState:function(){return {isLoading:true,isSearching:false,unreadMessageRequestThreads:[],threads:i.Map()};},componentDidMount:function(){h.loadModules(["MercuryOrderedThreadlist","MercuryThreadInformer","MercuryThreads"],function(t,u,v){this._threadlist=t.getForFBID(this.props.viewer);this._threads=v.getForFBID(this.props.viewer);this._informer=u.getForFBID(this.props.viewer);this._subscriptions=new p();this._subscriptions.addSubscriptions(this._informer.subscribe('threadlist-updated',function(w,x){this._updateThreads(this.props.folder,this.props.filter);}.bind(this)));this._handleFolderChange(this.props.folder,this.props.filter);}.bind(this));},componentWillReceiveProps:function(t){if(t.folder!==this.props.folder||t.filter!==this.props.filter)this._handleFolderChange(t.folder,t.filter);},componentWillUnmount:function(){this._cancelThreadsCallback();this._cancelThreadlistCallback();this._subscriptions&&this._subscriptions.release();},render:function(){var t=this.props,u=t.ChildClass,v=t.folder,w=t.filter,x=babelHelpers.objectWithoutProperties(t,['ChildClass','folder','filter']),y=this.state.isSearching?this.state.threads.get(r)||[]:this.state.threads.get(v)||[];return (o.createElement(u,babelHelpers['extends']({},x,{folder:v,isLoaded:!!this._threadlist&&this._threadlist.hasLoadedThreadlist(v,w),isLoading:this.state.isLoading,isSearching:this.state.isSearching,newMessageRequestThreads:this.state.unreadMessageRequestThreads,onLoadMoreRequest:this._loadMoreThreads,onQuery:this._handleQuery,onSearchResults:this._handleSearchResults,p2pJewelBannerContainer:this._renderP2PJewelBannerContainer(),threads:y})));},_renderP2PJewelBannerContainer:function(){return (o.createElement(n,null));},_handleFolderChange:function(t,u){if(t===m.INBOX)this._loadMessageRequestThreads();if(!this._hasInitialThreads(t,u)){this._loadThreads(t,u,this.props.threadCount||l.JEWEL_THREAD_COUNT+3);}else if(this.state.isLoading){this.setState({isLoading:false},function(){this._updateThreads(t,u);}.bind(this));}else this._updateThreads(t,u);},_loadMessageRequestThreads:function(){this._threadlist.getFilteredThreadlist(l.RECENT_THREAD_OFFSET,l.MAX_UNREAD_COUNT,m.PENDING,k.UNREAD,this._updateUnreadMessageRequestThreads,true,this.props.source);},_loadMoreThreads:function(){if(!this.state.isSearching&&!this.state.isLoading&&!this._threadlist.hasLoadedThreadlist(this.props.folder,this.props.filter))this._loadThreads(this.props.folder,this.props.filter,this._getThreadCount(this.props.folder)+l.JEWEL_MORE_COUNT+1);},_loadThreads:function(t,u,v){if(!this._threadlist)return;this._cancelThreadlistCallback();this.setState({isLoading:true},function(){var w=this._threadlist.getFilteredThreadlist(l.RECENT_THREAD_OFFSET,v,t,u||k.ALL,function(x){return this.setState({isLoading:false});}.bind(this),true,this.props.source);this._threadlistSub={subscriberID:w,folder:t,filter:u};}.bind(this));},_updateThreads:function(t,u,v){if(!this._threadlist||!this._threads)return;this._cancelThreadsCallback();var w=v||this._threadlist.getAvailableThreadlistNow(t,u);this._threadsSub=this._threads.getMultiThreadMeta(w,function(x){this.setState({threads:this.state.threads.set(t,w.map(function(y){return x[y];}))});}.bind(this));},_updateUnreadMessageRequestThreads:function(){if(!this._threadlist||!this._threads)return;var t=this._threadlist.getAvailableThreadlistNow(m.PENDING,k.UNREAD);this._threads.getMultiThreadMeta(t,function(u){this.setState({unreadMessageRequestThreads:t.map(function(v){return u[v];})});}.bind(this));},_hasInitialThreads:function(t,u){return !!(this._threadlist&&(this._threadlist.getThreadCount(t,u)>=l.JEWEL_THREAD_COUNT+3||this._threadlist.hasLoadedThreadlist(t,u)));},_getThreadCount:function(t){var u=this.state.threads.get(t);return u?u.length:0;},_cancelThreadsCallback:function(){this._threads&&this._threadsSub&&this._threads.unsubscribe(this._threadsSub);},_cancelThreadlistCallback:function(){this._threadlist&&this._threadlistSub&&this._threadlist.unsubscribe(this._threadlistSub.subscriberID,this._threadlistSub.folder,this._threadlistSub.filter);},_handleSearchResults:function(t,u){this.setState({isLoading:u,searchThreads:[]},function(){return this._updateThreads(r,k.ALL,t);}.bind(this));},_handleQuery:function(t){this.setState({isSearching:!!t});}});f.exports=s;},null);
__d('MessengerMessageRequestsInfo.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,h.Component);l=k&&k.prototype;m.prototype.render=function(){return (h.createElement('div',{className:"_5u15"},j._("Open a request to get more info about who's messaging you."),' ',j._("They won't know you've seen it until you accept.")));};function m(){k.apply(this,arguments);}f.exports=m;},null);
__d('MessengerSearchTypeahead.react',['AbstractTypeahead.react','Image.react','MercuryIDs','MercuryTypeaheadConstants','MercuryVanityIDMap','MessengerActions','MessengerConfig','MessengerSearchSource','MessengerTypeaheadUtils','MessengerTypeaheadView.react','React','WorkModeConfig','cx','fbt','ix','MercuryThreadIDMap','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=c('MercuryThreadIDMap').get(),x=c('MercuryThreads').get(),y=r.PropTypes,z=v('/images/mercury/clients/messenger/threadlist/InboxThreadDismiss.png'),aa=100,ba=s.is_work_user?undefined:[k.FRIEND_TYPE,k.THREAD_TYPE,k.FB4C_TYPE,k.PAGE_TYPE,k.NON_FRIEND_TYPE],ca=r.createClass({displayName:'MessengerSearchTypeahead',propTypes:{isFocused:y.bool,onBlur:y.func,onChange:y.func,onClear:y.func,onFocus:y.func,onScrollIntoView:y.func,queryString:y.string,viewer:y.string.isRequired},getInitialState:function(){return {isLoading:false};},render:function(){var da=n.IsMessengerDesktop?u._("Search"):u._("Search for people and groups");return (r.createElement('div',null,r.createElement(h,{autoHighlight:false,className:"_5iwm"+(this.props.isFocused||!!this.props.queryString?' '+"_5iwn":'')+(' '+"_150g"),onBlur:this.props.onBlur,onChange:this.props.onChange,onFocus:this.props.onFocus,onSelectAttempt:this._handleSelect,placeholder:da,presenter:{ViewRenderer:q,alwaysVisibleOnFocus:true,extraRendererProps:{className:"_11_d",hasHoverState:false,isLoading:this.state.isLoading,onScrollIntoView:this.props.onScrollIntoView,viewer:this.props.viewer,order:ba},maxEntries:aa,sortEntries:this._sortEntries,useLayer:false},queryString:this.props.queryString,role:'search',searchSource:o.getForFBID(this.props.viewer),searchSourceOptions:{onQueryFinished:this._handleQueryFinished,onQueryStarted:this._handleQueryStarted,showDefaultEntries:true},selectOnTab:true,showEntriesOnFocus:true}),r.createElement(i,{onMouseDown:this.props.onClear,className:(!this.props.queryString?"hidden_elem":'')+(' '+"_2xme"),src:z})));},_handleQueryStarted:function(da){if(da===this.props.queryString)this.setState({isLoading:true});},_handleQueryFinished:function(da){if(da===this.props.queryString)this.setState({isLoading:false});},_sortEntries:function(da){return p.sortEntries(da,this.props.queryString);},_handleSelect:function(da){var ea=da.getUniqueID(),fa=da.getType(),ga=da.getAuxiliaryData().alias;if(ga)l.set(ga,j.getParticipantIDFromUserID(ea));if(fa===k.THREAD_TYPE){w.getClientIDFromServerID(ea,function(ha){m.selectThread(ha);});}else x.getThreadMeta(j.getThreadIDFromUserID(ea),function(ha){m.selectThread(ha.thread_id);});}});f.exports=ca;},null);
__d('MessengerThreadlistLinkRow.react',['Link.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes;k=babelHelpers.inherits(n,i.Component);l=k&&k.prototype;n.prototype.render=function(){'use strict';return (i.createElement('li',{className:"_5l-3 _1ht1 _2ogr"},i.createElement('div',{className:"_2ogs"},i.createElement(h,{className:"_2ogt",onClick:this.props.onClick},this.props.children))));};function n(){'use strict';k.apply(this,arguments);}n.propTypes={onClick:m.func.isRequired};f.exports=n;},null);
__d('MessengerThreadlistMessageRequestsRow.react',['Image.react','ImmutableObject','Link.react','MercuryIDs','MercuryParticipants','MessagingTag','MessengerActions','React','cx','fbt','ix','shallowEqual'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=50,u=r('/images/mercury/clients/messenger/threadlist/Pending.png'),v=o.PropTypes,w=o.createClass({displayName:'MessengerThreadlistMessageRequestsRow',propTypes:{newMessageRequestThreads:v.arrayOf(v.instanceOf(i)).isRequired,viewer:v.string.isRequired},shouldComponentUpdate:function(x){return !s(this.props,x);},render:function(){var x=this.props.newMessageRequestThreads.length;if(x===0)return null;return (o.createElement('li',{className:"_5l-3 _1ht1 _2kt",role:'row'},o.createElement(j,{onClick:this._handleClickRow,className:"_1ht5 _5l-3"},this._renderImage(),o.createElement('div',{className:"_1qt4 _5l-m"},o.createElement('div',{className:"_1qt5 _5l-3"},o.createElement('div',{className:"_1ht6 _5nxa"},q._({"Request":"New Message Request","Requests":"New Message Requests"},[q['enum'](x===1?'Request':'Requests',{Request:'Request',Requests:'Requests'})]))),o.createElement('div',{className:"_1qt5 _5l-3"},o.createElement('div',{className:"_1htf _5nxb"},this._renderSnippetText()))))));},_renderImage:function(){return (o.createElement('div',{className:"_5l-3 _1qt3 _5nxe"},o.createElement(h,{alt:'',height:t,src:u,width:t}),o.createElement('span',{className:"_5nxf"},q._({"*":"{count}"},[q.param('count',this.props.newMessageRequestThreads.length,[0])]))));},_renderSnippetText:function(){var x=this.props.newMessageRequestThreads,y=q._({"someone":"From someone you may know","people":"From people you may know"},[q['enum'](x.length===1?'someone':'people',{someone:'someone',people:'people'})]),z=k.getParticipantIDFromUserID(this.props.viewer),aa=x[0].participants.find(function(ca){return ca!==z;});if(!aa)return y;var ba=l.getOrFetch(aa);if(!ba||!ba.name)return y;return x.length===1?q._("From {name}",[q.param('name',ba.name)]):q._({"*":"From {name} and {count} more"},[q.param('name',ba.name),q.param('count',x.length-1,[0])]);},_handleClickRow:function(x){x.preventDefault();n.changeFolder(m.PENDING);}});f.exports=w;},null);
__d('MessengerThreadlistNewMessageRow.react',['Image.react','Link.react','MercuryIDs','MercuryParticipantListRenderer','MercuryParticipants','MercuryParticipantsImage.react','MessengerActions','MessengerComposerStore','MessengerProfileImageWrapper.react','MessengerView','ReactComponentWithPureRenderMixin','PureStoreBasedStateMixin','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=50,y=w('/images/mercury/clients/messenger/threadlist/NewMessage.png'),z=t.PropTypes,aa=t.createClass({displayName:'MessengerThreadlistNewMessageRow',mixins:[r,s(l,o)],propTypes:{isActive:z.bool,onClose:z.func.isRequired},statics:{calculateState:function(){return {participants:o.getState().recipients.map(function(ba){return l.getOrFetch(j.getParticipantIDFromUserID(ba.getUniqueID()));}).filter(function(ba){return !!ba;})};}},render:function(){return (t.createElement('li',{className:"_5l-3"+(' '+"_1ht1")+(this.props.isActive?' '+"_1ht2":'')},t.createElement(i,{onClick:this._handleClickRow,className:"_1ht5 _5l-3"},this._renderImage(),t.createElement('div',{className:"_1qt4 _5l-m"},t.createElement('div',{className:"_1qt5 _5l-3"},t.createElement('div',{className:"_1ht6"},this._renderTitle()),t.createElement('div',{className:"_23ct",onClick:this.props.onClose})),t.createElement('div',{className:"_1qt5 _5l-3"},' ')))));},_renderImage:function(){var ba=this.state.participants;if(!ba.isEmpty())return (t.createElement('div',{className:"_1qt3 _5l-3"},t.createElement(p,{isMessengerUser:ba.size===1&&ba.first().is_messenger_user,size:x,showBadge:ba.size===1},t.createElement(m,{participants:ba.map(function(ca){return ca.id;}).slice(0,3).toArray(),size:x}))));return (t.createElement('div',{className:"_1qt3 _5l-3"},t.createElement(h,{height:x,src:y,width:x})));},_renderTitle:function(){if(this.state.participants.isEmpty())return v._("New message");return v._("New message to {List of message recipients}",[v.param('List of message recipients',new k().renderParticipantList(this.state.participants.toArray()))]);},_handleClickRow:function(ba){ba.preventDefault();n.changeDetailView(q.DETAIL.COMPOSE);}});f.exports=aa;},null);
__d('MercuryThreadlistRowContainer.react',['immutable','ImmutableObject','MercuryParticipants','React','StoreAndPropBasedStateMixin','shallowEqual'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'MercuryThreadlistRowContainer',mixins:[l(j)],propTypes:{ChildClass:n.func.isRequired,thread:n.instanceOf(i).isRequired,viewer:n.string.isRequired},statics:{calculateState:function(p){return {participants:h.Map(h.Seq(p.thread.participants).map(function(q){return [q,j.getOrFetch(q)];}))};}},shouldComponentUpdate:function(p,q){return (!m(p,this.props)||!h.is(q.participants,this.state.participants));},render:function(){var p=this.props,q=p.ChildClass,r=babelHelpers.objectWithoutProperties(p,['ChildClass']);return (k.createElement(q,babelHelpers['extends']({},r,{participants:this.state.participants})));}});f.exports=o;},null);
__d('MercuryThreadTimestamp.react',['ReactComponentWithPureRenderMixin','React','formatDate','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'MercuryThreadTimestamp',mixins:[h],propTypes:{time:l.number,title:l.string,text:l.string},render:function(){var n=this.props.time;if(!n)return i.createElement('abbr',null);return (i.createElement('abbr',{className:k(this.props.className,'timestamp'),title:this.props.title||new Date(n).toLocaleDateString(),'data-utime':n/1000},this.props.text||j(new Date(n),'g:ia')));}});f.exports=m;},null);
__d('MessengerThreadlistRowSeenHead.react',['Image.react','immutable','ImmutableObject','MercuryIDs','MercuryMessageInfo','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=n.createClass({displayName:'MessengerThreadlistRowSeenHead',mixins:[m],propTypes:{isHidden:q.bool,lastMessage:q.instanceOf(j),participants:q.instanceOf(i.Map).isRequired,readReceipts:q.instanceOf(i.OrderedMap).isRequired,thread:q.instanceOf(j).isRequired,viewer:q.string.isRequired},render:function(){if(this.props.isHidden||!this.props.thread.is_canonical)return null;var t=this.props,u=t.lastMessage,v=t.participants,w=t.readReceipts,x=t.thread,y=t.viewer,z=k.getParticipantIDFromUserID(y),aa=k.getParticipantIDFromUserID(x.other_user_fbid),ba=w.get(aa),ca=v.get(aa);if(!ca||!s(z,ba,x,u))return null;return (n.createElement(h,{className:p(this.props.className,"_2_a2"),src:ca.image_src,title:ca.name}));}});function s(t,u,v,w){if(w){return (w.author===t&&u>=w.timestamp&&!l.isSending(w)&&!l.hasError(w));}else return (v.snippet_sender===t&&u>=v.timestamp);}f.exports=r;},null);
__d('MessengerThreadlistRow.react',['Image.react','immutable','ImmutableObject','Link.react','MercuryMessageInfo','MercuryThreadSnippet.react','MercuryThreadTimestamp.react','MercuryThreadTitle.react','MessengerThreadImage.react','MessengerThreadlistRowActions.react','MessengerThreadlistRowSeenHead.react','MessengerURIUtils','ReactComponentWithPureRenderMixin','React','ReactDOM','UserAgent','cx','fbt','ix','joinClasses','messengerRTLClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){'use strict';if(c.__markCompiled)c.__markCompiled();var ca=u.PropTypes,da=50,ea=z('/images/mercury/clients/messenger/message/messageStateFailed.png'),fa=z('/images/mercury/clients/messenger/message/messageStateSending.png'),ga=u.createClass({displayName:'MessengerThreadlistRow',mixins:[t],propTypes:{isActive:ca.bool.isRequired,isActionsFocused:ca.bool,isFocused:ca.bool,isMuted:ca.bool.isRequired,lastMessage:ca.instanceOf(j),onArchive:ca.func.isRequired,onDelete:ca.func.isRequired,onMarkRead:ca.func.isRequired,onMarkSpam:ca.func.isRequired,onMarkUnread:ca.func.isRequired,onMute:ca.func.isRequired,onSelect:ca.func.isRequired,onUnmute:ca.func.isRequired,participants:ca.instanceOf(i.Map).isRequired,readReceipts:ca.instanceOf(i.OrderedMap).isRequired,thread:ca.instanceOf(j).isRequired,viewer:ca.string.isRequired},_dragState:0,_dragTimeout:null,getInitialState:function(){return {actionsOpen:false};},componentDidUpdate:function(ha){if(this.props.isFocused)if(this.props.isActionsFocused){v.findDOMNode(this.refs.actions.refs.button).focus();}else v.findDOMNode(this.refs.link).focus();},render:function(){var ha=this.props,ia=ha.isActive,ja=ha.isTabbable,ka=ha.participants,la=ha.thread,ma=ha.viewer,na=la.unread_count>0,oa=s.getURIForThreadID(la.thread_id);return (u.createElement('li',{'aria-live':na?'polite':null,'aria-relevant':ia||na?'additions text':null,onFocus:this._handleFocus,onBlur:this.props.onBlur,className:"_5l-3"+(' '+"_1ht1")+(this.props.isActive?' '+"_1ht2":'')+(na?' '+"_1ht3":'')+(this.state.actionsOpen?' '+"_13aa":'')+(this.props.isMuted?' '+"_569x":'')+(this.props.isFocused?' '+"_23_m":'')+(na&&w.isBrowser('Chrome')&&!w.isPlatform('Windows')?' '+"_5fx8":''),onDragEnter:ia?null:this._handleDragEnter,onDragLeave:ia?null:this._handleDragLeave,role:'row'},u.createElement('div',{className:"_5l-3 _1ht5",id:this._getRowheaderID(la.thread_id),role:'rowheader',tabindex:-1},u.createElement(k,{href:oa.toString(),onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseOut:this._handleMouseOut,onMouseOver:this._handleMouseOver,className:"_1ht5 _5l-3",ref:'link',tabIndex:ja?0:-1},u.createElement('div',{className:"_1qt3 _5l-3"},u.createElement(p,{participants:ka,size:da,thread:la,viewer:ma})),u.createElement('div',{className:"_1qt4 _5l-m"},u.createElement('div',{className:"_1qt5 _5l-3"},u.createElement(o,{className:"_1ht6",showUnreadCount:false,thread:la,useShortName:false,viewer:ma}),u.createElement('div',null,u.createElement(n,{className:"_1ht7",time:la.timestamp,title:la.timestamp_absolute,text:la.timestamp_relative}))),u.createElement('div',{className:"_1qt5 _5l-3"},u.createElement(m,{className:aa("_1htf",ba(la.snippet,true)),participants:ka,shouldRenderYou:true,thread:la,viewer:ma}))))),u.createElement('div',{role:'gridcell',tabindex:'-1'},u.createElement('div',{'aria-describedby':this._getRowheaderID(la.thread_id),'aria-haspopup':'true','aria-label':y._("Actions"),className:"_2j6 _5l-3",role:'button'},u.createElement(r,{className:"_5bli",isHidden:this.state.actionsOpen,lastMessage:this.props.lastMessage,participants:ka,readReceipts:this.props.readReceipts,thread:la,viewer:ma}),this._renderSendingState(),u.createElement(q,{className:"_5blh",isMuted:this.props.isMuted,isOpen:this.state.actionsOpen,isUnread:na,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onToggle:this._handleActionsToggle,onUnmute:this.props.onUnmute,showLeaveGroup:this.props.showLeaveGroup,showMute:true,ref:'actions'}),u.createElement('div',{className:"_56ck"})))));},_renderSendingState:function(){var ha=this.props.lastMessage;if(this.state.actionsOpen||!ha)return null;var ia=l.isSending(ha),ja=l.hasError(ha);if(!ia&&!ja)return null;return (u.createElement(h,{className:"_wtw"+(ia?' '+"_3qh2":''),src:ia?fa:ea}));},_handleFocus:function(ha){ha.preventDefault();this.props.onFocus(this.props.thread.thread_id);},_handleDragEnter:function(ha){this._dragState++;if(this._dragTimeout)return;this._dragTimeout=setTimeout(function(){this.props.onSelect&&this.props.onSelect();this._dragState=0;this._dragTimeout=null;}.bind(this),1000);},_handleDragLeave:function(ha){this._dragState--;if(this._dragState===0){clearTimeout(this._dragTimeout);this._dragTimeout=null;}},_handleClick:function(ha){ha.preventDefault();this.props.onSelect&&this.props.onSelect();},_handleActionsToggle:function(ha){this.setState({actionsOpen:ha});},_getRowheaderID:function(ha){return 'row_header_id_'+ha;},_handleMouseDown:function(ha){this._unhideHref();},_handleMouseOut:function(ha){this._unhideHref();},_handleMouseOver:function(ha){this._hideHref();},_hideHref:function(){var ha=v.findDOMNode(this.refs.link);if(ha.href){ha.setAttribute('data-href',ha.href);ha.removeAttribute('href');}},_unhideHref:function(){var ha=v.findDOMNode(this.refs.link),ia=ha.getAttribute('data-href');if(ia){ha.setAttribute('href',ia);ha.removeAttribute('data-href');}}});f.exports=ga;},null);
__d('MessengerThreadlistRowContainer.react',['ImmutableObject','MercuryIDs','MercuryLogMessageType','MercuryMessageActions','MercuryMessageObject','MercuryMessages','MercurySourceType','MercuryThreadActions','MercuryThreadInfo','MercuryThreadlistRowContainer.react','MessengerActions','MessengerConfirmLeaveGroupDialog.react','MessengerThreadlistRow.react','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin','MercuryRoger'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=c('MercuryRoger').get(),z=v.PropTypes,aa=v.createClass({displayName:'MessengerThreadlistRowContainer',mixins:[u,x(m,y)],propTypes:{isActive:z.bool.isRequired,thread:z.instanceOf(h).isRequired,viewer:z.string.isRequired},statics:{calculateState:function(ba){var ca=m.getForFBID(ba.viewer),da=ba.thread.thread_id,ea=ca.getThreadMessagesRangeNow(da,0,1)[0];return {lastMessage:ea||null,readReceipts:y.getSeenTimestamps(da)};}},componentDidUpdate:function(ba){if(this.props.isActive&&!ba.isActive)this.props.onScrollIntoView(w.findDOMNode(this));},render:function(){return (v.createElement(q,babelHelpers['extends']({},this.props,{ChildClass:t,isMuted:p.isMuted(this.props.thread),lastMessage:this.state.lastMessage,onArchive:this._handleArchive,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onSelect:this._handleSelect,onUnmute:this._handleUnmute,readReceipts:this.state.readReceipts,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical})));},_handleArchive:function(){var ba=this.props.isActive;this._getThreadActions().archive(this.props.thread.thread_id);ba&&r.selectThread(null);},_handleDelete:function(){var ba=this.props.isActive;this._getThreadActions()['delete'](this.props.thread.thread_id);ba&&r.selectThread(null);},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id);},_handleMarkSpam:function(){var ba=this.props.isActive;this._getThreadActions().markSpam(this.props.thread.thread_id);ba&&r.selectThread(null);},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id);},_handleMute:function(ba){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,ba);},_handleSelect:function(){r.selectThread(this.props.thread.thread_id);},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id);},_handleLeaveGroup:function(){r.showDialog(s,{onLeave:this._onLeaveGroupConfirm});},_onLeaveGroupConfirm:function(){if(!p.isEmptyLocalThread(this.props.thread)){var ba=this._getMessageObject().constructLogMessageObject(n.MESSENGER_WEB,this.props.thread.thread_id,j.UNSUBSCRIBE,{removed_participants:[i.getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(ba);}},_getThreadActions:function(){return o.getForFBID(this.props.viewer);},_getMessageActions:function(){return k.getForFBID(this.props.viewer);},_getMessageObject:function(){return l.getForFBID(this.props.viewer);}});f.exports=aa;},null);
__d('MessengerThreadlist.react',['ImmutableObject','KeyEventController','Link.react','MercuryThreadInfo','MessagingTag','MessengerActions','MessengerComposerActions','MessengerDialogStore','MessengerFlexScrollableArea.react','MessengerMessageRequestsInfo.react','MessengerNewMessagesNotice.react','MessengerSearchTypeahead.react','MessengerSpinner.react','MessengerThreadlistLinkRow.react','MessengerThreadlistMessageRequestsRow.react','MessengerThreadlistNewMessageRow.react','MessengerThreadlistRowContainer.react','MessengerTypeaheadUtils','MessengerView','Parent','PureStoreBasedStateMixin','React','SubscriptionsHandler','csx','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){'use strict';if(c.__markCompiled)c.__markCompiled();var ia=ca.PropTypes;function ja(ma,na,oa){if(!(ma&&na))return false;var pa=ma[0]||0,qa=na[0]||0;return !!(pa&&qa&&pa.unread_count&&pa.thread_id!==oa&&(pa.unread_count!==qa.unread_count||pa!==qa)&&!k.isMuted(pa));}function ka(event,ma){return !!(!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&i.filterEventTypes(event,ma)&&i.filterEventTargets(event,ma)&&!aa.bySelector(event.getTarget(),"._150g"));}var la=ca.createClass({displayName:'MessengerThreadlist',mixins:[ba(o)],propTypes:{activeThreadID:ia.string,folder:ia.string.isRequired,isComposing:ia.bool,isLoaded:ia.bool,isLoading:ia.bool,isNewMessageActive:ia.bool,newMessageRequestThreads:ia.arrayOf(ia.instanceOf(h)).isRequired,onLoadMoreRequest:ia.func,threads:ia.arrayOf(ia.instanceOf(h)).isRequired,viewer:ia.string.isRequired},statics:{calculateState:function(){return {dialogShown:!!o.getState().dialogClass};}},_subscriptions:null,getInitialState:function(){return {focusedThreadID:null,isSearchFocused:false,isThreadActionMenuFocused:false,queryString:'',searchResults:[],showNewMessagesNotice:false};},componentDidMount:function(){var ma=new da();ma.addSubscriptions(i.registerKey('UP',function(na){return this._handleArrowKey(-1,na);}.bind(this),ka),i.registerKey('DOWN',function(na){return this._handleArrowKey(1,na);}.bind(this),ka),i.registerKey('PAGE_UP',function(na){return this._handleArrowKey(-5,na);}.bind(this)),i.registerKey('PAGE_DOWN',function(na){return this._handleArrowKey(5,na);}.bind(this)),i.registerKey('HOME',function(na){return this._handleArrowKey(-this.props.threads.length,na);}.bind(this)),i.registerKey('END',function(na){return this._handleArrowKey(this.props.threads.length,na);}.bind(this)),i.registerKey('LEFT',function(na){return this._handleActionsFocus(false);}.bind(this)),i.registerKey('RIGHT',function(na){return this._handleActionsFocus(true);}.bind(this)));this._subscriptions=ma;},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},componentWillReceiveProps:function(ma){var na=this.refs.scrollable.isScrolledToTop();if(!na&&ja(ma.threads,this.props.threads,ma.activeThreadID)){this.setState({showNewMessagesNotice:true});}else this.setState({showNewMessagesNotice:this.state.showNewMessagesNotice&&!na});},componentDidUpdate:function(ma,na){if(this.state.isSearchFocused!==na.isSearchFocused||this.props.isComposing&&!ma.isComposing)this.refs.scrollable&&this.refs.scrollable.scrollToTop();},render:function(){var ma=this.state.showNewMessagesNotice&&!this.state.isSearchFocused,na=ga._("Conversations"),oa=ga._("Conversation List");return (ca.createElement('div',{className:"_2xhi"},ca.createElement(r,{isOpen:ma,onClick:this._handleNewMessageNoticeClick}),ca.createElement(p,{onScroll:this._handleScroll,ref:'scrollable'},this.props.folder===l.INBOX?ca.createElement(s,{isFocused:this.state.isSearchFocused,onBlur:this._handleBlur,onChange:this._handleChange,onClear:this._handleClear,onFocus:this._handleFocus,onScrollIntoView:this._handleScrollIntoView,queryString:this.state.queryString,viewer:this.props.viewer}):null,this.props.folder===l.PENDING?ca.createElement(q,null):null,ca.createElement('div',{'aria-label':na,className:this.state.isSearchFocused?"accessible_elem":'',role:'navigation'},ca.createElement('h2',{className:"accessible_elem"},oa),ca.createElement('ul',{'aria-label':oa,className:"_48e9",role:'grid',onBlur:this._handleThreadBlur},this.props.folder===l.INBOX&&this.props.newMessageRequestThreads.length?ca.createElement(v,{newMessageRequestThreads:this.props.newMessageRequestThreads,viewer:this.props.viewer}):null,this.props.isComposing?ca.createElement(w,{isActive:this.props.isNewMessageActive,onClose:this._handleCloseNewMessage}):null,this.props.threads.map(function(pa){return (ca.createElement(x,{isActive:pa.thread_id===this.props.activeThreadID,isFocused:pa.thread_id===this.state.focusedThreadID,isActionsFocused:this.state.isThreadActionMenuFocused,isTabbable:!!(pa.thread_id===this.props.activeThreadID&&!this.state.focusedThreadID),key:pa.thread_id,onFocus:this._handleThreadFocus,onScrollIntoView:this._handleScrollIntoView,thread:pa,viewer:this.props.viewer}));}.bind(this)),this.props.folder===l.PENDING?ca.createElement(u,{onClick:this._handleFilteredRequestsClick},ga._("See filtered requests")):null),this._renderLoadMoreLink()))));},_renderLoadMoreLink:function(){if(this.props.isLoaded)return null;if(this.props.isLoading)return (ca.createElement('div',{className:"_19hf"},ca.createElement(t,null)));return (ca.createElement('div',{className:"_19hf"},ca.createElement(j,{href:'#',onClick:this._handleLoadMoreClick,tabIndex:-1},ga._("Show Older"))));},_handleScroll:function(){if(this.props.isLoaded||this.state.isSearchFocused)return;if(this.refs.scrollable.isScrolledToBottom())this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();if(this.refs.scrollable.isScrolledToTop()&&this.state.showNewMessagesNotice)this.setState({showNewMessagesNotice:false});},_handleLoadMoreClick:function(ma){ma.preventDefault();this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();},_handleNewMessageNoticeClick:function(ma){ma.preventDefault();this.setState({showNewMessagesNotice:false});this.refs.scrollable.scrollToTop();},_handleArrowKey:function(ma,na){var oa=na.altKey,pa=na.target;if(oa&&aa.bySelector(pa,"._4rv3")){if(this.state.dialogShown)return;if(this.props.isNewMessageActive){if(ma===1&&this.props.threads[0])m.selectThread(this.props.threads[0].thread_id);return;}var qa=this.props.threads.findIndex(function(sa){return sa.thread_id===this.props.activeThreadID;}.bind(this));if(qa===-1)return;var ra=this.props.threads[qa+ma];if(ra){m.selectThread(ra.thread_id);}else if(this.props.isComposing&&qa===0&&ma===-1)m.changeDetailView(z.DETAIL.COMPOSE);if(qa===this.props.threads.length-1)this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();}else if(this.state.focusedThreadID&&aa.bySelector(pa,"._1ht1"))this._updateThreadFocus(ma);},_handleActionsFocus:function(ma){this.setState({isThreadActionMenuFocused:ma});},_handleThreadFocus:function(ma){this.setState({focusedThreadID:ma===this.state.focusedThreadID?null:ma});},_handleThreadBlur:function(ma){if(ma.relatedTarget&&!aa.bySelector(ma.relatedTarget,"._48e9"))this.setState({focusedThreadID:null,isThreadActionMenuFocused:false});},_updateThreadFocus:function(ma){var na=-1;this.props.threads.some(function(pa,qa){if(pa.thread_id===this.state.focusedThreadID){na=qa;return true;}}.bind(this));var oa=Math.min(Math.max(0,na+ma),this.props.threads.length-1);this.setState({focusedThreadID:this.props.threads[oa].thread_id});},_handleFocus:function(){this.setState({isSearchFocused:true});},_handleBlur:function(){this.setState({isSearchFocused:false,queryString:''});},_handleChange:function(event){!(event.target instanceof HTMLInputElement)?ha(0):undefined;this.setState({queryString:event.target.value});},_handleClear:function(){this.setState({queryString:''});},_handleScrollIntoView:function(ma){y.scrollEntryIntoView(ma,this.refs.scrollable);},_handleCloseNewMessage:function(ma){ma.stopPropagation();n.exitComposeState();if(this.props.isNewMessageActive){var na=this.props.threads.find(function(oa){return oa.unread_count===0;});m.selectThread(na?na.thread_id:null);}},_handleFilteredRequestsClick:function(ma){ma.preventDefault();m.changeFolder(l.OTHER);}});f.exports=la;},null);
__d('MessengerRecentContainer.react',['MercuryAPIArgsSource','MercuryThreadlistContainer.react','MessengerComposerSteps','MessengerComposerStore','MessengerThreadlist.react','PureStoreBasedStateMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.PropTypes,p=n.createClass({displayName:'MessengerRecentContainer',mixins:[m(k)],propTypes:{activeThreadID:o.string,filter:o.string.isRequired,folder:o.string.isRequired,viewer:o.string.isRequired},statics:{calculateState:function(){return {isComposing:k.getState().step!==j.NULL};}},render:function(){return (n.createElement(i,{ChildClass:l,activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isComposing:this.state.isComposing,isNewMessageActive:this.props.isNewMessageActive,source:h.WEBMESSENGER,viewer:this.props.viewer}));}});f.exports=p;},null);
__d('MessengerMasterView.react',['MessengerMasterViewHeader.react','MessengerPeopleList.react','MessengerRecentContainer.react','MessengerView','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'MessengerMasterView',mixins:[l],propTypes:{activeThreadID:n.string,detailView:n.string,filter:n.string,folder:n.string.isRequired,view:n.string.isRequired,viewer:n.string.isRequired},render:function(){return (m.createElement('div',null,m.createElement(h,{filter:this.props.filter,folder:this.props.folder,view:this.props.view,viewer:this.props.viewer}),this._renderMainView()));},_renderMainView:function(){switch(this.props.view){case k.MASTER.PEOPLE:return m.createElement(i,{viewer:this.props.viewer});case k.MASTER.RECENT:return (m.createElement(j,{activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isNewMessageActive:this.props.detailView===k.DETAIL.COMPOSE,viewer:this.props.viewer}));default:throw 'Unknown master view: '+this.props.view;}}});f.exports=o;},null);
__d('P2PDialogStore',['EventEmitter','P2PActionConstants','P2PDispatcher'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m,n={};k=babelHelpers.inherits(o,h);l=k&&k.prototype;function o(){l.constructor.call(this);m=j.register(this.onEventDispatched.bind(this));n={dialogClass:null,dialogProps:null};}o.prototype.getState=function(){return n;};o.prototype.onEventDispatched=function(p){var q=p.type,r=p.data;switch(q){case i.DIALOG_SHOWN:n.dialogClass=r.dialogClass;n.dialogProps=r.dialogProps;this.emit('change');break;case i.DIALOG_CLOSED:n.dialogClass=null;n.dialogProps=null;this.emit('change');break;}};f.exports=new o();},null);
__d('P2PDialogContainer.react',['P2PDialogStore','React','ReactLayeredComponentMixin'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.createClass({displayName:'P2PDialogContainer',mixins:[j],getInitialState:function(){return h.getState();},componentDidMount:function(){this.dialogStoreSub=h.addListener('change',this.onDialogStoreChange);},componentWillUnmount:function(){if(this.dialogStoreSub){this.dialogStoreSub.remove();this.dialogStoreSub=null;}},onDialogStoreChange:function(){this.setState(h.getState());},renderLayers:function(){if(!this.state.dialogClass)return {};var l=this.state.dialogClass;return {dialog:i.createElement(l,this.state.dialogProps)};},render:function(){return null;}});f.exports=k;},null);
__d('Messenger.react',['CurrentUser','MessengerBanner.react','MessengerBugNub.react','MessengerDetailView.react','MessengerDialogContainer.react','MessengerMasterView.react','MessengerStateStore','MNCommerceDialogContainer.react','P2PDialogContainer.react','ReactComponentWithPureRenderMixin','PureStoreBasedStateMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=s.PropTypes,v=s.createClass({displayName:'Messenger',mixins:[q,r(n)],propTypes:{isBetaEnabled:u.bool,mobileAppInfo:u.shape({hasMessenger:u.bool.isRequired,messengerPushable:u.bool.isRequired}).isRequired,promotionData:u.object,viewer:u.string.isRequired},statics:{calculateState:function(){return n.getState();}},componentWillUnmount:function(){n.unregister();},render:function(){return (s.createElement('div',null,s.createElement(i,{mobileAppInfo:this.props.mobileAppInfo,promotionData:this.props.promotionData}),s.createElement('div',{className:"_4sp8 _li",onDragEnter:function(w){return w.preventDefault();},onDragOver:function(w){return w.preventDefault();},onDrop:function(w){return w.preventDefault();}},s.createElement('div',{className:"_1enh"},s.createElement(m,{activeThreadID:this.state.activeThreadID,detailView:this.state.detailView,folder:this.state.folder,filter:this.state.filter,view:this.state.masterView,viewer:h.getID()}),h.isEmployee()?s.createElement(j,{isBetaEnabled:this.props.isBetaEnabled}):null),s.createElement(k,{activeThreadID:this.state.activeThreadID,view:this.state.detailView,viewer:h.getID()}),s.createElement(l,null),s.createElement(o,null),s.createElement(p,null))));}});f.exports=v;},null);
__d('FBRTCCallSummaryUploader',['Banzai','FBRTCCallSummary','FBRTCCallSummaryStore'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={init:function(){var l=j.getInstance();h.subscribe(h.SEND,function(){i.logSavedSummaries(l);});}};f.exports=k;},null);
__d('MessengerRTCMessageHandler',['Bootloader','FBRTCCallSummaryUploader','FBRTCMessageListener','FBRTCSupport'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=null,m={init:function(){if(k.isReceiveWebrtcSupported()){i.init();j.init(false);j.once('messageReceived',function(o){n();});}}};function n(){if(!l)h.loadModules(["FBRTCIncomingCallController","MessengerRTCIncomingDialogController","MessengerRTCMissedCallDialogController","MessengerRTCUnsupportedBrowserDialogController"],function(o,p,q,r){l=new o(p,r,q);j.setMessageHandler(l.onMessageReceived,l);});}f.exports=m;},null);
__d('DOMScroll',['Arbiter','Bootloader','DOM','DOMQuery','Run','Vector','ViewportBounds','ge','emptyFunction','ifRequired','isAsyncScrollQuery'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();l.onAfterLoad(function(){i.loadModules(["Animation"],p);});var s={SCROLL:'dom-scroll',getScrollState:function(){var t=m.getViewportDimensions(),u=m.getDocumentDimensions(),v=u.x>t.x,w=u.y>t.y;v+=0;w+=0;return new m(v,w);},_scrollbarSize:null,_initScrollbarSize:function(){var t=j.create('p');t.style.width='100%';t.style.height='200px';var u=j.create('div');u.style.position='absolute';u.style.top='0px';u.style.left='0px';u.style.visibility='hidden';u.style.width='200px';u.style.height='150px';u.style.overflow='hidden';u.appendChild(t);document.body.appendChild(u);var v=t.offsetWidth;u.style.overflow='scroll';var w=t.offsetWidth;if(v==w)w=u.clientWidth;document.body.removeChild(u);s._scrollbarSize=v-w;},getScrollbarSize:function(){if(s._scrollbarSize===null)s._initScrollbarSize();return s._scrollbarSize;},scrollTo:function(t,u,v,w,x,y){if(typeof u=='undefined'||u===true)u=750;if(r())u=false;if(!(t instanceof m)){var z=m.getScrollPosition().x,aa=m.getElementPosition(o(t)).y;t=new m(z,aa,'document');if(!w)t.y-=n.getTop()/(v?2:1);}if(v){t.y-=m.getViewportDimensions().y/2;}else if(w){t.y-=m.getViewportDimensions().y;t.y+=w;}if(x)t.y-=x;t=t.convertTo('document');if(u){q('Animation',function(ba){return new ba(document.body).to('scrollTop',t.y).to('scrollLeft',t.x).ease(ba.ease.end).duration(u).ondone(y).go();},function(){window.scrollTo(t.x,t.y);y&&y();});}else{window.scrollTo(t.x,t.y);y&&y();}h.inform(s.SCROLL);},ensureVisible:function(t,u,v,w,x){if(v===undefined)v=10;t=o(t);if(u)t=k.find(t,u);var y=m.getScrollPosition().x,z=m.getScrollPosition().y,aa=z+m.getViewportDimensions().y,ba=m.getElementPosition(t).y,ca=ba+m.getElementDimensions(t).y;ba-=n.getTop();ba-=v;ca+=v;if(ba<z){s.scrollTo(new m(y,ba,'document'),w,false,false,0,x);}else if(ca>aa)if(ba-(ca-aa)<z){s.scrollTo(new m(y,ba,'document'),w,false,false,0,x);}else s.scrollTo(new m(y,ca,'document'),w,false,true,0,x);},scrollToTop:function(t){var u=m.getScrollPosition();s.scrollTo(new m(u.x,0,'document'),t!==false);}};f.exports=s;},null);
__d('goOrReplace',['URI'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=new h(k),n=b.Quickling;if(j.pathname=='/'&&m.getPath()!='/'&&n&&n.isActive()&&n.isPageActive(m)){var o=j.search?{}:{q:''};m=new h().setPath('/').setQueryData(o).setFragment(m.getUnqualifiedURI().toString());k=m.toString();}if(l){j.replace(k);}else if(j.href==k){j.reload();}else j.href=k;}f.exports=i;},null);
__d('HistoryManager',['Cookie','Env','Event','URI','UserAgent_DEPRECATED','isFacebookURI','emptyFunction','goOrReplace','isInIframe','setIntervalAcrossTransitions','SessionName'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();c('SessionName');var r={history:null,current:0,fragment:null,isInitialized:function(){return !!r._initialized;},init:function(){if(!i.ALLOW_TRANSITION_IN_IFRAME&&p())return;if(r._initialized)return r;var s=new k(window.location.href),t=s.getFragment()||'';if(t.charAt(0)==='!'){t=t.substr(1);s.setFragment(t);}Object.assign(r,{_initialized:true,fragment:t,orig_fragment:t,history:[s],callbacks:[],lastChanged:Date.now(),canonical:new k('#'),user:0,enabled:true,debug:n});if(window.history&&history.pushState){this.lastURI=document.URL;window.history.replaceState(this.lastURI,null);j.listen(window,'popstate',function(u){var v=u&&u.state&&typeof u.state==='string';if(v&&r.lastURI!=u.state){r.lastURI=u.state;r.lastChanged=Date.now();r.notify(new k(u.state).getUnqualifiedURI().toString());}}.bind(r));if(l.webkit()<534||l.chrome()<=13){q(r.checkURI,42);r._updateRefererURI(this.lastURI);}return r;}r._updateRefererURI(k.getRequestURI(false));if(l.webkit()<500||l.firefox()<2){r.enabled=false;return r;}if('onhashchange' in window){j.listen(window,'hashchange',function(){setTimeout(r.checkURI.bind(r),0);});}else q(r.checkURI,42);return r;},registerURIHandler:function(s){r.callbacks.push(s);return r;},setCanonicalLocation:function(s){r.canonical=new k(s);return r;},notify:function(s){if(s==r.orig_fragment)s=r.canonical.getFragment();for(var t=0;t<r.callbacks.length;t++)try{if(r.callbacks[t](s))return true;}catch(u){}return false;},checkURI:function(){if(Date.now()-r.lastChanged<400)return;if(window.history&&history.pushState){var s=new k(document.URL).removeQueryData('ref').toString(),t=new k(r.lastURI).removeQueryData('ref').toString();if(s!=t){r.lastChanged=Date.now();r.lastURI=s;if(l.webkit()<534)r._updateRefererURI(s);r.notify(new k(s).getUnqualifiedURI().toString());}return;}if(l.webkit()&&window.history.length==200){if(!r.warned)r.warned=true;return;}var u=new k(window.location.href).getFragment();if(u.charAt(0)=='!')u=u.substr(1);u=u.replace(/%23/g,'#');if(u!=r.fragment.replace(/%23/g,'#')){r.debug([u,' vs ',r.fragment,'whl: ',window.history.length,'QHL: ',r.history.length].join(' '));for(var v=r.history.length-1;v>=0;--v)if(r.history[v].getFragment().replace(/%23/g,'#')==u)break;++r.user;if(v>=0){r.go(v-r.current);}else r.go('#'+u);--r.user;}},_updateRefererURI:function(s){s=s.toString();if(s.charAt(0)!='/'&&s.indexOf('//')==-1)return;var t=new k(window.location);if(m(t)){var u=t.getPath()+window.location.search;}else var u='';var v=new k(s).getQualifiedURI().setFragment(u).toString(),w=2048;if(v.length>w)v=v.substring(0,w)+'...';h.set('x-referer',v);},go:function(s,t,u){if(window.history&&history.pushState){t||typeof s=='number';var v=new k(s).removeQueryData('ref').toString();r.lastChanged=Date.now();this.lastURI=v;if(u){window.history.replaceState(s,null,v);}else window.history.pushState(s,null,v);if(l.webkit()<534)r._updateRefererURI(s);return false;}r.debug('go: '+s);if(t===undefined)t=true;if(!r.enabled)if(!t)return false;if(typeof s=='number'){if(!s)return false;var w=s+r.current,x=Math.max(0,Math.min(r.history.length-1,w));r.current=x;w=r.history[x].getFragment()||r.orig_fragment;w=new k(w).removeQueryData('ref').getUnqualifiedURI().toString();r.fragment=w;r.lastChanged=Date.now();if(!r.user)o(window.location,window.location.href.split('#')[0]+'#!'+w,u);if(t)r.notify(w);r._updateRefererURI(w);return false;}s=new k(s);if(s.getDomain()==new k(window.location.href).getDomain())s=new k('#'+s.getUnqualifiedURI());var y=r.history[r.current].getFragment(),z=s.getFragment();if(z==y||y==r.orig_fragment&&z==r.canonical.getFragment()){if(t)r.notify(z);r._updateRefererURI(z);return false;}if(u)r.current--;var aa=r.history.length-r.current-1;r.history.splice(r.current+1,aa);r.history.push(new k(s));return r.go(1,t,u);},getCurrentFragment:function(){var s=k.getRequestURI(false).getFragment();return s==r.orig_fragment?r.canonical.getFragment():s;}};f.exports=r;},null);
__d('PageTransitions',['Arbiter','Bootloader','DOMQuery','DOMScroll','Env','Event','HistoryManager','JSLogger','LayerHideOnEscape','ModalLayer','PageHooks','PageTransitionsConfig','PageTransitionsRegistrar','React','ScriptPath','URI','Vector','areEqual','clickRefAction','escapeJSQuotes','ge','goOrReplace','invariant','isInIframe','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){if(c.__markCompiled)c.__markCompiled();var ga={};function ha(la,ma){ga[la.getUnqualifiedURI()]=ma;}function ia(la){return ga[la.getUnqualifiedURI()];}function ja(la){delete ga[la.getUnqualifiedURI()];}var ka={_scroll_locked:false,_transitions_disabled:false,isInitialized:function(){return !!ka._initialized;},_init:function(){if(!l.ALLOW_TRANSITION_IN_IFRAME&&ea())return;if(ka._initialized)return ka;var la=t.getMostRecentURI();ka._current_uri=la;ka._most_recent_uri=la;ka._next_uri=la;ka._initialized=true;var ma,na=w.getRequestURI(false);if(na.getFragment().startsWith('/')){ma=na.getFragment();}else ma=la;n.init().setCanonicalLocation('#'+ma).registerURIHandler(ka._historyManagerHandler);m.listen(window,'scroll',function(){if(!ka._scroll_locked)ha(ka._current_uri,x.getScrollPosition());});return ka;},registerHandler:t.registerHandler,removeHandler:t.removeHandler,getCurrentURI:function(la){this._init();if(!ka._current_uri&&!la)return new w(ka._most_recent_uri);return new w(ka._current_uri);},getMostRecentURI:function(){this._init();return new w(ka._most_recent_uri);},go:function(la,ma){this._init();var na=new w(la).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:na.toString()});ja(na);!ma&&z('uri',{href:na.toString()},null,'INDIRECT');ka._loadPage(na,function(oa){if(oa){q.unfixed(function(){n.go(na.toString(),false,ma);});}else ca(window.location,na,ma);});},_historyManagerHandler:function(la){if(la.charAt(0)!='/')return false;z('h',{href:la});if(!v.getClickPointInfo())v.setClickPointInfo({click:'back'});ka._loadPage(new w(la),function(ma){if(!ma)ca(window.location,la,true);});return true;},_loadPage:function(la,ma){if(new w(la).getFragment()&&y(new w(la).setFragment(null).getQualifiedURI(),new w(ka._current_uri).setFragment(null).getQualifiedURI())){h.inform("pre_page_fragment_transition",{from:new w(ka._current_uri).getFragment(),to:new w(la).getFragment()});if(ka.restoreScrollPosition(la)){ka._current_uri=ka._most_recent_uri=la;h.inform("page_fragment_transition",{fragment:new w(la).getFragment()});return;}}var na;if(ka._current_uri)na=ia(ka._current_uri);var oa=function(){if(na&&ka._current_uri)ha(ka._current_uri,na);ka._current_uri=null;ka._next_uri=la;if(na)k.scrollTo(na,false);ka._scroll_locked=true;var ra=ka._handleTransition(la);ma&&ma(ra);},pa=ka._next_uri;ka._next_uri=la;var qa=r.runHooks('onbeforeleavehooks');ka._next_uri=pa;if(qa){ka._warnBeforeLeaving(qa,oa);}else oa();},_handleTransition:function(la){window.onbeforeleavehooks=undefined;if(ka._transitions_disabled||!la.isSameOrigin())return false;var ma=s.reloadOnBootloadError&&this._hasBootloadErrors();if(ma)return false;var na,oa=b.AsyncRequest;if(oa)na=oa.getLastID();h.inform("pre_page_transition",{from:ka.getMostRecentURI(),to:la});var pa=t._getTransitionHandlers();for(var qa=pa.length-1;qa>=0;--qa){var ra=pa[qa];if(!ra)continue;for(var sa=ra.length-1;sa>=0;--sa)if(ra[sa](la)===true){var ta={sender:this,uri:la,id:na};try{h.inform("page_transition",ta);}catch(ua){}return true;}else ra.splice(sa,1);}return false;},disableTransitions:function(){ka._transitions_disabled=true;},_hasBootloadErrors:function(){return i.getErrorUrls().length>0;},unifyURI:function(){this._init();ka._current_uri=ka._most_recent_uri=ka._next_uri;},transitionComplete:function(la){this._init();ka._scroll_locked=false;ka._executeCompletionCallbacks();ka.unifyURI();if(!la)ka.restoreScrollPosition(ka._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(ma){}},_executeCompletionCallbacks:function(){var la=t._getCompletionCallbacks();if(la.length>0){t._resetCompletionCallbacks();la.forEach(function(ma){return ma();});}},registerCompletionCallback:t.registerCompletionCallback,rewriteCurrentURI:function(la,ma){this._init();var na=t._getTransitionHandlers(),oa=na.length||1,pa=false;t.registerHandler(function(){if(la==ka.getMostRecentURI().getUnqualifiedURI().toString()){ka.transitionComplete();return true;}pa=true;},oa);ka.go(ma,true);!(na.length===oa+1&&na[oa].length===(pa?0:1))?da(0):undefined;na.length=oa;},_warnBeforeLeaving:function(la,ma){i.loadModules(["DialogX","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react"],function(na,oa,pa,qa,ra,sa){var ta=new na({width:450,addedBehaviors:[p]},u.createElement('div',null,u.createElement(oa,{showCloseButton:false},fa._("Leave Page?")),u.createElement(pa,null,u.createElement(sa,{shade:'medium',size:'medium'},la)),u.createElement(ra,null,u.createElement(qa,{action:'cancel',label:fa._("Stay on This Page")}),u.createElement(qa,{action:'confirm',use:'confirm',label:fa._("Leave This Page")}))));ta.subscribe('confirm',function(){ta.hide();ma();});ta.show();});},restoreScrollPosition:function(la){var ma=ia(la);if(ma){k.scrollTo(ma,false);return true;}function na(qa){if(!qa)return null;var ra="a[name='"+aa(qa)+"']";return j.scry(document.body,ra)[0]||ba(qa);}var oa=na(new w(la).getFragment());if(oa){var pa=x.getElementPosition(oa);pa.x=0;k.scrollTo(pa);return true;}return false;}};f.exports=ka;b.PageTransitions=ka;},null);
__d('MessengerURIListener',['MessengerActions','MessengerURISerializer','PageTransitions'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=false,l={start:function(){if(!k)j.registerHandler(m,6);k=true;},stop:function(){j.removeHandler(m,6);k=false;}};function m(n){var o=i.deserialize(n);j.transitionComplete();h.changeState(o);return true;}f.exports=l;},null);
__d('MessengerMount',['CSS','ChannelConnection','CurrentUser','HotLikeSound','MercuryBlockedParticipants','MercuryChannelHandler','MercuryDelayedRoger','MercuryDeliveryReceipts','MercuryDeliveryState','MercuryOrderedThreadlist','MercuryParticipants','MercuryServerPayloadPreprocessor','MercurySyncDeltaHandler','MercuryStateCheck','MercuryThreads','MercuryThreadIDMap','MercuryUnreadState','MercuryUnseenState','Messenger.react','MessengerActions','MessengerComposerActions','MessengerBrowserAlerts','MessengerComposerStore','MessengerConfig','MessengerPage','MessengerRTCMessageHandler','MessengerSettingsStore','MessengerStateStore','MessengerURIListener','MessengerURIConstants','MessengerView','React','ReactDOM','URI','goURI','cx','OrderedFriendsList','PageHooks','ChannelManager'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){'use strict';if(c.__markCompiled)c.__markCompiled();c('OrderedFriendsList');c('PageHooks');c('ChannelManager');var ra={mount:function(va,wa){fa.emit(fa.Events.JS_LOADED);var xa=j.getID();sa(xa);ta(xa);ua(xa,wa);fa.emit(fa.Events.DATA_INITIALIZED);h.addClass(document.documentElement,"_51l0");h.addClass(document.body,"_z4_");if(ea.SegoeUIDisabled)h.addClass(document.body,"_2por");k.setCheckSoundEnabledFunc(function(){return ha.getSettings().sound_enabled;});na.render(ma.createElement(z,{isBetaEnabled:wa.isBetaEnabled,mobileAppInfo:wa.mobileAppInfo,promotionData:wa.promotionData,viewer:xa}),va,function(){fa.emit(fa.Events.APP_MOUNTED);});}};function sa(va){n;o.getForFBID(va);p.getForFBID(va);q.getForFBID(va);r;l.getForFBID(va);v.getForFBID(va);x.getForFBID(va);y.getForFBID(va);da;ha;ia;}function ta(va){ja.start();m.getForFBID(va).turnOn();t.get();ca.init(va);u.getForFBID(va);ga.init();i;}function ua(va,wa){var xa=s.getForFBID(va);xa.handleUpdate(wa.mercuryPayload);var ya=new oa(window.location.href);pa(ya);if(ya.getPath().endsWith(ka.COMPOSE_SUBPATH))return;var za=w.get(),ab=za.getClientIDFromServerIDNow(wa.lastReadThreadKey);if(ab){ba.exitComposeState();aa.selectThread(ab);}else if(ya.getPath()==='/')aa.changeDetailView(la.DETAIL.COMPOSE);}f.exports=ra;},null);
__d('XHPTemplate',['DataStore','DOM','HTML','XHPTemplateProcessor'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('XHPTemplateProcessor').processor;function l(n){'use strict';if(k instanceof Function)n=k(n);this._model=n;}l.prototype.render=function(){'use strict';if(j.isHTML(this._model))this._model=i.setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};l.prototype.build=function(){'use strict';return new m(this.render());};l.getNode=function(n,o){'use strict';return l.getNodes(n)[o];};l.getNodes=function(n){'use strict';var o=h.get(n,'XHPTemplate:nodes');if(!o){o={};var p=i.scry(n,'[data-jsid]');p.push(n);var q=p.length;while(q--){var r=p[q];o[r.getAttribute('data-jsid')]=r;r.removeAttribute('data-jsid');}h.set(n,'XHPTemplate:nodes',o);}return o;};function m(n){'use strict';this._root=n;this._populateNodes();}m.prototype._populateNodes=function(){'use strict';this._nodes={};this._leaves={};var n=this._root.getElementsByTagName('*');for(var o=0,p=n.length;o<p;o++){var q=n[o],r=q.getAttribute('data-jsid');if(r){q.removeAttribute('data-jsid');this._nodes[r]=q;this._leaves[r]=!q.childNodes.length;}}};m.prototype.getRoot=function(){'use strict';return this._root;};m.prototype.getNode=function(n){'use strict';return this._nodes[n];};m.prototype.setNodeProperty=function(n,o,p){'use strict';this.getNode(n)[o]=p;return this;};m.prototype.setNodeContent=function(n,o){'use strict';if(!this._leaves[n])throw new Error("Can't setContent on non-leaf node: "+n);i.setContent(this.getNode(n),o);return this;};f.exports=l;},null);